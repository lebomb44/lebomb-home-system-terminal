<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <title>Nut/OS API</title>
    <link href="nut_en.css" rel="stylesheet" type="text/css">
    <link href="nut_entabs.css" rel="stylesheet" type="text/css">
</head>
<body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="contents">
<h1>Cypress CY2239x<br>
<small>
[<a class="el" href="group__xg_dev_timing.html">Clock Devices</a>]</small>
</h1>Programmable clock generator with three PLLs.  
<a href="#_details">More...</a>
<p>

<p>
<div class="dynheader">
Collaboration diagram for Cypress CY2239x:</div>
<div class="dynsection">
<center><table><tr><td><img src="group__xg_cy2239x.png" border="0" alt="" usemap="#group____xg__cy2239x_map">
<map name="group____xg__cy2239x_map">
<area shape="rect" href="group__xg_dev_timing.html" title="Programmable Clock Support." alt="Clock Devices" coords="17,5,113,26"></map></td></tr></table></center>
</div>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_cy2239x.html#gb314e997fcf7eb84367c0d37600b8688">CY2239X_CLKA</a>&nbsp;&nbsp;&nbsp;0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Clock A output.  <a href="#gb314e997fcf7eb84367c0d37600b8688"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_cy2239x.html#g2b92048fc0b2b3ed39095e398dbd9599">CY2239X_CLKB</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Clock B output.  <a href="#g2b92048fc0b2b3ed39095e398dbd9599"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_cy2239x.html#geaa6be72ef2656386844ff5842406c39">CY2239X_CLKC</a>&nbsp;&nbsp;&nbsp;2</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Clock C output.  <a href="#geaa6be72ef2656386844ff5842406c39"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_cy2239x.html#gfe219f1dac16c154cb9677862835d5ef">CY2239X_CLKD</a>&nbsp;&nbsp;&nbsp;3</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Clock D output.  <a href="#gfe219f1dac16c154cb9677862835d5ef"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_cy2239x.html#g3b392e382520ee018858c20e17229d08">CY2239X_CLKE</a>&nbsp;&nbsp;&nbsp;4</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Clock E output.  <a href="#g3b392e382520ee018858c20e17229d08"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_cy2239x.html#g5e4b84f3c66ba52ee0c63ad5d33f648e">CY2239X_REF</a>&nbsp;&nbsp;&nbsp;0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reference clock identifier.  <a href="#g5e4b84f3c66ba52ee0c63ad5d33f648e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_cy2239x.html#g8505570946a9aa942a3cb5d67b4e7fa7">CY2239X_PLL1</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">PLL1 identifier.  <a href="#g8505570946a9aa942a3cb5d67b4e7fa7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_cy2239x.html#gb9a7f8483bfd9fce2e4231cedc70d403">CY2239X_PLL2</a>&nbsp;&nbsp;&nbsp;2</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">PLL2 identifier.  <a href="#gb9a7f8483bfd9fce2e4231cedc70d403"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_cy2239x.html#g33ef8343fb48b191e700676fb4b20093">CY2239X_PLL3</a>&nbsp;&nbsp;&nbsp;3</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">PLL3 identifier.  <a href="#g33ef8343fb48b191e700676fb4b20093"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_cy2239x.html#g97c25faf3265f6a8dc667798c5d4977e">I2C_SLA_PLL</a>&nbsp;&nbsp;&nbsp;0x69</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">I2C address.  <a href="#g97c25faf3265f6a8dc667798c5d4977e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_cy2239x.html#g6b6f967650007e3017c45b49c14be3eb">NUT_PLL_FREF</a>&nbsp;&nbsp;&nbsp;25000000UL</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Base frequency.  <a href="#g6b6f967650007e3017c45b49c14be3eb"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_cy2239x.html#gd32afc0f5f9611e487ed33b5d05d76e4">Cy2239xGetPll</a> (int clk)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the PLL connected to the specified output.  <a href="#gd32afc0f5f9611e487ed33b5d05d76e4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_cy2239x.html#g24fc9ef048b20040507ce61b4c04d483">Cy2239xSetPll</a> (int clk, int pll)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Connect a specified PLL to a specified output.  <a href="#g24fc9ef048b20040507ce61b4c04d483"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_cy2239x.html#g6960d8a40fb9ec5aab6e067ab73aca1c">Cy2239xGetDivider</a> (int clk, int fctrl)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the current divider value of the specified output.  <a href="#g6960d8a40fb9ec5aab6e067ab73aca1c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_cy2239x.html#gb72ffdfd7fea179ce237745dc44adfb9">Cy2239xSetDivider</a> (int clk, int sel, int val)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the divider value of the specified output.  <a href="#gb72ffdfd7fea179ce237745dc44adfb9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_cy2239x.html#g8ac24bd56e8131f9767a1b95d8bb7867">Cy2239xPllEnable</a> (int pll, int fctrl, int ena)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Enable or disable a specified PLL.  <a href="#g8ac24bd56e8131f9767a1b95d8bb7867"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="stdint_8h.html#06896e8c53f721507066c079052171f8">uint32_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_cy2239x.html#g9964882a2c80569e39dde70f0c93d3e7">Cy2239xPllGetFreq</a> (int pll, int fctrl)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the current frequency of a specified PLL.  <a href="#g9964882a2c80569e39dde70f0c93d3e7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_cy2239x.html#gdac158bedf6aedea5b786e47c412def7">Cy2239xPllSetFreq</a> (int pll, int fctrl, unsigned int pval, unsigned int poff, unsigned int qval, unsigned int fval)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the frequency of a specified PLL.  <a href="#gdac158bedf6aedea5b786e47c412def7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="stdint_8h.html#06896e8c53f721507066c079052171f8">uint32_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_cy2239x.html#g6553bb118a90fd6a4ade799d2f526093">Cy2239xGetFreq</a> (int clk, int fctrl)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the frequency of a specified output.  <a href="#g6553bb118a90fd6a4ade799d2f526093"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Programmable clock generator with three PLLs. 
<p>
<div class="fragment"><pre class="fragment"><span class="preprocessor"> #include &lt;<a class="code" href="cy2239x_8h.html">dev/cy2239x.h</a>&gt;</span>
</pre></div><p>
The CY22393 chip is used in the Ethernut 3 reference design. It provides three unique frequencies on six outputs, with an additional divider at five outputs.<p>
The following outputs are used on Ethernut 3:<p>
<ul>
<li>Clock A: 25 MHz, used by the Ethernet Controller.</li><li>Clock B: Disabled, connected to the GCK1 pin of the CPLD.</li><li>Clock C: 73.7288 MHz, used as the main CPU clock.</li><li>Clock D: Disabled, connected to the GCK3 pin of the CPLD. </li></ul>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="gb314e997fcf7eb84367c0d37600b8688"></a><!-- doxytag: member="cy2239x.h::CY2239X_CLKA" ref="gb314e997fcf7eb84367c0d37600b8688" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CY2239X_CLKA&nbsp;&nbsp;&nbsp;0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Clock A output. 
<p>
On Ethernut 3 this is output drives the Ethernet Controller, if R3 is mounted (default). 
<p>Definition at line <a class="el" href="cy2239x_8h-source.html#l00065">65</a> of file <a class="el" href="cy2239x_8h-source.html">cy2239x.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="g2b92048fc0b2b3ed39095e398dbd9599"></a><!-- doxytag: member="cy2239x.h::CY2239X_CLKB" ref="g2b92048fc0b2b3ed39095e398dbd9599" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CY2239X_CLKB&nbsp;&nbsp;&nbsp;1          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Clock B output. 
<p>
On Ethernut 3 this is output drives the GCK1 input of the CPLD, if R6 is mounted (default). 
<p>Definition at line <a class="el" href="cy2239x_8h-source.html#l00072">72</a> of file <a class="el" href="cy2239x_8h-source.html">cy2239x.h</a>.</p>

<p>Referenced by <a class="el" href="cy2239x_8c-source.html#l00199">Cy2239xGetDivider()</a>, <a class="el" href="cy2239x_8c-source.html#l00506">Cy2239xGetFreq()</a>, and <a class="el" href="cy2239x_8c-source.html#l00262">Cy2239xSetDivider()</a>.</p>

</div>
</div><p>
<a class="anchor" name="geaa6be72ef2656386844ff5842406c39"></a><!-- doxytag: member="cy2239x.h::CY2239X_CLKC" ref="geaa6be72ef2656386844ff5842406c39" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CY2239X_CLKC&nbsp;&nbsp;&nbsp;2          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Clock C output. 
<p>
On Ethernut 3 this is output drives the CPU, if R5 is mounted (default). 
<p>Definition at line <a class="el" href="cy2239x_8h-source.html#l00079">79</a> of file <a class="el" href="cy2239x_8h-source.html">cy2239x.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="gfe219f1dac16c154cb9677862835d5ef"></a><!-- doxytag: member="cy2239x.h::CY2239X_CLKD" ref="gfe219f1dac16c154cb9677862835d5ef" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CY2239X_CLKD&nbsp;&nbsp;&nbsp;3          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Clock D output. 
<p>
On Ethernut 3 this is output drives the GCK3 input of the CPLD, if R4 is mounted and R104 is not mounted (default). 
<p>Definition at line <a class="el" href="cy2239x_8h-source.html#l00086">86</a> of file <a class="el" href="cy2239x_8h-source.html">cy2239x.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="g3b392e382520ee018858c20e17229d08"></a><!-- doxytag: member="cy2239x.h::CY2239X_CLKE" ref="g3b392e382520ee018858c20e17229d08" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CY2239X_CLKE&nbsp;&nbsp;&nbsp;4          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Clock E output. 
<p>
On Ethernut 3 this is output drives the GCK3 input of the CPLD, if R104 is mounted and R4 is not mounted. By default R104 is not mounted, but R4 is. 
<p>Definition at line <a class="el" href="cy2239x_8h-source.html#l00094">94</a> of file <a class="el" href="cy2239x_8h-source.html">cy2239x.h</a>.</p>

<p>Referenced by <a class="el" href="cy2239x_8c-source.html#l00199">Cy2239xGetDivider()</a>, <a class="el" href="cy2239x_8c-source.html#l00506">Cy2239xGetFreq()</a>, <a class="el" href="cy2239x_8c-source.html#l00124">Cy2239xGetPll()</a>, <a class="el" href="cy2239x_8c-source.html#l00262">Cy2239xSetDivider()</a>, and <a class="el" href="cy2239x_8c-source.html#l00159">Cy2239xSetPll()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g5e4b84f3c66ba52ee0c63ad5d33f648e"></a><!-- doxytag: member="cy2239x.h::CY2239X_REF" ref="g5e4b84f3c66ba52ee0c63ad5d33f648e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CY2239X_REF&nbsp;&nbsp;&nbsp;0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Reference clock identifier. 
<p>

<p>Definition at line <a class="el" href="cy2239x_8h-source.html#l00098">98</a> of file <a class="el" href="cy2239x_8h-source.html">cy2239x.h</a>.</p>

<p>Referenced by <a class="el" href="cy2239x_8c-source.html#l00506">Cy2239xGetFreq()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g8505570946a9aa942a3cb5d67b4e7fa7"></a><!-- doxytag: member="cy2239x.h::CY2239X_PLL1" ref="g8505570946a9aa942a3cb5d67b4e7fa7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CY2239X_PLL1&nbsp;&nbsp;&nbsp;1          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
PLL1 identifier. 
<p>
The output of PLL1 can be connected to any output divider. Clock E output is fixed to PLL1. 
<p>Definition at line <a class="el" href="cy2239x_8h-source.html#l00105">105</a> of file <a class="el" href="cy2239x_8h-source.html">cy2239x.h</a>.</p>

<p>Referenced by <a class="el" href="cy2239x_8c-source.html#l00506">Cy2239xGetFreq()</a>, <a class="el" href="cy2239x_8c-source.html#l00328">Cy2239xPllEnable()</a>, <a class="el" href="cy2239x_8c-source.html#l00383">Cy2239xPllGetFreq()</a>, <a class="el" href="cy2239x_8c-source.html#l00440">Cy2239xPllSetFreq()</a>, and <a class="el" href="cy2239x_8c-source.html#l00159">Cy2239xSetPll()</a>.</p>

</div>
</div><p>
<a class="anchor" name="gb9a7f8483bfd9fce2e4231cedc70d403"></a><!-- doxytag: member="cy2239x.h::CY2239X_PLL2" ref="gb9a7f8483bfd9fce2e4231cedc70d403" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CY2239X_PLL2&nbsp;&nbsp;&nbsp;2          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
PLL2 identifier. 
<p>
The output of PLL2 can be connected to the output divider of clock A, B, C or D. 
<p>Definition at line <a class="el" href="cy2239x_8h-source.html#l00112">112</a> of file <a class="el" href="cy2239x_8h-source.html">cy2239x.h</a>.</p>

<p>Referenced by <a class="el" href="cy2239x_8c-source.html#l00506">Cy2239xGetFreq()</a>, <a class="el" href="cy2239x_8c-source.html#l00328">Cy2239xPllEnable()</a>, <a class="el" href="cy2239x_8c-source.html#l00383">Cy2239xPllGetFreq()</a>, and <a class="el" href="cy2239x_8c-source.html#l00440">Cy2239xPllSetFreq()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g33ef8343fb48b191e700676fb4b20093"></a><!-- doxytag: member="cy2239x.h::CY2239X_PLL3" ref="g33ef8343fb48b191e700676fb4b20093" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CY2239X_PLL3&nbsp;&nbsp;&nbsp;3          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
PLL3 identifier. 
<p>
The output of PLL3 can be connected to the output divider of clock A, B, C or D. 
<p>Definition at line <a class="el" href="cy2239x_8h-source.html#l00119">119</a> of file <a class="el" href="cy2239x_8h-source.html">cy2239x.h</a>.</p>

<p>Referenced by <a class="el" href="cy2239x_8c-source.html#l00506">Cy2239xGetFreq()</a>, <a class="el" href="cy2239x_8c-source.html#l00328">Cy2239xPllEnable()</a>, <a class="el" href="cy2239x_8c-source.html#l00383">Cy2239xPllGetFreq()</a>, and <a class="el" href="cy2239x_8c-source.html#l00440">Cy2239xPllSetFreq()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g97c25faf3265f6a8dc667798c5d4977e"></a><!-- doxytag: member="cy2239x.c::I2C_SLA_PLL" ref="g97c25faf3265f6a8dc667798c5d4977e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define I2C_SLA_PLL&nbsp;&nbsp;&nbsp;0x69          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
I2C address. 
<p>

<p>Definition at line <a class="el" href="cy2239x_8c-source.html#l00074">74</a> of file <a class="el" href="cy2239x_8c-source.html">cy2239x.c</a>.</p>

<p>Referenced by <a class="el" href="cy2239x_8c-source.html#l00199">Cy2239xGetDivider()</a>, <a class="el" href="cy2239x_8c-source.html#l00506">Cy2239xGetFreq()</a>, <a class="el" href="cy2239x_8c-source.html#l00124">Cy2239xGetPll()</a>, <a class="el" href="cy2239x_8c-source.html#l00328">Cy2239xPllEnable()</a>, <a class="el" href="cy2239x_8c-source.html#l00383">Cy2239xPllGetFreq()</a>, <a class="el" href="cy2239x_8c-source.html#l00440">Cy2239xPllSetFreq()</a>, <a class="el" href="cy2239x_8c-source.html#l00262">Cy2239xSetDivider()</a>, and <a class="el" href="cy2239x_8c-source.html#l00159">Cy2239xSetPll()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g6b6f967650007e3017c45b49c14be3eb"></a><!-- doxytag: member="cy2239x.c::NUT_PLL_FREF" ref="g6b6f967650007e3017c45b49c14be3eb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NUT_PLL_FREF&nbsp;&nbsp;&nbsp;25000000UL          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Base frequency. 
<p>
Frequency of the attached crystal. On Ethernut 3 a 25 MHz crystal is used. 
<p>Definition at line <a class="el" href="cy2239x_8c-source.html#l00083">83</a> of file <a class="el" href="cy2239x_8c-source.html">cy2239x.c</a>.</p>

<p>Referenced by <a class="el" href="cy2239x_8c-source.html#l00506">Cy2239xGetFreq()</a>, and <a class="el" href="cy2239x_8c-source.html#l00383">Cy2239xPllGetFreq()</a>.</p>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="gd32afc0f5f9611e487ed33b5d05d76e4"></a><!-- doxytag: member="cy2239x.c::Cy2239xGetPll" ref="gd32afc0f5f9611e487ed33b5d05d76e4" args="(int clk)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Cy2239xGetPll           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>clk</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the PLL connected to the specified output. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>clk</em>&nbsp;</td><td>Specifies the output. 0 = ClkA, 1 = ClkB etc.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 for the reference clock, 1 for PLL1, 2 for PLL2 or 3 for PLL3. In case of an error -1 is returned.</dd></dl>
The following code fragment stores the number of the PLL connected to Clock Output C in the variable pll. <div class="fragment"><pre class="fragment"> <span class="keywordtype">int</span> pll;
 pll = <a class="code" href="group__xg_cy2239x.html#gd32afc0f5f9611e487ed33b5d05d76e4" title="Get the PLL connected to the specified output.">Cy2239xGetPll</a>(<a class="code" href="group__xg_cy2239x.html#geaa6be72ef2656386844ff5842406c39" title="Clock C output.">CY2239X_CLKC</a>);
</pre></div> 
<p>Definition at line <a class="el" href="cy2239x_8c-source.html#l00124">124</a> of file <a class="el" href="cy2239x_8c-source.html">cy2239x.c</a>.</p>

<p>References <a class="el" href="cy2239x_8h-source.html#l00094">CY2239X_CLKE</a>, <a class="el" href="cy2239x_8c-source.html#l00074">I2C_SLA_PLL</a>, <a class="el" href="event_8h-source.html#l00128">NUT_WAIT_INFINITE</a>, and <a class="el" href="twif_8c-source.html#l00535">TwMasterTransact()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g24fc9ef048b20040507ce61b4c04d483"></a><!-- doxytag: member="cy2239x.c::Cy2239xSetPll" ref="g24fc9ef048b20040507ce61b4c04d483" args="(int clk, int pll)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Cy2239xSetPll           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>clk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pll</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Connect a specified PLL to a specified output. 
<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>Use with great care. This function may destroy your hardware.</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>clk</em>&nbsp;</td><td>Specifies the output. 0 = ClkA, 1 = ClkB etc. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pll</em>&nbsp;</td><td>1 - 3 for PLL1 - PLL3 resp. or 0 to select the reference clock.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 on success, -1 otherwise.</dd></dl>
The following code can be used to connect PLL3 to Clock Output B. <div class="fragment"><pre class="fragment"> <span class="keywordflow">if</span> (<a class="code" href="group__xg_cy2239x.html#g24fc9ef048b20040507ce61b4c04d483" title="Connect a specified PLL to a specified output.">Cy2239xSetPll</a>(<a class="code" href="group__xg_cy2239x.html#g2b92048fc0b2b3ed39095e398dbd9599" title="Clock B output.">CY2239X_CLKB</a>, <a class="code" href="group__xg_cy2239x.html#g33ef8343fb48b191e700676fb4b20093" title="PLL3 identifier.">CY2239X_PLL3</a>)) {
     <a class="code" href="icc_8h.html#3cb9f0894fab1c8fbb0753c9c7c2a8d9" title="Specify enhanced AVR target.">printf</a>(<span class="stringliteral">"Failed to select PLL3 for Clock B\n"</span>);
 }
</pre></div> 
<p>Definition at line <a class="el" href="cy2239x_8c-source.html#l00159">159</a> of file <a class="el" href="cy2239x_8c-source.html">cy2239x.c</a>.</p>

<p>References <a class="el" href="cy2239x_8h-source.html#l00094">CY2239X_CLKE</a>, <a class="el" href="cy2239x_8h-source.html#l00105">CY2239X_PLL1</a>, <a class="el" href="cy2239x_8c-source.html#l00074">I2C_SLA_PLL</a>, <a class="el" href="event_8h-source.html#l00128">NUT_WAIT_INFINITE</a>, and <a class="el" href="twif_8c-source.html#l00535">TwMasterTransact()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g6960d8a40fb9ec5aab6e067ab73aca1c"></a><!-- doxytag: member="cy2239x.c::Cy2239xGetDivider" ref="g6960d8a40fb9ec5aab6e067ab73aca1c" args="(int clk, int fctrl)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Cy2239xGetDivider           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>clk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>fctrl</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the current divider value of the specified output. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>clk</em>&nbsp;</td><td>Specifies the output. 0 = ClkA, 1 = ClkB etc. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fctrl</em>&nbsp;</td><td>Frequency control input status, only valid for clock A and B. Otherwise this parameter is ignored. For Ethernut 3 the inputs S0 and S1 are high and S2 is connected to the CPLD. Thus, this value is either 3 if control input S2 is low or 7 if S2 is set high (default).</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Clock's divider value. 0 means, that the output is switched off. </dd></dl>

<p>Definition at line <a class="el" href="cy2239x_8c-source.html#l00199">199</a> of file <a class="el" href="cy2239x_8c-source.html">cy2239x.c</a>.</p>

<p>References <a class="el" href="cy2239x_8h-source.html#l00072">CY2239X_CLKB</a>, <a class="el" href="cy2239x_8h-source.html#l00094">CY2239X_CLKE</a>, <a class="el" href="cy2239x_8c-source.html#l00074">I2C_SLA_PLL</a>, <a class="el" href="event_8h-source.html#l00128">NUT_WAIT_INFINITE</a>, and <a class="el" href="twif_8c-source.html#l00535">TwMasterTransact()</a>.</p>

</div>
</div><p>
<a class="anchor" name="gb72ffdfd7fea179ce237745dc44adfb9"></a><!-- doxytag: member="cy2239x.c::Cy2239xSetDivider" ref="gb72ffdfd7fea179ce237745dc44adfb9" args="(int clk, int sel, int val)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Cy2239xSetDivider           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>clk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>sel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>val</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the divider value of the specified output. 
<p>
Clock A through D provide a 7-bit output divider, while the Clock E divider is fixed to 0 (off), 2, 3 or 4.<p>
Changing the divider value of an active output may cause a glitch on the output.<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>Use with great care. This function may destroy your hardware.</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>clk</em>&nbsp;</td><td>Specifies the output. 0 = ClkA, 1 = ClkB etc. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sel</em>&nbsp;</td><td>Divider select for Clock A and B, either 0 or 1. For other outputs this parameter is ignored. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>val</em>&nbsp;</td><td>New divider value to set. A value of zero powers down the divider and forces the output to three-state.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 on success, -1 otherwise. </dd></dl>

<p>Definition at line <a class="el" href="cy2239x_8c-source.html#l00262">262</a> of file <a class="el" href="cy2239x_8c-source.html">cy2239x.c</a>.</p>

<p>References <a class="el" href="cy2239x_8h-source.html#l00072">CY2239X_CLKB</a>, <a class="el" href="cy2239x_8h-source.html#l00094">CY2239X_CLKE</a>, <a class="el" href="cy2239x_8c-source.html#l00074">I2C_SLA_PLL</a>, <a class="el" href="event_8h-source.html#l00128">NUT_WAIT_INFINITE</a>, and <a class="el" href="twif_8c-source.html#l00535">TwMasterTransact()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g8ac24bd56e8131f9767a1b95d8bb7867"></a><!-- doxytag: member="cy2239x.c::Cy2239xPllEnable" ref="g8ac24bd56e8131f9767a1b95d8bb7867" args="(int pll, int fctrl, int ena)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Cy2239xPllEnable           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pll</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>fctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>ena</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Enable or disable a specified PLL. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pll</em>&nbsp;</td><td>Set to 1 - 3 for PLL1 - PLL3 resp. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fctrl</em>&nbsp;</td><td>Frequency control input status, only used for PLL1. Otherwise this parameter is ignored. For Ethernut 3 the inputs S0 and S1 are high and S2 is connected to the CPLD. Thus, this value is either 3 if control input S2 is low or 7 if S2 is set to high. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ena</em>&nbsp;</td><td>0 will disable the PLL, 1 will enable it. Any other value may be used to query the current status.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 if the PLL had been previously disabled, 1 if it had been enabled or -1 in case of an error.</dd></dl>
The following code shuts down PLL2 and Clock Output A. On Ethernut 3 this will remove the clock from the Ethernet Controller. <div class="fragment"><pre class="fragment"> <span class="keywordflow">if</span> (<a class="code" href="group__xg_cy2239x.html#gb72ffdfd7fea179ce237745dc44adfb9" title="Set the divider value of the specified output.">Cy2239xSetDivider</a>(<a class="code" href="group__xg_cy2239x.html#gb314e997fcf7eb84367c0d37600b8688" title="Clock A output.">CY2239X_CLKA</a>, 1, 0)) {
     <a class="code" href="icc_8h.html#3cb9f0894fab1c8fbb0753c9c7c2a8d9" title="Specify enhanced AVR target.">printf</a>(<span class="stringliteral">"Failed to disable ClkA Divider 1\n"</span>);
 }
 <span class="keywordflow">if</span> (<a class="code" href="group__xg_cy2239x.html#g8ac24bd56e8131f9767a1b95d8bb7867" title="Enable or disable a specified PLL.">Cy2239xPllEnable</a>(<a class="code" href="group__xg_cy2239x.html#gb9a7f8483bfd9fce2e4231cedc70d403" title="PLL2 identifier.">CY2239X_PLL2</a>, 7, 0)) {
     <a class="code" href="icc_8h.html#3cb9f0894fab1c8fbb0753c9c7c2a8d9" title="Specify enhanced AVR target.">printf</a>(<span class="stringliteral">"Failed to disable PLL2\n"</span>);
 }
</pre></div> 
<p>Definition at line <a class="el" href="cy2239x_8c-source.html#l00328">328</a> of file <a class="el" href="cy2239x_8c-source.html">cy2239x.c</a>.</p>

<p>References <a class="el" href="cy2239x_8h-source.html#l00105">CY2239X_PLL1</a>, <a class="el" href="cy2239x_8h-source.html#l00112">CY2239X_PLL2</a>, <a class="el" href="cy2239x_8h-source.html#l00119">CY2239X_PLL3</a>, <a class="el" href="cy2239x_8c-source.html#l00074">I2C_SLA_PLL</a>, <a class="el" href="event_8h-source.html#l00128">NUT_WAIT_INFINITE</a>, and <a class="el" href="twif_8c-source.html#l00535">TwMasterTransact()</a>.</p>

<p>Referenced by <a class="el" href="cy2239x_8c-source.html#l00440">Cy2239xPllSetFreq()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g9964882a2c80569e39dde70f0c93d3e7"></a><!-- doxytag: member="cy2239x.c::Cy2239xPllGetFreq" ref="g9964882a2c80569e39dde70f0c93d3e7" args="(int pll, int fctrl)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdint_8h.html#06896e8c53f721507066c079052171f8">uint32_t</a> Cy2239xPllGetFreq           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pll</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>fctrl</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the current frequency of a specified PLL. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pll</em>&nbsp;</td><td>1 - 3 for PLL1 - PLL3 resp. or 0 to query the reference clock. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fctrl</em>&nbsp;</td><td>Frequency control input status, only used for PLL1. Otherwise this parameter is ignored. For Ethernut 3 the inputs S0 and S1 are high and S2 is connected to the CPLD. Thus, this value is either 3 if control input S2 is low or 7 if S2 is set to high.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Frequency in Hertz.</dd></dl>
Use the following code to retrieve the reference clock: <div class="fragment"><pre class="fragment"> <a class="code" href="stdint_8h.html#06896e8c53f721507066c079052171f8">uint32_t</a> fref;

 fref = <a class="code" href="group__xg_cy2239x.html#g9964882a2c80569e39dde70f0c93d3e7" title="Get the current frequency of a specified PLL.">Cy2239xPllGetFreq</a>(<a class="code" href="group__xg_cy2239x.html#g5e4b84f3c66ba52ee0c63ad5d33f648e" title="Reference clock identifier.">CY2239X_REF</a>, 7);
</pre></div> 
<p>Definition at line <a class="el" href="cy2239x_8c-source.html#l00383">383</a> of file <a class="el" href="cy2239x_8c-source.html">cy2239x.c</a>.</p>

<p>References <a class="el" href="cy2239x_8h-source.html#l00105">CY2239X_PLL1</a>, <a class="el" href="cy2239x_8h-source.html#l00112">CY2239X_PLL2</a>, <a class="el" href="cy2239x_8h-source.html#l00119">CY2239X_PLL3</a>, <a class="el" href="cy2239x_8c-source.html#l00074">I2C_SLA_PLL</a>, <a class="el" href="cy2239x_8c-source.html#l00083">NUT_PLL_FREF</a>, <a class="el" href="event_8h-source.html#l00128">NUT_WAIT_INFINITE</a>, and <a class="el" href="twif_8c-source.html#l00535">TwMasterTransact()</a>.</p>

</div>
</div><p>
<a class="anchor" name="gdac158bedf6aedea5b786e47c412def7"></a><!-- doxytag: member="cy2239x.c::Cy2239xPllSetFreq" ref="gdac158bedf6aedea5b786e47c412def7" args="(int pll, int fctrl, unsigned int pval, unsigned int poff, unsigned int qval, unsigned int fval)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Cy2239xPllSetFreq           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pll</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>fctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>pval</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>poff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>qval</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>fval</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the frequency of a specified PLL. 
<p>
If the PLL is enabled, it will be temporarily disabled.<p>
The resulting frequency can calculated by <div class="fragment"><pre class="fragment"> F = Fref * (2 * (Pval + 3) + Poff) / (Qval + 2)
</pre></div><p>
It is recommended to use Cypress' CyClocksRT utility for calculating the best parameter values.<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>Use with great care. This function may destroy your hardware.</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pll</em>&nbsp;</td><td>1 - 3 for PLL1 - PLL3 resp. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fctrl</em>&nbsp;</td><td>Frequency control input status, only valid for clock A and B. Otherwise this parameter is ignored. For Ethernut 3 the inputs S0 and S1 are high and S2 is connected to the CPLD. Thus, this value is either 3 if control input S2 is low or 7 if S2 is set to high. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pval</em>&nbsp;</td><td>10-bit multiplier. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>poff</em>&nbsp;</td><td>1-bit offset. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>qval</em>&nbsp;</td><td>8-bit divider. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fval</em>&nbsp;</td><td>2-bit loop filter value. This value corresponds to the multiplier value and guarantess the PLL stability.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 on success, -1 otherwise. </dd></dl>

<p>Definition at line <a class="el" href="cy2239x_8c-source.html#l00440">440</a> of file <a class="el" href="cy2239x_8c-source.html">cy2239x.c</a>.</p>

<p>References <a class="el" href="cy2239x_8h-source.html#l00105">CY2239X_PLL1</a>, <a class="el" href="cy2239x_8h-source.html#l00112">CY2239X_PLL2</a>, <a class="el" href="cy2239x_8h-source.html#l00119">CY2239X_PLL3</a>, <a class="el" href="cy2239x_8c-source.html#l00328">Cy2239xPllEnable()</a>, <a class="el" href="cy2239x_8c-source.html#l00074">I2C_SLA_PLL</a>, <a class="el" href="event_8h-source.html#l00128">NUT_WAIT_INFINITE</a>, and <a class="el" href="twif_8c-source.html#l00535">TwMasterTransact()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g6553bb118a90fd6a4ade799d2f526093"></a><!-- doxytag: member="cy2239x.c::Cy2239xGetFreq" ref="g6553bb118a90fd6a4ade799d2f526093" args="(int clk, int fctrl)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdint_8h.html#06896e8c53f721507066c079052171f8">uint32_t</a> Cy2239xGetFreq           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>clk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>fctrl</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the frequency of a specified output. 
<p>
On Ethernut 3 Clock A provides the Ethernet Controller clock and Clock C is used as the CPU clock.<p>
PLL1 provides two configurations, selectable by the external input S2, which might be controlled by the Ethernut 3 CPLD. However, NPL version 2 doesn't allow to modify the S2 line, but holds it at a fixed high level.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>clk</em>&nbsp;</td><td>Specifies the output. 0 = ClkA, 1 = ClkB etc. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fctrl</em>&nbsp;</td><td>Frequency control input status, only valid for clock A and B. Otherwise this parameter is ignored. For Ethernut 3 the inputs S0 and S1 are high and S2 is connected to the CPLD. Thus, this value is either 3 if control input S2 is low or 7 if S2 is set to high.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Frequency in Hertz. 0 is returned if the clock output is disabled or if an error occured.</dd></dl>
The following code can be used to query the main CPU clock on the Ethernut 3 board. <div class="fragment"><pre class="fragment"> <a class="code" href="stdint_8h.html#06896e8c53f721507066c079052171f8">uint32_t</a> fcpu;

 fcpu = <a class="code" href="group__xg_cy2239x.html#g6553bb118a90fd6a4ade799d2f526093" title="Get the frequency of a specified output.">Cy2239xGetFreq</a>(<a class="code" href="group__xg_cy2239x.html#geaa6be72ef2656386844ff5842406c39" title="Clock C output.">CY2239X_CLKC</a>, 7);
</pre></div> 
<p>Definition at line <a class="el" href="cy2239x_8c-source.html#l00506">506</a> of file <a class="el" href="cy2239x_8c-source.html">cy2239x.c</a>.</p>

<p>References <a class="el" href="cy2239x_8h-source.html#l00072">CY2239X_CLKB</a>, <a class="el" href="cy2239x_8h-source.html#l00094">CY2239X_CLKE</a>, <a class="el" href="cy2239x_8h-source.html#l00105">CY2239X_PLL1</a>, <a class="el" href="cy2239x_8h-source.html#l00112">CY2239X_PLL2</a>, <a class="el" href="cy2239x_8h-source.html#l00119">CY2239X_PLL3</a>, <a class="el" href="cy2239x_8h-source.html#l00098">CY2239X_REF</a>, <a class="el" href="cy2239x_8c-source.html#l00074">I2C_SLA_PLL</a>, <a class="el" href="cy2239x_8c-source.html#l00083">NUT_PLL_FREF</a>, <a class="el" href="event_8h-source.html#l00128">NUT_WAIT_INFINITE</a>, and <a class="el" href="twif_8c-source.html#l00535">TwMasterTransact()</a>.</p>

</div>
</div><p>
</div>
<hr>
<address>
  <small>
    &copy;&nbsp;2000-2007 by egnite Software GmbH - 
    visit <a href="http://www.ethernut.de/">http://www.ethernut.de/</a>
  </small>
</address>
</body>
</html>
