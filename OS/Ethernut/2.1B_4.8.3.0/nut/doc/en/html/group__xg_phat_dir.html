<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <title>Nut/OS API</title>
    <link href="nut_en.css" rel="stylesheet" type="text/css">
    <link href="nut_entabs.css" rel="stylesheet" type="text/css">
</head>
<body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="contents">
<h1>Directory Support<br>
<small>
[<a class="el" href="group__xg_phat_fs.html">PHAT File System</a>]</small>
</h1>Routines for reading and writing directories.  
<a href="#_details">More...</a>
<p>

<p>
<div class="dynheader">
Collaboration diagram for Directory Support:</div>
<div class="dynsection">
<center><table><tr><td><img src="group__xg_phat_dir.png" border="0" alt="" usemap="#group____xg__phat__dir_map">
<map name="group____xg__phat__dir_map">
<area shape="rect" href="group__xg_phat_fs.html" title="FAT12/16/32 compatible file system." alt="PHAT File System" coords="17,5,137,26"></map></td></tr></table></center>
</div>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_p_h_a_t_d_i_r_e_n_t.html">PHATDIRENT</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Structure of a directory entry.  <a href="struct_p_h_a_t_d_i_r_e_n_t.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_p_h_a_t_x_d_i_r_e_n_t.html">PHATXDIRENT</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Structure of an extended directory entry.  <a href="struct_p_h_a_t_x_d_i_r_e_n_t.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_p_h_a_t_f_i_n_d.html">PHATFIND</a></td></tr>

<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_phat_dir.html#g108a48447b91028faf4329a6f0f4e7da">PHAT_MAX_NAMELEN</a>&nbsp;&nbsp;&nbsp;255</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Maximum length of a base file name.  <a href="#g108a48447b91028faf4329a6f0f4e7da"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_phat_dir.html#g37e0fa01713a0cd842b8da950338b808">PHAT_REM_DIRENT</a>&nbsp;&nbsp;&nbsp;0xE5</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_phat_dir.html#g0b1469de8cd9b8cb8adaabc6a7914ba4">PHAT_REM_NAMENT</a>&nbsp;&nbsp;&nbsp;0x05</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_phat_dir.html#ge5abe16bc7566cadbae28e55c8f04f79">PHAT_MAXDIRENT</a>&nbsp;&nbsp;&nbsp;65536</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Maximum number of directory entries.  <a href="#ge5abe16bc7566cadbae28e55c8f04f79"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_phat_dir.html#gd4cf520f42cad1386fd6efc8c9ca3c5c">PhatDirEntryCreate</a> (NUTFILE *ndp, CONST char *name, int acc, <a class="el" href="struct_p_h_a_t_d_i_r_e_n_t.html">PHATDIRENT</a> *<a class="el" href="structdirent.html">dirent</a>)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a new directory entry.  <a href="#gd4cf520f42cad1386fd6efc8c9ca3c5c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_phat_dir.html#gbd687b9101986e1a2dfa98bf58596320">PhatDirEntryUpdate</a> (NUTFILE *nfp)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Update directory entry of an opened file or directory.  <a href="#gbd687b9101986e1a2dfa98bf58596320"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_phat_dir.html#gc54c4da3eb7a99e9839d835f75633076">PhatDirEntryFind</a> (NUTFILE *ndp, CONST char *spec, <a class="el" href="stdint_8h.html#06896e8c53f721507066c079052171f8">uint32_t</a> attmsk, <a class="el" href="struct_p_h_a_t_f_i_n_d.html">PHATFIND</a> *srch)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Find a directory entry with a specified name.  <a href="#gc54c4da3eb7a99e9839d835f75633076"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">NUTFILE *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_phat_dir.html#gc1b0cbea3eb7b9842608e06564066525">PhatDirOpenParent</a> (NUTDEVICE *dev, CONST char *path, CONST char **basename)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Open parent directory of a given path.  <a href="#gc1b0cbea3eb7b9842608e06564066525"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_phat_dir.html#g5d17533db4a5a037851c00a0e61dde31">PhatDirRenameEntry</a> (NUTDEVICE *dev, CONST char *old_path, CONST char *new_path)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Rename file.  <a href="#g5d17533db4a5a037851c00a0e61dde31"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_phat_dir.html#g054a857b1c7c295c44d306823cbb505f">PhatDirReleaseChain</a> (NUTDEVICE *dev, <a class="el" href="struct_p_h_a_t_d_i_r_e_n_t.html">PHATDIRENT</a> *dent)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Release a cluster chain of a specified directory entry.  <a href="#g054a857b1c7c295c44d306823cbb505f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_phat_dir.html#gfa9fbc7d8e3cfc1b90bd2dda1ea2ab3a">PhatDirDelEntry</a> (NUTDEVICE *dev, CONST char *path, <a class="el" href="stdint_8h.html#06896e8c53f721507066c079052171f8">uint32_t</a> flags)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Remove a directory entry.  <a href="#gfa9fbc7d8e3cfc1b90bd2dda1ea2ab3a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">NUTFILE *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_phat_dir.html#g76c33dbcfa5ac6188e054409429f5333">PhatDirOpen</a> (NUTDEVICE *dev, CONST char *dpath)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Open a directory.  <a href="#g76c33dbcfa5ac6188e054409429f5333"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_phat_dir.html#g9ee97fcc03ddf2f8c6a985f328748fe3">PhatDirRead</a> (<a class="el" href="struct_d_i_r.html">DIR</a> *dir)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read the next directory entry.  <a href="#g9ee97fcc03ddf2f8c6a985f328748fe3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_phat_dir.html#g3c08e9c174b2af4d6cf5736c6c3489dd">PhatDirCreate</a> (NUTDEVICE *dev, char *path)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a new subdirectory.  <a href="#g3c08e9c174b2af4d6cf5736c6c3489dd"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_phat_dir.html#gbb854d6cc74fd1ca3e766b0d199c2333">PhatDirRemove</a> (NUTDEVICE *dev, char *path)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Remove a specified subdirectory.  <a href="#gbb854d6cc74fd1ca3e766b0d199c2333"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_phat_dir.html#g94c6770a6af26dca8b08bcee13502913">PhatDirEntryStatus</a> (NUTDEVICE *dev, CONST char *path, struct <a class="el" href="structstat.html">stat</a> *stp)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Retrieve status of a specified file.  <a href="#g94c6770a6af26dca8b08bcee13502913"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Routines for reading and writing directories. <hr><h2>Define Documentation</h2>
<a class="anchor" name="g108a48447b91028faf4329a6f0f4e7da"></a><!-- doxytag: member="phatdir.h::PHAT_MAX_NAMELEN" ref="g108a48447b91028faf4329a6f0f4e7da" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PHAT_MAX_NAMELEN&nbsp;&nbsp;&nbsp;255          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Maximum length of a base file name. 
<p>

<p>Definition at line <a class="el" href="phatdir_8h-source.html#l00077">77</a> of file <a class="el" href="phatdir_8h-source.html">phatdir.h</a>.</p>

<p>Referenced by <a class="el" href="phatdir_8c-source.html#l00825">PhatDirOpen()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g37e0fa01713a0cd842b8da950338b808"></a><!-- doxytag: member="phatdir.h::PHAT_REM_DIRENT" ref="g37e0fa01713a0cd842b8da950338b808" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PHAT_REM_DIRENT&nbsp;&nbsp;&nbsp;0xE5          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="phatdir_8h-source.html#l00080">80</a> of file <a class="el" href="phatdir_8h-source.html">phatdir.h</a>.</p>

<p>Referenced by <a class="el" href="phatutil_8c-source.html#l00127">MakePhatName()</a>, <a class="el" href="phatutil_8c-source.html#l00212">MakeVisibleName()</a>, and <a class="el" href="phatdir_8c-source.html#l01084">PhatDirRemove()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g0b1469de8cd9b8cb8adaabc6a7914ba4"></a><!-- doxytag: member="phatdir.h::PHAT_REM_NAMENT" ref="g0b1469de8cd9b8cb8adaabc6a7914ba4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PHAT_REM_NAMENT&nbsp;&nbsp;&nbsp;0x05          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="phatdir_8h-source.html#l00081">81</a> of file <a class="el" href="phatdir_8h-source.html">phatdir.h</a>.</p>

<p>Referenced by <a class="el" href="phatutil_8c-source.html#l00127">MakePhatName()</a>, and <a class="el" href="phatutil_8c-source.html#l00212">MakeVisibleName()</a>.</p>

</div>
</div><p>
<a class="anchor" name="ge5abe16bc7566cadbae28e55c8f04f79"></a><!-- doxytag: member="phatdir.c::PHAT_MAXDIRENT" ref="ge5abe16bc7566cadbae28e55c8f04f79" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PHAT_MAXDIRENT&nbsp;&nbsp;&nbsp;65536          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Maximum number of directory entries. 
<p>

<p>Definition at line <a class="el" href="phatdir_8c-source.html#l00136">136</a> of file <a class="el" href="phatdir_8c-source.html">phatdir.c</a>.</p>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="gd4cf520f42cad1386fd6efc8c9ca3c5c"></a><!-- doxytag: member="phatdir.c::PhatDirEntryCreate" ref="gd4cf520f42cad1386fd6efc8c9ca3c5c" args="(NUTFILE *ndp, CONST char *name, int acc, PHATDIRENT *dirent)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PhatDirEntryCreate           </td>
          <td>(</td>
          <td class="paramtype">NUTFILE *&nbsp;</td>
          <td class="paramname"> <em>ndp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CONST char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>acc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_p_h_a_t_d_i_r_e_n_t.html">PHATDIRENT</a> *&nbsp;</td>
          <td class="paramname"> <em>dirent</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create a new directory entry. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ndp</em>&nbsp;</td><td>Handle to the parent directory. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>Name of the new entry. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>acc</em>&nbsp;</td><td>Attributes of the new entry. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="structdirent.html" title="Directory entry structure.">dirent</a></em>&nbsp;</td><td>Information structure of the new entry.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 on success. Otherwise -1 is returned. </dd></dl>

<p>Definition at line <a class="el" href="phatdir_8c-source.html#l00475">475</a> of file <a class="el" href="phatdir_8c-source.html">phatdir.c</a>.</p>

<p>References <a class="el" href="phatdir_8h-source.html#l00106">PHATDIRENT::dent_adate</a>, <a class="el" href="phatdir_8h-source.html#l00096">PHATDIRENT::dent_attr</a>, <a class="el" href="phatdir_8h-source.html#l00104">PHATDIRENT::dent_cdate</a>, <a class="el" href="phatdir_8h-source.html#l00102">PHATDIRENT::dent_ctime</a>, <a class="el" href="phatdir_8h-source.html#l00119">PHATDIRENT::dent_mdate</a>, <a class="el" href="phatdir_8h-source.html#l00117">PHATDIRENT::dent_mtime</a>, <a class="el" href="phatutil_8c-source.html#l00102">GetDosTimeStamp()</a>, <a class="el" href="phatdbg_8c-source.html#l00102">PhatDbgFileInfo()</a>, and <a class="el" href="stdio_8h-source.html#l00123">stdout</a>.</p>

<p>Referenced by <a class="el" href="phatfs_8c-source.html#l00372">PhatFileOpen()</a>.</p>

</div>
</div><p>
<a class="anchor" name="gbd687b9101986e1a2dfa98bf58596320"></a><!-- doxytag: member="phatdir.c::PhatDirEntryUpdate" ref="gbd687b9101986e1a2dfa98bf58596320" args="(NUTFILE *nfp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PhatDirEntryUpdate           </td>
          <td>(</td>
          <td class="paramtype">NUTFILE *&nbsp;</td>
          <td class="paramname"> <em>nfp</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Update directory entry of an opened file or directory. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>nfp</em>&nbsp;</td><td>File of which the directory entry will be updated.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 on success. Otherwise -1 is returned. </dd></dl>

<p>Definition at line <a class="el" href="phatdir_8c-source.html#l00499">499</a> of file <a class="el" href="phatdir_8c-source.html">phatdir.c</a>.</p>

<p>References <a class="el" href="memcpy_8c-source.html#l00114">memcpy()</a>, <a class="el" href="phatdbg_8c-source.html#l00085">PhatDbgDirEntry()</a>, <a class="el" href="phatio_8c-source.html#l00169">PhatSectorLoad()</a>, <a class="el" href="phatvol_8h-source.html#l00181">PHATSECTBUF::sect_data</a>, <a class="el" href="phatvol_8h-source.html#l00185">PHATSECTBUF::sect_dirty</a>, <a class="el" href="stdio_8h-source.html#l00123">stdout</a>, and <a class="el" href="phatvol_8h-source.html#l00207">PHATVOL::vol_buf</a>.</p>

</div>
</div><p>
<a class="anchor" name="gc54c4da3eb7a99e9839d835f75633076"></a><!-- doxytag: member="phatdir.c::PhatDirEntryFind" ref="gc54c4da3eb7a99e9839d835f75633076" args="(NUTFILE *ndp, CONST char *spec, uint32_t attmsk, PHATFIND *srch)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PhatDirEntryFind           </td>
          <td>(</td>
          <td class="paramtype">NUTFILE *&nbsp;</td>
          <td class="paramname"> <em>ndp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CONST char *&nbsp;</td>
          <td class="paramname"> <em>spec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#06896e8c53f721507066c079052171f8">uint32_t</a>&nbsp;</td>
          <td class="paramname"> <em>attmsk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_p_h_a_t_f_i_n_d.html">PHATFIND</a> *&nbsp;</td>
          <td class="paramname"> <em>srch</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Find a directory entry with a specified name. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ndp</em>&nbsp;</td><td>Pointer to a previously opened directory. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>spec</em>&nbsp;</td><td>Name of the entry to retrieve. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>attmsk</em>&nbsp;</td><td>Attribute mask. Entries with attributes not specified in this mask will be ignored. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>srch</em>&nbsp;</td><td>Optional pointer to a structure which receives the search result.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 if an entry was found, otherwise -1 is returned. </dd></dl>

<p>Definition at line <a class="el" href="phatdir_8c-source.html#l00638">638</a> of file <a class="el" href="phatdir_8c-source.html">phatdir.c</a>.</p>

<p>References <a class="el" href="phatdir_8h-source.html#l00096">PHATDIRENT::dent_attr</a>, <a class="el" href="icc_8h-source.html#l00145">free</a>, <a class="el" href="icc_8h-source.html#l00142">malloc</a>, <a class="el" href="phatutil_8c-source.html#l00304">PhatFilePosRewind()</a>, <a class="el" href="phatdir_8h-source.html#l00157">PHATFIND::phfind_ent</a>, <a class="el" href="phatdir_8h-source.html#l00161">PHATFIND::phfind_name</a>, and <a class="el" href="lpc2xxx_8h-source.html#l00078">strcasecmp</a>.</p>

<p>Referenced by <a class="el" href="phatdir_8c-source.html#l00791">PhatDirDelEntry()</a>, <a class="el" href="phatdir_8c-source.html#l01155">PhatDirEntryStatus()</a>, <a class="el" href="phatdir_8c-source.html#l00825">PhatDirOpen()</a>, <a class="el" href="phatdir_8c-source.html#l00700">PhatDirRenameEntry()</a>, and <a class="el" href="phatfs_8c-source.html#l00372">PhatFileOpen()</a>.</p>

</div>
</div><p>
<a class="anchor" name="gc1b0cbea3eb7b9842608e06564066525"></a><!-- doxytag: member="phatdir.c::PhatDirOpenParent" ref="gc1b0cbea3eb7b9842608e06564066525" args="(NUTDEVICE *dev, CONST char *path, CONST char **basename)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NUTFILE* PhatDirOpenParent           </td>
          <td>(</td>
          <td class="paramtype">NUTDEVICE *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CONST char *&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CONST char **&nbsp;</td>
          <td class="paramname"> <em>basename</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Open parent directory of a given path. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dev</em>&nbsp;</td><td>Specifies the file system device. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>Full path. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>basename</em>&nbsp;</td><td>Points to a pointer which will be set to the last component within the full path.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Pointer to a NUTFILE structure if successful or NUTFILE_EOF otherwise. </dd></dl>

<p>Definition at line <a class="el" href="phatdir_8c-source.html#l00679">679</a> of file <a class="el" href="phatdir_8c-source.html">phatdir.c</a>.</p>

<p>References <a class="el" href="icc_8h-source.html#l00145">free</a>, <a class="el" href="phatutil_8c-source.html#l00249">GetParentPath()</a>, <a class="el" href="file_8h-source.html#l00088">NUTFILE_EOF</a>, and <a class="el" href="phatdir_8c-source.html#l00825">PhatDirOpen()</a>.</p>

<p>Referenced by <a class="el" href="phatdir_8c-source.html#l00791">PhatDirDelEntry()</a>, <a class="el" href="phatdir_8c-source.html#l01155">PhatDirEntryStatus()</a>, <a class="el" href="phatdir_8c-source.html#l00700">PhatDirRenameEntry()</a>, and <a class="el" href="phatfs_8c-source.html#l00372">PhatFileOpen()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g5d17533db4a5a037851c00a0e61dde31"></a><!-- doxytag: member="phatdir.c::PhatDirRenameEntry" ref="g5d17533db4a5a037851c00a0e61dde31" args="(NUTDEVICE *dev, CONST char *old_path, CONST char *new_path)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PhatDirRenameEntry           </td>
          <td>(</td>
          <td class="paramtype">NUTDEVICE *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CONST char *&nbsp;</td>
          <td class="paramname"> <em>old_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CONST char *&nbsp;</td>
          <td class="paramname"> <em>new_path</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Rename file. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dev</em>&nbsp;</td><td>Specifies the file system device. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>old_path</em>&nbsp;</td><td>Old name and path of the file. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>new_path</em>&nbsp;</td><td>New name and path of the file.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 on success, -1 otherwise. </dd></dl>

<p>Definition at line <a class="el" href="phatdir_8c-source.html#l00700">700</a> of file <a class="el" href="phatdir_8c-source.html">phatdir.c</a>.</p>

<p>References <a class="el" href="arm_8h-source.html#l00143">CONST</a>, <a class="el" href="errno_8h-source.html#l00070">EEXIST</a>, <a class="el" href="errno_8h-source.html#l00054">ENOENT</a>, <a class="el" href="errno_8c-source.html#l00042">errno</a>, <a class="el" href="icc_8h-source.html#l00145">free</a>, <a class="el" href="icc_8h-source.html#l00142">malloc</a>, <a class="el" href="file_8h-source.html#l00088">NUTFILE_EOF</a>, <a class="el" href="phatfs_8h-source.html#l00149">PHAT_FATTR_FILEMASK</a>, <a class="el" href="phatdir_8c-source.html#l00638">PhatDirEntryFind()</a>, <a class="el" href="phatdir_8c-source.html#l00679">PhatDirOpenParent()</a>, <a class="el" href="phatfs_8c-source.html#l00336">PhatFileClose()</a>, <a class="el" href="phatdir_8h-source.html#l00157">PHATFIND::phfind_ent</a>, <a class="el" href="phatdir_8h-source.html#l00158">PHATFIND::phfind_pos</a>, and <a class="el" href="phatdir_8h-source.html#l00160">PHATFIND::phfind_xcnt</a>.</p>

</div>
</div><p>
<a class="anchor" name="g054a857b1c7c295c44d306823cbb505f"></a><!-- doxytag: member="phatdir.c::PhatDirReleaseChain" ref="g054a857b1c7c295c44d306823cbb505f" args="(NUTDEVICE *dev, PHATDIRENT *dent)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PhatDirReleaseChain           </td>
          <td>(</td>
          <td class="paramtype">NUTDEVICE *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_p_h_a_t_d_i_r_e_n_t.html">PHATDIRENT</a> *&nbsp;</td>
          <td class="paramname"> <em>dent</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Release a cluster chain of a specified directory entry. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dev</em>&nbsp;</td><td>Specifies the file system device. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dent</em>&nbsp;</td><td>Directory entry.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 on success or -1 on failure. </dd></dl>

<p>Definition at line <a class="el" href="phatdir_8c-source.html#l00747">747</a> of file <a class="el" href="phatdir_8c-source.html">phatdir.c</a>.</p>

<p>References <a class="el" href="phatdir_8h-source.html#l00096">PHATDIRENT::dent_attr</a>, <a class="el" href="phatdir_8h-source.html#l00124">PHATDIRENT::dent_clust</a>, <a class="el" href="phatdir_8h-source.html#l00115">PHATDIRENT::dent_clusthi</a>, <a class="el" href="errno_8h-source.html#l00066">EACCES</a>, <a class="el" href="errno_8c-source.html#l00042">errno</a>, <a class="el" href="phat12_8c-source.html#l00209">Phat12ReleaseChain()</a>, <a class="el" href="phat16_8c-source.html#l00165">Phat16ReleaseChain()</a>, <a class="el" href="phat32_8c-source.html#l00170">Phat32ReleaseChain()</a>, <a class="el" href="phatfs_8h-source.html#l00131">PHAT_FATTR_RDONLY</a>, and <a class="el" href="phatvol_8h-source.html#l00196">PHATVOL::vol_type</a>.</p>

<p>Referenced by <a class="el" href="phatdir_8c-source.html#l00791">PhatDirDelEntry()</a>, and <a class="el" href="phatfs_8c-source.html#l00372">PhatFileOpen()</a>.</p>

</div>
</div><p>
<a class="anchor" name="gfa9fbc7d8e3cfc1b90bd2dda1ea2ab3a"></a><!-- doxytag: member="phatdir.c::PhatDirDelEntry" ref="gfa9fbc7d8e3cfc1b90bd2dda1ea2ab3a" args="(NUTDEVICE *dev, CONST char *path, uint32_t flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PhatDirDelEntry           </td>
          <td>(</td>
          <td class="paramtype">NUTDEVICE *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CONST char *&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#06896e8c53f721507066c079052171f8">uint32_t</a>&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Remove a directory entry. 
<p>
Allocated clusters are released.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dev</em>&nbsp;</td><td>Specifies the file system device. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>Name of the entry to remove. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>flags</em>&nbsp;</td><td>Attributes of the entry to remove.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 if successful. Otherwise returns an error code. </dd></dl>

<p>Definition at line <a class="el" href="phatdir_8c-source.html#l00791">791</a> of file <a class="el" href="phatdir_8c-source.html">phatdir.c</a>.</p>

<p>References <a class="el" href="arm_8h-source.html#l00143">CONST</a>, <a class="el" href="errno_8h-source.html#l00054">ENOENT</a>, <a class="el" href="errno_8c-source.html#l00042">errno</a>, <a class="el" href="icc_8h-source.html#l00145">free</a>, <a class="el" href="icc_8h-source.html#l00142">malloc</a>, <a class="el" href="file_8h-source.html#l00088">NUTFILE_EOF</a>, <a class="el" href="phatdir_8c-source.html#l00638">PhatDirEntryFind()</a>, <a class="el" href="phatdir_8c-source.html#l00679">PhatDirOpenParent()</a>, <a class="el" href="phatdir_8c-source.html#l00747">PhatDirReleaseChain()</a>, <a class="el" href="phatfs_8c-source.html#l00336">PhatFileClose()</a>, <a class="el" href="phatdir_8h-source.html#l00157">PHATFIND::phfind_ent</a>, <a class="el" href="phatdir_8h-source.html#l00158">PHATFIND::phfind_pos</a>, and <a class="el" href="phatdir_8h-source.html#l00160">PHATFIND::phfind_xcnt</a>.</p>

<p>Referenced by <a class="el" href="phatdir_8c-source.html#l01084">PhatDirRemove()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g76c33dbcfa5ac6188e054409429f5333"></a><!-- doxytag: member="phatdir.c::PhatDirOpen" ref="g76c33dbcfa5ac6188e054409429f5333" args="(NUTDEVICE *dev, CONST char *dpath)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NUTFILE* PhatDirOpen           </td>
          <td>(</td>
          <td class="paramtype">NUTDEVICE *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CONST char *&nbsp;</td>
          <td class="paramname"> <em>dpath</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Open a directory. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dev</em>&nbsp;</td><td>Specifies the file system device. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dpath</em>&nbsp;</td><td>Full absolute pathname of the directory to open.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Pointer to a NUTFILE structure if successful or NUTFILE_EOF otherwise. </dd></dl>

<p>Definition at line <a class="el" href="phatdir_8c-source.html#l00825">825</a> of file <a class="el" href="phatdir_8c-source.html">phatdir.c</a>.</p>

<p>References <a class="el" href="fcntl_8h-source.html#l00076">_O_RDONLY</a>, <a class="el" href="phatdir_8h-source.html#l00096">PHATDIRENT::dent_attr</a>, <a class="el" href="phatdir_8h-source.html#l00124">PHATDIRENT::dent_clust</a>, <a class="el" href="phatdir_8h-source.html#l00115">PHATDIRENT::dent_clusthi</a>, <a class="el" href="errno_8h-source.html#l00072">ENODEV</a>, <a class="el" href="errno_8h-source.html#l00054">ENOENT</a>, <a class="el" href="errno_8c-source.html#l00042">errno</a>, <a class="el" href="phatfs_8h-source.html#l00092">PHATFILE::f_clust</a>, <a class="el" href="phatfs_8h-source.html#l00094">PHATFILE::f_clust_pos</a>, <a class="el" href="phatfs_8h-source.html#l00098">PHATFILE::f_clust_prv</a>, <a class="el" href="phatfs_8h-source.html#l00110">PHATFILE::f_de_offs</a>, <a class="el" href="phatfs_8h-source.html#l00108">PHATFILE::f_de_sect</a>, <a class="el" href="phatfs_8h-source.html#l00102">PHATFILE::f_dirent</a>, <a class="el" href="phatfs_8h-source.html#l00100">PHATFILE::f_mode</a>, <a class="el" href="phatfs_8h-source.html#l00117">PHATFILE::f_pde_clust</a>, <a class="el" href="phatfs_8h-source.html#l00119">PHATFILE::f_pde_clusthi</a>, <a class="el" href="phatfs_8h-source.html#l00096">PHATFILE::f_sect_pos</a>, <a class="el" href="icc_8h-source.html#l00145">free</a>, <a class="el" href="icc_8h-source.html#l00142">malloc</a>, <a class="el" href="memset_8c-source.html#l00088">memset()</a>, <a class="el" href="file_8h-source.html#l00088">NUTFILE_EOF</a>, <a class="el" href="phatfs_8h-source.html#l00139">PHAT_FATTR_DIR</a>, <a class="el" href="phatfs_8h-source.html#l00149">PHAT_FATTR_FILEMASK</a>, <a class="el" href="phatdir_8h-source.html#l00077">PHAT_MAX_NAMELEN</a>, <a class="el" href="phatvol_8c-source.html#l00397">PhatClusterSector()</a>, <a class="el" href="phatdbg_8c-source.html#l00102">PhatDbgFileInfo()</a>, <a class="el" href="phatdir_8c-source.html#l00638">PhatDirEntryFind()</a>, <a class="el" href="phatutil_8c-source.html#l00304">PhatFilePosRewind()</a>, <a class="el" href="phatdir_8h-source.html#l00157">PHATFIND::phfind_ent</a>, <a class="el" href="stdio_8h-source.html#l00123">stdout</a>, <a class="el" href="phatvol_8h-source.html#l00231">PHATVOL::vol_root_clust</a>, and <a class="el" href="phatvol_8h-source.html#l00196">PHATVOL::vol_type</a>.</p>

<p>Referenced by <a class="el" href="phatdir_8c-source.html#l00679">PhatDirOpenParent()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g9ee97fcc03ddf2f8c6a985f328748fe3"></a><!-- doxytag: member="phatdir.c::PhatDirRead" ref="g9ee97fcc03ddf2f8c6a985f328748fe3" args="(DIR *dir)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PhatDirRead           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_d_i_r.html">DIR</a> *&nbsp;</td>
          <td class="paramname"> <em>dir</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read the next directory entry. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dir</em>&nbsp;</td><td>Pointer to the internal directory information structure.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 on success, -1 otherwise. </dd></dl>

<p>Definition at line <a class="el" href="phatdir_8c-source.html#l00958">958</a> of file <a class="el" href="phatdir_8c-source.html">phatdir.c</a>.</p>

<p>References <a class="el" href="dirent_8h-source.html#l00124">dirent::d_name</a>, <a class="el" href="dirent_8h-source.html#l00123">dirent::d_namlen</a>, <a class="el" href="dirent_8h-source.html#l00122">dirent::d_type</a>, <a class="el" href="dirent_8h-source.html#l00134">DIR::dd_buf</a>, <a class="el" href="dirent_8h-source.html#l00133">DIR::dd_fd</a>, <a class="el" href="phatdir_8h-source.html#l00096">PHATDIRENT::dent_attr</a>, <a class="el" href="icc_8h-source.html#l00145">free</a>, <a class="el" href="icc_8h-source.html#l00142">malloc</a>, <a class="el" href="memset_8c-source.html#l00088">memset()</a>, <a class="el" href="phatfs_8h-source.html#l00139">PHAT_FATTR_DIR</a>, <a class="el" href="phatdbg_8c-source.html#l00085">PhatDbgDirEntry()</a>, <a class="el" href="phatdir_8h-source.html#l00157">PHATFIND::phfind_ent</a>, <a class="el" href="phatdir_8h-source.html#l00161">PHATFIND::phfind_name</a>, <a class="el" href="stdio_8h-source.html#l00123">stdout</a>, <a class="el" href="strcpy_8c-source.html#l00089">strcpy()</a>, and <a class="el" href="strlen_8c-source.html#l00087">strlen()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g3c08e9c174b2af4d6cf5736c6c3489dd"></a><!-- doxytag: member="phatdir.c::PhatDirCreate" ref="g3c08e9c174b2af4d6cf5736c6c3489dd" args="(NUTDEVICE *dev, char *path)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PhatDirCreate           </td>
          <td>(</td>
          <td class="paramtype">NUTDEVICE *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>path</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create a new subdirectory. 
<p>
One cluster is allocated, initialized to zero and two directory entries are created, '.' and '..'.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dev</em>&nbsp;</td><td>Specifies the file system device. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>Full path to the directory.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 on success. Otherwise -1 is returned. </dd></dl>

<p>Definition at line <a class="el" href="phatdir_8c-source.html#l00997">997</a> of file <a class="el" href="phatdir_8c-source.html">phatdir.c</a>.</p>

<p>References <a class="el" href="fcntl_8h-source.html#l00080">_O_CREAT</a>, <a class="el" href="fcntl_8h-source.html#l00082">_O_EXCL</a>, <a class="el" href="fcntl_8h-source.html#l00078">_O_RDWR</a>, <a class="el" href="phatfs_8c-source.html#l00224">AllocFirstCluster()</a>, <a class="el" href="phatdir_8h-source.html#l00124">PHATDIRENT::dent_clust</a>, <a class="el" href="phatdir_8h-source.html#l00115">PHATDIRENT::dent_clusthi</a>, <a class="el" href="phatdir_8h-source.html#l00091">PHATDIRENT::dent_name</a>, <a class="el" href="phatfs_8h-source.html#l00092">PHATFILE::f_clust</a>, <a class="el" href="phatfs_8h-source.html#l00098">PHATFILE::f_clust_prv</a>, <a class="el" href="phatfs_8h-source.html#l00102">PHATFILE::f_dirent</a>, <a class="el" href="phatfs_8h-source.html#l00117">PHATFILE::f_pde_clust</a>, <a class="el" href="phatfs_8h-source.html#l00119">PHATFILE::f_pde_clusthi</a>, <a class="el" href="icc_8h-source.html#l00145">free</a>, <a class="el" href="icc_8h-source.html#l00142">malloc</a>, <a class="el" href="memset_8c-source.html#l00088">memset()</a>, <a class="el" href="file_8h-source.html#l00088">NUTFILE_EOF</a>, <a class="el" href="phatfs_8h-source.html#l00139">PHAT_FATTR_DIR</a>, <a class="el" href="phatfs_8c-source.html#l00336">PhatFileClose()</a>, <a class="el" href="phatfs_8c-source.html#l00372">PhatFileOpen()</a>, <a class="el" href="phatutil_8c-source.html#l00304">PhatFilePosRewind()</a>, <a class="el" href="phatfs_8c-source.html#l00538">PhatFileWrite()</a>, <a class="el" href="phatvol_8h-source.html#l00216">PHATVOL::vol_clustsz</a>, <a class="el" href="phatvol_8h-source.html#l00231">PHATVOL::vol_root_clust</a>, and <a class="el" href="phatvol_8h-source.html#l00214">PHATVOL::vol_sectsz</a>.</p>

</div>
</div><p>
<a class="anchor" name="gbb854d6cc74fd1ca3e766b0d199c2333"></a><!-- doxytag: member="phatdir.c::PhatDirRemove" ref="gbb854d6cc74fd1ca3e766b0d199c2333" args="(NUTDEVICE *dev, char *path)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PhatDirRemove           </td>
          <td>(</td>
          <td class="paramtype">NUTDEVICE *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>path</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Remove a specified subdirectory. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dev</em>&nbsp;</td><td>Specifies the file system device. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>Full path to the directory.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 on success. Otherwise -1 is returned. </dd></dl>

<p>Definition at line <a class="el" href="phatdir_8c-source.html#l01084">1084</a> of file <a class="el" href="phatdir_8c-source.html">phatdir.c</a>.</p>

<p>References <a class="el" href="fcntl_8h-source.html#l00076">_O_RDONLY</a>, <a class="el" href="phatdir_8h-source.html#l00096">PHATDIRENT::dent_attr</a>, <a class="el" href="phatdir_8h-source.html#l00091">PHATDIRENT::dent_name</a>, <a class="el" href="errno_8h-source.html#l00069">EBUSY</a>, <a class="el" href="errno_8h-source.html#l00131">ENOTEMPTY</a>, <a class="el" href="errno_8c-source.html#l00042">errno</a>, <a class="el" href="icc_8h-source.html#l00145">free</a>, <a class="el" href="icc_8h-source.html#l00142">malloc</a>, <a class="el" href="memcmp_8c-source.html#l00091">memcmp()</a>, <a class="el" href="file_8h-source.html#l00088">NUTFILE_EOF</a>, <a class="el" href="phatfs_8h-source.html#l00139">PHAT_FATTR_DIR</a>, <a class="el" href="phatfs_8h-source.html#l00149">PHAT_FATTR_FILEMASK</a>, <a class="el" href="phatdir_8h-source.html#l00080">PHAT_REM_DIRENT</a>, <a class="el" href="phatdir_8c-source.html#l00791">PhatDirDelEntry()</a>, <a class="el" href="phatfs_8c-source.html#l00336">PhatFileClose()</a>, <a class="el" href="phatfs_8c-source.html#l00372">PhatFileOpen()</a>, and <a class="el" href="phatfs_8c-source.html#l00723">PhatFileRead()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g94c6770a6af26dca8b08bcee13502913"></a><!-- doxytag: member="phatdir.c::PhatDirEntryStatus" ref="g94c6770a6af26dca8b08bcee13502913" args="(NUTDEVICE *dev, CONST char *path, struct stat *stp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PhatDirEntryStatus           </td>
          <td>(</td>
          <td class="paramtype">NUTDEVICE *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CONST char *&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structstat.html">stat</a> *&nbsp;</td>
          <td class="paramname"> <em>stp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Retrieve status of a specified file. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dev</em>&nbsp;</td><td>File system device. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>Path name to the file to query. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>stp</em>&nbsp;</td><td>Pointer to a structure which receives the result.</td></tr>
  </table>
</dl>
return 0 on success, -1 otherwise. 
<p>Definition at line <a class="el" href="phatdir_8c-source.html#l01155">1155</a> of file <a class="el" href="phatdir_8c-source.html">phatdir.c</a>.</p>

<p>References <a class="el" href="tzset_8c-source.html#l00065">_daylight</a>, <a class="el" href="arm_8h-source.html#l00143">CONST</a>, <a class="el" href="phatdir_8h-source.html#l00096">PHATDIRENT::dent_attr</a>, <a class="el" href="phatdir_8h-source.html#l00129">PHATDIRENT::dent_fsize</a>, <a class="el" href="phatdir_8h-source.html#l00119">PHATDIRENT::dent_mdate</a>, <a class="el" href="phatdir_8h-source.html#l00117">PHATDIRENT::dent_mtime</a>, <a class="el" href="icc_8h-source.html#l00145">free</a>, <a class="el" href="icc_8h-source.html#l00142">malloc</a>, <a class="el" href="memset_8c-source.html#l00088">memset()</a>, <a class="el" href="mktime_8c-source.html#l00279">mktime()</a>, <a class="el" href="file_8h-source.html#l00088">NUTFILE_EOF</a>, <a class="el" href="phatfs_8h-source.html#l00139">PHAT_FATTR_DIR</a>, <a class="el" href="phatfs_8h-source.html#l00149">PHAT_FATTR_FILEMASK</a>, <a class="el" href="phatdir_8c-source.html#l00638">PhatDirEntryFind()</a>, <a class="el" href="phatdir_8c-source.html#l00679">PhatDirOpenParent()</a>, <a class="el" href="phatfs_8c-source.html#l00336">PhatFileClose()</a>, <a class="el" href="phatdir_8h-source.html#l00157">PHATFIND::phfind_ent</a>, <a class="el" href="stat_8h-source.html#l00072">stat::st_ino</a>, <a class="el" href="stat_8h-source.html#l00073">stat::st_mode</a>, <a class="el" href="stat_8h-source.html#l00076">stat::st_mtime</a>, <a class="el" href="stat_8h-source.html#l00074">stat::st_nlink</a>, <a class="el" href="stat_8h-source.html#l00075">stat::st_size</a>, <a class="el" href="time_8h-source.html#l00098">tm::tm_hour</a>, <a class="el" href="time_8h-source.html#l00104">tm::tm_isdst</a>, <a class="el" href="time_8h-source.html#l00099">tm::tm_mday</a>, <a class="el" href="time_8h-source.html#l00097">tm::tm_min</a>, <a class="el" href="time_8h-source.html#l00100">tm::tm_mon</a>, <a class="el" href="time_8h-source.html#l00096">tm::tm_sec</a>, and <a class="el" href="time_8h-source.html#l00101">tm::tm_year</a>.</p>

</div>
</div><p>
</div>
<hr>
<address>
  <small>
    &copy;&nbsp;2000-2007 by egnite Software GmbH - 
    visit <a href="http://www.ethernut.de/">http://www.ethernut.de/</a>
  </small>
</address>
</body>
</html>
