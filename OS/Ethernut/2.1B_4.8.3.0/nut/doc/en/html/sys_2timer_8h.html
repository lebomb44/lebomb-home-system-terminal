<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <title>Nut/OS API</title>
    <link href="nut_en.css" rel="stylesheet" type="text/css">
    <link href="nut_entabs.css" rel="stylesheet" type="text/css">
</head>
<body>
<!-- Generated by Doxygen 1.5.8 -->
  <div class="navpath"><a class="el" href="dir_81006e530ae69d901a01dddafc7fbce4.html">include</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_767639b207e69a2c2442b61ee02d5dc5.html">sys</a>
  </div>
<div class="contents">
<h1>timer.h File Reference</h1>Timer management definitions.  
<a href="#_details">More...</a>
<p>

<p>
<a href="sys_2timer_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct___n_u_t_t_i_m_e_r_i_n_f_o.html">NUTTIMERINFO</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Timer information structure.  <a href="struct___n_u_t_t_i_m_e_r_i_n_f_o.html#_details">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys_2timer_8h.html#a82763afcc795f8a5473bf672f093ed1">TM_ONESHOT</a>&nbsp;&nbsp;&nbsp;0x01</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys_2timer_8h.html#f6585d05b123b75e2e53243c74f6812d">NUT_CACHE_LVALID</a>&nbsp;&nbsp;&nbsp;0x80000000UL</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys_2timer_8h.html#325dfa88cc0dfc4c877c7b65397b2865">NUT_HWCLK_CPU</a>&nbsp;&nbsp;&nbsp;0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys_2timer_8h.html#09a2e2c64ed43bd0bb228dda8092d02a">NUT_HWCLK_PERIPHERAL</a>&nbsp;&nbsp;&nbsp;NUT_HWCLK_CPU</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys_2timer_8h.html#0a2b1b084403b317e7bf52488a7eaa11">NUT_HWCLK_MAX</a>&nbsp;&nbsp;&nbsp;NUT_HWCLK_PERIPHERAL</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sys_2timer_8h.html#3a0f6d372c4649ae0090254455b028cc">NutClockGet</a>(i)&nbsp;&nbsp;&nbsp;NutGetCpuClock()</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_timer.html#g063e0628286de93e67e90fd168681aae">NutTimerInit</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize system timer.  <a href="group__xg_timer.html#g063e0628286de93e67e90fd168681aae"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">NUTTIMERINFO *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_timer.html#g1e47b683a996583386ebef7e7c92501e">NutTimerCreate</a> (<a class="el" href="stdint_8h.html#06896e8c53f721507066c079052171f8">uint32_t</a> ticks, void(*callback)(<a class="el" href="group__xg_nut_o_s.html#ga8c0374618b33785ccb02f74bcfebc46">HANDLE</a>, void *), void *arg, <a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> flags)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a new system timer.  <a href="group__xg_timer.html#g1e47b683a996583386ebef7e7c92501e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_timer.html#g681ca3c989be2bdeb5f0cc97e11d6e06">NutTimerInsert</a> (NUTTIMERINFO *tn)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Insert a new timer in the global timer list.  <a href="group__xg_timer.html#g681ca3c989be2bdeb5f0cc97e11d6e06"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_timer.html#gf719e88403b4ccc78f071ce5c85a5a71">NutTimerProcessElapsed</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Process elapsed timers.  <a href="group__xg_timer.html#gf719e88403b4ccc78f071ce5c85a5a71"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_timer.html#gfefcf81d05019a8134b49fa44d8c114a">NutSleep</a> (<a class="el" href="stdint_8h.html#06896e8c53f721507066c079052171f8">uint32_t</a> ms)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Temporarily suspends the current thread.  <a href="group__xg_timer.html#gfefcf81d05019a8134b49fa44d8c114a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_timer.html#gf787dc0e6bd39a4d32f431ae11c2add3">NutDelay</a> (<a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> ms)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Loop for a specified number of milliseconds.  <a href="group__xg_timer.html#gf787dc0e6bd39a4d32f431ae11c2add3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_timer.html#gd28bfb11b33161792bea7f571133589e">NutMicroDelay</a> (<a class="el" href="stdint_8h.html#06896e8c53f721507066c079052171f8">uint32_t</a> us)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Loop for a specified number of microseconds.  <a href="group__xg_timer.html#gd28bfb11b33161792bea7f571133589e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="stdint_8h.html#06896e8c53f721507066c079052171f8">uint32_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_timer.html#g940f66286dcf28b8280e41b605064446">NutGetTickCount</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the number of system timer ticks.  <a href="group__xg_timer.html#g940f66286dcf28b8280e41b605064446"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="stdint_8h.html#06896e8c53f721507066c079052171f8">uint32_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_timer.html#g8bc858a1ca645b9e0cf9d03d7c9adfb3">NutGetSeconds</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the seconds counter value.  <a href="group__xg_timer.html#g8bc858a1ca645b9e0cf9d03d7c9adfb3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="stdint_8h.html#06896e8c53f721507066c079052171f8">uint32_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_timer.html#gc1887264221d66b13d1e86d034227f1c">NutGetMillis</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the milliseconds counter value.  <a href="group__xg_timer.html#gc1887264221d66b13d1e86d034227f1c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__xg_nut_o_s.html#ga8c0374618b33785ccb02f74bcfebc46">HANDLE</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_timer.html#g91b42f5fd833e1b72c27b3bfb0ed0af7">NutTimerStart</a> (<a class="el" href="stdint_8h.html#06896e8c53f721507066c079052171f8">uint32_t</a> ms, void(*callback)(<a class="el" href="group__xg_nut_o_s.html#ga8c0374618b33785ccb02f74bcfebc46">HANDLE</a>, void *), void *arg, <a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> flags)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Start a system timer.  <a href="group__xg_timer.html#g91b42f5fd833e1b72c27b3bfb0ed0af7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__xg_nut_o_s.html#ga8c0374618b33785ccb02f74bcfebc46">HANDLE</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_timer.html#gf104e0c3660b2a77bd0d7b00c4fd741c">NutTimerStartTicks</a> (<a class="el" href="stdint_8h.html#06896e8c53f721507066c079052171f8">uint32_t</a> ticks, void(*callback)(<a class="el" href="group__xg_nut_o_s.html#ga8c0374618b33785ccb02f74bcfebc46">HANDLE</a>, void *), void *arg, <a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> flags)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Start a system timer.  <a href="group__xg_timer.html#gf104e0c3660b2a77bd0d7b00c4fd741c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_timer.html#gfb23f6965312663a72d41fefc574dc00">NutTimerStop</a> (<a class="el" href="group__xg_nut_o_s.html#ga8c0374618b33785ccb02f74bcfebc46">HANDLE</a> handle)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Stop a specified timer.  <a href="group__xg_timer.html#gfb23f6965312663a72d41fefc574dc00"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_timer.html#gf01fcbd16c4970f2647efafd7a3e01dc">NutClockSet</a> (int idx, <a class="el" href="stdint_8h.html#06896e8c53f721507066c079052171f8">uint32_t</a> freq)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the specified clock frequency.  <a href="group__xg_timer.html#gf01fcbd16c4970f2647efafd7a3e01dc"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="stdint_8h.html#06896e8c53f721507066c079052171f8">uint32_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_timer.html#g784a7f52b5167c777149fd1d874c99f0">NutGetCpuClock</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the CPU clock frequency.  <a href="group__xg_timer.html#g784a7f52b5167c777149fd1d874c99f0"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">NUTTIMERINFO *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_timer.html#gcaf8d9a1a901f73165dce220e4d11b71">nutTimerList</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Double linked list of all system timers.  <a href="group__xg_timer.html#gcaf8d9a1a901f73165dce220e4d11b71"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Timer management definitions. 
<p>

<p>Definition in file <a class="el" href="sys_2timer_8h-source.html">timer.h</a>.</p>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="a82763afcc795f8a5473bf672f093ed1"></a><!-- doxytag: member="timer.h::TM_ONESHOT" ref="a82763afcc795f8a5473bf672f093ed1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TM_ONESHOT&nbsp;&nbsp;&nbsp;0x01          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Examples: </b></dt><dd>
<a class="el" href="timers_2timers_8c-example.html#a33">timers/timers.c</a>.</dl>
<p>Definition at line <a class="el" href="sys_2timer_8h-source.html#l00151">151</a> of file <a class="el" href="sys_2timer_8h-source.html">timer.h</a>.</p>

<p>Referenced by <a class="el" href="timers_8c-source.html#l00239">main()</a>, <a class="el" href="event_8c-source.html#l00271">NutEventWait()</a>, <a class="el" href="msg_8c-source.html#l00345">NutMsgQGetMessage()</a>, <a class="el" href="msg_8c-source.html#l00253">NutMsgQStartTimer()</a>, <a class="el" href="timer_8c-source.html#l00610">NutSleep()</a>, and <a class="el" href="timer_8c-source.html#l00493">NutTimerCreate()</a>.</p>

</div>
</div><p>
<a class="anchor" name="f6585d05b123b75e2e53243c74f6812d"></a><!-- doxytag: member="timer.h::NUT_CACHE_LVALID" ref="f6585d05b123b75e2e53243c74f6812d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NUT_CACHE_LVALID&nbsp;&nbsp;&nbsp;0x80000000UL          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="sys_2timer_8h-source.html#l00153">153</a> of file <a class="el" href="sys_2timer_8h-source.html">timer.h</a>.</p>

<p>Referenced by <a class="el" href="timer_8c-source.html#l00800">NutGetCpuClock()</a>.</p>

</div>
</div><p>
<a class="anchor" name="325dfa88cc0dfc4c877c7b65397b2865"></a><!-- doxytag: member="timer.h::NUT_HWCLK_CPU" ref="325dfa88cc0dfc4c877c7b65397b2865" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NUT_HWCLK_CPU&nbsp;&nbsp;&nbsp;0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="sys_2timer_8h-source.html#l00157">157</a> of file <a class="el" href="sys_2timer_8h-source.html">timer.h</a>.</p>

<p>Referenced by <a class="el" href="timer_8c-source.html#l00800">NutGetCpuClock()</a>.</p>

</div>
</div><p>
<a class="anchor" name="09a2e2c64ed43bd0bb228dda8092d02a"></a><!-- doxytag: member="timer.h::NUT_HWCLK_PERIPHERAL" ref="09a2e2c64ed43bd0bb228dda8092d02a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NUT_HWCLK_PERIPHERAL&nbsp;&nbsp;&nbsp;NUT_HWCLK_CPU          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="sys_2timer_8h-source.html#l00160">160</a> of file <a class="el" href="sys_2timer_8h-source.html">timer.h</a>.</p>

<p>Referenced by <a class="el" href="spibus__at91_8c-source.html#l00072">At91SpiSetup()</a>, <a class="el" href="spibus__avr_8c-source.html#l00051">AvrSpiSetup()</a>, and <a class="el" href="at91__twi_8c-source.html#l00438">TwIOCtl()</a>.</p>

</div>
</div><p>
<a class="anchor" name="0a2b1b084403b317e7bf52488a7eaa11"></a><!-- doxytag: member="timer.h::NUT_HWCLK_MAX" ref="0a2b1b084403b317e7bf52488a7eaa11" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NUT_HWCLK_MAX&nbsp;&nbsp;&nbsp;NUT_HWCLK_PERIPHERAL          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="sys_2timer_8h-source.html#l00163">163</a> of file <a class="el" href="sys_2timer_8h-source.html">timer.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="3a0f6d372c4649ae0090254455b028cc"></a><!-- doxytag: member="timer.h::NutClockGet" ref="3a0f6d372c4649ae0090254455b028cc" args="(i)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NutClockGet          </td>
          <td>(</td>
          <td class="paramtype">i&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;NutGetCpuClock()</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="sys_2timer_8h-source.html#l00200">200</a> of file <a class="el" href="sys_2timer_8h-source.html">timer.h</a>.</p>

<p>Referenced by <a class="el" href="spibus__at91_8c-source.html#l00072">At91SpiSetup()</a>, <a class="el" href="spibus__avr_8c-source.html#l00051">AvrSpiSetup()</a>, <a class="el" href="timer_8c-source.html#l00800">NutGetCpuClock()</a>, and <a class="el" href="at91__twi_8c-source.html#l00438">TwIOCtl()</a>.</p>

</div>
</div><p>
</div>
<hr>
<address>
  <small>
    &copy;&nbsp;2000-2007 by egnite Software GmbH - 
    visit <a href="http://www.ethernut.de/">http://www.ethernut.de/</a>
  </small>
</address>
</body>
</html>
