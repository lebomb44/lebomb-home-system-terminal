<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <title>Nut/OS API</title>
    <link href="nut_en.css" rel="stylesheet" type="text/css">
    <link href="nut_entabs.css" rel="stylesheet" type="text/css">
</head>
<body>
<!-- Generated by Doxygen 1.5.8 -->
  <div class="navpath"><a class="el" href="dir_81006e530ae69d901a01dddafc7fbce4.html">include</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_29e0dcc87985a941e12843c236561edc.html">dev</a>
  </div>
<div class="contents">
<h1>spibus_at91.h File Reference</h1>AT91 specific SPI bus declarations.  
<a href="#_details">More...</a>
<p>

<p>
<a href="spibus__at91_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct___a_t91_s_p_i_r_e_g.html">AT91SPIREG</a></td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="spibus__at91_8h.html#fd4250b9774e42c485b7d07067992670">At91Spi0ChipSelect</a> (<a class="el" href="stdint_8h.html#d0fca8b15c218d2c687f8c373a71d228">uint_fast8_t</a> cs, <a class="el" href="stdint_8h.html#d0fca8b15c218d2c687f8c373a71d228">uint_fast8_t</a> hi)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the specified chip select to a given level.  <a href="#fd4250b9774e42c485b7d07067992670"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="spibus__at91_8h.html#47e43346eb46e1496fd1de2dfc34d8c5">At91SpiBus0Interrupt</a> (void *arg)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="spibus__at91_8h.html#d3304d50eed856a13adba236054aab2f">At91Spi1ChipSelect</a> (<a class="el" href="stdint_8h.html#d0fca8b15c218d2c687f8c373a71d228">uint_fast8_t</a> cs, <a class="el" href="stdint_8h.html#d0fca8b15c218d2c687f8c373a71d228">uint_fast8_t</a> hi)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="spibus__at91_8h.html#744d30f9af2efa61d4836e0cb2f8daea">At91SpiBus1Interrupt</a> (void *arg)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="spibus__at91_8h.html#38b8d567d061f3aa951b3d8bf00cd030">At91SpiSetup</a> (NUTSPINODE *node)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Update SPI shadow registers.  <a href="#38b8d567d061f3aa951b3d8bf00cd030"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="spibus__at91_8h.html#e0f09c730d68917daa4c9c8b0a69e102">At91SpiBusNodeInit</a> (NUTSPINODE *node)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize an SPI bus node.  <a href="#e0f09c730d68917daa4c9c8b0a69e102"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="spibus__at91_8h.html#d08b2723a36850169b1eeeff3f93b246">At91SpiBusTransfer</a> (NUTSPINODE *node, CONST void *txbuf, void *rxbuf, int xlen)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="spibus__at91_8h.html#d48cf0449e49ada01369bb02eb98d241">At91SpiBusDblBufTransfer</a> (NUTSPINODE *node, CONST void *txbuf, void *rxbuf, int xlen)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="spibus__at91_8h.html#e98da867ba069b49f44f839344f9c822">At91SpiBusPollTransfer</a> (NUTSPINODE *node, CONST void *txbuf, void *rxbuf, int xlen)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="spibus__at91_8h.html#1491afa859a173c6ab44a4528e9a30ad">At91SpiBusWait</a> (NUTSPINODE *node, <a class="el" href="stdint_8h.html#06896e8c53f721507066c079052171f8">uint32_t</a> tmo)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Wait until all SPI bus transfers are done.  <a href="#1491afa859a173c6ab44a4528e9a30ad"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">NUTSPIBUS&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="spibus__at91_8h.html#1e18f0448eed6f5fb367425fee795da6">spiBus0At91</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">AT91 SPI bus driver implementation structure.  <a href="#1e18f0448eed6f5fb367425fee795da6"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
AT91 specific SPI bus declarations. 
<p>
<div class="fragment"><pre class="fragment">
 * $Id: spibus_at91.h 2375 2009-01-09 17:54:38Z haraldkipp $
 * </pre></div> 
<p>Definition in file <a class="el" href="spibus__at91_8h-source.html">spibus_at91.h</a>.</p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="fd4250b9774e42c485b7d07067992670"></a><!-- doxytag: member="spibus_at91.h::At91Spi0ChipSelect" ref="fd4250b9774e42c485b7d07067992670" args="(uint_fast8_t cs, uint_fast8_t hi)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int At91Spi0ChipSelect           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#d0fca8b15c218d2c687f8c373a71d228">uint_fast8_t</a>&nbsp;</td>
          <td class="paramname"> <em>cs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#d0fca8b15c218d2c687f8c373a71d228">uint_fast8_t</a>&nbsp;</td>
          <td class="paramname"> <em>hi</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the specified chip select to a given level. 
<p>

<p>Definition at line <a class="el" href="spibus0at91_8c-source.html#l00121">121</a> of file <a class="el" href="spibus0at91_8c-source.html">spibus0at91.c</a>.</p>

<p>References <a class="el" href="errno_8h-source.html#l00057">EIO</a>, and <a class="el" href="errno_8c-source.html#l00042">errno</a>.</p>

<p>Referenced by <a class="el" href="spibus0at91_8c-source.html#l00236">At91SpiBus0Deselect()</a>, <a class="el" href="spibus0at91_8c-source.html#l00185">At91SpiBus0Select()</a>, and <a class="el" href="spibus__at91_8c-source.html#l00137">At91SpiBusNodeInit()</a>.</p>

</div>
</div><p>
<a class="anchor" name="47e43346eb46e1496fd1de2dfc34d8c5"></a><!-- doxytag: member="spibus_at91.h::At91SpiBus0Interrupt" ref="47e43346eb46e1496fd1de2dfc34d8c5" args="(void *arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void At91SpiBus0Interrupt           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>arg</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="spibus0at91_8c-source.html#l00260">260</a> of file <a class="el" href="spibus0at91_8c-source.html">spibus0at91.c</a>.</p>

<p>References <a class="el" href="arm_8h-source.html#l00197">inb</a>, <a class="el" href="event_8h-source.html#l00147">NutEventPostFromIrq</a>, and <a class="el" href="arm_8h-source.html#l00193">outb</a>.</p>

<p>Referenced by <a class="el" href="spibus__at91_8c-source.html#l00137">At91SpiBusNodeInit()</a>.</p>

</div>
</div><p>
<a class="anchor" name="d3304d50eed856a13adba236054aab2f"></a><!-- doxytag: member="spibus_at91.h::At91Spi1ChipSelect" ref="d3304d50eed856a13adba236054aab2f" args="(uint_fast8_t cs, uint_fast8_t hi)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int At91Spi1ChipSelect           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#d0fca8b15c218d2c687f8c373a71d228">uint_fast8_t</a>&nbsp;</td>
          <td class="paramname"> <em>cs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#d0fca8b15c218d2c687f8c373a71d228">uint_fast8_t</a>&nbsp;</td>
          <td class="paramname"> <em>hi</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Referenced by <a class="el" href="spibus__at91_8c-source.html#l00137">At91SpiBusNodeInit()</a>.</p>

</div>
</div><p>
<a class="anchor" name="744d30f9af2efa61d4836e0cb2f8daea"></a><!-- doxytag: member="spibus_at91.h::At91SpiBus1Interrupt" ref="744d30f9af2efa61d4836e0cb2f8daea" args="(void *arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void At91SpiBus1Interrupt           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>arg</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Referenced by <a class="el" href="spibus__at91_8c-source.html#l00137">At91SpiBusNodeInit()</a>.</p>

</div>
</div><p>
<a class="anchor" name="38b8d567d061f3aa951b3d8bf00cd030"></a><!-- doxytag: member="spibus_at91.h::At91SpiSetup" ref="38b8d567d061f3aa951b3d8bf00cd030" args="(NUTSPINODE *node)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int At91SpiSetup           </td>
          <td>(</td>
          <td class="paramtype">NUTSPINODE *&nbsp;</td>
          <td class="paramname"> <em>node</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Update SPI shadow registers. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>node</em>&nbsp;</td><td>Specifies the SPI bus node.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Always 0. </dd></dl>

<p>Definition at line <a class="el" href="spibus__at91_8c-source.html#l00072">72</a> of file <a class="el" href="spibus__at91_8c-source.html">spibus_at91.c</a>.</p>

<p>References <a class="el" href="sys_2timer_8h-source.html#l00160">NUT_HWCLK_PERIPHERAL</a>, <a class="el" href="nutdebug_8h-source.html#l00047">NUTASSERT</a>, <a class="el" href="sys_2timer_8h-source.html#l00200">NutClockGet</a>, <a class="el" href="arch_2arm_2at91__spi_8h-source.html#l00117">SPI_BITS</a>, <a class="el" href="arch_2arm_2at91__spi_8h-source.html#l00127">SPI_BITS_LSB</a>, <a class="el" href="arch_2arm_2at91__spi_8h-source.html#l00114">SPI_CPOL</a>, <a class="el" href="arch_2arm_2at91__spi_8h-source.html#l00116">SPI_CSAAT</a>, <a class="el" href="arch_2arm_2at91__spi_8h-source.html#l00060">SPI_LLB</a>, <a class="el" href="spibus_8h-source.html#l00052">SPI_MODE_CPHA</a>, <a class="el" href="spibus_8h-source.html#l00053">SPI_MODE_CPOL</a>, <a class="el" href="spibus_8h-source.html#l00057">SPI_MODE_CSKEEP</a>, <a class="el" href="spibus_8h-source.html#l00054">SPI_MODE_FAULT</a>, <a class="el" href="spibus_8h-source.html#l00055">SPI_MODE_LOOPBACK</a>, <a class="el" href="spibus_8h-source.html#l00060">SPI_MODE_UPDATE</a>, <a class="el" href="arch_2arm_2at91__spi_8h-source.html#l00059">SPI_MODFDIS</a>, <a class="el" href="arch_2arm_2at91__spi_8h-source.html#l00115">SPI_NCPHA</a>, <a class="el" href="arch_2arm_2at91__spi_8h-source.html#l00128">SPI_SCBR</a>, and <a class="el" href="arch_2arm_2at91__spi_8h-source.html#l00129">SPI_SCBR_LSB</a>.</p>

<p>Referenced by <a class="el" href="spibus0at91_8c-source.html#l00185">At91SpiBus0Select()</a>, and <a class="el" href="spibus__at91_8c-source.html#l00137">At91SpiBusNodeInit()</a>.</p>

</div>
</div><p>
<a class="anchor" name="e0f09c730d68917daa4c9c8b0a69e102"></a><!-- doxytag: member="spibus_at91.h::At91SpiBusNodeInit" ref="e0f09c730d68917daa4c9c8b0a69e102" args="(NUTSPINODE *node)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int At91SpiBusNodeInit           </td>
          <td>(</td>
          <td class="paramtype">NUTSPINODE *&nbsp;</td>
          <td class="paramname"> <em>node</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initialize an SPI bus node. 
<p>
This routine is called for each SPI node, which is registered via <a class="el" href="spibus_8h.html#9f84b1e3e0d80febca1d2071b04f6fc7" title="Register and initialize an SPI device attached to a specified bus.">NutRegisterSpiDevice()</a>.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>node</em>&nbsp;</td><td>Specifies the SPI bus node.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 on success or -1 if there is no valid chip select. </dd></dl>

<p>Definition at line <a class="el" href="spibus__at91_8c-source.html#l00137">137</a> of file <a class="el" href="spibus__at91_8c-source.html">spibus_at91.c</a>.</p>

<p>References <a class="el" href="spibus0at91_8c-source.html#l00121">At91Spi0ChipSelect()</a>, <a class="el" href="spibus__at91_8h.html#d3304d50eed856a13adba236054aab2f">At91Spi1ChipSelect()</a>, <a class="el" href="spibus0at91_8c-source.html#l00260">At91SpiBus0Interrupt()</a>, <a class="el" href="spibus__at91_8h.html#744d30f9af2efa61d4836e0cb2f8daea">At91SpiBus1Interrupt()</a>, <a class="el" href="spibus__at91_8c-source.html#l00072">At91SpiSetup()</a>, <a class="el" href="icc_8h-source.html#l00142">malloc</a>, <a class="el" href="nutdebug_8h-source.html#l00047">NUTASSERT</a>, <a class="el" href="ihndlr_8c-source.html#l00121">NutIrqEnable()</a>, <a class="el" href="ihndlr_8c-source.html#l00098">NutRegisterIrqHandler()</a>, <a class="el" href="arm_8h-source.html#l00195">outr</a>, <a class="el" href="at91sam7x_8h-source.html#l00113">SPI1_BASE</a>, <a class="el" href="arch_2arm_2at91__spi_8h-source.html#l00091">SPI_IDR_OFF</a>, <a class="el" href="spibus_8h-source.html#l00059">SPI_MODE_CSHIGH</a>, <a class="el" href="arch_2arm_2at91__spi_8h-source.html#l00059">SPI_MODFDIS</a>, <a class="el" href="arch_2arm_2at91__spi_8h-source.html#l00055">SPI_MSTR</a>, <a class="el" href="arch_2arm_2at91__spi_8h-source.html#l00062">SPI_PCS_0</a>, <a class="el" href="arch_2arm_2at91__spi_8h-source.html#l00063">SPI_PCS_1</a>, <a class="el" href="arch_2arm_2at91__spi_8h-source.html#l00064">SPI_PCS_2</a>, and <a class="el" href="arch_2arm_2at91__spi_8h-source.html#l00065">SPI_PCS_3</a>.</p>

</div>
</div><p>
<a class="anchor" name="d08b2723a36850169b1eeeff3f93b246"></a><!-- doxytag: member="spibus_at91.h::At91SpiBusTransfer" ref="d08b2723a36850169b1eeeff3f93b246" args="(NUTSPINODE *node, CONST void *txbuf, void *rxbuf, int xlen)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int At91SpiBusTransfer           </td>
          <td>(</td>
          <td class="paramtype">NUTSPINODE *&nbsp;</td>
          <td class="paramname"> <em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CONST void *&nbsp;</td>
          <td class="paramname"> <em>txbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>rxbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>xlen</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="d48cf0449e49ada01369bb02eb98d241"></a><!-- doxytag: member="spibus_at91.h::At91SpiBusDblBufTransfer" ref="d48cf0449e49ada01369bb02eb98d241" args="(NUTSPINODE *node, CONST void *txbuf, void *rxbuf, int xlen)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int At91SpiBusDblBufTransfer           </td>
          <td>(</td>
          <td class="paramtype">NUTSPINODE *&nbsp;</td>
          <td class="paramname"> <em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CONST void *&nbsp;</td>
          <td class="paramname"> <em>txbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>rxbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>xlen</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="e98da867ba069b49f44f839344f9c822"></a><!-- doxytag: member="spibus_at91.h::At91SpiBusPollTransfer" ref="e98da867ba069b49f44f839344f9c822" args="(NUTSPINODE *node, CONST void *txbuf, void *rxbuf, int xlen)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int At91SpiBusPollTransfer           </td>
          <td>(</td>
          <td class="paramtype">NUTSPINODE *&nbsp;</td>
          <td class="paramname"> <em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CONST void *&nbsp;</td>
          <td class="paramname"> <em>txbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>rxbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>xlen</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="1491afa859a173c6ab44a4528e9a30ad"></a><!-- doxytag: member="spibus_at91.h::At91SpiBusWait" ref="1491afa859a173c6ab44a4528e9a30ad" args="(NUTSPINODE *node, uint32_t tmo)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int At91SpiBusWait           </td>
          <td>(</td>
          <td class="paramtype">NUTSPINODE *&nbsp;</td>
          <td class="paramname"> <em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#06896e8c53f721507066c079052171f8">uint32_t</a>&nbsp;</td>
          <td class="paramname"> <em>tmo</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Wait until all SPI bus transfers are done. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>node</em>&nbsp;</td><td>Specifies the SPI bus node. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>tmo</em>&nbsp;</td><td>Timeout in milliseconds. To disable timeout, set this parameter to NUT_WAIT_INFINITE.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Always 0. </dd></dl>

<p>Definition at line <a class="el" href="spibus__at91_8c-source.html#l00343">343</a> of file <a class="el" href="spibus__at91_8c-source.html">spibus_at91.c</a>.</p>

<p>References <a class="el" href="arm_8h-source.html#l00199">inr</a>, <a class="el" href="event_8c-source.html#l00271">NutEventWait()</a>, <a class="el" href="arch_2arm_2at91__spi_8h-source.html#l00100">SPI_RXBUFF</a>, and <a class="el" href="arch_2arm_2at91__spi_8h-source.html#l00089">SPI_SR_OFF</a>.</p>

<p>Referenced by <a class="el" href="spibus0at91_8c-source.html#l00236">At91SpiBus0Deselect()</a>.</p>

</div>
</div><p>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="1e18f0448eed6f5fb367425fee795da6"></a><!-- doxytag: member="spibus_at91.h::spiBus0At91" ref="1e18f0448eed6f5fb367425fee795da6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NUTSPIBUS <a class="el" href="spibus0at91_8c.html#1e18f0448eed6f5fb367425fee795da6">spiBus0At91</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
AT91 SPI bus driver implementation structure. 
<p>

<p>Definition at line <a class="el" href="spibus0at91_8c-source.html#l00328">328</a> of file <a class="el" href="spibus0at91_8c-source.html">spibus0at91.c</a>.</p>

</div>
</div><p>
</div>
<hr>
<address>
  <small>
    &copy;&nbsp;2000-2007 by egnite Software GmbH - 
    visit <a href="http://www.ethernut.de/">http://www.ethernut.de/</a>
  </small>
</address>
</body>
</html>
