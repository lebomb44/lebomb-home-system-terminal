<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <title>Nut/OS API</title>
    <link href="nut_en.css" rel="stylesheet" type="text/css">
    <link href="nut_entabs.css" rel="stylesheet" type="text/css">
</head>
<body>
<!-- Generated by Doxygen 1.5.8 -->
  <div class="navpath"><a class="el" href="dir_264e76a43993b4d38befcb6805fdec2d.html">arch</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_b0f1ad2db40117979aa0dc775463a1e9.html">avr</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_42e6833dcb69f3de75c6e85ab40d9c56.html">dev</a>
  </div>
<div class="contents">
<h1>sppif0.c File Reference</h1>
<p>
<a href="sppif0_8c-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sppif0_8c.html#450e2c45c17c1a12511979acf553fdc5">Sppi0SetMode</a> (<a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> ix, <a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> mode)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set mode for a given device at SPI0.  <a href="#450e2c45c17c1a12511979acf553fdc5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sppif0_8c.html#25d88793f781650b1916672c4c49ceec">Sppi0SetSpeed</a> (<a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> ix, <a class="el" href="stdint_8h.html#06896e8c53f721507066c079052171f8">uint32_t</a> rate)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set transfer rate for a given device at SPI0.  <a href="#25d88793f781650b1916672c4c49ceec"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sppif0_8c.html#7173d9f7af608306e419957cdbdc26ca">Sppi0Enable</a> (<a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> ix)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Enable the serial peripheral interface 0.  <a href="#7173d9f7af608306e419957cdbdc26ca"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sppif0_8c.html#9cd41a28ca497627920cdfc9b03a4efb">Sppi0ChipReset</a> (<a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> ix, <a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> hi)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set or clear a configured reset line for a given device.  <a href="#9cd41a28ca497627920cdfc9b03a4efb"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sppif0_8c.html#678fdd77b3c11bb24934c7f25a8f7e53">Sppi0ChipSelect</a> (<a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> ix, <a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> hi)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set or clear a configured chip select for a given device.  <a href="#678fdd77b3c11bb24934c7f25a8f7e53"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sppif0_8c.html#3f060e2ab43eb3b79e1dbfd1dab5cad9">Sppi0SelectDevice</a> (<a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> ix)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Select the device at a given chip select.  <a href="#3f060e2ab43eb3b79e1dbfd1dab5cad9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sppif0_8c.html#9bd7ee9a8d38ad09b3e0eba20c2e47c0">Sppi0DeselectDevice</a> (<a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> ix)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Deselect the device at a given chip select.  <a href="#9bd7ee9a8d38ad09b3e0eba20c2e47c0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sppif0_8c.html#ef03227293575b63cb0ec82659444ce0">Sppi0NegSelectDevice</a> (<a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> ix)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Select the device at a given negated chip select.  <a href="#ef03227293575b63cb0ec82659444ce0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sppif0_8c.html#fc10eca69d19a1ab38aaf5cca5f6fed0">Sppi0NegDeselectDevice</a> (<a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> ix)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Deselect the device at a given negated chip select.  <a href="#fc10eca69d19a1ab38aaf5cca5f6fed0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sppif0_8c.html#cd1799bc7296379743d5dffd2ea0f7ba">Sppi0Byte</a> (<a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Exchange a byte with the currently selected SPI device.  <a href="#cd1799bc7296379743d5dffd2ea0f7ba"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sppif0_8c.html#9915adb6e0bc1b2fcacb735755817801">Sppi0Transact</a> (CONST void *wdata, void *rdata, size_t len)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Exchange a specified number of bytes with the currently selected SPI device.  <a href="#9915adb6e0bc1b2fcacb735755817801"></a><br></td></tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="450e2c45c17c1a12511979acf553fdc5"></a><!-- doxytag: member="sppif0.c::Sppi0SetMode" ref="450e2c45c17c1a12511979acf553fdc5" args="(uint8_t ix, uint8_t mode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Sppi0SetMode           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&nbsp;</td>
          <td class="paramname"> <em>ix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&nbsp;</td>
          <td class="paramname"> <em>mode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set mode for a given device at SPI0. 
<p>
This is typically the first call in order to use the device. It will not directly enable the SPI hardware. This is done when selecting the device.<p>
The transfer rate is set to the lowest possible value and can be adjusted by calling <a class="el" href="sppif0_8h.html#152eae0834820fdc252a36fcf1063a77">Sppi0SetSpeed()</a>.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ix</em>&nbsp;</td><td>The device index, starting at 0. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mode</em>&nbsp;</td><td>The mode to set.<ul>
<li>0: Leading edge is rising, data sampled on rising edge.</li><li>1: Leading edge is rising, data sampled on falling edge.</li><li>2: Leading edge is falling, data sampled on falling edge.</li><li>3: Leading edge is falling, data sampled on rising edge.</li></ul>
</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0, if the device index and the mode are both valid. Otherwise the return value will be -1. </dd></dl>

<p>Definition at line <a class="el" href="sppif0_8c-source.html#l00076">76</a> of file <a class="el" href="sppif0_8c-source.html">sppif0.c</a>.</p>

<p>References <a class="el" href="arm_8h-source.html#l00201">_BV</a>, and <a class="el" href="sppif0_8h-source.html#l00059">SPPI0_MAX_DEVICES</a>.</p>

</div>
</div><p>
<a class="anchor" name="25d88793f781650b1916672c4c49ceec"></a><!-- doxytag: member="sppif0.c::Sppi0SetSpeed" ref="25d88793f781650b1916672c4c49ceec" args="(uint8_t ix, uint32_t rate)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Sppi0SetSpeed           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&nbsp;</td>
          <td class="paramname"> <em>ix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#06896e8c53f721507066c079052171f8">uint32_t</a>&nbsp;</td>
          <td class="paramname"> <em>rate</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set transfer rate for a given device at SPI0. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ix</em>&nbsp;</td><td>The device index, starting at 0. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rate</em>&nbsp;</td><td>Transfer rate in bits per second. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="sppif0_8c-source.html#l00099">99</a> of file <a class="el" href="sppif0_8c-source.html">sppif0.c</a>.</p>

<p>References <a class="el" href="arm_8h-source.html#l00201">_BV</a>, and <a class="el" href="timer_8c-source.html#l00800">NutGetCpuClock()</a>.</p>

</div>
</div><p>
<a class="anchor" name="7173d9f7af608306e419957cdbdc26ca"></a><!-- doxytag: member="sppif0.c::Sppi0Enable" ref="7173d9f7af608306e419957cdbdc26ca" args="(uint8_t ix)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Sppi0Enable           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&nbsp;</td>
          <td class="paramname"> <em>ix</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Enable the serial peripheral interface 0. 
<p>
Enables SPI with the parameters previously set by <a class="el" href="sppif0_8h.html#9df9c45b72254cde56876a209ad807b4">Sppi0SetMode()</a> and <a class="el" href="sppif0_8h.html#152eae0834820fdc252a36fcf1063a77">Sppi0SetSpeed()</a>.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ix</em>&nbsp;</td><td>The device index, starting at 0. The routine will not check if this is valid. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="sppif0_8c-source.html#l00140">140</a> of file <a class="el" href="sppif0_8c-source.html">sppif0.c</a>.</p>

<p>References <a class="el" href="arm_8h-source.html#l00201">_BV</a>, <a class="el" href="icc_8h-source.html#l00271">bit_is_clear</a>, <a class="el" href="icc_8h-source.html#l00265">cbi</a>, <a class="el" href="arm_8h-source.html#l00197">inb</a>, <a class="el" href="arm_8h-source.html#l00193">outb</a>, and <a class="el" href="icc_8h-source.html#l00266">sbi</a>.</p>

</div>
</div><p>
<a class="anchor" name="9cd41a28ca497627920cdfc9b03a4efb"></a><!-- doxytag: member="sppif0.c::Sppi0ChipReset" ref="9cd41a28ca497627920cdfc9b03a4efb" args="(uint8_t ix, uint8_t hi)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Sppi0ChipReset           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&nbsp;</td>
          <td class="paramname"> <em>ix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&nbsp;</td>
          <td class="paramname"> <em>hi</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set or clear a configured reset line for a given device. 
<p>
Reset lines must be configured when building the system libraries. This routine silently ignores them, if not configured.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ix</em>&nbsp;</td><td>The device index, starting at 0. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>hi</em>&nbsp;</td><td>If 0, the reset line is driven low. Otherwise the line is driven high. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="sppif0_8c-source.html#l00187">187</a> of file <a class="el" href="sppif0_8c-source.html">sppif0.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="678fdd77b3c11bb24934c7f25a8f7e53"></a><!-- doxytag: member="sppif0.c::Sppi0ChipSelect" ref="678fdd77b3c11bb24934c7f25a8f7e53" args="(uint8_t ix, uint8_t hi)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Sppi0ChipSelect           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&nbsp;</td>
          <td class="paramname"> <em>ix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&nbsp;</td>
          <td class="paramname"> <em>hi</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set or clear a configured chip select for a given device. 
<p>
Chip selects must be configured when building the system libraries. This routine silently ignores selects, if they are not configured.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ix</em>&nbsp;</td><td>The device index, starting at 0. Same as the chip select number. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>hi</em>&nbsp;</td><td>If 0, the chip select is driven low. Otherwise the line is driven high. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="sppif0_8c-source.html#l00242">242</a> of file <a class="el" href="sppif0_8c-source.html">sppif0.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="3f060e2ab43eb3b79e1dbfd1dab5cad9"></a><!-- doxytag: member="sppif0.c::Sppi0SelectDevice" ref="3f060e2ab43eb3b79e1dbfd1dab5cad9" args="(uint8_t ix)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Sppi0SelectDevice           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&nbsp;</td>
          <td class="paramname"> <em>ix</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Select the device at a given chip select. 
<p>
Enables the serial peripheral interface with the parameters previously set for the given device by <a class="el" href="sppif0_8h.html#9df9c45b72254cde56876a209ad807b4">Sppi0SetMode()</a> and <a class="el" href="sppif0_8h.html#152eae0834820fdc252a36fcf1063a77">Sppi0SetSpeed()</a>. Then the configured chip select line is driven high.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ix</em>&nbsp;</td><td>The device index, starting at 0. The routine will not check if this is a valid number. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="sppif0_8c-source.html#l00297">297</a> of file <a class="el" href="sppif0_8c-source.html">sppif0.c</a>.</p>

<p>References <a class="el" href="sppif0_8h.html#4cc361b5b897de0080e12af672d57be1">Sppi0ChipSelect()</a>, and <a class="el" href="sppif0_8h.html#9fb9883100bbaaf61ed3e290ece9cd23">Sppi0Enable()</a>.</p>

</div>
</div><p>
<a class="anchor" name="9bd7ee9a8d38ad09b3e0eba20c2e47c0"></a><!-- doxytag: member="sppif0.c::Sppi0DeselectDevice" ref="9bd7ee9a8d38ad09b3e0eba20c2e47c0" args="(uint8_t ix)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Sppi0DeselectDevice           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&nbsp;</td>
          <td class="paramname"> <em>ix</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Deselect the device at a given chip select. 
<p>
The configured chip select line will be driven low.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ix</em>&nbsp;</td><td>The device index, starting at 0. The routine will not check if this is a valid number. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="sppif0_8c-source.html#l00311">311</a> of file <a class="el" href="sppif0_8c-source.html">sppif0.c</a>.</p>

<p>References <a class="el" href="sppif0_8h.html#4cc361b5b897de0080e12af672d57be1">Sppi0ChipSelect()</a>.</p>

</div>
</div><p>
<a class="anchor" name="ef03227293575b63cb0ec82659444ce0"></a><!-- doxytag: member="sppif0.c::Sppi0NegSelectDevice" ref="ef03227293575b63cb0ec82659444ce0" args="(uint8_t ix)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Sppi0NegSelectDevice           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&nbsp;</td>
          <td class="paramname"> <em>ix</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Select the device at a given negated chip select. 
<p>
Enables the serial peripheral interface with the parameters previously set for the given device by <a class="el" href="sppif0_8h.html#9df9c45b72254cde56876a209ad807b4">Sppi0SetMode()</a> and <a class="el" href="sppif0_8h.html#152eae0834820fdc252a36fcf1063a77">Sppi0SetSpeed()</a>. Then the configured chip select line is driven low.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ix</em>&nbsp;</td><td>The device index, starting at 0. The routine will not check if this is a valid number. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="sppif0_8c-source.html#l00327">327</a> of file <a class="el" href="sppif0_8c-source.html">sppif0.c</a>.</p>

<p>References <a class="el" href="sppif0_8h.html#4cc361b5b897de0080e12af672d57be1">Sppi0ChipSelect()</a>, and <a class="el" href="sppif0_8h.html#9fb9883100bbaaf61ed3e290ece9cd23">Sppi0Enable()</a>.</p>

</div>
</div><p>
<a class="anchor" name="fc10eca69d19a1ab38aaf5cca5f6fed0"></a><!-- doxytag: member="sppif0.c::Sppi0NegDeselectDevice" ref="fc10eca69d19a1ab38aaf5cca5f6fed0" args="(uint8_t ix)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Sppi0NegDeselectDevice           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&nbsp;</td>
          <td class="paramname"> <em>ix</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Deselect the device at a given negated chip select. 
<p>
The configured chip select line will be driven high.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ix</em>&nbsp;</td><td>The device index, starting at 0. The routine will not check if this is a valid number. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="sppif0_8c-source.html#l00341">341</a> of file <a class="el" href="sppif0_8c-source.html">sppif0.c</a>.</p>

<p>References <a class="el" href="sppif0_8h.html#4cc361b5b897de0080e12af672d57be1">Sppi0ChipSelect()</a>.</p>

</div>
</div><p>
<a class="anchor" name="cd1799bc7296379743d5dffd2ea0f7ba"></a><!-- doxytag: member="sppif0.c::Sppi0Byte" ref="cd1799bc7296379743d5dffd2ea0f7ba" args="(uint8_t data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> Sppi0Byte           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&nbsp;</td>
          <td class="paramname"> <em>data</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Exchange a byte with the currently selected SPI device. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>Byte to transmit.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Received byte. </dd></dl>

<p>Definition at line <a class="el" href="sppif0_8c-source.html#l00353">353</a> of file <a class="el" href="sppif0_8c-source.html">sppif0.c</a>.</p>

<p>References <a class="el" href="arm_8h-source.html#l00197">inb</a>, <a class="el" href="icc_8h-source.html#l00269">loop_until_bit_is_set</a>, and <a class="el" href="arm_8h-source.html#l00193">outb</a>.</p>

<p>Referenced by <a class="el" href="sppif0_8c-source.html#l00377">Sppi0Transact()</a>.</p>

</div>
</div><p>
<a class="anchor" name="9915adb6e0bc1b2fcacb735755817801"></a><!-- doxytag: member="sppif0.c::Sppi0Transact" ref="9915adb6e0bc1b2fcacb735755817801" args="(CONST void *wdata, void *rdata, size_t len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Sppi0Transact           </td>
          <td>(</td>
          <td class="paramtype">CONST void *&nbsp;</td>
          <td class="paramname"> <em>wdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>rdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Exchange a specified number of bytes with the currently selected SPI device. 
<p>
It is assumed, that the serial peripheral interface has been properly initialized by calling <a class="el" href="sppif0_8h.html#9df9c45b72254cde56876a209ad807b4">Sppi0SetMode()</a> and optionally <a class="el" href="sppif0_8h.html#152eae0834820fdc252a36fcf1063a77">Sppi0SetSpeed()</a>.<p>
Further it is assumed, that the chip select (if there is one) had been enabled by a previous call to <a class="el" href="sppif0_8h.html#5bb8103a235a13e21ea207d058e6d175">Sppi0SelectDevice()</a> or <a class="el" href="sppif0_8h.html#c8842f780e9408ac2c34f0d18b27fd24">Sppi0NegSelectDevice()</a>.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>wdata</em>&nbsp;</td><td>Pointer to the data to transmit. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rdata</em>&nbsp;</td><td>Pointer to a buffer that receives the data from the device. Can be set to NULL for transmit only. May also point to the tranmit buffer, in which case the transmitted bytes are replaced by the bytes received. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="sppif0_8c-source.html#l00377">377</a> of file <a class="el" href="sppif0_8c-source.html">sppif0.c</a>.</p>

<p>References <a class="el" href="arm_8h-source.html#l00143">CONST</a>, and <a class="el" href="sppif0_8c-source.html#l00353">Sppi0Byte()</a>.</p>

</div>
</div><p>
</div>
<hr>
<address>
  <small>
    &copy;&nbsp;2000-2007 by egnite Software GmbH - 
    visit <a href="http://www.ethernut.de/">http://www.ethernut.de/</a>
  </small>
</address>
</body>
</html>
