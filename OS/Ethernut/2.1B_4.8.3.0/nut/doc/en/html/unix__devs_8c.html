<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <title>Nut/OS API</title>
    <link href="nut_en.css" rel="stylesheet" type="text/css">
    <link href="nut_entabs.css" rel="stylesheet" type="text/css">
</head>
<body>
<!-- Generated by Doxygen 1.5.8 -->
  <div class="navpath"><a class="el" href="dir_264e76a43993b4d38befcb6805fdec2d.html">arch</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_5b20284563abb99fd48bba427a81ed0c.html">unix</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_5bd57ec7e8949c99d5c9b988b9c158fc.html">dev</a>
  </div>
<div class="contents">
<h1>unix_devs.c File Reference</h1>
<p>
<a href="unix__devs_8c-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="unix__devs_8c.html#c2bcc8999a26e03d7c29b4303c2e7424">NO_STDIO_NUT_WRAPPER</a></td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="unix__devs_8c.html#dec8d50d484f253f8ac9885521008fd6">dtostre</a> (double f, char *str, <a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> prec, <a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> flags)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="unix__devs_8c.html#3583fe3c0059f4321993b5d4d22c911f">dtostrf</a> (double f, char width, char prec, char *str)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="unix__devs_8c.html#c3236846ac72cf1937471816a99bf1db">resolve</a> (char *)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="unix__devs_8c.html#6eb213f7b2f4e4b8f95708d92230bcfe">UnixDevIOCTL</a> (NUTDEVICE *dev, int req, void *conf)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Perform USART control functions.  <a href="#6eb213f7b2f4e4b8f95708d92230bcfe"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">pthread_attr_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="unix__devs_8c.html#5ca0ced72870074fb0ad3cfb6dc4b650">unix_devs_attr</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">pthread_mutex_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="unix__devs_8c.html#4d4fcc093f9742139de70d0e9d769215">unix_devs_mutex</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">pthread_cond_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="unix__devs_8c.html#6087f7cc81535b6b17f8b7984a872fed">unix_devs_cv</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">NUTDEVICE&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_nut_arch_unix.html#g9db06f47c5f96e245fb0d115c12be474">devDebug0</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Debug device 0 information structure.  <a href="group__xg_nut_arch_unix.html#g9db06f47c5f96e245fb0d115c12be474"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">NUTDEVICE&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_nut_arch_unix.html#g60fcf9977e84ea2d1e59a4b23dc15669">devDebug1</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Debug device 1 information structure.  <a href="group__xg_nut_arch_unix.html#g60fcf9977e84ea2d1e59a4b23dc15669"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">NUTDEVICE&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_uart_avr.html#gaa24387c33f6b18e2358bbbacd9e3da3">devUart0</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">uart device 0 information structure.  <a href="group__xg_uart_avr.html#gaa24387c33f6b18e2358bbbacd9e3da3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">NUTDEVICE&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_uart_avr.html#g3ef06e744b375cdd007f86d094c5f7b4">devUart1</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">uart device 1 information structure.  <a href="group__xg_uart_avr.html#g3ef06e744b375cdd007f86d094c5f7b4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">NUTDEVICE&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_nut_arch_unix.html#g2cfc142b77c7009d94bec70369881964">devUart2</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">uart device 2 information structure.  <a href="group__xg_nut_arch_unix.html#g2cfc142b77c7009d94bec70369881964"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">NUTDEVICE&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_nut_arch_unix.html#g0b3bb62f7a085af1c3f4b1a8896dc550">devUsartAvr0</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">usartavr device 0 information structure.  <a href="group__xg_nut_arch_unix.html#g0b3bb62f7a085af1c3f4b1a8896dc550"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">NUTDEVICE&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_nut_arch_unix.html#ge97dc111dbb37a73ee4faa7047469285">devUsartAvr1</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">usartavr device 1 information structure.  <a href="group__xg_nut_arch_unix.html#ge97dc111dbb37a73ee4faa7047469285"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">NUTDEVICE&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_nut_arch_unix.html#gf3cc9722ca94a5e17364c7a52a9fa40f">devUsartAvr2</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">usartavr device 2 information structure.  <a href="group__xg_nut_arch_unix.html#gf3cc9722ca94a5e17364c7a52a9fa40f"></a><br></td></tr>
</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="c2bcc8999a26e03d7c29b4303c2e7424"></a><!-- doxytag: member="unix_devs.c::NO_STDIO_NUT_WRAPPER" ref="c2bcc8999a26e03d7c29b4303c2e7424" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NO_STDIO_NUT_WRAPPER          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="unix__devs_8c-source.html#l00045">45</a> of file <a class="el" href="unix__devs_8c-source.html">unix_devs.c</a>.</p>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="dec8d50d484f253f8ac9885521008fd6"></a><!-- doxytag: member="unix_devs.c::dtostre" ref="dec8d50d484f253f8ac9885521008fd6" args="(double f, char *str, uint8_t prec, uint8_t flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * dtostre           </td>
          <td>(</td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&nbsp;</td>
          <td class="paramname"> <em>prec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="unix__devs_8c-source.html#l00115">115</a> of file <a class="el" href="unix__devs_8c-source.html">unix_devs.c</a>.</p>

<p>References <a class="el" href="icc_8h-source.html#l00138">sprintf</a>.</p>

<p>Referenced by <a class="el" href="putf_8c-source.html#l00178">_putf()</a>.</p>

</div>
</div><p>
<a class="anchor" name="3583fe3c0059f4321993b5d4d22c911f"></a><!-- doxytag: member="unix_devs.c::dtostrf" ref="3583fe3c0059f4321993b5d4d22c911f" args="(double f, char width, char prec, char *str)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * dtostrf           </td>
          <td>(</td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&nbsp;</td>
          <td class="paramname"> <em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&nbsp;</td>
          <td class="paramname"> <em>prec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>str</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="unix__devs_8c-source.html#l00121">121</a> of file <a class="el" href="unix__devs_8c-source.html">unix_devs.c</a>.</p>

<p>References <a class="el" href="icc_8h-source.html#l00138">sprintf</a>.</p>

<p>Referenced by <a class="el" href="putf_8c-source.html#l00178">_putf()</a>.</p>

</div>
</div><p>
<a class="anchor" name="c3236846ac72cf1937471816a99bf1db"></a><!-- doxytag: member="unix_devs.c::resolve" ref="c3236846ac72cf1937471816a99bf1db" args="(char *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int resolve           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>ip_addr</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="unix__devs_8c-source.html#l00268">268</a> of file <a class="el" href="unix__devs_8c-source.html">unix_devs.c</a>.</p>

<p>References <a class="el" href="inet_8c-source.html#l00131">inet_addr()</a>, and <a class="el" href="memcpy_8c-source.html#l00114">memcpy()</a>.</p>

</div>
</div><p>
<a class="anchor" name="6eb213f7b2f4e4b8f95708d92230bcfe"></a><!-- doxytag: member="unix_devs.c::UnixDevIOCTL" ref="6eb213f7b2f4e4b8f95708d92230bcfe" args="(NUTDEVICE *dev, int req, void *conf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int UnixDevIOCTL           </td>
          <td>(</td>
          <td class="paramtype">NUTDEVICE *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>conf</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Perform USART control functions. 
<p>
This function is called by the ioctl() function of the C runtime library.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dev</em>&nbsp;</td><td>Identifies the device that receives the device-control function. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>req</em>&nbsp;</td><td>Requested control function. May be set to one of the following constants:<ul>
<li><a class="el" href="group__xg_u_a_r_t_i_o_c_t_l.html#g2f1b5053775ad3be83ae499273a04de8">UART_SETSPEED</a></li><li><a class="el" href="group__xg_u_a_r_t_i_o_c_t_l.html#g9ed76ac26e95f245f8223386f710061d">UART_GETSPEED</a></li><li><a class="el" href="group__xg_u_a_r_t_i_o_c_t_l.html#g3b101264c50cf41a2e89aefe18e42df3">UART_SETDATABITS</a></li><li><a class="el" href="group__xg_u_a_r_t_i_o_c_t_l.html#gfe6cf4b5a593b2c1fc956e297813a30c">UART_GETDATABITS</a></li><li><a class="el" href="group__xg_u_a_r_t_i_o_c_t_l.html#g39c1831095f4f9b38e8df671a1e41f4a">UART_SETSTOPBITS</a></li><li><a class="el" href="group__xg_u_a_r_t_i_o_c_t_l.html#g005fc980830939bafd142fd13a5b74b2">UART_GETSTOPBITS</a></li><li><a class="el" href="group__xg_u_a_r_t_i_o_c_t_l.html#g00ef3904a6652a110b555edd6ddf3af2">UART_SETPARITY</a></li><li><a class="el" href="group__xg_u_a_r_t_i_o_c_t_l.html#ge6ddb681c72800f37ea467de28dd283a">UART_GETPARITY</a></li><li><a class="el" href="group__xg_u_a_r_t_i_o_c_t_l.html#ge31b52d0c12234585c9a7b7c440f4c48">UART_SETFLOWCONTROL</a></li><li><a class="el" href="group__xg_u_a_r_t_i_o_c_t_l.html#gc561029505ca3b4762e9b0966c720b98">UART_GETFLOWCONTROL</a><ul>
<li><a class="el" href="group__xg_u_a_r_t_i_o_c_t_l.html#g15ec1aa6c0d3afe1cf088e0c2a846d36">UART_SETBLOCKREAD</a></li><li><a class="el" href="group__xg_u_a_r_t_i_o_c_t_l.html#gda8eaae939aeb34d603f764770283266">UART_GETBLOCKREAD</a></li><li><a class="el" href="group__xg_u_a_r_t_i_o_c_t_l.html#g37df12e471e2f27d27ae6020cce26962">UART_SETSTATUS</a></li><li><a class="el" href="group__xg_u_a_r_t_i_o_c_t_l.html#g8efe4a75d8f44ee62aba6ccd05d760e2">UART_GETSTATUS</a> </li></ul>
</li></ul>
</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>conf</em>&nbsp;</td><td>Points to a buffer that contains any data required for the given control function or receives data from that function. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 on success, -1 otherwise.</dd></dl>
<dl class="warning" compact><dt><b>Warning:</b></dt><dd>Timeout values are given in milliseconds and are limited to the granularity of the system timer. To disable timeout, set the parameter to NUT_WAIT_INFINITE. </dd></dl>

<p>Definition at line <a class="el" href="unix__devs_8c-source.html#l00781">781</a> of file <a class="el" href="unix__devs_8c-source.html">unix_devs.c</a>.</p>

<p>References <a class="el" href="errno_8c-source.html#l00042">errno</a>, <a class="el" href="icc_8h-source.html#l00136">printf</a>, <a class="el" href="dev_2uart_8h-source.html#l00356">UART_GETBLOCKREAD</a>, <a class="el" href="dev_2uart_8h-source.html#l00130">UART_GETDATABITS</a>, <a class="el" href="dev_2uart_8h-source.html#l00222">UART_GETFLOWCONTROL</a>, <a class="el" href="dev_2uart_8h-source.html#l00144">UART_GETPARITY</a>, <a class="el" href="dev_2uart_8h-source.html#l00116">UART_GETSPEED</a>, <a class="el" href="dev_2uart_8h-source.html#l00168">UART_GETSTATUS</a>, <a class="el" href="dev_2uart_8h-source.html#l00156">UART_GETSTOPBITS</a>, <a class="el" href="dev_2uart_8h-source.html#l00504">UART_HS_MODEM</a>, <a class="el" href="dev_2uart_8h-source.html#l00498">UART_HS_RTSCTS</a>, <a class="el" href="dev_2uart_8h-source.html#l00513">UART_HS_SOFT</a>, <a class="el" href="dev_2uart_8h-source.html#l00350">UART_SETBLOCKREAD</a>, <a class="el" href="dev_2uart_8h-source.html#l00229">UART_SETCOOKEDMODE</a>, <a class="el" href="dev_2uart_8h-source.html#l00123">UART_SETDATABITS</a>, <a class="el" href="dev_2uart_8h-source.html#l00216">UART_SETFLOWCONTROL</a>, <a class="el" href="dev_2uart_8h-source.html#l00137">UART_SETPARITY</a>, <a class="el" href="dev_2uart_8h-source.html#l00338">UART_SETRXBUFHWMARK</a>, <a class="el" href="dev_2uart_8h-source.html#l00326">UART_SETRXBUFLWMARK</a>, <a class="el" href="dev_2uart_8h-source.html#l00290">UART_SETRXBUFSIZ</a>, <a class="el" href="dev_2uart_8h-source.html#l00109">UART_SETSPEED</a>, <a class="el" href="dev_2uart_8h-source.html#l00162">UART_SETSTATUS</a>, <a class="el" href="dev_2uart_8h-source.html#l00150">UART_SETSTOPBITS</a>, <a class="el" href="dev_2uart_8h-source.html#l00314">UART_SETTXBUFHWMARK</a>, <a class="el" href="dev_2uart_8h-source.html#l00302">UART_SETTXBUFLWMARK</a>, <a class="el" href="dev_2uart_8h-source.html#l00278">UART_SETTXBUFSIZ</a>, and <a class="el" href="usart_8h-source.html#l00257">USART_MF_BLOCKREAD</a>.</p>

</div>
</div><p>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="5ca0ced72870074fb0ad3cfb6dc4b650"></a><!-- doxytag: member="unix_devs.c::unix_devs_attr" ref="5ca0ced72870074fb0ad3cfb6dc4b650" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pthread_attr_t <a class="el" href="unix__devs_8c.html#5ca0ced72870074fb0ad3cfb6dc4b650">unix_devs_attr</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="unix__devs_8c-source.html#l00102">102</a> of file <a class="el" href="unix__devs_8c-source.html">unix_devs.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="4d4fcc093f9742139de70d0e9d769215"></a><!-- doxytag: member="unix_devs.c::unix_devs_mutex" ref="4d4fcc093f9742139de70d0e9d769215" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pthread_mutex_t <a class="el" href="unix__devs_8c.html#4d4fcc093f9742139de70d0e9d769215">unix_devs_mutex</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="unix__devs_8c-source.html#l00105">105</a> of file <a class="el" href="unix__devs_8c-source.html">unix_devs.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="6087f7cc81535b6b17f8b7984a872fed"></a><!-- doxytag: member="unix_devs.c::unix_devs_cv" ref="6087f7cc81535b6b17f8b7984a872fed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pthread_cond_t <a class="el" href="unix__devs_8c.html#6087f7cc81535b6b17f8b7984a872fed">unix_devs_cv</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="unix__devs_8c-source.html#l00108">108</a> of file <a class="el" href="unix__devs_8c-source.html">unix_devs.c</a>.</p>

</div>
</div><p>
</div>
<hr>
<address>
  <small>
    &copy;&nbsp;2000-2007 by egnite Software GmbH - 
    visit <a href="http://www.ethernut.de/">http://www.ethernut.de/</a>
  </small>
</address>
</body>
</html>
