<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <title>Nut/OS API</title>
    <link href="nut_en.css" rel="stylesheet" type="text/css">
    <link href="nut_entabs.css" rel="stylesheet" type="text/css">
</head>
<body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="contents">
<h1>PHAT File System<br>
<small>
[<a class="el" href="group__xg_file_system.html">File System API.</a>]</small>
</h1>FAT12/16/32 compatible file system.  
<a href="#_details">More...</a>
<p>

<p>
<div class="dynheader">
Collaboration diagram for PHAT File System:</div>
<div class="dynsection">
<center><table><tr><td><img src="group__xg_phat_fs.png" border="0" alt="" usemap="#group____xg__phat__fs_map">
<map name="group____xg__phat__fs_map">
<area shape="rect" href="group__xg_file_system.html" title="File System API." alt="File System API." coords="19,164,128,186"><area shape="rect" href="group__xg_phat32.html" title="PHAT32 specific routines." alt="PHAT32 Support" coords="372,6,481,27"><area shape="rect" href="group__xg_phat12.html" title="PHAT12 specific routines." alt="PHAT12 Support" coords="372,51,481,72"><area shape="rect" href="group__xg_phat16.html" title="PHAT16 specific routines." alt="PHAT16 Support" coords="372,96,481,118"><area shape="rect" href="group__xg_phat_dbg.html" title="Listing various PHAT structures." alt="PHAT Debugging Support" coords="347,142,507,163"><area shape="rect" href="group__xg_phat_dir.html" title="Routines for reading and writing directories." alt="Directory Support" coords="371,187,483,208"><area shape="rect" href="group__xg_phat_io.html" title="Reading and writing data blocks." alt="PHAT Block I/O" coords="375,232,479,254"><area shape="rect" href="group__xg_phat_util.html" title="General utility routines used by the PHAT file system." alt="PHAT Utilities" coords="380,278,473,299"><area shape="rect" href="group__xg_phat_vol.html" title="Dealing with volumes." alt="Volume Support" coords="375,323,479,344"></map></td></tr></table></center>
</div>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_p_h_a_t_f_i_l_e.html">PHATFILE</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">PHAT file descriptor structure.  <a href="struct_p_h_a_t_f_i_l_e.html#_details">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Modules</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_phat_vol.html">Volume Support</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Dealing with volumes. <br></td></tr>

<p>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_phat_dir.html">Directory Support</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Routines for reading and writing directories. <br></td></tr>

<p>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_phat12.html">PHAT12 Support</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">PHAT12 specific routines. <br></td></tr>

<p>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_phat16.html">PHAT16 Support</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">PHAT16 specific routines. <br></td></tr>

<p>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_phat32.html">PHAT32 Support</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">PHAT32 specific routines. <br></td></tr>

<p>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_phat_io.html">PHAT Block I/O</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reading and writing data blocks. <br></td></tr>

<p>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_phat_util.html">PHAT Utilities</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">General utility routines used by the PHAT file system. <br></td></tr>

<p>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_phat_dbg.html">PHAT Debugging Support</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Listing various PHAT structures. <br></td></tr>

<p>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_phat_fs.html#g25b6c412d5482f0aff7754c079df185d">PHATEOC</a>&nbsp;&nbsp;&nbsp;0x0FFFFFF8</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Marks end of cluster chain.  <a href="#g25b6c412d5482f0aff7754c079df185d"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="stdint_8h.html#06896e8c53f721507066c079052171f8">uint32_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_phat_fs.html#g5c475eac7203c35965ad03a7e672e002">AllocFirstCluster</a> (NUTFILE *nfp)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Allocate the first cluster of a file.  <a href="#g5c475eac7203c35965ad03a7e672e002"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_phat_fs.html#g8d1fd9e79e3bb572e6d44877473f3143">PhatFileClose</a> (NUTFILE *nfp)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Close a file.  <a href="#g8d1fd9e79e3bb572e6d44877473f3143"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">NUTFILE *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_phat_fs.html#ga464e4dad8c05b0248d32c11488e9342">PhatFileOpen</a> (NUTDEVICE *dev, CONST char *path, int mode, int acc)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Open a file.  <a href="#ga464e4dad8c05b0248d32c11488e9342"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_phat_fs.html#g120618f0cddfec33499e65550565500c">PhatFileWrite</a> (NUTFILE *nfp, CONST void *buffer, int len)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write data to a file.  <a href="#g120618f0cddfec33499e65550565500c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_phat_fs.html#ga4d2121428f1da064866a3b5dca3e238">PhatFileWrite_P</a> (NUTFILE *nfp, PGM_P buffer, int len)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write data from program space to a file.  <a href="#ga4d2121428f1da064866a3b5dca3e238"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_phat_fs.html#g8ca25466d168febccd7d82c6d6412281">PhatFileRead</a> (NUTFILE *nfp, void *buffer, int size)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read data from a file.  <a href="#g8ca25466d168febccd7d82c6d6412281"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">NUTDEVICE&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_phat_fs.html#g2049200e29f318ae4777923de4afcabe">devPhat0</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">PHAT file system driver information structure.  <a href="#g2049200e29f318ae4777923de4afcabe"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">NUTDEVICE&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_phat_fs.html#ga1a76de168bd10e43f19f40c0aa5773b">devPhat1</a></td></tr>

<tr><td colspan="2"><br><h2>File attributes.</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_phat_fs.html#g82e08def5724e129b9b5442be5bd6c0e">PHAT_FATTR_RDONLY</a>&nbsp;&nbsp;&nbsp;0x01</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_phat_fs.html#ga54c9a9b831894803293bc93ed1a0f8f">PHAT_FATTR_HIDDEN</a>&nbsp;&nbsp;&nbsp;0x02</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_phat_fs.html#gbe3347f62955ab9f0334e562473590ff">PHAT_FATTR_SYSTEM</a>&nbsp;&nbsp;&nbsp;0x04</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_phat_fs.html#g3184332097dd301d8308d8a505ecae32">PHAT_FATTR_VOLID</a>&nbsp;&nbsp;&nbsp;0x08</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_phat_fs.html#g21f87cae5e2116503bf4468583ded14d">PHAT_FATTR_DIR</a>&nbsp;&nbsp;&nbsp;0x10</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_phat_fs.html#gb546493ca6ddfd1ead0d296c38fd4701">PHAT_FATTR_ARCHIV</a>&nbsp;&nbsp;&nbsp;0x20</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_phat_fs.html#g4810a4182f7086ca462240dc8d2f080e">PHAT_FATTR_LFN</a>&nbsp;&nbsp;&nbsp;(PHAT_FATTR_RDONLY | PHAT_FATTR_HIDDEN | PHAT_FATTR_SYSTEM | PHAT_FATTR_VOLID)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_phat_fs.html#ge68316b37a26a8da9f9035d9b9ba57bc">PHAT_FATTR_FILEMASK</a>&nbsp;&nbsp;&nbsp;0x37</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
FAT12/16/32 compatible file system. 
<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>This is alpha code and may contain severe bugs. </dd></dl>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="g25b6c412d5482f0aff7754c079df185d"></a><!-- doxytag: member="phatfs.h::PHATEOC" ref="g25b6c412d5482f0aff7754c079df185d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PHATEOC&nbsp;&nbsp;&nbsp;0x0FFFFFF8          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Marks end of cluster chain. 
<p>

<p>Definition at line <a class="el" href="phatfs_8h-source.html#l00123">123</a> of file <a class="el" href="phatfs_8h-source.html">phatfs.h</a>.</p>

<p>Referenced by <a class="el" href="phat12_8c-source.html#l00100">Phat12GetClusterLink()</a>, <a class="el" href="phat12_8c-source.html#l00209">Phat12ReleaseChain()</a>, <a class="el" href="phat16_8c-source.html#l00103">Phat16GetClusterLink()</a>, <a class="el" href="phat16_8c-source.html#l00165">Phat16ReleaseChain()</a>, <a class="el" href="phat32_8c-source.html#l00103">Phat32GetClusterLink()</a>, <a class="el" href="phat32_8c-source.html#l00170">Phat32ReleaseChain()</a>, <a class="el" href="phatutil_8c-source.html#l00329">PhatFilePosSet()</a>, <a class="el" href="phatfs_8c-source.html#l00723">PhatFileRead()</a>, and <a class="el" href="phatfs_8c-source.html#l00538">PhatFileWrite()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g82e08def5724e129b9b5442be5bd6c0e"></a><!-- doxytag: member="phatfs.h::PHAT_FATTR_RDONLY" ref="g82e08def5724e129b9b5442be5bd6c0e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PHAT_FATTR_RDONLY&nbsp;&nbsp;&nbsp;0x01          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read only file. 
<p>Definition at line <a class="el" href="phatfs_8h-source.html#l00131">131</a> of file <a class="el" href="phatfs_8h-source.html">phatfs.h</a>.</p>

<p>Referenced by <a class="el" href="phatdbg_8c-source.html#l00068">PhatDbgAttrList()</a>, <a class="el" href="phatdir_8c-source.html#l00747">PhatDirReleaseChain()</a>, and <a class="el" href="phatfs_8c-source.html#l00538">PhatFileWrite()</a>.</p>

</div>
</div><p>
<a class="anchor" name="ga54c9a9b831894803293bc93ed1a0f8f"></a><!-- doxytag: member="phatfs.h::PHAT_FATTR_HIDDEN" ref="ga54c9a9b831894803293bc93ed1a0f8f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PHAT_FATTR_HIDDEN&nbsp;&nbsp;&nbsp;0x02          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Hidden file. 
<p>Definition at line <a class="el" href="phatfs_8h-source.html#l00133">133</a> of file <a class="el" href="phatfs_8h-source.html">phatfs.h</a>.</p>

<p>Referenced by <a class="el" href="phatdbg_8c-source.html#l00068">PhatDbgAttrList()</a>.</p>

</div>
</div><p>
<a class="anchor" name="gbe3347f62955ab9f0334e562473590ff"></a><!-- doxytag: member="phatfs.h::PHAT_FATTR_SYSTEM" ref="gbe3347f62955ab9f0334e562473590ff" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PHAT_FATTR_SYSTEM&nbsp;&nbsp;&nbsp;0x04          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
System file. 
<p>Definition at line <a class="el" href="phatfs_8h-source.html#l00135">135</a> of file <a class="el" href="phatfs_8h-source.html">phatfs.h</a>.</p>

<p>Referenced by <a class="el" href="phatdbg_8c-source.html#l00068">PhatDbgAttrList()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g3184332097dd301d8308d8a505ecae32"></a><!-- doxytag: member="phatfs.h::PHAT_FATTR_VOLID" ref="g3184332097dd301d8308d8a505ecae32" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PHAT_FATTR_VOLID&nbsp;&nbsp;&nbsp;0x08          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
No file, but a volume label. 
<p>Definition at line <a class="el" href="phatfs_8h-source.html#l00137">137</a> of file <a class="el" href="phatfs_8h-source.html">phatfs.h</a>.</p>

<p>Referenced by <a class="el" href="phatdbg_8c-source.html#l00068">PhatDbgAttrList()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g21f87cae5e2116503bf4468583ded14d"></a><!-- doxytag: member="phatfs.h::PHAT_FATTR_DIR" ref="g21f87cae5e2116503bf4468583ded14d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PHAT_FATTR_DIR&nbsp;&nbsp;&nbsp;0x10          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
File contains a subdirectory. 
<p>Definition at line <a class="el" href="phatfs_8h-source.html#l00139">139</a> of file <a class="el" href="phatfs_8h-source.html">phatfs.h</a>.</p>

<p>Referenced by <a class="el" href="phatdbg_8c-source.html#l00068">PhatDbgAttrList()</a>, <a class="el" href="phatdir_8c-source.html#l00997">PhatDirCreate()</a>, <a class="el" href="phatdir_8c-source.html#l01155">PhatDirEntryStatus()</a>, <a class="el" href="phatdir_8c-source.html#l00825">PhatDirOpen()</a>, <a class="el" href="phatdir_8c-source.html#l00958">PhatDirRead()</a>, <a class="el" href="phatdir_8c-source.html#l01084">PhatDirRemove()</a>, <a class="el" href="phatutil_8c-source.html#l00329">PhatFilePosSet()</a>, <a class="el" href="phatfs_8c-source.html#l00723">PhatFileRead()</a>, and <a class="el" href="phatfs_8c-source.html#l00538">PhatFileWrite()</a>.</p>

</div>
</div><p>
<a class="anchor" name="gb546493ca6ddfd1ead0d296c38fd4701"></a><!-- doxytag: member="phatfs.h::PHAT_FATTR_ARCHIV" ref="gb546493ca6ddfd1ead0d296c38fd4701" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PHAT_FATTR_ARCHIV&nbsp;&nbsp;&nbsp;0x20          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
File is not archived. This flag will be set when the file is created or modified. 
<p>Definition at line <a class="el" href="phatfs_8h-source.html#l00143">143</a> of file <a class="el" href="phatfs_8h-source.html">phatfs.h</a>.</p>

<p>Referenced by <a class="el" href="phatdbg_8c-source.html#l00068">PhatDbgAttrList()</a>, and <a class="el" href="phatfs_8c-source.html#l00538">PhatFileWrite()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g4810a4182f7086ca462240dc8d2f080e"></a><!-- doxytag: member="phatfs.h::PHAT_FATTR_LFN" ref="g4810a4182f7086ca462240dc8d2f080e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PHAT_FATTR_LFN&nbsp;&nbsp;&nbsp;(PHAT_FATTR_RDONLY | PHAT_FATTR_HIDDEN | PHAT_FATTR_SYSTEM | PHAT_FATTR_VOLID)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Long filename entry. 
<p>Definition at line <a class="el" href="phatfs_8h-source.html#l00146">146</a> of file <a class="el" href="phatfs_8h-source.html">phatfs.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="ge68316b37a26a8da9f9035d9b9ba57bc"></a><!-- doxytag: member="phatfs.h::PHAT_FATTR_FILEMASK" ref="ge68316b37a26a8da9f9035d9b9ba57bc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PHAT_FATTR_FILEMASK&nbsp;&nbsp;&nbsp;0x37          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Only these flags are allowed for files and directories. 
<p>Definition at line <a class="el" href="phatfs_8h-source.html#l00149">149</a> of file <a class="el" href="phatfs_8h-source.html">phatfs.h</a>.</p>

<p>Referenced by <a class="el" href="phatdir_8c-source.html#l01155">PhatDirEntryStatus()</a>, <a class="el" href="phatdir_8c-source.html#l00825">PhatDirOpen()</a>, <a class="el" href="phatdir_8c-source.html#l01084">PhatDirRemove()</a>, <a class="el" href="phatdir_8c-source.html#l00700">PhatDirRenameEntry()</a>, and <a class="el" href="phatfs_8c-source.html#l00372">PhatFileOpen()</a>.</p>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="g5c475eac7203c35965ad03a7e672e002"></a><!-- doxytag: member="phatfs.c::AllocFirstCluster" ref="g5c475eac7203c35965ad03a7e672e002" args="(NUTFILE *nfp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdint_8h.html#06896e8c53f721507066c079052171f8">uint32_t</a> AllocFirstCluster           </td>
          <td>(</td>
          <td class="paramtype">NUTFILE *&nbsp;</td>
          <td class="paramname"> <em>nfp</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Allocate the first cluster of a file. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>nfp</em>&nbsp;</td><td>The file for which a cluster is allocated.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Number of the allocated cluster, which is not lower than 2. Any value lower than 2 indicates an error. </dd></dl>

<p>Definition at line <a class="el" href="phatfs_8c-source.html#l00224">224</a> of file <a class="el" href="phatfs_8c-source.html">phatfs.c</a>.</p>

<p>References <a class="el" href="phat12_8h-source.html#l00058">PHAT12CMASK</a>, <a class="el" href="phat12_8c-source.html#l00146">Phat12SetClusterLink()</a>, <a class="el" href="phat16_8h-source.html#l00058">PHAT16CMASK</a>, <a class="el" href="phat16_8c-source.html#l00137">Phat16SetClusterLink()</a>, <a class="el" href="phat32_8h-source.html#l00058">PHAT32CMASK</a>, <a class="el" href="phat32_8c-source.html#l00138">Phat32SetClusterLink()</a>, <a class="el" href="phatvol_8h-source.html#l00198">PHATVOL::vol_numfree</a>, and <a class="el" href="phatvol_8h-source.html#l00196">PHATVOL::vol_type</a>.</p>

<p>Referenced by <a class="el" href="phatdir_8c-source.html#l00997">PhatDirCreate()</a>, and <a class="el" href="phatfs_8c-source.html#l00538">PhatFileWrite()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g8d1fd9e79e3bb572e6d44877473f3143"></a><!-- doxytag: member="phatfs.c::PhatFileClose" ref="g8d1fd9e79e3bb572e6d44877473f3143" args="(NUTFILE *nfp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PhatFileClose           </td>
          <td>(</td>
          <td class="paramtype">NUTFILE *&nbsp;</td>
          <td class="paramname"> <em>nfp</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Close a file. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>nfp</em>&nbsp;</td><td>File descriptor.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 on success, -1 otherwise. </dd></dl>

<p>Definition at line <a class="el" href="phatfs_8c-source.html#l00336">336</a> of file <a class="el" href="phatfs_8c-source.html">phatfs.c</a>.</p>

<p>References <a class="el" href="errno_8h-source.html#l00061">EBADF</a>, <a class="el" href="errno_8c-source.html#l00042">errno</a>, <a class="el" href="icc_8h-source.html#l00145">free</a>, <a class="el" href="file_8h-source.html#l00088">NUTFILE_EOF</a>, <a class="el" href="phatdbg_8c-source.html#l00102">PhatDbgFileInfo()</a>, and <a class="el" href="stdio_8h-source.html#l00123">stdout</a>.</p>

<p>Referenced by <a class="el" href="phatdir_8c-source.html#l00997">PhatDirCreate()</a>, <a class="el" href="phatdir_8c-source.html#l00791">PhatDirDelEntry()</a>, <a class="el" href="phatdir_8c-source.html#l01155">PhatDirEntryStatus()</a>, <a class="el" href="phatdir_8c-source.html#l01084">PhatDirRemove()</a>, <a class="el" href="phatdir_8c-source.html#l00700">PhatDirRenameEntry()</a>, and <a class="el" href="phatfs_8c-source.html#l00372">PhatFileOpen()</a>.</p>

</div>
</div><p>
<a class="anchor" name="ga464e4dad8c05b0248d32c11488e9342"></a><!-- doxytag: member="phatfs.c::PhatFileOpen" ref="ga464e4dad8c05b0248d32c11488e9342" args="(NUTDEVICE *dev, CONST char *path, int mode, int acc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NUTFILE* PhatFileOpen           </td>
          <td>(</td>
          <td class="paramtype">NUTDEVICE *&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CONST char *&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>acc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Open a file. 
<p>
This function is called by the low level open routine of the C runtime library, using the <a class="el" href="struct___n_u_t_d_e_v_i_c_e.html#dcb423014f04b6ff69e5102291605adf" title="Open a device or file.">_NUTDEVICE::dev_open</a> entry.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dev</em>&nbsp;</td><td>Specifies the file system device. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>Pathname of the file to open. If the last character is a slash, then a directory will be opened. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mode</em>&nbsp;</td><td>Operation mode. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>acc</em>&nbsp;</td><td>File attribute.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Pointer to a NUTFILE structure if successful or NUTFILE_EOF otherwise.</dd></dl>
<dl compact><dt><b><a class="el" href="bug.html#_bug000007">Bug:</a></b></dt><dd>Append mode not working as expected. </dd></dl>

<p>Definition at line <a class="el" href="phatfs_8c-source.html#l00372">372</a> of file <a class="el" href="phatfs_8c-source.html">phatfs.c</a>.</p>

<p>References <a class="el" href="fcntl_8h-source.html#l00079">_O_APPEND</a>, <a class="el" href="fcntl_8h-source.html#l00080">_O_CREAT</a>, <a class="el" href="fcntl_8h-source.html#l00082">_O_EXCL</a>, <a class="el" href="fcntl_8h-source.html#l00081">_O_TRUNC</a>, <a class="el" href="arm_8h-source.html#l00143">CONST</a>, <a class="el" href="phatdir_8h-source.html#l00096">PHATDIRENT::dent_attr</a>, <a class="el" href="phatdir_8h-source.html#l00104">PHATDIRENT::dent_cdate</a>, <a class="el" href="phatdir_8h-source.html#l00124">PHATDIRENT::dent_clust</a>, <a class="el" href="phatdir_8h-source.html#l00115">PHATDIRENT::dent_clusthi</a>, <a class="el" href="phatdir_8h-source.html#l00102">PHATDIRENT::dent_ctime</a>, <a class="el" href="phatdir_8h-source.html#l00100">PHATDIRENT::dent_ctsecs</a>, <a class="el" href="phatdir_8h-source.html#l00129">PHATDIRENT::dent_fsize</a>, <a class="el" href="phatdir_8h-source.html#l00091">PHATDIRENT::dent_name</a>, <a class="el" href="phatdir_8h-source.html#l00098">PHATDIRENT::dent_rsvdnt</a>, <a class="el" href="errno_8h-source.html#l00070">EEXIST</a>, <a class="el" href="errno_8h-source.html#l00054">ENOENT</a>, <a class="el" href="errno_8c-source.html#l00042">errno</a>, <a class="el" href="phatfs_8h-source.html#l00092">PHATFILE::f_clust</a>, <a class="el" href="phatfs_8h-source.html#l00094">PHATFILE::f_clust_pos</a>, <a class="el" href="phatfs_8h-source.html#l00112">PHATFILE::f_de_dirty</a>, <a class="el" href="phatfs_8h-source.html#l00110">PHATFILE::f_de_offs</a>, <a class="el" href="phatfs_8h-source.html#l00108">PHATFILE::f_de_sect</a>, <a class="el" href="phatfs_8h-source.html#l00102">PHATFILE::f_dirent</a>, <a class="el" href="phatfs_8h-source.html#l00100">PHATFILE::f_mode</a>, <a class="el" href="phatfs_8h-source.html#l00117">PHATFILE::f_pde_clust</a>, <a class="el" href="phatfs_8h-source.html#l00119">PHATFILE::f_pde_clusthi</a>, <a class="el" href="phatfs_8h-source.html#l00096">PHATFILE::f_sect_pos</a>, <a class="el" href="icc_8h-source.html#l00145">free</a>, <a class="el" href="icc_8h-source.html#l00142">malloc</a>, <a class="el" href="memcpy_8c-source.html#l00114">memcpy()</a>, <a class="el" href="memset_8c-source.html#l00088">memset()</a>, <a class="el" href="file_8h-source.html#l00088">NUTFILE_EOF</a>, <a class="el" href="phatfs_8h-source.html#l00149">PHAT_FATTR_FILEMASK</a>, <a class="el" href="phatvol_8c-source.html#l00397">PhatClusterSector()</a>, <a class="el" href="phatdbg_8c-source.html#l00102">PhatDbgFileInfo()</a>, <a class="el" href="phatdir_8c-source.html#l00475">PhatDirEntryCreate()</a>, <a class="el" href="phatdir_8c-source.html#l00638">PhatDirEntryFind()</a>, <a class="el" href="phatdir_8c-source.html#l00679">PhatDirOpenParent()</a>, <a class="el" href="phatdir_8c-source.html#l00747">PhatDirReleaseChain()</a>, <a class="el" href="phatfs_8c-source.html#l00336">PhatFileClose()</a>, <a class="el" href="phatutil_8c-source.html#l00329">PhatFilePosSet()</a>, <a class="el" href="phatdir_8h-source.html#l00157">PHATFIND::phfind_ent</a>, and <a class="el" href="stdio_8h-source.html#l00123">stdout</a>.</p>

<p>Referenced by <a class="el" href="phatdir_8c-source.html#l00997">PhatDirCreate()</a>, and <a class="el" href="phatdir_8c-source.html#l01084">PhatDirRemove()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g120618f0cddfec33499e65550565500c"></a><!-- doxytag: member="phatfs.c::PhatFileWrite" ref="g120618f0cddfec33499e65550565500c" args="(NUTFILE *nfp, CONST void *buffer, int len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PhatFileWrite           </td>
          <td>(</td>
          <td class="paramtype">NUTFILE *&nbsp;</td>
          <td class="paramname"> <em>nfp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CONST void *&nbsp;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Write data to a file. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>nfp</em>&nbsp;</td><td>Pointer to a NUTFILE structure, obtained by a previous call to PnutFileOpen(). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buffer</em>&nbsp;</td><td>Pointer to the data to be written. If zero, then the output buffer will be flushed. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>len</em>&nbsp;</td><td>Number of bytes to write.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The number of bytes written. A return value of -1 indicates an error. </dd></dl>

<p>Definition at line <a class="el" href="phatfs_8c-source.html#l00538">538</a> of file <a class="el" href="phatfs_8c-source.html">phatfs.c</a>.</p>

<p>References <a class="el" href="phatfs_8c-source.html#l00224">AllocFirstCluster()</a>, <a class="el" href="phatdir_8h-source.html#l00106">PHATDIRENT::dent_adate</a>, <a class="el" href="phatdir_8h-source.html#l00096">PHATDIRENT::dent_attr</a>, <a class="el" href="phatdir_8h-source.html#l00129">PHATDIRENT::dent_fsize</a>, <a class="el" href="phatdir_8h-source.html#l00119">PHATDIRENT::dent_mdate</a>, <a class="el" href="phatdir_8h-source.html#l00117">PHATDIRENT::dent_mtime</a>, <a class="el" href="errno_8h-source.html#l00066">EACCES</a>, <a class="el" href="errno_8h-source.html#l00081">ENOSPC</a>, <a class="el" href="errno_8c-source.html#l00042">errno</a>, <a class="el" href="phatfs_8h-source.html#l00092">PHATFILE::f_clust</a>, <a class="el" href="phatfs_8h-source.html#l00094">PHATFILE::f_clust_pos</a>, <a class="el" href="phatfs_8h-source.html#l00098">PHATFILE::f_clust_prv</a>, <a class="el" href="phatfs_8h-source.html#l00112">PHATFILE::f_de_dirty</a>, <a class="el" href="phatfs_8h-source.html#l00102">PHATFILE::f_dirent</a>, <a class="el" href="phatfs_8h-source.html#l00090">PHATFILE::f_pos</a>, <a class="el" href="phatfs_8h-source.html#l00096">PHATFILE::f_sect_pos</a>, <a class="el" href="phatutil_8c-source.html#l00102">GetDosTimeStamp()</a>, <a class="el" href="phatutil_8c-source.html#l00280">IsFixedRootDir()</a>, <a class="el" href="memcpy_8c-source.html#l00114">memcpy()</a>, <a class="el" href="phat12_8h-source.html#l00058">PHAT12CMASK</a>, <a class="el" href="phat12_8c-source.html#l00100">Phat12GetClusterLink()</a>, <a class="el" href="phat16_8h-source.html#l00058">PHAT16CMASK</a>, <a class="el" href="phat16_8c-source.html#l00103">Phat16GetClusterLink()</a>, <a class="el" href="phat32_8h-source.html#l00058">PHAT32CMASK</a>, <a class="el" href="phat32_8c-source.html#l00103">Phat32GetClusterLink()</a>, <a class="el" href="phatfs_8h-source.html#l00143">PHAT_FATTR_ARCHIV</a>, <a class="el" href="phatfs_8h-source.html#l00139">PHAT_FATTR_DIR</a>, <a class="el" href="phatfs_8h-source.html#l00131">PHAT_FATTR_RDONLY</a>, <a class="el" href="phatvol_8c-source.html#l00397">PhatClusterSector()</a>, <a class="el" href="phatfs_8h-source.html#l00123">PHATEOC</a>, <a class="el" href="phatio_8c-source.html#l00169">PhatSectorLoad()</a>, <a class="el" href="phatvol_8h-source.html#l00181">PHATSECTBUF::sect_data</a>, <a class="el" href="phatvol_8h-source.html#l00185">PHATSECTBUF::sect_dirty</a>, <a class="el" href="phatvol_8h-source.html#l00207">PHATVOL::vol_buf</a>, <a class="el" href="phatvol_8h-source.html#l00216">PHATVOL::vol_clustsz</a>, <a class="el" href="phatvol_8h-source.html#l00198">PHATVOL::vol_numfree</a>, <a class="el" href="phatvol_8h-source.html#l00227">PHATVOL::vol_rootsz</a>, <a class="el" href="phatvol_8h-source.html#l00214">PHATVOL::vol_sectsz</a>, and <a class="el" href="phatvol_8h-source.html#l00196">PHATVOL::vol_type</a>.</p>

<p>Referenced by <a class="el" href="phatdir_8c-source.html#l00997">PhatDirCreate()</a>.</p>

</div>
</div><p>
<a class="anchor" name="ga4d2121428f1da064866a3b5dca3e238"></a><!-- doxytag: member="phatfs.c::PhatFileWrite_P" ref="ga4d2121428f1da064866a3b5dca3e238" args="(NUTFILE *nfp, PGM_P buffer, int len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PhatFileWrite_P           </td>
          <td>(</td>
          <td class="paramtype">NUTFILE *&nbsp;</td>
          <td class="paramname"> <em>nfp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PGM_P&nbsp;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Write data from program space to a file. 
<p>
This function is not yet implemented and will always return -1.<p>
Similar to <a class="el" href="group__xg_phat_fs.html#g120618f0cddfec33499e65550565500c" title="Write data to a file.">PhatFileWrite()</a> except that the data is located in program memory.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>nfp</em>&nbsp;</td><td>Pointer to a NUTFILE structure, obtained by a previous call to PnutFileOpen(). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buffer</em>&nbsp;</td><td>Pointer to the data in program space. If zero, then the output buffer will be flushed. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>len</em>&nbsp;</td><td>Number of bytes to write.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The number of bytes written. A return value of -1 indicates an error. </dd></dl>

<p>Definition at line <a class="el" href="phatfs_8c-source.html#l00706">706</a> of file <a class="el" href="phatfs_8c-source.html">phatfs.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="g8ca25466d168febccd7d82c6d6412281"></a><!-- doxytag: member="phatfs.c::PhatFileRead" ref="g8ca25466d168febccd7d82c6d6412281" args="(NUTFILE *nfp, void *buffer, int size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PhatFileRead           </td>
          <td>(</td>
          <td class="paramtype">NUTFILE *&nbsp;</td>
          <td class="paramname"> <em>nfp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read data from a file. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>nfp</em>&nbsp;</td><td>Pointer to a NUTFILE structure, obtained by a previous call to PnutFileOpen(). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buffer</em>&nbsp;</td><td>Pointer to the data buffer to fill. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>Maximum number of bytes to read.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The number of bytes actually read. A return value of -1 indicates an error. </dd></dl>

<p>Definition at line <a class="el" href="phatfs_8c-source.html#l00723">723</a> of file <a class="el" href="phatfs_8c-source.html">phatfs.c</a>.</p>

<p>References <a class="el" href="phatdir_8h-source.html#l00096">PHATDIRENT::dent_attr</a>, <a class="el" href="phatdir_8h-source.html#l00129">PHATDIRENT::dent_fsize</a>, <a class="el" href="phatfs_8h-source.html#l00092">PHATFILE::f_clust</a>, <a class="el" href="phatfs_8h-source.html#l00094">PHATFILE::f_clust_pos</a>, <a class="el" href="phatfs_8h-source.html#l00098">PHATFILE::f_clust_prv</a>, <a class="el" href="phatfs_8h-source.html#l00102">PHATFILE::f_dirent</a>, <a class="el" href="phatfs_8h-source.html#l00090">PHATFILE::f_pos</a>, <a class="el" href="phatfs_8h-source.html#l00096">PHATFILE::f_sect_pos</a>, <a class="el" href="phatutil_8c-source.html#l00280">IsFixedRootDir()</a>, <a class="el" href="memcpy_8c-source.html#l00114">memcpy()</a>, <a class="el" href="phat12_8h-source.html#l00058">PHAT12CMASK</a>, <a class="el" href="phat12_8c-source.html#l00100">Phat12GetClusterLink()</a>, <a class="el" href="phat16_8h-source.html#l00058">PHAT16CMASK</a>, <a class="el" href="phat16_8c-source.html#l00103">Phat16GetClusterLink()</a>, <a class="el" href="phat32_8h-source.html#l00058">PHAT32CMASK</a>, <a class="el" href="phat32_8c-source.html#l00103">Phat32GetClusterLink()</a>, <a class="el" href="phatfs_8h-source.html#l00139">PHAT_FATTR_DIR</a>, <a class="el" href="phatvol_8c-source.html#l00397">PhatClusterSector()</a>, <a class="el" href="phatfs_8h-source.html#l00123">PHATEOC</a>, <a class="el" href="phatio_8c-source.html#l00169">PhatSectorLoad()</a>, <a class="el" href="phatvol_8h-source.html#l00181">PHATSECTBUF::sect_data</a>, <a class="el" href="phatvol_8h-source.html#l00207">PHATVOL::vol_buf</a>, <a class="el" href="phatvol_8h-source.html#l00216">PHATVOL::vol_clustsz</a>, <a class="el" href="phatvol_8h-source.html#l00227">PHATVOL::vol_rootsz</a>, <a class="el" href="phatvol_8h-source.html#l00214">PHATVOL::vol_sectsz</a>, and <a class="el" href="phatvol_8h-source.html#l00196">PHATVOL::vol_type</a>.</p>

<p>Referenced by <a class="el" href="phatdir_8c-source.html#l01084">PhatDirRemove()</a>.</p>

</div>
</div><p>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="g2049200e29f318ae4777923de4afcabe"></a><!-- doxytag: member="phatfs.c::devPhat0" ref="g2049200e29f318ae4777923de4afcabe" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NUTDEVICE <a class="el" href="group__xg_phat_fs.html#g2049200e29f318ae4777923de4afcabe">devPhat0</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
    0,                          
    {<span class="charliteral">'P'</span>, <span class="charliteral">'H'</span>, <span class="charliteral">'A'</span>, <span class="charliteral">'T'</span>, <span class="charliteral">'0'</span>, 0, 0, 0, 0}
    ,                           
    <a class="code" href="group__xg_device.html#g8d1cd789221f646c08bc344a917af369" title="file system device">IFTYP_FS</a>,                   
    0,                          
    0,                          
    0,                          
    0,                          
    PhatInit,                   
    PhatApiIOCtl,               
    PhatApiFileRead,            
    PhatApiFileWrite,           

    PhatApiFileWrite_P,         

    PhatApiFileOpen,            
    PhatApiFileClose,           
    PhatFileSize                
}
</pre></div>PHAT file system driver information structure. 
<p>
A pointer to this structure must be passed to <a class="el" href="group__xg_device.html#g0d73e3153bf9f210194bd862d9b91c61" title="Register and initialize a device.">NutRegisterDevice()</a> to bind this file system driver to the Nut/OS kernel. An application may then call /verbatim _open("MMC0:1/PHAT0", _O_RDWR | _O_BINARY); /endverbatim to mount partition 1 on the previously registered block device (devMmc0 in this example). 
<p>Definition at line <a class="el" href="phatfs_8c-source.html#l01080">1080</a> of file <a class="el" href="phatfs_8c-source.html">phatfs.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="ga1a76de168bd10e43f19f40c0aa5773b"></a><!-- doxytag: member="phatfs.c::devPhat1" ref="ga1a76de168bd10e43f19f40c0aa5773b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NUTDEVICE <a class="el" href="group__xg_phat_fs.html#ga1a76de168bd10e43f19f40c0aa5773b">devPhat1</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
    0,                          
    {<span class="charliteral">'P'</span>, <span class="charliteral">'H'</span>, <span class="charliteral">'A'</span>, <span class="charliteral">'T'</span>, <span class="charliteral">'1'</span>, 0, 0, 0, 0}
    ,                           
    <a class="code" href="group__xg_device.html#g8d1cd789221f646c08bc344a917af369" title="file system device">IFTYP_FS</a>,                   
    0,                          
    0,                          
    0,                          
    0,                          
    PhatInit,                   
    PhatApiIOCtl,               
    PhatApiFileRead,            
    PhatApiFileWrite,           

    PhatApiFileWrite_P,         

    PhatApiFileOpen,            
    PhatApiFileClose,           
    PhatFileSize                
}
</pre></div>
<p>Definition at line <a class="el" href="phatfs_8c-source.html#l01101">1101</a> of file <a class="el" href="phatfs_8c-source.html">phatfs.c</a>.</p>

</div>
</div><p>
</div>
<hr>
<address>
  <small>
    &copy;&nbsp;2000-2007 by egnite Software GmbH - 
    visit <a href="http://www.ethernut.de/">http://www.ethernut.de/</a>
  </small>
</address>
</body>
</html>
