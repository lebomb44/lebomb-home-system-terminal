<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <title>Nut/OS API</title>
    <link href="nut_en.css" rel="stylesheet" type="text/css">
    <link href="nut_entabs.css" rel="stylesheet" type="text/css">
</head>
<body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="contents">
<h1>NUTDEVICE Struct Reference<br>
<small>
[<a class="el" href="group__xg_device.html">Device Management</a>]</small>
</h1><!-- doxytag: class="_NUTDEVICE" -->Device structure.  
<a href="#_details">More...</a>
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Fields</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">NUTDEVICE *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct___n_u_t_d_e_v_i_c_e.html#3db4958f394d06f24cd052423753e067">dev_next</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Link to the next device structure.  <a href="#3db4958f394d06f24cd052423753e067"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct___n_u_t_d_e_v_i_c_e.html#7141448f8e7f77439e0d8972cc6bd121">dev_name</a> [9]</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Unique device name.  <a href="#7141448f8e7f77439e0d8972cc6bd121"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct___n_u_t_d_e_v_i_c_e.html#307e3733e342538f390ad2fe14ebbede">dev_type</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Type of interface.  <a href="#307e3733e342538f390ad2fe14ebbede"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="stdint_8h.html#2c8c1b9f53772a86b0827ce7399b68aa">uintptr_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct___n_u_t_d_e_v_i_c_e.html#cc8bb77b16ae4b512090e9ef69cf00e5">dev_base</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Hardware base address.  <a href="#cc8bb77b16ae4b512090e9ef69cf00e5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct___n_u_t_d_e_v_i_c_e.html#f64822c853b42dfb131ae1f50c86ebd9">dev_irq</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Interrupt registration number.  <a href="#f64822c853b42dfb131ae1f50c86ebd9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct___n_u_t_d_e_v_i_c_e.html#a75911cf1492e67be5a4b460a7b49076">dev_icb</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Interface control block.  <a href="#a75911cf1492e67be5a4b460a7b49076"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct___n_u_t_d_e_v_i_c_e.html#365042f6af231963d9fd12c12089804c">dev_dcb</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Driver control block.  <a href="#365042f6af231963d9fd12c12089804c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct___n_u_t_d_e_v_i_c_e.html#765453691dbe5386710e08fd8d3f7439">dev_init</a> )(NUTDEVICE *)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Driver initialization routine.  <a href="#765453691dbe5386710e08fd8d3f7439"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct___n_u_t_d_e_v_i_c_e.html#9c5f4256a4f5e3cac75034d6ea7bb92b">dev_ioctl</a> )(NUTDEVICE *, int, void *)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Driver control function.  <a href="#9c5f4256a4f5e3cac75034d6ea7bb92b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct___n_u_t_d_e_v_i_c_e.html#0b784cc08be2375571b449ebcb2663db">dev_read</a> )(NUTFILE *, void *, int)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read from device.  <a href="#0b784cc08be2375571b449ebcb2663db"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct___n_u_t_d_e_v_i_c_e.html#f4d266bf15c47743230962d9b960d24c">dev_write</a> )(NUTFILE *, CONST void *, int)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write to device.  <a href="#f4d266bf15c47743230962d9b960d24c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct___n_u_t_d_e_v_i_c_e.html#d8372c14180f06a336eafc0eb7683c8a">dev_write_P</a> )(NUTFILE *, PGM_P, int)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write to device.  <a href="#d8372c14180f06a336eafc0eb7683c8a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">NUTFILE *(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct___n_u_t_d_e_v_i_c_e.html#dcb423014f04b6ff69e5102291605adf">dev_open</a> )(NUTDEVICE *, CONST char *, int, int)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Open a device or file.  <a href="#dcb423014f04b6ff69e5102291605adf"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct___n_u_t_d_e_v_i_c_e.html#8fd2505be5a63e619a059523eba40c57">dev_close</a> )(NUTFILE *)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Close a device or file.  <a href="#8fd2505be5a63e619a059523eba40c57"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">long(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct___n_u_t_d_e_v_i_c_e.html#aba834e4d00bb4860790273fd2a9d523">dev_size</a> )(NUTFILE *)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Request file size.  <a href="#aba834e4d00bb4860790273fd2a9d523"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Device structure. 
<p>
Device structure type.<p>
Each device driver provides a global variable of this type. Applications use <a class="el" href="group__xg_device.html#g0d73e3153bf9f210194bd862d9b91c61" title="Register and initialize a device.">NutRegisterDevice()</a> to bind the device driver to the application code. Except this call, applications refer to device drivers by the name of the device when using standard C functions like <a class="el" href="group__xg_crt_lowio.html#ga5b9fe6f8778481971c2e23a38348bb1" title="Open a file.">_open()</a> or <a class="el" href="group__xg_crt_stdio.html#g84fc076beb69f76fa7a1796e2666bfe1" title="Open a stream.">fopen()</a>.<p>
More than one device driver may be available for the same hardware device. Typically these drivers provide the same name for the device and applications must not refer to more than one device driver with the same name. 
<p>Definition at line <a class="el" href="device_8h-source.html#l00164">164</a> of file <a class="el" href="device_8h-source.html">device.h</a>.</p>
<hr><h2>Field Documentation</h2>
<a class="anchor" name="3db4958f394d06f24cd052423753e067"></a><!-- doxytag: member="_NUTDEVICE::dev_next" ref="3db4958f394d06f24cd052423753e067" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NUTDEVICE* NUTDEVICE::dev_next          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Link to the next device structure. 
<p>

<p>Definition at line <a class="el" href="device_8h-source.html#l00169">169</a> of file <a class="el" href="device_8h-source.html">device.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="7141448f8e7f77439e0d8972cc6bd121"></a><!-- doxytag: member="_NUTDEVICE::dev_name" ref="7141448f8e7f77439e0d8972cc6bd121" args="[9]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char NUTDEVICE::dev_name[9]          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Unique device name. 
<p>

<p>Definition at line <a class="el" href="device_8h-source.html#l00174">174</a> of file <a class="el" href="device_8h-source.html">device.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="307e3733e342538f390ad2fe14ebbede"></a><!-- doxytag: member="_NUTDEVICE::dev_type" ref="307e3733e342538f390ad2fe14ebbede" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> NUTDEVICE::dev_type          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Type of interface. 
<p>
May be any of the following:<ul>
<li>IFTYP_RAM</li><li>IFTYP_ROM</li><li>IFTYP_STREAM</li><li>IFTYP_NET</li><li>IFTYP_TCPSOCK</li><li>IFTYP_CHAR </li></ul>

<p>Definition at line <a class="el" href="device_8h-source.html#l00187">187</a> of file <a class="el" href="device_8h-source.html">device.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="cc8bb77b16ae4b512090e9ef69cf00e5"></a><!-- doxytag: member="_NUTDEVICE::dev_base" ref="cc8bb77b16ae4b512090e9ef69cf00e5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdint_8h.html#2c8c1b9f53772a86b0827ce7399b68aa">uintptr_t</a> NUTDEVICE::dev_base          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Hardware base address. 
<p>
Will be set by calling <a class="el" href="group__xg_device.html#g0d73e3153bf9f210194bd862d9b91c61" title="Register and initialize a device.">NutRegisterDevice()</a>. On some device drivers this address may be fixed. 
<p>Definition at line <a class="el" href="device_8h-source.html#l00195">195</a> of file <a class="el" href="device_8h-source.html">device.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="f64822c853b42dfb131ae1f50c86ebd9"></a><!-- doxytag: member="_NUTDEVICE::dev_irq" ref="f64822c853b42dfb131ae1f50c86ebd9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> NUTDEVICE::dev_irq          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Interrupt registration number. 
<p>
Will be set by calling <a class="el" href="group__xg_device.html#g0d73e3153bf9f210194bd862d9b91c61" title="Register and initialize a device.">NutRegisterDevice()</a>. On some device drivers the interrupt may be fixed. 
<p>Definition at line <a class="el" href="device_8h-source.html#l00202">202</a> of file <a class="el" href="device_8h-source.html">device.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="a75911cf1492e67be5a4b460a7b49076"></a><!-- doxytag: member="_NUTDEVICE::dev_icb" ref="a75911cf1492e67be5a4b460a7b49076" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* NUTDEVICE::dev_icb          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Interface control block. 
<p>
With stream devices, this points to the IFSTREAM structure and with network devices this is a pointer to the IFNET structure. 
<p>Definition at line <a class="el" href="device_8h-source.html#l00209">209</a> of file <a class="el" href="device_8h-source.html">device.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="365042f6af231963d9fd12c12089804c"></a><!-- doxytag: member="_NUTDEVICE::dev_dcb" ref="365042f6af231963d9fd12c12089804c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* NUTDEVICE::dev_dcb          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Driver control block. 
<p>
Points to a device specific information block. 
<p>Definition at line <a class="el" href="device_8h-source.html#l00216">216</a> of file <a class="el" href="device_8h-source.html">device.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="765453691dbe5386710e08fd8d3f7439"></a><!-- doxytag: member="_NUTDEVICE::dev_init" ref="765453691dbe5386710e08fd8d3f7439" args=")(NUTDEVICE *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* NUTDEVICE::dev_init)(NUTDEVICE *)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Driver initialization routine. 
<p>
This routine is called during device registration. 
</div>
</div><p>
<a class="anchor" name="9c5f4256a4f5e3cac75034d6ea7bb92b"></a><!-- doxytag: member="_NUTDEVICE::dev_ioctl" ref="9c5f4256a4f5e3cac75034d6ea7bb92b" args=")(NUTDEVICE *, int, void *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* NUTDEVICE::dev_ioctl)(NUTDEVICE *, int, void *)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Driver control function. 
<p>
Used to modify or query device specific settings. 
</div>
</div><p>
<a class="anchor" name="0b784cc08be2375571b449ebcb2663db"></a><!-- doxytag: member="_NUTDEVICE::dev_read" ref="0b784cc08be2375571b449ebcb2663db" args=")(NUTFILE *, void *, int)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* NUTDEVICE::dev_read)(NUTFILE *, void *, int)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read from device. 
<p>

</div>
</div><p>
<a class="anchor" name="f4d266bf15c47743230962d9b960d24c"></a><!-- doxytag: member="_NUTDEVICE::dev_write" ref="f4d266bf15c47743230962d9b960d24c" args=")(NUTFILE *, CONST void *, int)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* NUTDEVICE::dev_write)(NUTFILE *, CONST void *, int)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Write to device. 
<p>

</div>
</div><p>
<a class="anchor" name="d8372c14180f06a336eafc0eb7683c8a"></a><!-- doxytag: member="_NUTDEVICE::dev_write_P" ref="d8372c14180f06a336eafc0eb7683c8a" args=")(NUTFILE *, PGM_P, int)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* NUTDEVICE::dev_write_P)(NUTFILE *, PGM_P, int)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Write to device. 
<p>

</div>
</div><p>
<a class="anchor" name="dcb423014f04b6ff69e5102291605adf"></a><!-- doxytag: member="_NUTDEVICE::dev_open" ref="dcb423014f04b6ff69e5102291605adf" args=")(NUTDEVICE *, CONST char *, int, int)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NUTFILE*(* NUTDEVICE::dev_open)(NUTDEVICE *, CONST char *, int, int)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Open a device or file. 
<p>

</div>
</div><p>
<a class="anchor" name="8fd2505be5a63e619a059523eba40c57"></a><!-- doxytag: member="_NUTDEVICE::dev_close" ref="8fd2505be5a63e619a059523eba40c57" args=")(NUTFILE *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* NUTDEVICE::dev_close)(NUTFILE *)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Close a device or file. 
<p>

</div>
</div><p>
<a class="anchor" name="aba834e4d00bb4860790273fd2a9d523"></a><!-- doxytag: member="_NUTDEVICE::dev_size" ref="aba834e4d00bb4860790273fd2a9d523" args=")(NUTFILE *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long(* NUTDEVICE::dev_size)(NUTFILE *)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Request file size. 
<p>

</div>
</div><p>
<hr>The documentation for this struct was generated from the following file:<ul>
<li>include/sys/<a class="el" href="device_8h-source.html">device.h</a></ul>
</div>
<hr>
<address>
  <small>
    &copy;&nbsp;2000-2007 by egnite Software GmbH - 
    visit <a href="http://www.ethernut.de/">http://www.ethernut.de/</a>
  </small>
</address>
</body>
</html>
