<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <title>Nut/OS API</title>
    <link href="nut_en.css" rel="stylesheet" type="text/css">
    <link href="nut_entabs.css" rel="stylesheet" type="text/css">
</head>
<body>
<!-- Generated by Doxygen 1.5.8 -->
  <div class="navpath"><a class="el" href="dir_81006e530ae69d901a01dddafc7fbce4.html">include</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_29e0dcc87985a941e12843c236561edc.html">dev</a>
  </div>
<div class="contents">
<h1>sppif0.h File Reference</h1>Serial bit banged interface 0.  
<a href="#_details">More...</a>
<p>

<p>
<a href="sppif0_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sppif0_8h.html#988b9be4d6281b1ed75190b08f0c56e6">SPPI0_MAX_DEVICES</a>&nbsp;&nbsp;&nbsp;4</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Maximum number of devices (chip selects).  <a href="#988b9be4d6281b1ed75190b08f0c56e6"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sppif0_8h.html#9df9c45b72254cde56876a209ad807b4">Sppi0SetMode</a> (<a class="el" href="group__xg_nut_o_s.html#ge15262a08334eeeacd9a24f219a89d46">ureg_t</a> ix, <a class="el" href="group__xg_nut_o_s.html#ge15262a08334eeeacd9a24f219a89d46">ureg_t</a> mode)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sppif0_8h.html#152eae0834820fdc252a36fcf1063a77">Sppi0SetSpeed</a> (<a class="el" href="group__xg_nut_o_s.html#ge15262a08334eeeacd9a24f219a89d46">ureg_t</a> ix, <a class="el" href="stdint_8h.html#06896e8c53f721507066c079052171f8">uint32_t</a> rate)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sppif0_8h.html#9fb9883100bbaaf61ed3e290ece9cd23">Sppi0Enable</a> (<a class="el" href="group__xg_nut_o_s.html#ge15262a08334eeeacd9a24f219a89d46">ureg_t</a> ix)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sppif0_8h.html#598d8b75e934c6d657a56146f9b76869">Sppi0ChipReset</a> (<a class="el" href="group__xg_nut_o_s.html#ge15262a08334eeeacd9a24f219a89d46">ureg_t</a> ix, <a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> hi)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sppif0_8h.html#4cc361b5b897de0080e12af672d57be1">Sppi0ChipSelect</a> (<a class="el" href="group__xg_nut_o_s.html#ge15262a08334eeeacd9a24f219a89d46">ureg_t</a> ix, <a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> hi)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sppif0_8h.html#5bb8103a235a13e21ea207d058e6d175">Sppi0SelectDevice</a> (<a class="el" href="group__xg_nut_o_s.html#ge15262a08334eeeacd9a24f219a89d46">ureg_t</a> ix)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sppif0_8h.html#eb8e04647633a84f10e48e8e8020773b">Sppi0DeselectDevice</a> (<a class="el" href="group__xg_nut_o_s.html#ge15262a08334eeeacd9a24f219a89d46">ureg_t</a> ix)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sppif0_8h.html#c8842f780e9408ac2c34f0d18b27fd24">Sppi0NegSelectDevice</a> (<a class="el" href="group__xg_nut_o_s.html#ge15262a08334eeeacd9a24f219a89d46">ureg_t</a> ix)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sppif0_8h.html#f7bcc9a31f043be7bef31f6c2c44b8bc">Sppi0NegDeselectDevice</a> (<a class="el" href="group__xg_nut_o_s.html#ge15262a08334eeeacd9a24f219a89d46">ureg_t</a> ix)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sppif0_8h.html#cd1799bc7296379743d5dffd2ea0f7ba">Sppi0Byte</a> (<a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Exchange a byte with the currently selected SPI device.  <a href="#cd1799bc7296379743d5dffd2ea0f7ba"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sppif0_8h.html#9915adb6e0bc1b2fcacb735755817801">Sppi0Transact</a> (CONST void *wdata, void *rdata, size_t len)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Exchange a specified number of bytes with the currently selected SPI device.  <a href="#9915adb6e0bc1b2fcacb735755817801"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Serial bit banged interface 0. 
<p>
<div class="fragment"><pre class="fragment">
 *
 * $Log$
 * Revision 1.2  2008/08/11 06:59:59  haraldkipp
 * BSD types replaced by stdint types (feature request #1282721).
 *
 * Revision 1.1  2007/04/12 09:07:54  haraldkipp
 * Configurable SPI added.
 *
 *
 * </pre></div> 
<p>Definition in file <a class="el" href="sppif0_8h-source.html">sppif0.h</a>.</p>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="988b9be4d6281b1ed75190b08f0c56e6"></a><!-- doxytag: member="sppif0.h::SPPI0_MAX_DEVICES" ref="988b9be4d6281b1ed75190b08f0c56e6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SPPI0_MAX_DEVICES&nbsp;&nbsp;&nbsp;4          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Maximum number of devices (chip selects). 
<p>

<p>Definition at line <a class="el" href="sppif0_8h-source.html#l00059">59</a> of file <a class="el" href="sppif0_8h-source.html">sppif0.h</a>.</p>

<p>Referenced by <a class="el" href="sppif0_8c-source.html#l00076">Sppi0SetMode()</a>.</p>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="9df9c45b72254cde56876a209ad807b4"></a><!-- doxytag: member="sppif0.h::Sppi0SetMode" ref="9df9c45b72254cde56876a209ad807b4" args="(ureg_t ix, ureg_t mode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Sppi0SetMode           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__xg_nut_o_s.html#ge15262a08334eeeacd9a24f219a89d46">ureg_t</a>&nbsp;</td>
          <td class="paramname"> <em>ix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__xg_nut_o_s.html#ge15262a08334eeeacd9a24f219a89d46">ureg_t</a>&nbsp;</td>
          <td class="paramname"> <em>mode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="152eae0834820fdc252a36fcf1063a77"></a><!-- doxytag: member="sppif0.h::Sppi0SetSpeed" ref="152eae0834820fdc252a36fcf1063a77" args="(ureg_t ix, uint32_t rate)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Sppi0SetSpeed           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__xg_nut_o_s.html#ge15262a08334eeeacd9a24f219a89d46">ureg_t</a>&nbsp;</td>
          <td class="paramname"> <em>ix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#06896e8c53f721507066c079052171f8">uint32_t</a>&nbsp;</td>
          <td class="paramname"> <em>rate</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="9fb9883100bbaaf61ed3e290ece9cd23"></a><!-- doxytag: member="sppif0.h::Sppi0Enable" ref="9fb9883100bbaaf61ed3e290ece9cd23" args="(ureg_t ix)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Sppi0Enable           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__xg_nut_o_s.html#ge15262a08334eeeacd9a24f219a89d46">ureg_t</a>&nbsp;</td>
          <td class="paramname"> <em>ix</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Referenced by <a class="el" href="sppif0_8c-source.html#l00327">Sppi0NegSelectDevice()</a>, and <a class="el" href="sppif0_8c-source.html#l00297">Sppi0SelectDevice()</a>.</p>

</div>
</div><p>
<a class="anchor" name="598d8b75e934c6d657a56146f9b76869"></a><!-- doxytag: member="sppif0.h::Sppi0ChipReset" ref="598d8b75e934c6d657a56146f9b76869" args="(ureg_t ix, uint8_t hi)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Sppi0ChipReset           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__xg_nut_o_s.html#ge15262a08334eeeacd9a24f219a89d46">ureg_t</a>&nbsp;</td>
          <td class="paramname"> <em>ix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&nbsp;</td>
          <td class="paramname"> <em>hi</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="4cc361b5b897de0080e12af672d57be1"></a><!-- doxytag: member="sppif0.h::Sppi0ChipSelect" ref="4cc361b5b897de0080e12af672d57be1" args="(ureg_t ix, uint8_t hi)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Sppi0ChipSelect           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__xg_nut_o_s.html#ge15262a08334eeeacd9a24f219a89d46">ureg_t</a>&nbsp;</td>
          <td class="paramname"> <em>ix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&nbsp;</td>
          <td class="paramname"> <em>hi</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Referenced by <a class="el" href="sppif0_8c-source.html#l00311">Sppi0DeselectDevice()</a>, <a class="el" href="sppif0_8c-source.html#l00341">Sppi0NegDeselectDevice()</a>, <a class="el" href="sppif0_8c-source.html#l00327">Sppi0NegSelectDevice()</a>, and <a class="el" href="sppif0_8c-source.html#l00297">Sppi0SelectDevice()</a>.</p>

</div>
</div><p>
<a class="anchor" name="5bb8103a235a13e21ea207d058e6d175"></a><!-- doxytag: member="sppif0.h::Sppi0SelectDevice" ref="5bb8103a235a13e21ea207d058e6d175" args="(ureg_t ix)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Sppi0SelectDevice           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__xg_nut_o_s.html#ge15262a08334eeeacd9a24f219a89d46">ureg_t</a>&nbsp;</td>
          <td class="paramname"> <em>ix</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="eb8e04647633a84f10e48e8e8020773b"></a><!-- doxytag: member="sppif0.h::Sppi0DeselectDevice" ref="eb8e04647633a84f10e48e8e8020773b" args="(ureg_t ix)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Sppi0DeselectDevice           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__xg_nut_o_s.html#ge15262a08334eeeacd9a24f219a89d46">ureg_t</a>&nbsp;</td>
          <td class="paramname"> <em>ix</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="c8842f780e9408ac2c34f0d18b27fd24"></a><!-- doxytag: member="sppif0.h::Sppi0NegSelectDevice" ref="c8842f780e9408ac2c34f0d18b27fd24" args="(ureg_t ix)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Sppi0NegSelectDevice           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__xg_nut_o_s.html#ge15262a08334eeeacd9a24f219a89d46">ureg_t</a>&nbsp;</td>
          <td class="paramname"> <em>ix</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="f7bcc9a31f043be7bef31f6c2c44b8bc"></a><!-- doxytag: member="sppif0.h::Sppi0NegDeselectDevice" ref="f7bcc9a31f043be7bef31f6c2c44b8bc" args="(ureg_t ix)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Sppi0NegDeselectDevice           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__xg_nut_o_s.html#ge15262a08334eeeacd9a24f219a89d46">ureg_t</a>&nbsp;</td>
          <td class="paramname"> <em>ix</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="cd1799bc7296379743d5dffd2ea0f7ba"></a><!-- doxytag: member="sppif0.h::Sppi0Byte" ref="cd1799bc7296379743d5dffd2ea0f7ba" args="(uint8_t data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> Sppi0Byte           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&nbsp;</td>
          <td class="paramname"> <em>data</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Exchange a byte with the currently selected SPI device. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>Byte to transmit.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Received byte. </dd></dl>

<p>Definition at line <a class="el" href="sppif0_8c-source.html#l00353">353</a> of file <a class="el" href="sppif0_8c-source.html">sppif0.c</a>.</p>

<p>References <a class="el" href="arm_8h-source.html#l00197">inb</a>, <a class="el" href="icc_8h-source.html#l00269">loop_until_bit_is_set</a>, and <a class="el" href="arm_8h-source.html#l00193">outb</a>.</p>

<p>Referenced by <a class="el" href="sppif0_8c-source.html#l00377">Sppi0Transact()</a>.</p>

</div>
</div><p>
<a class="anchor" name="9915adb6e0bc1b2fcacb735755817801"></a><!-- doxytag: member="sppif0.h::Sppi0Transact" ref="9915adb6e0bc1b2fcacb735755817801" args="(CONST void *wdata, void *rdata, size_t len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Sppi0Transact           </td>
          <td>(</td>
          <td class="paramtype">CONST void *&nbsp;</td>
          <td class="paramname"> <em>wdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>rdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Exchange a specified number of bytes with the currently selected SPI device. 
<p>
It is assumed, that the serial peripheral interface has been properly initialized by calling <a class="el" href="sppif0_8h.html#9df9c45b72254cde56876a209ad807b4">Sppi0SetMode()</a> and optionally <a class="el" href="sppif0_8h.html#152eae0834820fdc252a36fcf1063a77">Sppi0SetSpeed()</a>.<p>
Further it is assumed, that the chip select (if there is one) had been enabled by a previous call to <a class="el" href="sppif0_8h.html#5bb8103a235a13e21ea207d058e6d175">Sppi0SelectDevice()</a> or <a class="el" href="sppif0_8h.html#c8842f780e9408ac2c34f0d18b27fd24">Sppi0NegSelectDevice()</a>.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>wdata</em>&nbsp;</td><td>Pointer to the data to transmit. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rdata</em>&nbsp;</td><td>Pointer to a buffer that receives the data from the device. Can be set to NULL for transmit only. May also point to the tranmit buffer, in which case the transmitted bytes are replaced by the bytes received. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="sppif0_8c-source.html#l00377">377</a> of file <a class="el" href="sppif0_8c-source.html">sppif0.c</a>.</p>

<p>References <a class="el" href="arm_8h-source.html#l00143">CONST</a>, and <a class="el" href="sppif0_8c-source.html#l00353">Sppi0Byte()</a>.</p>

</div>
</div><p>
</div>
<hr>
<address>
  <small>
    &copy;&nbsp;2000-2007 by egnite Software GmbH - 
    visit <a href="http://www.ethernut.de/">http://www.ethernut.de/</a>
  </small>
</address>
</body>
</html>
