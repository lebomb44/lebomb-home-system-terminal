<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <title>Nut/OS API</title>
    <link href="nut_en.css" rel="stylesheet" type="text/css">
    <link href="nut_entabs.css" rel="stylesheet" type="text/css">
</head>
<body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="contents">
<h1>DNS<br>
<small>
[<a class="el" href="group__xg_user_pro.html">User Protocols</a>]</small>
</h1>Domain name service protocol.  
<a href="#_details">More...</a>
<p>

<p>
<div class="dynheader">
Collaboration diagram for DNS:</div>
<div class="dynsection">
<center><table><tr><td><img src="group__xg_d_n_s.png" border="0" alt="" usemap="#group____xg__d__n__s_map">
<map name="group____xg__d__n__s_map">
<area shape="rect" href="group__xg_user_pro.html" title="TCP/IP and UDP applications." alt="User Protocols" coords="19,5,115,26"></map></td></tr></table></center>
</div>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_d_n_s.html#g9a58338b02803fb99db83a44924896bc">DumpDnsHeader</a> (<a class="el" href="group__xg_crt_stdio.html#gb940bd570245f248e9464829cd7c8c75">FILE</a> *stream, DNSHEADER *doh)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_d_n_s.html#g545ec28c418d957b1fbf2c379f9f209f">DumpDnsQuestion</a> (<a class="el" href="group__xg_crt_stdio.html#gb940bd570245f248e9464829cd7c8c75">FILE</a> *stream, DNSQUESTION *doq)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_d_n_s.html#ga929f1505d52cf601d934dc4d7580703">DumpDnsResource</a> (<a class="el" href="group__xg_crt_stdio.html#gb940bd570245f248e9464829cd7c8c75">FILE</a> *stream, DNSRESOURCE *dor)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_d_n_s.html#gdacc495d10d52d37fb9a9b567c1d715e">NutDnsConfig2</a> (<a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *hostname, <a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *domain, <a class="el" href="stdint_8h.html#06896e8c53f721507066c079052171f8">uint32_t</a> pdnsip, <a class="el" href="stdint_8h.html#06896e8c53f721507066c079052171f8">uint32_t</a> sdnsip)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set DNS configuration.  <a href="#gdacc495d10d52d37fb9a9b567c1d715e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_d_n_s.html#g8c509ae1236e47b3d82d195e672576e4">NutDnsConfig</a> (<a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *hostname, <a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *domain, <a class="el" href="stdint_8h.html#06896e8c53f721507066c079052171f8">uint32_t</a> dnsip)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets DNS configuration.  <a href="#g8c509ae1236e47b3d82d195e672576e4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_d_n_s.html#g866a6edf894ee11c4dc3a20f73269b37">NutDnsGetConfig2</a> (char **hostname, char **domain, <a class="el" href="stdint_8h.html#06896e8c53f721507066c079052171f8">uint32_t</a> *pdnsip, <a class="el" href="stdint_8h.html#06896e8c53f721507066c079052171f8">uint32_t</a> *sdnsip)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="stdint_8h.html#06896e8c53f721507066c079052171f8">uint32_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_d_n_s.html#g56f5e5f0e6208eb2f9d0e0d29b6587ca">NutDnsGetResource</a> (CONST <a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *hostname, CONST <a class="el" href="stdint_8h.html#1f1825b69244eb3ad2c7165ddc99c956">uint16_t</a> type)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Retrieves IP-address corresponding to a host name.  <a href="#g56f5e5f0e6208eb2f9d0e0d29b6587ca"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="stdint_8h.html#06896e8c53f721507066c079052171f8">uint32_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_d_n_s.html#g7645f7a6e530441ae9c17a772e7a83ca">NutDnsGetHostByName</a> (CONST <a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *hostname)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="stdint_8h.html#06896e8c53f721507066c079052171f8">uint32_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_d_n_s.html#g0e672e624a3ec6547074d2a0c11afc64">NutDnsGetMxByDomain</a> (CONST <a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *hostname)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Domain name service protocol. <hr><h2>Function Documentation</h2>
<a class="anchor" name="g9a58338b02803fb99db83a44924896bc"></a><!-- doxytag: member="resolv.c::DumpDnsHeader" ref="g9a58338b02803fb99db83a44924896bc" args="(FILE *stream, DNSHEADER *doh)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DumpDnsHeader           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__xg_crt_stdio.html#gb940bd570245f248e9464829cd7c8c75">FILE</a> *&nbsp;</td>
          <td class="paramname"> <em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DNSHEADER *&nbsp;</td>
          <td class="paramname"> <em>doh</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="resolv_8c-source.html#l00156">156</a> of file <a class="el" href="resolv_8c-source.html">resolv.c</a>.</p>

<p>References <a class="el" href="fprintf_8c-source.html#l00068">fprintf()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g545ec28c418d957b1fbf2c379f9f209f"></a><!-- doxytag: member="resolv.c::DumpDnsQuestion" ref="g545ec28c418d957b1fbf2c379f9f209f" args="(FILE *stream, DNSQUESTION *doq)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DumpDnsQuestion           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__xg_crt_stdio.html#gb940bd570245f248e9464829cd7c8c75">FILE</a> *&nbsp;</td>
          <td class="paramname"> <em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DNSQUESTION *&nbsp;</td>
          <td class="paramname"> <em>doq</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="resolv_8c-source.html#l00163">163</a> of file <a class="el" href="resolv_8c-source.html">resolv.c</a>.</p>

<p>References <a class="el" href="fprintf_8c-source.html#l00068">fprintf()</a>.</p>

</div>
</div><p>
<a class="anchor" name="ga929f1505d52cf601d934dc4d7580703"></a><!-- doxytag: member="resolv.c::DumpDnsResource" ref="ga929f1505d52cf601d934dc4d7580703" args="(FILE *stream, DNSRESOURCE *dor)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DumpDnsResource           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__xg_crt_stdio.html#gb940bd570245f248e9464829cd7c8c75">FILE</a> *&nbsp;</td>
          <td class="paramname"> <em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DNSRESOURCE *&nbsp;</td>
          <td class="paramname"> <em>dor</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="resolv_8c-source.html#l00168">168</a> of file <a class="el" href="resolv_8c-source.html">resolv.c</a>.</p>

<p>References <a class="el" href="fprintf_8c-source.html#l00068">fprintf()</a>, and <a class="el" href="fputc_8c-source.html#l00069">fputc()</a>.</p>

</div>
</div><p>
<a class="anchor" name="gdacc495d10d52d37fb9a9b567c1d715e"></a><!-- doxytag: member="resolv.c::NutDnsConfig2" ref="gdacc495d10d52d37fb9a9b567c1d715e" args="(uint8_t *hostname, uint8_t *domain, uint32_t pdnsip, uint32_t sdnsip)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void NutDnsConfig2           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *&nbsp;</td>
          <td class="paramname"> <em>hostname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *&nbsp;</td>
          <td class="paramname"> <em>domain</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#06896e8c53f721507066c079052171f8">uint32_t</a>&nbsp;</td>
          <td class="paramname"> <em>pdnsip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#06896e8c53f721507066c079052171f8">uint32_t</a>&nbsp;</td>
          <td class="paramname"> <em>sdnsip</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set DNS configuration. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hostname</em>&nbsp;</td><td>DNS name of the local host. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>domain</em>&nbsp;</td><td>Name of the domain of the local host. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pdnsip</em>&nbsp;</td><td>IP address of the primary DNS server. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sdnsip</em>&nbsp;</td><td>IP address of the secondary DNS server. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="resolv_8c-source.html#l00400">400</a> of file <a class="el" href="resolv_8c-source.html">resolv.c</a>.</p>

<p>References <a class="el" href="icc_8h-source.html#l00145">free</a>, and <a class="el" href="c_2string_2strdup_8c-source.html#l00089">strdup()</a>.</p>

<p>Referenced by <a class="el" href="pppc_8c-source.html#l00312">main()</a>, <a class="el" href="dhcpc_8c-source.html#l01934">NutDhcpIfConfig()</a>, and <a class="el" href="resolv_8c-source.html#l00429">NutDnsConfig()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g8c509ae1236e47b3d82d195e672576e4"></a><!-- doxytag: member="resolv.c::NutDnsConfig" ref="g8c509ae1236e47b3d82d195e672576e4" args="(uint8_t *hostname, uint8_t *domain, uint32_t dnsip)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void NutDnsConfig           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *&nbsp;</td>
          <td class="paramname"> <em>hostname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *&nbsp;</td>
          <td class="paramname"> <em>domain</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#06896e8c53f721507066c079052171f8">uint32_t</a>&nbsp;</td>
          <td class="paramname"> <em>dnsip</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets DNS configuration. 
<p>
<dl compact><dt><b><a class="el" href="deprecated.html#_deprecated000006">Deprecated:</a></b></dt><dd>New applications should use <a class="el" href="group__xg_d_n_s.html#gdacc495d10d52d37fb9a9b567c1d715e" title="Set DNS configuration.">NutDnsConfig2()</a>.</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hostname</em>&nbsp;</td><td>DNS name of the local host. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>domain</em>&nbsp;</td><td>Name of the domain of the local host. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dnsip</em>&nbsp;</td><td>IP address of the DNS server. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="resolv_8c-source.html#l00429">429</a> of file <a class="el" href="resolv_8c-source.html">resolv.c</a>.</p>

<p>References <a class="el" href="resolv_8c-source.html#l00400">NutDnsConfig2()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g866a6edf894ee11c4dc3a20f73269b37"></a><!-- doxytag: member="resolv.c::NutDnsGetConfig2" ref="g866a6edf894ee11c4dc3a20f73269b37" args="(char **hostname, char **domain, uint32_t *pdnsip, uint32_t *sdnsip)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void NutDnsGetConfig2           </td>
          <td>(</td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>hostname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>domain</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#06896e8c53f721507066c079052171f8">uint32_t</a> *&nbsp;</td>
          <td class="paramname"> <em>pdnsip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#06896e8c53f721507066c079052171f8">uint32_t</a> *&nbsp;</td>
          <td class="paramname"> <em>sdnsip</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="resolv_8c-source.html#l00434">434</a> of file <a class="el" href="resolv_8c-source.html">resolv.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="g56f5e5f0e6208eb2f9d0e0d29b6587ca"></a><!-- doxytag: member="resolv.c::NutDnsGetResource" ref="g56f5e5f0e6208eb2f9d0e0d29b6587ca" args="(CONST uint8_t *hostname, CONST uint16_t type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdint_8h.html#06896e8c53f721507066c079052171f8">uint32_t</a> NutDnsGetResource           </td>
          <td>(</td>
          <td class="paramtype">CONST <a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *&nbsp;</td>
          <td class="paramname"> <em>hostname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CONST <a class="el" href="stdint_8h.html#1f1825b69244eb3ad2c7165ddc99c956">uint16_t</a>&nbsp;</td>
          <td class="paramname"> <em>type</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Retrieves IP-address corresponding to a host name. 
<p>
This is a very simple implementation, which will not return any other resource information than the IP address.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hostname</em>&nbsp;</td><td>Fully qualified domain name of the host. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>type</em>&nbsp;</td><td>Request type.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>IP address, which is zero, if the name could not be resolved. </dd></dl>

<p>Definition at line <a class="el" href="resolv_8c-source.html#l00474">474</a> of file <a class="el" href="resolv_8c-source.html">resolv.c</a>.</p>

<p>References <a class="el" href="icc_8h-source.html#l00145">free</a>, <a class="el" href="icc_8h-source.html#l00142">malloc</a>, <a class="el" href="udpsock_8c-source.html#l00195">NutUdpCreateSocket()</a>, <a class="el" href="udpsock_8c-source.html#l00339">NutUdpDestroySocket()</a>, <a class="el" href="udpsock_8c-source.html#l00282">NutUdpReceiveFrom()</a>, and <a class="el" href="udpsock_8c-source.html#l00241">NutUdpSendTo()</a>.</p>

<p>Referenced by <a class="el" href="resolv_8c-source.html#l00464">NutDnsGetHostByName()</a>, and <a class="el" href="resolv_8c-source.html#l00469">NutDnsGetMxByDomain()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g7645f7a6e530441ae9c17a772e7a83ca"></a><!-- doxytag: member="resolv.c::NutDnsGetHostByName" ref="g7645f7a6e530441ae9c17a772e7a83ca" args="(CONST uint8_t *hostname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdint_8h.html#06896e8c53f721507066c079052171f8">uint32_t</a> NutDnsGetHostByName           </td>
          <td>(</td>
          <td class="paramtype">CONST <a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *&nbsp;</td>
          <td class="paramname"> <em>hostname</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="resolv_8c-source.html#l00464">464</a> of file <a class="el" href="resolv_8c-source.html">resolv.c</a>.</p>

<p>References <a class="el" href="resolv_8c-source.html#l00474">NutDnsGetResource()</a>.</p>

<p>Referenced by <a class="el" href="inetq_8c-source.html#l00126">main()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g0e672e624a3ec6547074d2a0c11afc64"></a><!-- doxytag: member="resolv.c::NutDnsGetMxByDomain" ref="g0e672e624a3ec6547074d2a0c11afc64" args="(CONST uint8_t *hostname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdint_8h.html#06896e8c53f721507066c079052171f8">uint32_t</a> NutDnsGetMxByDomain           </td>
          <td>(</td>
          <td class="paramtype">CONST <a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *&nbsp;</td>
          <td class="paramname"> <em>hostname</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="resolv_8c-source.html#l00469">469</a> of file <a class="el" href="resolv_8c-source.html">resolv.c</a>.</p>

<p>References <a class="el" href="resolv_8c-source.html#l00474">NutDnsGetResource()</a>.</p>

</div>
</div><p>
</div>
<hr>
<address>
  <small>
    &copy;&nbsp;2000-2007 by egnite Software GmbH - 
    visit <a href="http://www.ethernut.de/">http://www.ethernut.de/</a>
  </small>
</address>
</body>
</html>
