<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <title>Nut/OS API</title>
    <link href="nut_en.css" rel="stylesheet" type="text/css">
    <link href="nut_entabs.css" rel="stylesheet" type="text/css">
</head>
<body>
<!-- Generated by Doxygen 1.5.8 -->
  <div class="navpath"><a class="el" href="dir_81006e530ae69d901a01dddafc7fbce4.html">include</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_29e0dcc87985a941e12843c236561edc.html">dev</a>
  </div>
<div class="contents">
<h1>twif.h File Reference</h1>
<p>
<a href="twif_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="twif_8h.html#e01bec84e75a6a2fa34df0def636da9b">TWI_SETSPEED</a>&nbsp;&nbsp;&nbsp;0x0401</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set transfer speed.  <a href="#e01bec84e75a6a2fa34df0def636da9b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="twif_8h.html#70c51efd1278cc220741f5699b909723">TWI_GETSPEED</a>&nbsp;&nbsp;&nbsp;0x0402</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Query transfer speed.  <a href="#70c51efd1278cc220741f5699b909723"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="twif_8h.html#f439723104e027dd1b56d7cff8a8703e">TWI_SETSLAVEADDRESS</a>&nbsp;&nbsp;&nbsp;0x0403</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set local slave address.  <a href="#f439723104e027dd1b56d7cff8a8703e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="twif_8h.html#378c6886f734de28b526aff99828c27a">TWI_GETSLAVEADDRESS</a>&nbsp;&nbsp;&nbsp;0x0404</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Query local slave address.  <a href="#378c6886f734de28b526aff99828c27a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="twif_8h.html#2768628cd740027ccbb6b7a673fe09f7">TWI_SETSTATUS</a>&nbsp;&nbsp;&nbsp;0x0409</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set status.  <a href="#2768628cd740027ccbb6b7a673fe09f7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="twif_8h.html#dbb4309579e8d30490af38f5282da53d">TWI_GETSTATUS</a>&nbsp;&nbsp;&nbsp;0x040a</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Query status.  <a href="#dbb4309579e8d30490af38f5282da53d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="twif_8h.html#53e848be8c8e2a96ab200af3be6680b0">TWERR_OK</a>&nbsp;&nbsp;&nbsp;0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">No error occured.  <a href="#53e848be8c8e2a96ab200af3be6680b0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="twif_8h.html#c904e81dcca2aac8b013cfe8b2b7cf9d">TWERR_TIMEOUT</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Interface timeout.  <a href="#c904e81dcca2aac8b013cfe8b2b7cf9d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="twif_8h.html#2ef9d8fb4fa5d56cf9a6fafaca308949">TWERR_BUS</a>&nbsp;&nbsp;&nbsp;2</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Bus error.  <a href="#2ef9d8fb4fa5d56cf9a6fafaca308949"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="twif_8h.html#6702709c09ffa19be7f69167fbfa71c4">TWERR_IF_LOCKED</a>&nbsp;&nbsp;&nbsp;3</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Interface locked.  <a href="#6702709c09ffa19be7f69167fbfa71c4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="twif_8h.html#e259faab2f057213c835758d4c6ca958">TWERR_SLA_NACK</a>&nbsp;&nbsp;&nbsp;4</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">No slave response.  <a href="#e259faab2f057213c835758d4c6ca958"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="twif_8h.html#6733f12b22612e87e1735bbbfe0346e8">TWERR_DATA_NACK</a>&nbsp;&nbsp;&nbsp;5</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Data not acknowledged.  <a href="#6733f12b22612e87e1735bbbfe0346e8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="twif_8h.html#02a5f80cf8715f7050b325f602e9bbee">TWSLA_MIN</a>&nbsp;&nbsp;&nbsp;17</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Lowest slave address. Addresses below are reserved for special purposes.  <a href="#02a5f80cf8715f7050b325f602e9bbee"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="twif_8h.html#2d95b1fcd538841e715bf195117e7943">TWSLA_MAX</a>&nbsp;&nbsp;&nbsp;79</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Lowest slave address. Addresses above are reserved for special purposes.  <a href="#2d95b1fcd538841e715bf195117e7943"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="twif_8h.html#61a2d1a2d2cc417e94adcdfe20cbf0ef">TWSLA_BCAST</a>&nbsp;&nbsp;&nbsp;0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Broadcast slave address.  <a href="#61a2d1a2d2cc417e94adcdfe20cbf0ef"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="twif_8h.html#582e8e98ec0fd82390779818e7d6bf60">TWSLA_HOST</a>&nbsp;&nbsp;&nbsp;16</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Host slave address.  <a href="#582e8e98ec0fd82390779818e7d6bf60"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="twif_8h.html#bd52f89b10aef823ee0d8b2ac70f5087">TWSLA_DEFAULT</a>&nbsp;&nbsp;&nbsp;193</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Default slave address.  <a href="#bd52f89b10aef823ee0d8b2ac70f5087"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_at91_twi.html#ga4c8ead7d93be00c8a12be08e64f1666">TwInit</a> (<a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> sla)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize TWI interface.  <a href="group__xg_at91_twi.html#ga4c8ead7d93be00c8a12be08e64f1666"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_at91_twi.html#gf49042cc4abc3b12378155db4af11924">TwIOCtl</a> (int req, void *conf)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Perform TWI control functions.  <a href="group__xg_at91_twi.html#gf49042cc4abc3b12378155db4af11924"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_at91_twi.html#gbe6654261c61050f912f4ad48458d7d2">TwMasterTransact</a> (<a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> sla, CONST void *txdata, <a class="el" href="stdint_8h.html#1f1825b69244eb3ad2c7165ddc99c956">uint16_t</a> txlen, void *rxdata, <a class="el" href="stdint_8h.html#1f1825b69244eb3ad2c7165ddc99c956">uint16_t</a> rxsiz, <a class="el" href="stdint_8h.html#06896e8c53f721507066c079052171f8">uint32_t</a> tmo)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Transmit and/or receive data as a master.  <a href="group__xg_at91_twi.html#gbe6654261c61050f912f4ad48458d7d2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_at91_twi.html#g0910c498af43ca35a28b6c64c40d5b76">TwMasterError</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get last master mode error.  <a href="group__xg_at91_twi.html#g0910c498af43ca35a28b6c64c40d5b76"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="twif_8h.html#69848f265d7dff23405ea1828291dcea">TwSlaveListen</a> (<a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *sla, void *rxdata, <a class="el" href="stdint_8h.html#1f1825b69244eb3ad2c7165ddc99c956">uint16_t</a> rxsiz, <a class="el" href="stdint_8h.html#06896e8c53f721507066c079052171f8">uint32_t</a> tmo)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Listen for incoming data from a master.  <a href="#69848f265d7dff23405ea1828291dcea"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="twif_8h.html#12625373101d9bb50d9ed3dc110c688b">TwSlaveRespond</a> (void *txdata, <a class="el" href="stdint_8h.html#1f1825b69244eb3ad2c7165ddc99c956">uint16_t</a> txlen, <a class="el" href="stdint_8h.html#06896e8c53f721507066c079052171f8">uint32_t</a> tmo)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send response to a master.  <a href="#12625373101d9bb50d9ed3dc110c688b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="twif_8h.html#161d4c6c2556a7fb89b151de29283392">TwSlaveError</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get last slave mode error.  <a href="#161d4c6c2556a7fb89b151de29283392"></a><br></td></tr>
</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="e01bec84e75a6a2fa34df0def636da9b"></a><!-- doxytag: member="twif.h::TWI_SETSPEED" ref="e01bec84e75a6a2fa34df0def636da9b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TWI_SETSPEED&nbsp;&nbsp;&nbsp;0x0401          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set transfer speed. 
<p>

<p>Definition at line <a class="el" href="twif_8h-source.html#l00055">55</a> of file <a class="el" href="twif_8h-source.html">twif.h</a>.</p>

<p>Referenced by <a class="el" href="at91__twi_8c-source.html#l00503">TwInit()</a>, and <a class="el" href="at91__twi_8c-source.html#l00438">TwIOCtl()</a>.</p>

</div>
</div><p>
<a class="anchor" name="70c51efd1278cc220741f5699b909723"></a><!-- doxytag: member="twif.h::TWI_GETSPEED" ref="70c51efd1278cc220741f5699b909723" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TWI_GETSPEED&nbsp;&nbsp;&nbsp;0x0402          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Query transfer speed. 
<p>

<p>Definition at line <a class="el" href="twif_8h-source.html#l00056">56</a> of file <a class="el" href="twif_8h-source.html">twif.h</a>.</p>

<p>Referenced by <a class="el" href="at91__twi_8c-source.html#l00438">TwIOCtl()</a>.</p>

</div>
</div><p>
<a class="anchor" name="f439723104e027dd1b56d7cff8a8703e"></a><!-- doxytag: member="twif.h::TWI_SETSLAVEADDRESS" ref="f439723104e027dd1b56d7cff8a8703e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TWI_SETSLAVEADDRESS&nbsp;&nbsp;&nbsp;0x0403          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set local slave address. 
<p>

<p>Definition at line <a class="el" href="twif_8h-source.html#l00057">57</a> of file <a class="el" href="twif_8h-source.html">twif.h</a>.</p>

<p>Referenced by <a class="el" href="twif_8c-source.html#l00830">TwIOCtl()</a>.</p>

</div>
</div><p>
<a class="anchor" name="378c6886f734de28b526aff99828c27a"></a><!-- doxytag: member="twif.h::TWI_GETSLAVEADDRESS" ref="378c6886f734de28b526aff99828c27a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TWI_GETSLAVEADDRESS&nbsp;&nbsp;&nbsp;0x0404          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Query local slave address. 
<p>

<p>Definition at line <a class="el" href="twif_8h-source.html#l00058">58</a> of file <a class="el" href="twif_8h-source.html">twif.h</a>.</p>

<p>Referenced by <a class="el" href="twif_8c-source.html#l00830">TwIOCtl()</a>.</p>

</div>
</div><p>
<a class="anchor" name="2768628cd740027ccbb6b7a673fe09f7"></a><!-- doxytag: member="twif.h::TWI_SETSTATUS" ref="2768628cd740027ccbb6b7a673fe09f7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TWI_SETSTATUS&nbsp;&nbsp;&nbsp;0x0409          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set status. 
<p>

<p>Definition at line <a class="el" href="twif_8h-source.html#l00059">59</a> of file <a class="el" href="twif_8h-source.html">twif.h</a>.</p>

<p>Referenced by <a class="el" href="at91__twi_8c-source.html#l00438">TwIOCtl()</a>.</p>

</div>
</div><p>
<a class="anchor" name="dbb4309579e8d30490af38f5282da53d"></a><!-- doxytag: member="twif.h::TWI_GETSTATUS" ref="dbb4309579e8d30490af38f5282da53d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TWI_GETSTATUS&nbsp;&nbsp;&nbsp;0x040a          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Query status. 
<p>

<p>Definition at line <a class="el" href="twif_8h-source.html#l00060">60</a> of file <a class="el" href="twif_8h-source.html">twif.h</a>.</p>

<p>Referenced by <a class="el" href="at91__twi_8c-source.html#l00438">TwIOCtl()</a>.</p>

</div>
</div><p>
<a class="anchor" name="53e848be8c8e2a96ab200af3be6680b0"></a><!-- doxytag: member="twif.h::TWERR_OK" ref="53e848be8c8e2a96ab200af3be6680b0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TWERR_OK&nbsp;&nbsp;&nbsp;0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
No error occured. 
<p>

<p>Definition at line <a class="el" href="twif_8h-source.html#l00063">63</a> of file <a class="el" href="twif_8h-source.html">twif.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="c904e81dcca2aac8b013cfe8b2b7cf9d"></a><!-- doxytag: member="twif.h::TWERR_TIMEOUT" ref="c904e81dcca2aac8b013cfe8b2b7cf9d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TWERR_TIMEOUT&nbsp;&nbsp;&nbsp;1          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Interface timeout. 
<p>

<p>Definition at line <a class="el" href="twif_8h-source.html#l00064">64</a> of file <a class="el" href="twif_8h-source.html">twif.h</a>.</p>

<p>Referenced by <a class="el" href="at91__twi_8c-source.html#l00269">TwMasterRegRead()</a>, <a class="el" href="at91__twi_8c-source.html#l00344">TwMasterRegWrite()</a>, <a class="el" href="at91__twi_8c-source.html#l00173">TwMasterTransact()</a>, <a class="el" href="twif_8c-source.html#l00653">TwSlaveListen()</a>, and <a class="el" href="twif_8c-source.html#l00727">TwSlaveRespond()</a>.</p>

</div>
</div><p>
<a class="anchor" name="2ef9d8fb4fa5d56cf9a6fafaca308949"></a><!-- doxytag: member="twif.h::TWERR_BUS" ref="2ef9d8fb4fa5d56cf9a6fafaca308949" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TWERR_BUS&nbsp;&nbsp;&nbsp;2          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Bus error. 
<p>

<p>Definition at line <a class="el" href="twif_8h-source.html#l00065">65</a> of file <a class="el" href="twif_8h-source.html">twif.h</a>.</p>

<p>Referenced by <a class="el" href="twbbif_8c-source.html#l00701">TwSlaveError()</a>.</p>

</div>
</div><p>
<a class="anchor" name="6702709c09ffa19be7f69167fbfa71c4"></a><!-- doxytag: member="twif.h::TWERR_IF_LOCKED" ref="6702709c09ffa19be7f69167fbfa71c4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TWERR_IF_LOCKED&nbsp;&nbsp;&nbsp;3          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Interface locked. 
<p>

<p>Definition at line <a class="el" href="twif_8h-source.html#l00066">66</a> of file <a class="el" href="twif_8h-source.html">twif.h</a>.</p>

<p>Referenced by <a class="el" href="at91__twi_8c-source.html#l00269">TwMasterRegRead()</a>, <a class="el" href="at91__twi_8c-source.html#l00344">TwMasterRegWrite()</a>, and <a class="el" href="at91__twi_8c-source.html#l00173">TwMasterTransact()</a>.</p>

</div>
</div><p>
<a class="anchor" name="e259faab2f057213c835758d4c6ca958"></a><!-- doxytag: member="twif.h::TWERR_SLA_NACK" ref="e259faab2f057213c835758d4c6ca958" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TWERR_SLA_NACK&nbsp;&nbsp;&nbsp;4          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
No slave response. 
<p>

<p>Definition at line <a class="el" href="twif_8h-source.html#l00067">67</a> of file <a class="el" href="twif_8h-source.html">twif.h</a>.</p>

<p>Referenced by <a class="el" href="twbbif_8c-source.html#l00582">TwMasterTransact()</a>.</p>

</div>
</div><p>
<a class="anchor" name="6733f12b22612e87e1735bbbfe0346e8"></a><!-- doxytag: member="twif.h::TWERR_DATA_NACK" ref="6733f12b22612e87e1735bbbfe0346e8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TWERR_DATA_NACK&nbsp;&nbsp;&nbsp;5          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Data not acknowledged. 
<p>

<p>Definition at line <a class="el" href="twif_8h-source.html#l00068">68</a> of file <a class="el" href="twif_8h-source.html">twif.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="02a5f80cf8715f7050b325f602e9bbee"></a><!-- doxytag: member="twif.h::TWSLA_MIN" ref="02a5f80cf8715f7050b325f602e9bbee" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TWSLA_MIN&nbsp;&nbsp;&nbsp;17          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Lowest slave address. Addresses below are reserved for special purposes. 
<p>

<p>Definition at line <a class="el" href="twif_8h-source.html#l00071">71</a> of file <a class="el" href="twif_8h-source.html">twif.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="2d95b1fcd538841e715bf195117e7943"></a><!-- doxytag: member="twif.h::TWSLA_MAX" ref="2d95b1fcd538841e715bf195117e7943" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TWSLA_MAX&nbsp;&nbsp;&nbsp;79          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Lowest slave address. Addresses above are reserved for special purposes. 
<p>

<p>Definition at line <a class="el" href="twif_8h-source.html#l00075">75</a> of file <a class="el" href="twif_8h-source.html">twif.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="61a2d1a2d2cc417e94adcdfe20cbf0ef"></a><!-- doxytag: member="twif.h::TWSLA_BCAST" ref="61a2d1a2d2cc417e94adcdfe20cbf0ef" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TWSLA_BCAST&nbsp;&nbsp;&nbsp;0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Broadcast slave address. 
<p>

<p>Definition at line <a class="el" href="twif_8h-source.html#l00079">79</a> of file <a class="el" href="twif_8h-source.html">twif.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="582e8e98ec0fd82390779818e7d6bf60"></a><!-- doxytag: member="twif.h::TWSLA_HOST" ref="582e8e98ec0fd82390779818e7d6bf60" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TWSLA_HOST&nbsp;&nbsp;&nbsp;16          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Host slave address. 
<p>

<p>Definition at line <a class="el" href="twif_8h-source.html#l00080">80</a> of file <a class="el" href="twif_8h-source.html">twif.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="bd52f89b10aef823ee0d8b2ac70f5087"></a><!-- doxytag: member="twif.h::TWSLA_DEFAULT" ref="bd52f89b10aef823ee0d8b2ac70f5087" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TWSLA_DEFAULT&nbsp;&nbsp;&nbsp;193          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Default slave address. 
<p>

<p>Definition at line <a class="el" href="twif_8h-source.html#l00081">81</a> of file <a class="el" href="twif_8h-source.html">twif.h</a>.</p>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="69848f265d7dff23405ea1828291dcea"></a><!-- doxytag: member="twif.h::TwSlaveListen" ref="69848f265d7dff23405ea1828291dcea" args="(uint8_t *sla, void *rxdata, uint16_t rxsiz, uint32_t tmo)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int TwSlaveListen           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__xg_crt_string.html#gba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *&nbsp;</td>
          <td class="paramname"> <em>sla</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>rxdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#1f1825b69244eb3ad2c7165ddc99c956">uint16_t</a>&nbsp;</td>
          <td class="paramname"> <em>rxsiz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#06896e8c53f721507066c079052171f8">uint32_t</a>&nbsp;</td>
          <td class="paramname"> <em>tmo</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Listen for incoming data from a master. 
<p>
If this function returns without error, the bus is blocked. The caller must immediately process the request and return a response by calling <a class="el" href="twif_8h.html#12625373101d9bb50d9ed3dc110c688b" title="Send response to a master.">TwSlaveRespond()</a>.<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>This function is only available on ATmega128 systems. The function is not reentrant.</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sla</em>&nbsp;</td><td>Points to a byte variable, which receives the slave address sent by the master. This can be used by the caller to determine whether the the interface has been addressed by a general call or its individual address. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rxdata</em>&nbsp;</td><td>Points to a data buffer where the received data bytes are stored. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rxsiz</em>&nbsp;</td><td>Specifies the maximum number of data bytes to receive. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>tmo</em>&nbsp;</td><td>Timeout in milliseconds. To disable timeout, set this parameter to NUT_WAIT_INFINITE.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The number of bytes received, -1 in case of an error or timeout.</dd></dl>
If this function returns without error, the bus is blocked. The caller must immediately process the request and return a response by calling <a class="el" href="twif_8h.html#12625373101d9bb50d9ed3dc110c688b" title="Send response to a master.">TwSlaveRespond()</a>.<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>Slave mode is not implemented in the bit banging version. Thus the function always returns -1.</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sla</em>&nbsp;</td><td>Points to a byte variable, which receives the slave address sent by the master. This can be used by the caller to determine whether the the interface has been addressed by a general call or its individual address. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rxdata</em>&nbsp;</td><td>Points to a data buffer where the received data bytes are stored. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rxsiz</em>&nbsp;</td><td>Specifies the maximum number of data bytes to receive. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>tmo</em>&nbsp;</td><td>Timeout in milliseconds. To disable timeout, set this parameter to NUT_WAIT_INFINITE.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The number of bytes received, -1 in case of an error or timeout. </dd></dl>

<p>Definition at line <a class="el" href="twif_8c-source.html#l00653">653</a> of file <a class="el" href="twif_8c-source.html">twif.c</a>.</p>

<p>References <a class="el" href="arm_8h-source.html#l00201">_BV</a>, <a class="el" href="arm_8h-source.html#l00197">inb</a>, <a class="el" href="include_2arch_2arm_2atom_8h-source.html#l00136">NutEnterCritical</a>, <a class="el" href="event_8c-source.html#l00271">NutEventWait()</a>, <a class="el" href="include_2arch_2arm_2atom_8h-source.html#l00147">NutExitCritical</a>, <a class="el" href="arm_8h-source.html#l00193">outb</a>, <a class="el" href="event_8h-source.html#l00120">SIGNALED</a>, <a class="el" href="twif_8c-source.html#l00111">tw_sr_que</a>, and <a class="el" href="twif_8h-source.html#l00064">TWERR_TIMEOUT</a>.</p>

</div>
</div><p>
<a class="anchor" name="12625373101d9bb50d9ed3dc110c688b"></a><!-- doxytag: member="twif.h::TwSlaveRespond" ref="12625373101d9bb50d9ed3dc110c688b" args="(void *txdata, uint16_t txlen, uint32_t tmo)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int TwSlaveRespond           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>txdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#1f1825b69244eb3ad2c7165ddc99c956">uint16_t</a>&nbsp;</td>
          <td class="paramname"> <em>txlen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#06896e8c53f721507066c079052171f8">uint32_t</a>&nbsp;</td>
          <td class="paramname"> <em>tmo</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Send response to a master. 
<p>
This function must be called as soon as possible after <a class="el" href="twif_8h.html#69848f265d7dff23405ea1828291dcea" title="Listen for incoming data from a master.">TwSlaveListen()</a> returned successfully, even if no data needs to be returned. Not doing so will completely block the bus.<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>This function is only available on ATmega128 systems.</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>txdata</em>&nbsp;</td><td>Points to the data to transmit. Ignored, if the number of bytes to transmit is zero. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>txlen</em>&nbsp;</td><td>Number of data bytes to transmit. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>tmo</em>&nbsp;</td><td>Timeout in milliseconds. To disable timeout, set this parameter to NUT_WAIT_INFINITE.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The number of bytes transmitted, -1 in case of an error or timeout.</dd></dl>
This function must be called as soon as possible after <a class="el" href="twif_8h.html#69848f265d7dff23405ea1828291dcea" title="Listen for incoming data from a master.">TwSlaveListen()</a> returned successfully, even if no data needs to be returned. Not doing so will completely block the bus.<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>Slave mode is not implemented in the bit banging version. Thus the function always returns -1.</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>txdata</em>&nbsp;</td><td>Points to the data to transmit. Ignored, if the number of bytes to transmit is zero. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>txlen</em>&nbsp;</td><td>Number of data bytes to transmit. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>tmo</em>&nbsp;</td><td>Timeout in milliseconds. To disable timeout, set this parameter to NUT_WAIT_INFINITE.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The number of bytes transmitted, -1 in case of an error or timeout. </dd></dl>

<p>Definition at line <a class="el" href="twif_8c-source.html#l00727">727</a> of file <a class="el" href="twif_8c-source.html">twif.c</a>.</p>

<p>References <a class="el" href="arm_8h-source.html#l00201">_BV</a>, <a class="el" href="arm_8h-source.html#l00197">inb</a>, <a class="el" href="include_2arch_2arm_2atom_8h-source.html#l00136">NutEnterCritical</a>, <a class="el" href="event_8c-source.html#l00271">NutEventWait()</a>, <a class="el" href="include_2arch_2arm_2atom_8h-source.html#l00147">NutExitCritical</a>, <a class="el" href="arm_8h-source.html#l00193">outb</a>, <a class="el" href="event_8h-source.html#l00120">SIGNALED</a>, <a class="el" href="twif_8c-source.html#l00112">tw_st_que</a>, <a class="el" href="twif_8h-source.html#l00064">TWERR_TIMEOUT</a>, and <a class="el" href="twif_8c-source.html#l00143">TWGO</a>.</p>

</div>
</div><p>
<a class="anchor" name="161d4c6c2556a7fb89b151de29283392"></a><!-- doxytag: member="twif.h::TwSlaveError" ref="161d4c6c2556a7fb89b151de29283392" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int TwSlaveError           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get last slave mode error. 
<p>
You may call this function to determine the specific cause of an error after <a class="el" href="twif_8h.html#69848f265d7dff23405ea1828291dcea" title="Listen for incoming data from a master.">TwSlaveListen()</a> or <a class="el" href="twif_8h.html#12625373101d9bb50d9ed3dc110c688b" title="Send response to a master.">TwSlaveRespond()</a> failed.<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>This function is only available on ATmega128 systems.</dd></dl>
You may call this function to determine the specific cause of an error after <a class="el" href="twif_8h.html#69848f265d7dff23405ea1828291dcea" title="Listen for incoming data from a master.">TwSlaveListen()</a> or <a class="el" href="twif_8h.html#12625373101d9bb50d9ed3dc110c688b" title="Send response to a master.">TwSlaveRespond()</a> failed.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Error code or 0 if no error occurred.</dd></dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd>Slave mode is not implemented in the bit banging version. Thus the function always returns TWERR_BUS. </dd></dl>

<p>Definition at line <a class="el" href="twif_8c-source.html#l00802">802</a> of file <a class="el" href="twif_8c-source.html">twif.c</a>.</p>

<p>References <a class="el" href="twif_8h-source.html#l00065">TWERR_BUS</a>.</p>

</div>
</div><p>
</div>
<hr>
<address>
  <small>
    &copy;&nbsp;2000-2007 by egnite Software GmbH - 
    visit <a href="http://www.ethernut.de/">http://www.ethernut.de/</a>
  </small>
</address>
</body>
</html>
