<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <title>Nut/OS API</title>
    <link href="nut_en.css" rel="stylesheet" type="text/css">
    <link href="nut_entabs.css" rel="stylesheet" type="text/css">
</head>
<body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="contents">
<h1>UART Control Macros<br>
<small>
[<a class="el" href="group__xg_xnut_cfg.html">XNUT-100 &amp; XNUT-105 DIN-rail SBC</a>]</small>
</h1>Functions to control UART modes.  
<a href="#_details">More...</a>
<p>

<p>
<div class="dynheader">
Collaboration diagram for UART Control Macros:</div>
<div class="dynsection">
<center><table><tr><td><img src="group__xnut_ser.png" border="0" alt="" usemap="#group____xnut__ser_map">
<map name="group____xnut__ser_map">
<area shape="rect" href="group__xg_xnut_cfg.html" title="DIN-rail mounted Single Board Computer in enclosure with 2 x RS-232, 2 x RS-485,..." alt="XNUT-100 &amp; XNUT-105 DIN-rail SBC" coords="17,5,244,26"></map></td></tr></table></center>
</div>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xnut_ser.html#g339dc39f02b1a00a8b469a1f430b7408">SER0_RS232_MODE</a>()&nbsp;&nbsp;&nbsp;(PORTB |= _BV(0))</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xnut_ser.html#g9d95f7379581c8c33c549cb7298d278e">SER0_RS485_MODE</a>()&nbsp;&nbsp;&nbsp;(PORTB &amp;= ~_BV(0))</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xnut_ser.html#g18fa3106deda8d75808d408327727f52">SER0_RS485_DRV_ON</a>()&nbsp;&nbsp;&nbsp;(PORTB |= _BV(1))</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xnut_ser.html#g29ecb1e42b5f921d820ced885bfe4822">SER0_RS485_DRV_OFF</a>()&nbsp;&nbsp;&nbsp;(PORTB &amp;= ~_BV(1))</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xnut_ser.html#g0a4d58d99b63c585ce6355cab1483378">SER1_RS232_MODE</a>()&nbsp;&nbsp;&nbsp;(PORTB |= _BV(2))</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xnut_ser.html#gf36bf0502e623cf113f6c3b9cccf1d45">SER1_RS485_MODE</a>()&nbsp;&nbsp;&nbsp;(PORTB &amp;= ~_BV(2))</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xnut_ser.html#g7512e49b09242d4677c7bbe0017a9c6c">SER1_RS485_DRV_ON</a>()&nbsp;&nbsp;&nbsp;(PORTB |= _BV(3))</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xnut_ser.html#g2e8429b59621cc628ab752bef32d7791">SER1_RS485_DRV_OFF</a>()&nbsp;&nbsp;&nbsp;(PORTB &amp;= ~_BV(3))</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xnut_ser.html#gc22a2d7ac0a705a010dc56ce19faf5d8">SER0_GET_CD</a>()&nbsp;&nbsp;&nbsp;bit_is_set(PINB, 6)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xnut_ser.html#g201185ba2181175d67c1688b325bbe23">SER0_GET_RI</a>()&nbsp;&nbsp;&nbsp;bit_is_clear(PINB, 7)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xnut_ser.html#gb136cff9fbf593afcee931769ad4a714">SER0_GET_CTS</a>()&nbsp;&nbsp;&nbsp;bit_is_clear(PINE, 6)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xnut_ser.html#gf232f1fae1ae148ad0b22786c46a836f">SER0_GET_DSR</a>()&nbsp;&nbsp;&nbsp;bit_is_clear(PINE, 4)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xnut_ser.html#g60d4882221c6a96b5de662db00aa15be">SER0_SET_RTS</a>()&nbsp;&nbsp;&nbsp;(PORTB &amp;= ~_BV(4))</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xnut_ser.html#g3673c906b765bc655d32dd1e6202052b">SER0_CLR_RTS</a>()&nbsp;&nbsp;&nbsp;(PORTB |= _BV(4))</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xnut_ser.html#g0ddccec1ca1e14558c86986c6d64efcd">SER0_SET_DTR</a>()&nbsp;&nbsp;&nbsp;(PORTB &amp;= ~_BV(5))</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xnut_ser.html#gb0de0f147834d0e578342954f7e1c064">SER0_CLR_DTR</a>()&nbsp;&nbsp;&nbsp;(PORTB |= _BV(5))</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Functions to control UART modes. <hr><h2>Define Documentation</h2>
<a class="anchor" name="g339dc39f02b1a00a8b469a1f430b7408"></a><!-- doxytag: member="xnut.h::SER0_RS232_MODE" ref="g339dc39f02b1a00a8b469a1f430b7408" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SER0_RS232_MODE          </td>
          <td>(</td>
&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(PORTB |= _BV(0))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Configure Ser 0 to operate in RS232 mode.<p>
In RS232 mode receiption from SUB-D connector J9 is enabled and the receiver on connector J6-2/3 is disabled. 
<p>Definition at line <a class="el" href="xnut_8h-source.html#l00131">131</a> of file <a class="el" href="xnut_8h-source.html">xnut.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="g9d95f7379581c8c33c549cb7298d278e"></a><!-- doxytag: member="xnut.h::SER0_RS485_MODE" ref="g9d95f7379581c8c33c549cb7298d278e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SER0_RS485_MODE          </td>
          <td>(</td>
&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(PORTB &amp;= ~_BV(0))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Configure Ser 0 to operate in RS485 mode.<p>
In RS485 mode receiption from connector J6-2/3 is enabled and the receiver on SUB-D connector J9 is disabled. 
<p>Definition at line <a class="el" href="xnut_8h-source.html#l00139">139</a> of file <a class="el" href="xnut_8h-source.html">xnut.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="g18fa3106deda8d75808d408327727f52"></a><!-- doxytag: member="xnut.h::SER0_RS485_DRV_ON" ref="g18fa3106deda8d75808d408327727f52" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SER0_RS485_DRV_ON          </td>
          <td>(</td>
&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(PORTB |= _BV(1))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Switches the RS485 line driver of Ser 0 on.<p>
RS485 is a half-duplex link and the line driver must be switched off to allow receiption of data. 
<p>Definition at line <a class="el" href="xnut_8h-source.html#l00147">147</a> of file <a class="el" href="xnut_8h-source.html">xnut.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="g29ecb1e42b5f921d820ced885bfe4822"></a><!-- doxytag: member="xnut.h::SER0_RS485_DRV_OFF" ref="g29ecb1e42b5f921d820ced885bfe4822" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SER0_RS485_DRV_OFF          </td>
          <td>(</td>
&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(PORTB &amp;= ~_BV(1))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Switches the RS485 line driver of Ser 0 off. 
<p>Definition at line <a class="el" href="xnut_8h-source.html#l00152">152</a> of file <a class="el" href="xnut_8h-source.html">xnut.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="g0a4d58d99b63c585ce6355cab1483378"></a><!-- doxytag: member="xnut.h::SER1_RS232_MODE" ref="g0a4d58d99b63c585ce6355cab1483378" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SER1_RS232_MODE          </td>
          <td>(</td>
&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(PORTB |= _BV(2))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Configure Ser 1 to operate in RS232 mode.<p>
In RS232 mode receiption from SUB-D connector J7 is enabled and the receiver on connector J6-5/6 is disabled. 
<p>Definition at line <a class="el" href="xnut_8h-source.html#l00160">160</a> of file <a class="el" href="xnut_8h-source.html">xnut.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="gf36bf0502e623cf113f6c3b9cccf1d45"></a><!-- doxytag: member="xnut.h::SER1_RS485_MODE" ref="gf36bf0502e623cf113f6c3b9cccf1d45" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SER1_RS485_MODE          </td>
          <td>(</td>
&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(PORTB &amp;= ~_BV(2))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Configure Ser 1 to operate in RS485 mode.<p>
In RS485 mode receiption from connector J6-5/6 is enabled and the receiver on SUB-D connector J7 is disabled. 
<p>Definition at line <a class="el" href="xnut_8h-source.html#l00168">168</a> of file <a class="el" href="xnut_8h-source.html">xnut.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="g7512e49b09242d4677c7bbe0017a9c6c"></a><!-- doxytag: member="xnut.h::SER1_RS485_DRV_ON" ref="g7512e49b09242d4677c7bbe0017a9c6c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SER1_RS485_DRV_ON          </td>
          <td>(</td>
&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(PORTB |= _BV(3))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Switches the RS485 line driver of Ser 1 on.<p>
RS485 is a half-duplex link and the line driver must be switched off to allow receiption of data. 
<p>Definition at line <a class="el" href="xnut_8h-source.html#l00176">176</a> of file <a class="el" href="xnut_8h-source.html">xnut.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="g2e8429b59621cc628ab752bef32d7791"></a><!-- doxytag: member="xnut.h::SER1_RS485_DRV_OFF" ref="g2e8429b59621cc628ab752bef32d7791" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SER1_RS485_DRV_OFF          </td>
          <td>(</td>
&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(PORTB &amp;= ~_BV(3))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Switches the RS485 line driver of Ser 1 off. 
<p>Definition at line <a class="el" href="xnut_8h-source.html#l00181">181</a> of file <a class="el" href="xnut_8h-source.html">xnut.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="gc22a2d7ac0a705a010dc56ce19faf5d8"></a><!-- doxytag: member="xnut.h::SER0_GET_CD" ref="gc22a2d7ac0a705a010dc56ce19faf5d8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SER0_GET_CD          </td>
          <td>(</td>
&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;bit_is_set(PINB, 6)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the status of the RS232 CD signal input of Ser 0 on SUB-D connector J9<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>1 if CD is asserted </dd></dl>

<p>Definition at line <a class="el" href="xnut_8h-source.html#l00189">189</a> of file <a class="el" href="xnut_8h-source.html">xnut.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="g201185ba2181175d67c1688b325bbe23"></a><!-- doxytag: member="xnut.h::SER0_GET_RI" ref="g201185ba2181175d67c1688b325bbe23" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SER0_GET_RI          </td>
          <td>(</td>
&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;bit_is_clear(PINB, 7)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the status of the RS232 RI signal input of Ser 0 on SUB-D connector J9<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>1 if RI is asserted </dd></dl>

<p>Definition at line <a class="el" href="xnut_8h-source.html#l00197">197</a> of file <a class="el" href="xnut_8h-source.html">xnut.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="gb136cff9fbf593afcee931769ad4a714"></a><!-- doxytag: member="xnut.h::SER0_GET_CTS" ref="gb136cff9fbf593afcee931769ad4a714" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SER0_GET_CTS          </td>
          <td>(</td>
&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;bit_is_clear(PINE, 6)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the status of the RS232 CTS signal input of Ser 0 on SUB-D connector J9<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>1 if CTS is asserted </dd></dl>

<p>Definition at line <a class="el" href="xnut_8h-source.html#l00205">205</a> of file <a class="el" href="xnut_8h-source.html">xnut.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="gf232f1fae1ae148ad0b22786c46a836f"></a><!-- doxytag: member="xnut.h::SER0_GET_DSR" ref="gf232f1fae1ae148ad0b22786c46a836f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SER0_GET_DSR          </td>
          <td>(</td>
&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;bit_is_clear(PINE, 4)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the status of the RS232 DSR signal input of Ser 0 on SUB-D connector J9<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>Feature only available for devices with serial number 224 upwards (since PCB Revision C) </dd></dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>1 if DSR is asserted </dd></dl>

<p>Definition at line <a class="el" href="xnut_8h-source.html#l00215">215</a> of file <a class="el" href="xnut_8h-source.html">xnut.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="g60d4882221c6a96b5de662db00aa15be"></a><!-- doxytag: member="xnut.h::SER0_SET_RTS" ref="g60d4882221c6a96b5de662db00aa15be" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SER0_SET_RTS          </td>
          <td>(</td>
&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(PORTB &amp;= ~_BV(4))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Asserts the RS232 RTS signal output of Ser 0 on SUB-D connector J9 
<p>Definition at line <a class="el" href="xnut_8h-source.html#l00221">221</a> of file <a class="el" href="xnut_8h-source.html">xnut.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="g3673c906b765bc655d32dd1e6202052b"></a><!-- doxytag: member="xnut.h::SER0_CLR_RTS" ref="g3673c906b765bc655d32dd1e6202052b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SER0_CLR_RTS          </td>
          <td>(</td>
&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(PORTB |= _BV(4))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Clears the RS232 RTS signal output of Ser 0 on SUB-D connector J9 
<p>Definition at line <a class="el" href="xnut_8h-source.html#l00226">226</a> of file <a class="el" href="xnut_8h-source.html">xnut.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="g0ddccec1ca1e14558c86986c6d64efcd"></a><!-- doxytag: member="xnut.h::SER0_SET_DTR" ref="g0ddccec1ca1e14558c86986c6d64efcd" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SER0_SET_DTR          </td>
          <td>(</td>
&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(PORTB &amp;= ~_BV(5))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Asserts the RS232 DTR signal output of Ser 0 on SUB-D connector J9<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>Feature only available for devices with serial number 224 upwards (since PCB Revision C) </dd></dl>

<p>Definition at line <a class="el" href="xnut_8h-source.html#l00235">235</a> of file <a class="el" href="xnut_8h-source.html">xnut.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="gb0de0f147834d0e578342954f7e1c064"></a><!-- doxytag: member="xnut.h::SER0_CLR_DTR" ref="gb0de0f147834d0e578342954f7e1c064" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SER0_CLR_DTR          </td>
          <td>(</td>
&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(PORTB |= _BV(5))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Clears the RS232 DTR signal output of Ser 0 on SUB-D connector J9<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>Feature only available for devices with serial number 224 upwards (since PCB Revision C) </dd></dl>

<p>Definition at line <a class="el" href="xnut_8h-source.html#l00244">244</a> of file <a class="el" href="xnut_8h-source.html">xnut.h</a>.</p>

</div>
</div><p>
</div>
<hr>
<address>
  <small>
    &copy;&nbsp;2000-2007 by egnite Software GmbH - 
    visit <a href="http://www.ethernut.de/">http://www.ethernut.de/</a>
  </small>
</address>
</body>
</html>
