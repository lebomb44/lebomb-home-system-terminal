<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <title>Nut/OS API</title>
    <link href="nut_en.css" rel="stylesheet" type="text/css">
    <link href="nut_entabs.css" rel="stylesheet" type="text/css">
</head>
<body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="contents">
<h1>FTP<br>
<small>
[<a class="el" href="group__xg_user_pro.html">User Protocols</a>]</small>
</h1>File transfer protocol.  
<a href="#_details">More...</a>
<p>

<p>
<div class="dynheader">
Collaboration diagram for FTP:</div>
<div class="dynsection">
<center><table><tr><td><img src="group__xg_f_t_p_d.png" border="0" alt="" usemap="#group____xg__f__t__p__d_map">
<map name="group____xg__f__t__p__d_map">
<area shape="rect" href="group__xg_user_pro.html" title="TCP/IP and UDP applications." alt="User Protocols" coords="19,5,115,26"></map></td></tr></table></center>
</div>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">FTP session information structure.  <a href="struct_f_t_p_s_e_s_s_i_o_n.html#_details">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_f_t_p_d.html#gedf4862063aad8c80cf50025318e25de">NutFtpRespondOk</a> (<a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *session, int code)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send a positive response.  <a href="#gedf4862063aad8c80cf50025318e25de"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_f_t_p_d.html#g8a198e099aa073c08ae2203233bce632">NutFtpRespondBad</a> (<a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *session, int code)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send a negative response.  <a href="#g8a198e099aa073c08ae2203233bce632"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_f_t_p_d.html#g7a2c08102e2c52355561453fcb15eb5e">NutFtpSendMode</a> (<a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *session, int binary)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send a response including the specified transfer mode.  <a href="#g7a2c08102e2c52355561453fcb15eb5e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_f_t_p_d.html#gad7b7118c7f21feb01fc6db7b8b0e615">CreateFullPathName</a> (char *root, char *work, char *path)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create an absolute path name.  <a href="#gad7b7118c7f21feb01fc6db7b8b0e615"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">TCPSOCKET *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_f_t_p_d.html#g78bc9b7d484569dce570bf8eef609eb1">NutFtpDataConnect</a> (<a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *session)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Establish an FTP connection for data transfer.  <a href="#g78bc9b7d484569dce570bf8eef609eb1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_f_t_p_d.html#g9e41cc8f252b71d222f0d79da1899eaf">NutRegisterFtpRoot</a> (CONST char *path)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Register the FTP server's root directory.  <a href="#g9e41cc8f252b71d222f0d79da1899eaf"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_f_t_p_d.html#g1be14e9d89556bb62edccd798e2f0713">NutRegisterFtpUser</a> (CONST char *user, CONST char *pass)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Register an FTP user.  <a href="#g1be14e9d89556bb62edccd798e2f0713"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_f_t_p_d.html#g9c2f592b2642d2091ea274362d2ed6bc">NutFtpOpenSession</a> (TCPSOCKET *sock)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Open an FTP server session.  <a href="#g9c2f592b2642d2091ea274362d2ed6bc"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_f_t_p_d.html#g4e8a0adc4680aa66e9d4d17fdc6e985d">NutFtpCloseSession</a> (<a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *session)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Close an FTP server session.  <a href="#g4e8a0adc4680aa66e9d4d17fdc6e985d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_f_t_p_d.html#g6fe36e83d24072ff6fb7940252c51a6e">NutFtpProcessCwd</a> (<a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *session, char *path)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Process an FTP client's CWD command.  <a href="#g6fe36e83d24072ff6fb7940252c51a6e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_f_t_p_d.html#g8c45cdbeb27a773812a7eb6cca53125b">NutFtpProcessDelete</a> (<a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *session, char *path)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Process an FTP client's DELE command.  <a href="#g8c45cdbeb27a773812a7eb6cca53125b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_f_t_p_d.html#g80900fe10a1f7780a461127c77850275">NutFtpTransferFile</a> (<a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *session, char *path, int mode)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Transfer a file to or from the FTP client.  <a href="#g80900fe10a1f7780a461127c77850275"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_f_t_p_d.html#gf4296b0e186e55d915fb843f7fde9b20">NutFtpTransferDirectory</a> (<a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *session, char *path)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Process an FTP client's LIST or NLST command.  <a href="#gf4296b0e186e55d915fb843f7fde9b20"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_f_t_p_d.html#ge85078df724a2046bfab56e88c058357">NutFtpProcessMkd</a> (<a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *session, char *path)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Process an FTP client's MKD command.  <a href="#ge85078df724a2046bfab56e88c058357"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_f_t_p_d.html#g836d1cf7dc7ef29c929f6780477851f7">NutFtpProcessPass</a> (<a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *session, char *pass)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Process an FTP client's PASS command.  <a href="#g836d1cf7dc7ef29c929f6780477851f7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_f_t_p_d.html#g3564dcac7a3f46dcf9c77c78d3318b71">NutFtpProcessPassiv</a> (<a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *session)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Process an FTP client's PASV command.  <a href="#g3564dcac7a3f46dcf9c77c78d3318b71"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_f_t_p_d.html#gcf9843833821d7c38e7c1869c8555f68">NutFtpProcessPort</a> (<a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *session, char *args)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Process an FTP client's PORT command.  <a href="#gcf9843833821d7c38e7c1869c8555f68"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_f_t_p_d.html#ga58ab5aeaa0551c2a809e2d881b9272c">NutFtpProcessPwd</a> (<a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *session)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Process an FTP client's PWD command.  <a href="#ga58ab5aeaa0551c2a809e2d881b9272c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_f_t_p_d.html#g7b759361ed3c5ccb69461713e1857d7e">NutFtpProcessRmd</a> (<a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *session, char *path)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Process an FTP client's RMD command.  <a href="#g7b759361ed3c5ccb69461713e1857d7e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_f_t_p_d.html#g727082f5c302cc37743c98321ace0509">NutFtpProcessSystem</a> (<a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *session)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Process an FTP client's SYST command.  <a href="#g727082f5c302cc37743c98321ace0509"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_f_t_p_d.html#g09e1a0621e8b56f44b884aac05567607">NutFtpProcessType</a> (<a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *session, char *typecode)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Process an FTP client's TYPE command.  <a href="#g09e1a0621e8b56f44b884aac05567607"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_f_t_p_d.html#gccd498f6cc8f1c9fe4cbc2835ea2d7cc">NutFtpProcessUser</a> (<a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *session, char *user)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Process an FTP client's USER command.  <a href="#gccd498f6cc8f1c9fe4cbc2835ea2d7cc"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_f_t_p_d.html#g5b72e2b9bea1143ace7837526d573444">NutFtpProcessRequest</a> (<a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *session, char *request)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Process an FTP request.  <a href="#g5b72e2b9bea1143ace7837526d573444"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_f_t_p_d.html#g6914104d8828e12e70984be621c87269">NutFtpServerSession</a> (TCPSOCKET *sock)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Process an FTP sever session.  <a href="#g6914104d8828e12e70984be621c87269"></a><br></td></tr>
<tr><td colspan="2"><br><h2>FTP Server Configuration</h2></td></tr>
<tr><td colspan="2">The Nut/OS Configurator may be used to override the default values. <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_f_t_p_d.html#g02da6fd3b04d4e1cc0e3931b47980276">FTP_MAX_CMDBUF</a>&nbsp;&nbsp;&nbsp;128</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">UDP port of DHCP server.  <a href="#g02da6fd3b04d4e1cc0e3931b47980276"></a><br></td></tr>
<tr><td colspan="2"><br><h2>FTP Server Configuration</h2></td></tr>
<tr><td colspan="2">The Nut/OS Configurator may be used to override the default values. <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_f_t_p_d.html#g7c5a64c63f20eb3e3ebab183895a8081">FTP_ROOTPATH</a>&nbsp;&nbsp;&nbsp;&quot;PNUT:&quot;</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Default FTP root path.  <a href="#g7c5a64c63f20eb3e3ebab183895a8081"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_f_t_p_d.html#g972c1b4b37ca75e1e499e91617a3e40b">FTP_DATA_PORT</a>&nbsp;&nbsp;&nbsp;20</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Default data port.  <a href="#g972c1b4b37ca75e1e499e91617a3e40b"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
File transfer protocol. 
<p>
Note, that FTP servers don't make much sense without a file system providing write access. Right now, FTP had been tested with the PNUT file system only.<p>
Internet File Transfer Protocol Server. <hr><h2>Define Documentation</h2>
<a class="anchor" name="g02da6fd3b04d4e1cc0e3931b47980276"></a><!-- doxytag: member="ftpd.h::FTP_MAX_CMDBUF" ref="g02da6fd3b04d4e1cc0e3931b47980276" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FTP_MAX_CMDBUF&nbsp;&nbsp;&nbsp;128          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
UDP port of DHCP server. 
<p>

<p>Definition at line <a class="el" href="ftpd_8h-source.html#l00071">71</a> of file <a class="el" href="ftpd_8h-source.html">ftpd.h</a>.</p>

<p>Referenced by <a class="el" href="ftpd_8c-source.html#l01193">NutFtpServerSession()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g7c5a64c63f20eb3e3ebab183895a8081"></a><!-- doxytag: member="ftpd.c::FTP_ROOTPATH" ref="g7c5a64c63f20eb3e3ebab183895a8081" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FTP_ROOTPATH&nbsp;&nbsp;&nbsp;&quot;PNUT:&quot;          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Default FTP root path. 
<p>

<p>Definition at line <a class="el" href="ftpd_8c-source.html#l00126">126</a> of file <a class="el" href="ftpd_8c-source.html">ftpd.c</a>.</p>

<p>Referenced by <a class="el" href="ftpd_8c-source.html#l00483">NutRegisterFtpRoot()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g972c1b4b37ca75e1e499e91617a3e40b"></a><!-- doxytag: member="ftpd.c::FTP_DATA_PORT" ref="g972c1b4b37ca75e1e499e91617a3e40b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FTP_DATA_PORT&nbsp;&nbsp;&nbsp;20          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Default data port. 
<p>

<p>Definition at line <a class="el" href="ftpd_8c-source.html#l00135">135</a> of file <a class="el" href="ftpd_8c-source.html">ftpd.c</a>.</p>

<p>Referenced by <a class="el" href="ftpd_8c-source.html#l00576">NutFtpOpenSession()</a>.</p>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="gedf4862063aad8c80cf50025318e25de"></a><!-- doxytag: member="ftpd.c::NutFtpRespondOk" ref="gedf4862063aad8c80cf50025318e25de" args="(FTPSESSION *session, int code)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NutFtpRespondOk           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *&nbsp;</td>
          <td class="paramname"> <em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>code</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Send a positive response. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>session</em>&nbsp;</td><td>Pointer to an <a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> structure, obtained by a previous call to <a class="el" href="group__xg_f_t_p_d.html#g9c2f592b2642d2091ea274362d2ed6bc" title="Open an FTP server session.">NutFtpOpenSession()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>code</em>&nbsp;</td><td>Response code.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>-1 if the session ended. Otherwise 0 is returned. </dd></dl>

<p>Definition at line <a class="el" href="ftpd_8c-source.html#l00272">272</a> of file <a class="el" href="ftpd_8c-source.html">ftpd.c</a>.</p>

<p>References <a class="el" href="fflush_8c-source.html#l00071">fflush()</a>, <a class="el" href="h8_8h-source.html#l00077">fprintf_P</a>, <a class="el" href="ftpd_8h-source.html#l00083">FTPSESSION::ftp_stream</a>, <a class="el" href="icc_8h-source.html#l00136">printf</a>, and <a class="el" href="arm_8h-source.html#l00157">prog_char</a>.</p>

<p>Referenced by <a class="el" href="ftpd_8c-source.html#l00639">NutFtpProcessCwd()</a>, <a class="el" href="ftpd_8c-source.html#l00680">NutFtpProcessDelete()</a>, <a class="el" href="ftpd_8c-source.html#l00854">NutFtpProcessMkd()</a>, <a class="el" href="ftpd_8c-source.html#l00874">NutFtpProcessPass()</a>, <a class="el" href="ftpd_8c-source.html#l00927">NutFtpProcessPort()</a>, <a class="el" href="ftpd_8c-source.html#l01060">NutFtpProcessRequest()</a>, <a class="el" href="ftpd_8c-source.html#l00971">NutFtpProcessRmd()</a>, <a class="el" href="ftpd_8c-source.html#l01011">NutFtpProcessType()</a>, <a class="el" href="ftpd_8c-source.html#l01029">NutFtpProcessUser()</a>, <a class="el" href="ftpd_8c-source.html#l00784">NutFtpTransferDirectory()</a>, and <a class="el" href="ftpd_8c-source.html#l00705">NutFtpTransferFile()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g8a198e099aa073c08ae2203233bce632"></a><!-- doxytag: member="ftpd.c::NutFtpRespondBad" ref="g8a198e099aa073c08ae2203233bce632" args="(FTPSESSION *session, int code)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NutFtpRespondBad           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *&nbsp;</td>
          <td class="paramname"> <em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>code</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Send a negative response. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>session</em>&nbsp;</td><td>Pointer to an <a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> structure, obtained by a previous call to <a class="el" href="group__xg_f_t_p_d.html#g9c2f592b2642d2091ea274362d2ed6bc" title="Open an FTP server session.">NutFtpOpenSession()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>code</em>&nbsp;</td><td>Response code.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>-1 if the session ended. Otherwise 0 is returned. </dd></dl>

<p>Definition at line <a class="el" href="ftpd_8c-source.html#l00294">294</a> of file <a class="el" href="ftpd_8c-source.html">ftpd.c</a>.</p>

<p>References <a class="el" href="fflush_8c-source.html#l00071">fflush()</a>, <a class="el" href="h8_8h-source.html#l00077">fprintf_P</a>, <a class="el" href="ftpd_8h-source.html#l00083">FTPSESSION::ftp_stream</a>, <a class="el" href="icc_8h-source.html#l00136">printf</a>, and <a class="el" href="arm_8h-source.html#l00157">prog_char</a>.</p>

<p>Referenced by <a class="el" href="ftpd_8c-source.html#l00639">NutFtpProcessCwd()</a>, <a class="el" href="ftpd_8c-source.html#l00680">NutFtpProcessDelete()</a>, <a class="el" href="ftpd_8c-source.html#l00854">NutFtpProcessMkd()</a>, <a class="el" href="ftpd_8c-source.html#l00874">NutFtpProcessPass()</a>, <a class="el" href="ftpd_8c-source.html#l00927">NutFtpProcessPort()</a>, <a class="el" href="ftpd_8c-source.html#l01060">NutFtpProcessRequest()</a>, <a class="el" href="ftpd_8c-source.html#l00971">NutFtpProcessRmd()</a>, <a class="el" href="ftpd_8c-source.html#l01029">NutFtpProcessUser()</a>, <a class="el" href="ftpd_8c-source.html#l01193">NutFtpServerSession()</a>, <a class="el" href="ftpd_8c-source.html#l00784">NutFtpTransferDirectory()</a>, and <a class="el" href="ftpd_8c-source.html#l00705">NutFtpTransferFile()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g7a2c08102e2c52355561453fcb15eb5e"></a><!-- doxytag: member="ftpd.c::NutFtpSendMode" ref="g7a2c08102e2c52355561453fcb15eb5e" args="(FTPSESSION *session, int binary)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NutFtpSendMode           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *&nbsp;</td>
          <td class="paramname"> <em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>binary</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Send a response including the specified transfer mode. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>session</em>&nbsp;</td><td>Pointer to an <a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> structure, obtained by a previous call to <a class="el" href="group__xg_f_t_p_d.html#g9c2f592b2642d2091ea274362d2ed6bc" title="Open an FTP server session.">NutFtpOpenSession()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>binary</em>&nbsp;</td><td>0 indicates ASCII transfer mode.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>-1 if the session ended. Otherwise 0 is returned. </dd></dl>

<p>Definition at line <a class="el" href="ftpd_8c-source.html#l00316">316</a> of file <a class="el" href="ftpd_8c-source.html">ftpd.c</a>.</p>

<p>References <a class="el" href="fflush_8c-source.html#l00071">fflush()</a>, <a class="el" href="h8_8h-source.html#l00076">fputs_P</a>, <a class="el" href="ftpd_8h-source.html#l00083">FTPSESSION::ftp_stream</a>, <a class="el" href="icc_8h-source.html#l00136">printf</a>, and <a class="el" href="arm_8h-source.html#l00157">prog_char</a>.</p>

<p>Referenced by <a class="el" href="ftpd_8c-source.html#l00784">NutFtpTransferDirectory()</a>, and <a class="el" href="ftpd_8c-source.html#l00705">NutFtpTransferFile()</a>.</p>

</div>
</div><p>
<a class="anchor" name="gad7b7118c7f21feb01fc6db7b8b0e615"></a><!-- doxytag: member="ftpd.c::CreateFullPathName" ref="gad7b7118c7f21feb01fc6db7b8b0e615" args="(char *root, char *work, char *path)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* CreateFullPathName           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>work</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>path</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create an absolute path name. 
<p>
Combines an absolute directory path with a relative path name to a full absolute path name. The absolute directory is split into two parts, the root and the current work directory. The resulting path will never be above the specified root.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>root</em>&nbsp;</td><td>Non-empty absolute root directory path including the device name, but without a trailing slash. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>work</em>&nbsp;</td><td>Absolute work directory path below root including a leading, but without a trailing slash. This path is ignored if the relative path starts with a slash. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>Relative path name of a file or directory without any trailing slash.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Pointer to the resulting path name. The buffer for this name is allocated from heap memory. The caller is responsible for freeing it. In case of an error, a NULL pointer is returned. </dd></dl>

<p>Definition at line <a class="el" href="ftpd_8c-source.html#l00352">352</a> of file <a class="el" href="ftpd_8c-source.html">ftpd.c</a>.</p>

<p>References <a class="el" href="icc_8h-source.html#l00142">malloc</a>, <a class="el" href="strcpy_8c-source.html#l00089">strcpy()</a>, and <a class="el" href="strlen_8c-source.html#l00087">strlen()</a>.</p>

<p>Referenced by <a class="el" href="ftpd_8c-source.html#l01060">NutFtpProcessRequest()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g78bc9b7d484569dce570bf8eef609eb1"></a><!-- doxytag: member="ftpd.c::NutFtpDataConnect" ref="g78bc9b7d484569dce570bf8eef609eb1" args="(FTPSESSION *session)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TCPSOCKET* NutFtpDataConnect           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *&nbsp;</td>
          <td class="paramname"> <em>session</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Establish an FTP connection for data transfer. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>session</em>&nbsp;</td><td>Pointer to an <a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> structure, obtained by a previous call to <a class="el" href="group__xg_f_t_p_d.html#g9c2f592b2642d2091ea274362d2ed6bc" title="Open an FTP server session.">NutFtpOpenSession()</a>.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Socket descriptor of the newly created data connection or 0 if we were unable to establish the connection. </dd></dl>

<p>Definition at line <a class="el" href="ftpd_8c-source.html#l00447">447</a> of file <a class="el" href="ftpd_8c-source.html">ftpd.c</a>.</p>

<p>References <a class="el" href="ftpd_8h-source.html#l00087">FTPSESSION::ftp_data_ip</a>, <a class="el" href="ftpd_8h-source.html#l00089">FTPSESSION::ftp_data_port</a>, <a class="el" href="ftpd_8h-source.html#l00091">FTPSESSION::ftp_maxseg</a>, <a class="el" href="ftpd_8h-source.html#l00110">FTPSESSION::ftp_passive</a>, <a class="el" href="tcpsock_8c-source.html#l00671">NutTcpAccept()</a>, <a class="el" href="tcpsock_8c-source.html#l00856">NutTcpCloseSocket()</a>, <a class="el" href="tcpsock_8c-source.html#l00595">NutTcpConnect()</a>, <a class="el" href="tcpsock_8c-source.html#l00375">NutTcpCreateSocket()</a>, <a class="el" href="tcpsock_8c-source.html#l00435">NutTcpSetSockOpt()</a>, and <a class="el" href="netinet_2tcp_8h-source.html#l00218">TCP_MAXSEG</a>.</p>

<p>Referenced by <a class="el" href="ftpd_8c-source.html#l00784">NutFtpTransferDirectory()</a>, and <a class="el" href="ftpd_8c-source.html#l00705">NutFtpTransferFile()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g9e41cc8f252b71d222f0d79da1899eaf"></a><!-- doxytag: member="ftpd.c::NutRegisterFtpRoot" ref="g9e41cc8f252b71d222f0d79da1899eaf" args="(CONST char *path)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NutRegisterFtpRoot           </td>
          <td>(</td>
          <td class="paramtype">CONST char *&nbsp;</td>
          <td class="paramname"> <em>path</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Register the FTP server's root directory. 
<p>
Only one root directory is supported. Subsequent calls will override previous settings.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>Path name of the root directory. Must include the device name followed by a colon followed by an absolute directory path. May be set to NULL for the default <a class="el" href="group__xg_f_t_p_d.html#g7c5a64c63f20eb3e3ebab183895a8081" title="Default FTP root path.">FTP_ROOTPATH</a>.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 on success, -1 otherwise. </dd></dl>

<p>Definition at line <a class="el" href="ftpd_8c-source.html#l00483">483</a> of file <a class="el" href="ftpd_8c-source.html">ftpd.c</a>.</p>

<p>References <a class="el" href="icc_8h-source.html#l00145">free</a>, <a class="el" href="ftpd_8c-source.html#l00126">FTP_ROOTPATH</a>, <a class="el" href="icc_8h-source.html#l00142">malloc</a>, <a class="el" href="strchr_8c-source.html#l00089">strchr()</a>, <a class="el" href="strcpy_8c-source.html#l00089">strcpy()</a>, and <a class="el" href="strlen_8c-source.html#l00087">strlen()</a>.</p>

<p>Referenced by <a class="el" href="ftpserv_8c-source.html#l00482">main()</a>, and <a class="el" href="ftpd_8c-source.html#l01193">NutFtpServerSession()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g1be14e9d89556bb62edccd798e2f0713"></a><!-- doxytag: member="ftpd.c::NutRegisterFtpUser" ref="g1be14e9d89556bb62edccd798e2f0713" args="(CONST char *user, CONST char *pass)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NutRegisterFtpUser           </td>
          <td>(</td>
          <td class="paramtype">CONST char *&nbsp;</td>
          <td class="paramname"> <em>user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CONST char *&nbsp;</td>
          <td class="paramname"> <em>pass</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Register an FTP user. 
<p>
Only one username/password pair is supported. Subsequent calls will override previous settings.<p>
<dl class="warning" compact><dt><b>Warning:</b></dt><dd>Not successfully registering any will make file systems accessible by anyone.</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>user</em>&nbsp;</td><td>User's name. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pass</em>&nbsp;</td><td>Uncrypted password for the specified user.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 on success. -1 is returned on failures, in which case no protection may be assumed. </dd></dl>

<p>Definition at line <a class="el" href="ftpd_8c-source.html#l00543">543</a> of file <a class="el" href="ftpd_8c-source.html">ftpd.c</a>.</p>

<p>References <a class="el" href="icc_8h-source.html#l00145">free</a>, and <a class="el" href="c_2string_2strdup_8c-source.html#l00089">strdup()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g9c2f592b2642d2091ea274362d2ed6bc"></a><!-- doxytag: member="ftpd.c::NutFtpOpenSession" ref="g9c2f592b2642d2091ea274362d2ed6bc" args="(TCPSOCKET *sock)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a>* NutFtpOpenSession           </td>
          <td>(</td>
          <td class="paramtype">TCPSOCKET *&nbsp;</td>
          <td class="paramname"> <em>sock</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Open an FTP server session. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sock</em>&nbsp;</td><td>Socket of an established TCP connection.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Pointer to an <a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> structure, which can be used in subsequent API calls. NULL is returned in case of any error. </dd></dl>

<p>Definition at line <a class="el" href="ftpd_8c-source.html#l00576">576</a> of file <a class="el" href="ftpd_8c-source.html">ftpd.c</a>.</p>

<p>References <a class="el" href="fdopen_8c-source.html#l00081">_fdopen()</a>, <a class="el" href="icc_8h-source.html#l00145">free</a>, <a class="el" href="ftpd_8h-source.html#l00085">FTPSESSION::ftp_cwd</a>, <a class="el" href="ftpd_8c-source.html#l00135">FTP_DATA_PORT</a>, <a class="el" href="ftpd_8h-source.html#l00089">FTPSESSION::ftp_data_port</a>, <a class="el" href="ftpd_8h-source.html#l00091">FTPSESSION::ftp_maxseg</a>, <a class="el" href="ftpd_8h-source.html#l00081">FTPSESSION::ftp_sock</a>, <a class="el" href="ftpd_8h-source.html#l00083">FTPSESSION::ftp_stream</a>, <a class="el" href="icc_8h-source.html#l00142">malloc</a>, and <a class="el" href="memset_8c-source.html#l00088">memset()</a>.</p>

<p>Referenced by <a class="el" href="ftpd_8c-source.html#l01193">NutFtpServerSession()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g4e8a0adc4680aa66e9d4d17fdc6e985d"></a><!-- doxytag: member="ftpd.c::NutFtpCloseSession" ref="g4e8a0adc4680aa66e9d4d17fdc6e985d" args="(FTPSESSION *session)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void NutFtpCloseSession           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *&nbsp;</td>
          <td class="paramname"> <em>session</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Close an FTP server session. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>session</em>&nbsp;</td><td>Pointer to an <a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> structure, obtained by a previous call to <a class="el" href="group__xg_f_t_p_d.html#g9c2f592b2642d2091ea274362d2ed6bc" title="Open an FTP server session.">NutFtpOpenSession()</a>. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="ftpd_8c-source.html#l00617">617</a> of file <a class="el" href="ftpd_8c-source.html">ftpd.c</a>.</p>

<p>References <a class="el" href="fclose_8c-source.html#l00076">fclose()</a>, <a class="el" href="icc_8h-source.html#l00145">free</a>, <a class="el" href="ftpd_8h-source.html#l00085">FTPSESSION::ftp_cwd</a>, and <a class="el" href="ftpd_8h-source.html#l00083">FTPSESSION::ftp_stream</a>.</p>

<p>Referenced by <a class="el" href="ftpd_8c-source.html#l01193">NutFtpServerSession()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g6fe36e83d24072ff6fb7940252c51a6e"></a><!-- doxytag: member="ftpd.c::NutFtpProcessCwd" ref="g6fe36e83d24072ff6fb7940252c51a6e" args="(FTPSESSION *session, char *path)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NutFtpProcessCwd           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *&nbsp;</td>
          <td class="paramname"> <em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>path</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Process an FTP client's CWD command. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>session</em>&nbsp;</td><td>Pointer to an <a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> structure, obtained by a previous call to <a class="el" href="group__xg_f_t_p_d.html#g9c2f592b2642d2091ea274362d2ed6bc" title="Open an FTP server session.">NutFtpOpenSession()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>Full absolute path name of the directory.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 if the command has been processed or -1 if the session has been aborted. </dd></dl>

<p>Definition at line <a class="el" href="ftpd_8c-source.html#l00639">639</a> of file <a class="el" href="ftpd_8c-source.html">ftpd.c</a>.</p>

<p>References <a class="el" href="icc_8h-source.html#l00145">free</a>, <a class="el" href="ftpd_8h-source.html#l00085">FTPSESSION::ftp_cwd</a>, <a class="el" href="ftpd_8c-source.html#l00294">NutFtpRespondBad()</a>, <a class="el" href="ftpd_8c-source.html#l00272">NutFtpRespondOk()</a>, <a class="el" href="stat_8h-source.html#l00079">S_ISDIR</a>, <a class="el" href="stat_8h-source.html#l00073">stat::st_mode</a>, <a class="el" href="pathops_8c-source.html#l00196">stat()</a>, <a class="el" href="strcmp_8c-source.html#l00091">strcmp()</a>, <a class="el" href="c_2string_2strdup_8c-source.html#l00089">strdup()</a>, and <a class="el" href="strlen_8c-source.html#l00087">strlen()</a>.</p>

<p>Referenced by <a class="el" href="ftpd_8c-source.html#l01060">NutFtpProcessRequest()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g8c45cdbeb27a773812a7eb6cca53125b"></a><!-- doxytag: member="ftpd.c::NutFtpProcessDelete" ref="g8c45cdbeb27a773812a7eb6cca53125b" args="(FTPSESSION *session, char *path)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NutFtpProcessDelete           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *&nbsp;</td>
          <td class="paramname"> <em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>path</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Process an FTP client's DELE command. 
<p>
Causes the specified file to be deleted.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>session</em>&nbsp;</td><td>Pointer to an <a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> structure, obtained by a previous call to <a class="el" href="group__xg_f_t_p_d.html#g9c2f592b2642d2091ea274362d2ed6bc" title="Open an FTP server session.">NutFtpOpenSession()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>Full absolute path name of the file.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 if the command has been processed or -1 if the session has been aborted. </dd></dl>

<p>Definition at line <a class="el" href="ftpd_8c-source.html#l00680">680</a> of file <a class="el" href="ftpd_8c-source.html">ftpd.c</a>.</p>

<p>References <a class="el" href="ftpd_8c-source.html#l00294">NutFtpRespondBad()</a>, <a class="el" href="ftpd_8c-source.html#l00272">NutFtpRespondOk()</a>, and <a class="el" href="pathops_8c-source.html#l00185">unlink()</a>.</p>

<p>Referenced by <a class="el" href="ftpd_8c-source.html#l01060">NutFtpProcessRequest()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g80900fe10a1f7780a461127c77850275"></a><!-- doxytag: member="ftpd.c::NutFtpTransferFile" ref="g80900fe10a1f7780a461127c77850275" args="(FTPSESSION *session, char *path, int mode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NutFtpTransferFile           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *&nbsp;</td>
          <td class="paramname"> <em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>mode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Transfer a file to or from the FTP client. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>session</em>&nbsp;</td><td>Pointer to an <a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> structure, obtained by a previous call to <a class="el" href="group__xg_f_t_p_d.html#g9c2f592b2642d2091ea274362d2ed6bc" title="Open an FTP server session.">NutFtpOpenSession()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>Full absolute path name of the file. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mode</em>&nbsp;</td><td>If set to zero, the server will accept the data transferred via the data connection and to store the data as a file. If the file exists, then its contents will be replaced by the data being transferred. A new file is created, if the file does not already exist. If this parameter is not equal zero, then the server will transfer a copy of the specified file.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 if the command has been processed or -1 if the session has been aborted. </dd></dl>

<p>Definition at line <a class="el" href="ftpd_8c-source.html#l00705">705</a> of file <a class="el" href="ftpd_8c-source.html">ftpd.c</a>.</p>

<p>References <a class="el" href="close_8c-source.html#l00075">_close()</a>, <a class="el" href="fcntl_8h-source.html#l00084">_O_BINARY</a>, <a class="el" href="fcntl_8h-source.html#l00080">_O_CREAT</a>, <a class="el" href="fcntl_8h-source.html#l00076">_O_RDONLY</a>, <a class="el" href="fcntl_8h-source.html#l00081">_O_TRUNC</a>, <a class="el" href="open_8c-source.html#l00094">_open()</a>, <a class="el" href="io_8h.html#a7278892ff16de3dd3d00ff4a89d11e4">_read()</a>, <a class="el" href="io_8h.html#901fa187b164dd6faaac1b62c88614b5">_write()</a>, <a class="el" href="icc_8h-source.html#l00145">free</a>, <a class="el" href="ftpd_8h-source.html#l00104">FTPSESSION::ftp_tran_mode</a>, <a class="el" href="icc_8h-source.html#l00142">malloc</a>, <a class="el" href="ftpd_8c-source.html#l00447">NutFtpDataConnect()</a>, <a class="el" href="ftpd_8c-source.html#l00294">NutFtpRespondBad()</a>, <a class="el" href="ftpd_8c-source.html#l00272">NutFtpRespondOk()</a>, <a class="el" href="ftpd_8c-source.html#l00316">NutFtpSendMode()</a>, <a class="el" href="tcpsock_8c-source.html#l00856">NutTcpCloseSocket()</a>, <a class="el" href="tcpsock_8c-source.html#l00764">NutTcpReceive()</a>, <a class="el" href="tcpsock_8c-source.html#l00694">NutTcpSend()</a>, and <a class="el" href="pathops_8c-source.html#l00185">unlink()</a>.</p>

<p>Referenced by <a class="el" href="ftpd_8c-source.html#l01060">NutFtpProcessRequest()</a>.</p>

</div>
</div><p>
<a class="anchor" name="gf4296b0e186e55d915fb843f7fde9b20"></a><!-- doxytag: member="ftpd.c::NutFtpTransferDirectory" ref="gf4296b0e186e55d915fb843f7fde9b20" args="(FTPSESSION *session, char *path)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NutFtpTransferDirectory           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *&nbsp;</td>
          <td class="paramname"> <em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>path</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Process an FTP client's LIST or NLST command. 
<p>
Causes a directory listing to be sent to the client.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>session</em>&nbsp;</td><td>Pointer to an <a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> structure, obtained by a previous call to <a class="el" href="group__xg_f_t_p_d.html#g9c2f592b2642d2091ea274362d2ed6bc" title="Open an FTP server session.">NutFtpOpenSession()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>Full absolute path name of the directory.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 if the command has been processed or -1 if the session has been aborted. </dd></dl>

<p>Definition at line <a class="el" href="ftpd_8c-source.html#l00784">784</a> of file <a class="el" href="ftpd_8c-source.html">ftpd.c</a>.</p>

<p>References <a class="el" href="fdopen_8c-source.html#l00081">_fdopen()</a>, <a class="el" href="dirent_8c-source.html#l00190">closedir()</a>, <a class="el" href="dirent_8h-source.html#l00124">dirent::d_name</a>, <a class="el" href="fclose_8c-source.html#l00076">fclose()</a>, <a class="el" href="fprintf_8c-source.html#l00068">fprintf()</a>, <a class="el" href="fputc_8c-source.html#l00069">fputc()</a>, <a class="el" href="fputs_8c-source.html#l00070">fputs()</a>, <a class="el" href="icc_8h-source.html#l00145">free</a>, <a class="el" href="gmtime_8c-source.html#l00195">gmtime()</a>, <a class="el" href="icc_8h-source.html#l00142">malloc</a>, <a class="el" href="ftpd_8c-source.html#l00447">NutFtpDataConnect()</a>, <a class="el" href="ftpd_8c-source.html#l00294">NutFtpRespondBad()</a>, <a class="el" href="ftpd_8c-source.html#l00272">NutFtpRespondOk()</a>, <a class="el" href="ftpd_8c-source.html#l00316">NutFtpSendMode()</a>, <a class="el" href="tcpsock_8c-source.html#l00856">NutTcpCloseSocket()</a>, <a class="el" href="dirent_8c-source.html#l00130">opendir()</a>, <a class="el" href="dirent_8c-source.html#l00213">readdir()</a>, <a class="el" href="stat_8h-source.html#l00079">S_ISDIR</a>, <a class="el" href="icc_8h-source.html#l00138">sprintf</a>, <a class="el" href="stat_8h-source.html#l00073">stat::st_mode</a>, <a class="el" href="stat_8h-source.html#l00076">stat::st_mtime</a>, <a class="el" href="stat_8h-source.html#l00075">stat::st_size</a>, <a class="el" href="pathops_8c-source.html#l00196">stat()</a>, and <a class="el" href="strlen_8c-source.html#l00087">strlen()</a>.</p>

<p>Referenced by <a class="el" href="ftpd_8c-source.html#l01060">NutFtpProcessRequest()</a>.</p>

</div>
</div><p>
<a class="anchor" name="ge85078df724a2046bfab56e88c058357"></a><!-- doxytag: member="ftpd.c::NutFtpProcessMkd" ref="ge85078df724a2046bfab56e88c058357" args="(FTPSESSION *session, char *path)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NutFtpProcessMkd           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *&nbsp;</td>
          <td class="paramname"> <em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>path</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Process an FTP client's MKD command. 
<p>
Causes the specified directory to be created.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>session</em>&nbsp;</td><td>Pointer to an <a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> structure, obtained by a previous call to <a class="el" href="group__xg_f_t_p_d.html#g9c2f592b2642d2091ea274362d2ed6bc" title="Open an FTP server session.">NutFtpOpenSession()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>Full absolute path name of the directory.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 if the command has been processed or -1 if the session has been aborted. </dd></dl>

<p>Definition at line <a class="el" href="ftpd_8c-source.html#l00854">854</a> of file <a class="el" href="ftpd_8c-source.html">ftpd.c</a>.</p>

<p>References <a class="el" href="pathops_8c-source.html#l00237">mkdir()</a>, <a class="el" href="ftpd_8c-source.html#l00294">NutFtpRespondBad()</a>, and <a class="el" href="ftpd_8c-source.html#l00272">NutFtpRespondOk()</a>.</p>

<p>Referenced by <a class="el" href="ftpd_8c-source.html#l01060">NutFtpProcessRequest()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g836d1cf7dc7ef29c929f6780477851f7"></a><!-- doxytag: member="ftpd.c::NutFtpProcessPass" ref="g836d1cf7dc7ef29c929f6780477851f7" args="(FTPSESSION *session, char *pass)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NutFtpProcessPass           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *&nbsp;</td>
          <td class="paramname"> <em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>pass</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Process an FTP client's PASS command. 
<p>
Only one login per session is accepted.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>session</em>&nbsp;</td><td>Pointer to an <a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> structure, obtained by a previous call to <a class="el" href="group__xg_f_t_p_d.html#g9c2f592b2642d2091ea274362d2ed6bc" title="Open an FTP server session.">NutFtpOpenSession()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pass</em>&nbsp;</td><td>Password.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 if the command has been processed or -1 if the session has been aborted. </dd></dl>

<p>Definition at line <a class="el" href="ftpd_8c-source.html#l00874">874</a> of file <a class="el" href="ftpd_8c-source.html">ftpd.c</a>.</p>

<p>References <a class="el" href="ftpd_8h-source.html#l00098">FTPSESSION::ftp_login</a>, <a class="el" href="ftpd_8c-source.html#l00294">NutFtpRespondBad()</a>, <a class="el" href="ftpd_8c-source.html#l00272">NutFtpRespondOk()</a>, and <a class="el" href="strcmp_8c-source.html#l00091">strcmp()</a>.</p>

<p>Referenced by <a class="el" href="ftpd_8c-source.html#l01060">NutFtpProcessRequest()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g3564dcac7a3f46dcf9c77c78d3318b71"></a><!-- doxytag: member="ftpd.c::NutFtpProcessPassiv" ref="g3564dcac7a3f46dcf9c77c78d3318b71" args="(FTPSESSION *session)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NutFtpProcessPassiv           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *&nbsp;</td>
          <td class="paramname"> <em>session</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Process an FTP client's PASV command. 
<p>
This command requests the server to listen on a data port and to wait for a connection rather than initiate one upon receipt of a transfer command.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>session</em>&nbsp;</td><td>Pointer to an <a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> structure, obtained by a previous call to <a class="el" href="group__xg_f_t_p_d.html#g9c2f592b2642d2091ea274362d2ed6bc" title="Open an FTP server session.">NutFtpOpenSession()</a>.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 if the command has been processed or -1 if the session has been aborted. </dd></dl>

<p>Definition at line <a class="el" href="ftpd_8c-source.html#l00899">899</a> of file <a class="el" href="ftpd_8c-source.html">ftpd.c</a>.</p>

<p>References <a class="el" href="fflush_8c-source.html#l00071">fflush()</a>, <a class="el" href="fprintf_8c-source.html#l00068">fprintf()</a>, <a class="el" href="ftpd_8h-source.html#l00110">FTPSESSION::ftp_passive</a>, <a class="el" href="ftpd_8h-source.html#l00081">FTPSESSION::ftp_sock</a>, and <a class="el" href="ftpd_8h-source.html#l00083">FTPSESSION::ftp_stream</a>.</p>

<p>Referenced by <a class="el" href="ftpd_8c-source.html#l01060">NutFtpProcessRequest()</a>.</p>

</div>
</div><p>
<a class="anchor" name="gcf9843833821d7c38e7c1869c8555f68"></a><!-- doxytag: member="ftpd.c::NutFtpProcessPort" ref="gcf9843833821d7c38e7c1869c8555f68" args="(FTPSESSION *session, char *args)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NutFtpProcessPort           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *&nbsp;</td>
          <td class="paramname"> <em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>args</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Process an FTP client's PORT command. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>session</em>&nbsp;</td><td>Pointer to an <a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> structure, obtained by a previous call to <a class="el" href="group__xg_f_t_p_d.html#g9c2f592b2642d2091ea274362d2ed6bc" title="Open an FTP server session.">NutFtpOpenSession()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>args</em>&nbsp;</td><td>Command argument, which is the concatenation of the 32-bit internet host address and a 16-bit TCP port address. This address information is broken into 8-bit fields and the value of each field is transmitted as a decimal number.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 if the command has been processed or -1 if the session has been aborted. </dd></dl>

<p>Definition at line <a class="el" href="ftpd_8c-source.html#l00927">927</a> of file <a class="el" href="ftpd_8c-source.html">ftpd.c</a>.</p>

<p>References <a class="el" href="ftpd_8h-source.html#l00087">FTPSESSION::ftp_data_ip</a>, <a class="el" href="ftpd_8h-source.html#l00089">FTPSESSION::ftp_data_port</a>, <a class="el" href="ftpd_8h-source.html#l00081">FTPSESSION::ftp_sock</a>, <a class="el" href="ftpd_8c-source.html#l00294">NutFtpRespondBad()</a>, and <a class="el" href="ftpd_8c-source.html#l00272">NutFtpRespondOk()</a>.</p>

<p>Referenced by <a class="el" href="ftpd_8c-source.html#l01060">NutFtpProcessRequest()</a>.</p>

</div>
</div><p>
<a class="anchor" name="ga58ab5aeaa0551c2a809e2d881b9272c"></a><!-- doxytag: member="ftpd.c::NutFtpProcessPwd" ref="ga58ab5aeaa0551c2a809e2d881b9272c" args="(FTPSESSION *session)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NutFtpProcessPwd           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *&nbsp;</td>
          <td class="paramname"> <em>session</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Process an FTP client's PWD command. 
<p>
Causes the name of the current working directory to be returned in the reply.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>session</em>&nbsp;</td><td>Pointer to an <a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> structure, obtained by a previous call to <a class="el" href="group__xg_f_t_p_d.html#g9c2f592b2642d2091ea274362d2ed6bc" title="Open an FTP server session.">NutFtpOpenSession()</a>.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 if the command has been processed or -1 if the session has been aborted. </dd></dl>

<p>Definition at line <a class="el" href="ftpd_8c-source.html#l00950">950</a> of file <a class="el" href="ftpd_8c-source.html">ftpd.c</a>.</p>

<p>References <a class="el" href="fprintf_8c-source.html#l00068">fprintf()</a>, <a class="el" href="ftpd_8h-source.html#l00085">FTPSESSION::ftp_cwd</a>, <a class="el" href="ftpd_8h-source.html#l00083">FTPSESSION::ftp_stream</a>, and <a class="el" href="icc_8h-source.html#l00136">printf</a>.</p>

<p>Referenced by <a class="el" href="ftpd_8c-source.html#l01060">NutFtpProcessRequest()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g7b759361ed3c5ccb69461713e1857d7e"></a><!-- doxytag: member="ftpd.c::NutFtpProcessRmd" ref="g7b759361ed3c5ccb69461713e1857d7e" args="(FTPSESSION *session, char *path)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NutFtpProcessRmd           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *&nbsp;</td>
          <td class="paramname"> <em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>path</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Process an FTP client's RMD command. 
<p>
Causes the specified directory to be removed.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>session</em>&nbsp;</td><td>Pointer to an <a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> structure, obtained by a previous call to <a class="el" href="group__xg_f_t_p_d.html#g9c2f592b2642d2091ea274362d2ed6bc" title="Open an FTP server session.">NutFtpOpenSession()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>Full absolute path name of the directory.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 if the command has been processed or -1 if the session has been aborted. </dd></dl>

<p>Definition at line <a class="el" href="ftpd_8c-source.html#l00971">971</a> of file <a class="el" href="ftpd_8c-source.html">ftpd.c</a>.</p>

<p>References <a class="el" href="ftpd_8c-source.html#l00294">NutFtpRespondBad()</a>, <a class="el" href="ftpd_8c-source.html#l00272">NutFtpRespondOk()</a>, and <a class="el" href="pathops_8c-source.html#l00175">rmdir()</a>.</p>

<p>Referenced by <a class="el" href="ftpd_8c-source.html#l01060">NutFtpProcessRequest()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g727082f5c302cc37743c98321ace0509"></a><!-- doxytag: member="ftpd.c::NutFtpProcessSystem" ref="g727082f5c302cc37743c98321ace0509" args="(FTPSESSION *session)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NutFtpProcessSystem           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *&nbsp;</td>
          <td class="paramname"> <em>session</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Process an FTP client's SYST command. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>session</em>&nbsp;</td><td>Pointer to an <a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> structure, obtained by a previous call to <a class="el" href="group__xg_f_t_p_d.html#g9c2f592b2642d2091ea274362d2ed6bc" title="Open an FTP server session.">NutFtpOpenSession()</a>.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 if the command has been processed or -1 if the session has been aborted. </dd></dl>

<p>Definition at line <a class="el" href="ftpd_8c-source.html#l00988">988</a> of file <a class="el" href="ftpd_8c-source.html">ftpd.c</a>.</p>

<p>References <a class="el" href="fputs_8c-source.html#l00070">fputs()</a>, <a class="el" href="ftpd_8h-source.html#l00083">FTPSESSION::ftp_stream</a>, and <a class="el" href="icc_8h-source.html#l00136">printf</a>.</p>

<p>Referenced by <a class="el" href="ftpd_8c-source.html#l01060">NutFtpProcessRequest()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g09e1a0621e8b56f44b884aac05567607"></a><!-- doxytag: member="ftpd.c::NutFtpProcessType" ref="g09e1a0621e8b56f44b884aac05567607" args="(FTPSESSION *session, char *typecode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NutFtpProcessType           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *&nbsp;</td>
          <td class="paramname"> <em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>typecode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Process an FTP client's TYPE command. 
<p>
The type is not fully checked. Any argument starting with the letters 'A' or 'a' will switch the transfer mode to ASCII. Otherwise binary mode is set.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>session</em>&nbsp;</td><td>Pointer to an <a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> structure, obtained by a previous call to <a class="el" href="group__xg_f_t_p_d.html#g9c2f592b2642d2091ea274362d2ed6bc" title="Open an FTP server session.">NutFtpOpenSession()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>typecode</em>&nbsp;</td><td>Command arguments.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 if the command has been processed or -1 if the session has been aborted. </dd></dl>

<p>Definition at line <a class="el" href="ftpd_8c-source.html#l01011">1011</a> of file <a class="el" href="ftpd_8c-source.html">ftpd.c</a>.</p>

<p>References <a class="el" href="ftpd_8h-source.html#l00104">FTPSESSION::ftp_tran_mode</a>, and <a class="el" href="ftpd_8c-source.html#l00272">NutFtpRespondOk()</a>.</p>

<p>Referenced by <a class="el" href="ftpd_8c-source.html#l01060">NutFtpProcessRequest()</a>.</p>

</div>
</div><p>
<a class="anchor" name="gccd498f6cc8f1c9fe4cbc2835ea2d7cc"></a><!-- doxytag: member="ftpd.c::NutFtpProcessUser" ref="gccd498f6cc8f1c9fe4cbc2835ea2d7cc" args="(FTPSESSION *session, char *user)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NutFtpProcessUser           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *&nbsp;</td>
          <td class="paramname"> <em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>user</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Process an FTP client's USER command. 
<p>
Only one login per session is accepted.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>session</em>&nbsp;</td><td>Pointer to an <a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> structure, obtained by a previous call to <a class="el" href="group__xg_f_t_p_d.html#g9c2f592b2642d2091ea274362d2ed6bc" title="Open an FTP server session.">NutFtpOpenSession()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>user</em>&nbsp;</td><td>User name.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 if the command has been processed or -1 if the session has been aborted. </dd></dl>

<p>Definition at line <a class="el" href="ftpd_8c-source.html#l01029">1029</a> of file <a class="el" href="ftpd_8c-source.html">ftpd.c</a>.</p>

<p>References <a class="el" href="ftpd_8h-source.html#l00098">FTPSESSION::ftp_login</a>, <a class="el" href="ftpd_8c-source.html#l00294">NutFtpRespondBad()</a>, <a class="el" href="ftpd_8c-source.html#l00272">NutFtpRespondOk()</a>, and <a class="el" href="strcmp_8c-source.html#l00091">strcmp()</a>.</p>

<p>Referenced by <a class="el" href="ftpd_8c-source.html#l01060">NutFtpProcessRequest()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g5b72e2b9bea1143ace7837526d573444"></a><!-- doxytag: member="ftpd.c::NutFtpProcessRequest" ref="g5b72e2b9bea1143ace7837526d573444" args="(FTPSESSION *session, char *request)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NutFtpProcessRequest           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *&nbsp;</td>
          <td class="paramname"> <em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>request</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Process an FTP request. 
<p>
This routine implements the protocol interpreter of the FTP server.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>session</em>&nbsp;</td><td>Pointer to an <a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> structure, obtained by a previous call to <a class="el" href="group__xg_f_t_p_d.html#g9c2f592b2642d2091ea274362d2ed6bc" title="Open an FTP server session.">NutFtpOpenSession()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>request</em>&nbsp;</td><td>Request string.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>-1 if the session ended. Otherwise 0 is returned. </dd></dl>

<p>Definition at line <a class="el" href="ftpd_8c-source.html#l01060">1060</a> of file <a class="el" href="ftpd_8c-source.html">ftpd.c</a>.</p>

<p>References <a class="el" href="ftpd_8c-source.html#l00352">CreateFullPathName()</a>, <a class="el" href="icc_8h-source.html#l00145">free</a>, <a class="el" href="ftpd_8h-source.html#l00085">FTPSESSION::ftp_cwd</a>, <a class="el" href="ftpd_8h-source.html#l00098">FTPSESSION::ftp_login</a>, <a class="el" href="ftpd_8c-source.html#l00639">NutFtpProcessCwd()</a>, <a class="el" href="ftpd_8c-source.html#l00680">NutFtpProcessDelete()</a>, <a class="el" href="ftpd_8c-source.html#l00854">NutFtpProcessMkd()</a>, <a class="el" href="ftpd_8c-source.html#l00874">NutFtpProcessPass()</a>, <a class="el" href="ftpd_8c-source.html#l00899">NutFtpProcessPassiv()</a>, <a class="el" href="ftpd_8c-source.html#l00927">NutFtpProcessPort()</a>, <a class="el" href="ftpd_8c-source.html#l00950">NutFtpProcessPwd()</a>, <a class="el" href="ftpd_8c-source.html#l00971">NutFtpProcessRmd()</a>, <a class="el" href="ftpd_8c-source.html#l00988">NutFtpProcessSystem()</a>, <a class="el" href="ftpd_8c-source.html#l01011">NutFtpProcessType()</a>, <a class="el" href="ftpd_8c-source.html#l01029">NutFtpProcessUser()</a>, <a class="el" href="ftpd_8c-source.html#l00294">NutFtpRespondBad()</a>, <a class="el" href="ftpd_8c-source.html#l00272">NutFtpRespondOk()</a>, <a class="el" href="ftpd_8c-source.html#l00784">NutFtpTransferDirectory()</a>, <a class="el" href="ftpd_8c-source.html#l00705">NutFtpTransferFile()</a>, <a class="el" href="icc_8h-source.html#l00136">printf</a>, and <a class="el" href="arm_8h-source.html#l00170">strcmp_P</a>.</p>

<p>Referenced by <a class="el" href="ftpd_8c-source.html#l01193">NutFtpServerSession()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g6914104d8828e12e70984be621c87269"></a><!-- doxytag: member="ftpd.c::NutFtpServerSession" ref="g6914104d8828e12e70984be621c87269" args="(TCPSOCKET *sock)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NutFtpServerSession           </td>
          <td>(</td>
          <td class="paramtype">TCPSOCKET *&nbsp;</td>
          <td class="paramname"> <em>sock</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Process an FTP sever session. 
<p>
Processes FTP requests on an established connection with an FTP client. This routine completely implements an FTP server except TCP connect and disconnect.<p>
For file transfers, the same maximum segment size and timeouts as set for this socket will be used for the data connection.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sock</em>&nbsp;</td><td>Socket of an established TCP connection.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 if the session ended successfully or -1 if the session has been aborted. </dd></dl>

<p>Definition at line <a class="el" href="ftpd_8c-source.html#l01193">1193</a> of file <a class="el" href="ftpd_8c-source.html">ftpd.c</a>.</p>

<p>References <a class="el" href="fflush_8c-source.html#l00071">fflush()</a>, <a class="el" href="fgets_8c-source.html#l00073">fgets()</a>, <a class="el" href="h8_8h-source.html#l00077">fprintf_P</a>, <a class="el" href="icc_8h-source.html#l00145">free</a>, <a class="el" href="ftpd_8h-source.html#l00071">FTP_MAX_CMDBUF</a>, <a class="el" href="ftpd_8h-source.html#l00083">FTPSESSION::ftp_stream</a>, <a class="el" href="localtim_8c-source.html#l00209">localtime()</a>, <a class="el" href="icc_8h-source.html#l00142">malloc</a>, <a class="el" href="ftpd_8c-source.html#l00617">NutFtpCloseSession()</a>, <a class="el" href="ftpd_8c-source.html#l00576">NutFtpOpenSession()</a>, <a class="el" href="ftpd_8c-source.html#l01060">NutFtpProcessRequest()</a>, <a class="el" href="ftpd_8c-source.html#l00294">NutFtpRespondBad()</a>, <a class="el" href="ftpd_8c-source.html#l00483">NutRegisterFtpRoot()</a>, <a class="el" href="version_8c-source.html#l00287">NutVersionString()</a>, <a class="el" href="icc_8h-source.html#l00136">printf</a>, <a class="el" href="printf__p_8c-source.html#l00070">printf_P()</a>, <a class="el" href="strlen_8c-source.html#l00087">strlen()</a>, <a class="el" href="time_8c-source.html#l00089">time()</a>, <a class="el" href="time_8h-source.html#l00098">tm::tm_hour</a>, <a class="el" href="time_8h-source.html#l00099">tm::tm_mday</a>, <a class="el" href="time_8h-source.html#l00097">tm::tm_min</a>, <a class="el" href="time_8h-source.html#l00100">tm::tm_mon</a>, and <a class="el" href="time_8h-source.html#l00096">tm::tm_sec</a>.</p>

<p>Referenced by <a class="el" href="ftpserv_8c-source.html#l00274">FtpService()</a>.</p>

</div>
</div><p>
</div>
<hr>
<address>
  <small>
    &copy;&nbsp;2000-2007 by egnite Software GmbH - 
    visit <a href="http://www.ethernut.de/">http://www.ethernut.de/</a>
  </small>
</address>
</body>
</html>
