<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <title>Nut/OS API</title>
    <link href="nut_en.css" rel="stylesheet" type="text/css">
    <link href="nut_entabs.css" rel="stylesheet" type="text/css">
</head>
<body>
<!-- Generated by Doxygen 1.5.8 -->
  <div class="navpath"><a class="el" href="dir_81006e530ae69d901a01dddafc7fbce4.html">include</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_969c02ae6ff18f78bc9451f2d5e01ac1.html">pro</a>
  </div>
<div class="contents">
<h1>rfctime.h File Reference</h1>RFC date and time conversion header.  
<a href="#_details">More...</a>
<p>

<p>
<a href="rfctime_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rfctime_8h.html#4c9b4f497dc1389439566e8e94ed51c9">Rfc1123TimeString</a> (struct <a class="el" href="struct__tm.html">_tm</a> *tm)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create RFC 1123 date and time string.  <a href="#4c9b4f497dc1389439566e8e94ed51c9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__xg_crt_time.html#ge33b844d9ee195d9df95b93b5fb312c5">time_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rfctime_8h.html#b7483c1b587320e72ccb2f307709c8c2">RfcTimeParse</a> (CONST char *str)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Parse RFC date and time string.  <a href="#b7483c1b587320e72ccb2f307709c8c2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rfctime_8h.html#592abb1493ab5329b049ad24b554a678">TimeParseHms</a> (CONST char *str, int *hour, int *min, int *sec)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Parse time of day string.  <a href="#592abb1493ab5329b049ad24b554a678"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rfctime_8h.html#b3c700e7467e9af4807bd9261b489c03">TimeParseDmy</a> (CONST char *str, int *mday, int *mon, int *year)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Parse date string.  <a href="#b3c700e7467e9af4807bd9261b489c03"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rfctime_8h.html#391dd6772e9018e1cc6c67770a4a079c">TimeParseMonth</a> (CONST char *str, int *month)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Parse a string for the name of a month.  <a href="#391dd6772e9018e1cc6c67770a4a079c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rfctime_8h.html#2db0d70715d290f54e9c3946bb4a3066">TimeParseYear</a> (CONST char *str, int *year)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Parse string containing the year.  <a href="#2db0d70715d290f54e9c3946bb4a3066"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
RFC date and time conversion header. 
<p>
<div class="fragment"><pre class="fragment">
 *
 * $Log$
 * Revision 1.1  2008/01/31 09:29:05  haraldkipp
 * RFC date and time conversion added.
 *
 *
 * </pre></div> 
<p>Definition in file <a class="el" href="rfctime_8h-source.html">rfctime.h</a>.</p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="4c9b4f497dc1389439566e8e94ed51c9"></a><!-- doxytag: member="rfctime.h::Rfc1123TimeString" ref="4c9b4f497dc1389439566e8e94ed51c9" args="(struct _tm *tm)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* Rfc1123TimeString           </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct__tm.html">_tm</a> *&nbsp;</td>
          <td class="paramname"> <em>tm</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create RFC 1123 date and time string. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>tm</em>&nbsp;</td><td>Pointer to the date and time structure.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Pointer to a static buffer containing the string. </dd></dl>

<p>Definition at line <a class="el" href="rfctime_8c-source.html#l00309">309</a> of file <a class="el" href="rfctime_8c-source.html">rfctime.c</a>.</p>

<p>References <a class="el" href="icc_8h-source.html#l00138">sprintf</a>, <a class="el" href="time_8h-source.html#l00098">tm::tm_hour</a>, <a class="el" href="time_8h-source.html#l00099">tm::tm_mday</a>, <a class="el" href="time_8h-source.html#l00097">tm::tm_min</a>, <a class="el" href="time_8h-source.html#l00100">tm::tm_mon</a>, <a class="el" href="time_8h-source.html#l00096">tm::tm_sec</a>, <a class="el" href="time_8h-source.html#l00102">tm::tm_wday</a>, and <a class="el" href="time_8h-source.html#l00101">tm::tm_year</a>.</p>

<p>Referenced by <a class="el" href="httpd_8c-source.html#l00234">NutHttpSendHeaderTop()</a>.</p>

</div>
</div><p>
<a class="anchor" name="b7483c1b587320e72ccb2f307709c8c2"></a><!-- doxytag: member="rfctime.h::RfcTimeParse" ref="b7483c1b587320e72ccb2f307709c8c2" args="(CONST char *str)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__xg_crt_time.html#ge33b844d9ee195d9df95b93b5fb312c5">time_t</a> RfcTimeParse           </td>
          <td>(</td>
          <td class="paramtype">CONST char *&nbsp;</td>
          <td class="paramname"> <em>str</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Parse RFC date and time string. 
<p>
This routine accepts RFC 850, RFC 1123 and asctime time formats.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>str</em>&nbsp;</td><td>Pointer to the date and time string.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Number of seconds since epoch or -1 in case of any error. </dd></dl>

<p>Definition at line <a class="el" href="rfctime_8c-source.html#l00264">264</a> of file <a class="el" href="rfctime_8c-source.html">rfctime.c</a>.</p>

<p>References <a class="el" href="mktime_8c-source.html#l00284">_mkgmtime()</a>, <a class="el" href="mktime_8c-source.html#l00279">mktime()</a>, <a class="el" href="strcmp_8c-source.html#l00091">strcmp()</a>, <a class="el" href="rfctime_8c-source.html#l00210">TimeParseDmy()</a>, <a class="el" href="rfctime_8c-source.html#l00237">TimeParseHms()</a>, <a class="el" href="rfctime_8c-source.html#l00135">TimeParseMonth()</a>, <a class="el" href="rfctime_8c-source.html#l00109">TimeParseYear()</a>, <a class="el" href="time_8h-source.html#l00098">tm::tm_hour</a>, <a class="el" href="time_8h-source.html#l00099">tm::tm_mday</a>, <a class="el" href="time_8h-source.html#l00097">tm::tm_min</a>, <a class="el" href="time_8h-source.html#l00100">tm::tm_mon</a>, <a class="el" href="time_8h-source.html#l00096">tm::tm_sec</a>, and <a class="el" href="time_8h-source.html#l00101">tm::tm_year</a>.</p>

<p>Referenced by <a class="el" href="httpd_8c-source.html#l00753">NutHttpProcessRequest()</a>.</p>

</div>
</div><p>
<a class="anchor" name="592abb1493ab5329b049ad24b554a678"></a><!-- doxytag: member="rfctime.h::TimeParseHms" ref="592abb1493ab5329b049ad24b554a678" args="(CONST char *str, int *hour, int *min, int *sec)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* TimeParseHms           </td>
          <td>(</td>
          <td class="paramtype">CONST char *&nbsp;</td>
          <td class="paramname"> <em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>hour</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>sec</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Parse time of day string. 
<p>
Parses a string of the format hour ':' minute ':' second.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>str</em>&nbsp;</td><td>Pointer to the time string. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>hour</em>&nbsp;</td><td>Points to the variable that will receive the hour (0..23). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>min</em>&nbsp;</td><td>Points to the variable that will receive the minute (0..59). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sec</em>&nbsp;</td><td>Points to the variable that will receive the second (0..59).</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Pointer into the string after the parsed characters. </dd></dl>

<p>Definition at line <a class="el" href="rfctime_8c-source.html#l00237">237</a> of file <a class="el" href="rfctime_8c-source.html">rfctime.c</a>.</p>

<p>Referenced by <a class="el" href="rfctime_8c-source.html#l00264">RfcTimeParse()</a>.</p>

</div>
</div><p>
<a class="anchor" name="b3c700e7467e9af4807bd9261b489c03"></a><!-- doxytag: member="rfctime.h::TimeParseDmy" ref="b3c700e7467e9af4807bd9261b489c03" args="(CONST char *str, int *mday, int *mon, int *year)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* TimeParseDmy           </td>
          <td>(</td>
          <td class="paramtype">CONST char *&nbsp;</td>
          <td class="paramname"> <em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>mday</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>mon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>year</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Parse date string. 
<p>
Parses a string of the format day 'x' month-name 'x' year, where 'x' is any non-alphanumeric character.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>str</em>&nbsp;</td><td>Pointer to the date string. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mday</em>&nbsp;</td><td>Points to the variable that will receive the day (1..31). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mon</em>&nbsp;</td><td>Points to the variable that will receive the month (0..11). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>year</em>&nbsp;</td><td>Points to the variable that will receive the years since 1900.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Pointer into the string after the parsed characters. </dd></dl>

<p>Definition at line <a class="el" href="rfctime_8c-source.html#l00210">210</a> of file <a class="el" href="rfctime_8c-source.html">rfctime.c</a>.</p>

<p>References <a class="el" href="rfctime_8c-source.html#l00135">TimeParseMonth()</a>, and <a class="el" href="rfctime_8c-source.html#l00109">TimeParseYear()</a>.</p>

<p>Referenced by <a class="el" href="rfctime_8c-source.html#l00264">RfcTimeParse()</a>.</p>

</div>
</div><p>
<a class="anchor" name="391dd6772e9018e1cc6c67770a4a079c"></a><!-- doxytag: member="rfctime.h::TimeParseMonth" ref="391dd6772e9018e1cc6c67770a4a079c" args="(CONST char *str, int *month)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* TimeParseMonth           </td>
          <td>(</td>
          <td class="paramtype">CONST char *&nbsp;</td>
          <td class="paramname"> <em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>month</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Parse a string for the name of a month. 
<p>
Does basic comparision only, no range checking etc. For example, if the string starts with capital letter 'D', December is assumed without further checking the rest. It will work for abbreviated as well as full names.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>str</em>&nbsp;</td><td>Pointer to the time string. Must start with a capital letter followed by lower case characters. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>month</em>&nbsp;</td><td>Points to the variable that will receive the month (0..11).</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Pointer into the string after the parsed characters. </dd></dl>

<p>Definition at line <a class="el" href="rfctime_8c-source.html#l00135">135</a> of file <a class="el" href="rfctime_8c-source.html">rfctime.c</a>.</p>

<p>Referenced by <a class="el" href="rfctime_8c-source.html#l00264">RfcTimeParse()</a>, and <a class="el" href="rfctime_8c-source.html#l00210">TimeParseDmy()</a>.</p>

</div>
</div><p>
<a class="anchor" name="2db0d70715d290f54e9c3946bb4a3066"></a><!-- doxytag: member="rfctime.h::TimeParseYear" ref="2db0d70715d290f54e9c3946bb4a3066" args="(CONST char *str, int *year)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* TimeParseYear           </td>
          <td>(</td>
          <td class="paramtype">CONST char *&nbsp;</td>
          <td class="paramname"> <em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>year</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Parse string containing the year. 
<p>
Works with years including and excluding the century. If the resulting value is lower than 70, the 21st century is assumed. Values<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>str</em>&nbsp;</td><td>Pointer to the time string. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>year</em>&nbsp;</td><td>Points to the variable that will receive the years since 1900.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Pointer into the string after the parsed characters. </dd></dl>

<p>Definition at line <a class="el" href="rfctime_8c-source.html#l00109">109</a> of file <a class="el" href="rfctime_8c-source.html">rfctime.c</a>.</p>

<p>Referenced by <a class="el" href="rfctime_8c-source.html#l00264">RfcTimeParse()</a>, and <a class="el" href="rfctime_8c-source.html#l00210">TimeParseDmy()</a>.</p>

</div>
</div><p>
</div>
<hr>
<address>
  <small>
    &copy;&nbsp;2000-2007 by egnite Software GmbH - 
    visit <a href="http://www.ethernut.de/">http://www.ethernut.de/</a>
  </small>
</address>
</body>
</html>
