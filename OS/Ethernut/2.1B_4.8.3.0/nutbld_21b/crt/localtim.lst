GAS LISTING C:\Temp/cciuwSHJ.s 			page 1


   1               		.file	"localtim.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__  = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.global __do_copy_data
   9               		.global __do_clear_bss
  10               		.text
  11               	.global	localtime_r
  12               		.type	localtime_r, @function
  13               	localtime_r:
  14 0000 CF92      		push r12
  15 0002 DF92      		push r13
  16 0004 EF92      		push r14
  17 0006 FF92      		push r15
  18 0008 0F93      		push r16
  19 000a 1F93      		push r17
  20 000c DF93      		push r29
  21 000e CF93      		push r28
  22 0010 00D0      		rcall .
  23 0012 00D0      		rcall .
  24 0014 CDB7      		in r28,__SP_L__
  25 0016 DEB7      		in r29,__SP_H__
  26               	/* prologue: function */
  27               	/* frame size = 4 */
  28 0018 FC01      		movw r30,r24
  29 001a 6B01      		movw r12,r22
  30 001c 2081      		ld r18,Z
  31 001e 3181      		ldd r19,Z+1
  32 0020 4281      		ldd r20,Z+2
  33 0022 5381      		ldd r21,Z+3
  34 0024 DA01      		movw r26,r20
  35 0026 C901      		movw r24,r18
  36 0028 8158      		subi r24,lo8(-(-259201))
  37 002a 944F      		sbci r25,hi8(-(-259201))
  38 002c A340      		sbci r26,hlo8(-(-259201))
  39 002e B040      		sbci r27,hhi8(-(-259201))
  40 0030 8E5F      		subi r24,lo8(2146965246)
  41 0032 9641      		sbci r25,hi8(2146965246)
  42 0034 A84F      		sbci r26,hlo8(2146965246)
  43 0036 BF47      		sbci r27,hhi8(2146965246)
  44 0038 00F0      		brlo .+2
  45 003a 00C0      		rjmp .L2
  46 003c 8091 0000 		lds r24,_timezone
  47 0040 9091 0000 		lds r25,(_timezone)+1
  48 0044 A091 0000 		lds r26,(_timezone)+2
  49 0048 B091 0000 		lds r27,(_timezone)+3
  50 004c 281B      		sub r18,r24
  51 004e 390B      		sbc r19,r25
  52 0050 4A0B      		sbc r20,r26
  53 0052 5B0B      		sbc r21,r27
  54 0054 2983      		std Y+1,r18
  55 0056 3A83      		std Y+2,r19
  56 0058 4B83      		std Y+3,r20
  57 005a 5C83      		std Y+4,r21
GAS LISTING C:\Temp/cciuwSHJ.s 			page 2


  58 005c B601      		movw r22,r12
  59 005e 8E01      		movw r16,r28
  60 0060 0F5F      		subi r16,lo8(-(1))
  61 0062 1F4F      		sbci r17,hi8(-(1))
  62 0064 C801      		movw r24,r16
  63 0066 0E94 0000 		call gmtime_r
  64 006a 8091 0000 		lds r24,_daylight
  65 006e 9091 0000 		lds r25,(_daylight)+1
  66 0072 892B      		or r24,r25
  67 0074 01F4      		brne .+2
  68 0076 00C0      		rjmp .L3
  69 0078 C601      		movw r24,r12
  70 007a 0E94 0000 		call _isindst
  71 007e 892B      		or r24,r25
  72 0080 01F4      		brne .+2
  73 0082 00C0      		rjmp .L3
  74 0084 8981      		ldd r24,Y+1
  75 0086 9A81      		ldd r25,Y+2
  76 0088 AB81      		ldd r26,Y+3
  77 008a BC81      		ldd r27,Y+4
  78 008c 2091 0000 		lds r18,_dstbias
  79 0090 3091 0000 		lds r19,(_dstbias)+1
  80 0094 4091 0000 		lds r20,(_dstbias)+2
  81 0098 5091 0000 		lds r21,(_dstbias)+3
  82 009c 821B      		sub r24,r18
  83 009e 930B      		sbc r25,r19
  84 00a0 A40B      		sbc r26,r20
  85 00a2 B50B      		sbc r27,r21
  86 00a4 8983      		std Y+1,r24
  87 00a6 9A83      		std Y+2,r25
  88 00a8 AB83      		std Y+3,r26
  89 00aa BC83      		std Y+4,r27
  90 00ac B601      		movw r22,r12
  91 00ae C801      		movw r24,r16
  92 00b0 0E94 0000 		call gmtime_r
  93 00b4 81E0      		ldi r24,lo8(1)
  94 00b6 90E0      		ldi r25,hi8(1)
  95 00b8 D601      		movw r26,r12
  96 00ba 5196      		adiw r26,16+1
  97 00bc 9C93      		st X,r25
  98 00be 8E93      		st -X,r24
  99 00c0 5097      		sbiw r26,16
 100 00c2 00C0      		rjmp .L3
 101               	.L2:
 102 00c4 B601      		movw r22,r12
 103 00c6 CF01      		movw r24,r30
 104 00c8 0E94 0000 		call gmtime_r
 105 00cc C601      		movw r24,r12
 106 00ce 0E94 0000 		call _isindst
 107 00d2 E090 0000 		lds r14,_timezone
 108 00d6 F090 0000 		lds r15,(_timezone)+1
 109 00da 0091 0000 		lds r16,(_timezone)+2
 110 00de 1091 0000 		lds r17,(_timezone)+3
 111 00e2 F601      		movw r30,r12
 112 00e4 2081      		ld r18,Z
 113 00e6 3181      		ldd r19,Z+1
 114 00e8 892B      		or r24,r25
GAS LISTING C:\Temp/cciuwSHJ.s 			page 3


 115 00ea 01F0      		breq .L4
 116 00ec C901      		movw r24,r18
 117 00ee AA27      		clr r26
 118 00f0 97FD      		sbrc r25,7
 119 00f2 A095      		com r26
 120 00f4 BA2F      		mov r27,r26
 121 00f6 2091 0000 		lds r18,_dstbias
 122 00fa 3091 0000 		lds r19,(_dstbias)+1
 123 00fe 4091 0000 		lds r20,(_dstbias)+2
 124 0102 5091 0000 		lds r21,(_dstbias)+3
 125 0106 821B      		sub r24,r18
 126 0108 930B      		sbc r25,r19
 127 010a A40B      		sbc r26,r20
 128 010c B50B      		sbc r27,r21
 129 010e 00C0      		rjmp .L12
 130               	.L4:
 131 0110 C901      		movw r24,r18
 132 0112 AA27      		clr r26
 133 0114 97FD      		sbrc r25,7
 134 0116 A095      		com r26
 135 0118 BA2F      		mov r27,r26
 136               	.L12:
 137 011a 8E19      		sub r24,r14
 138 011c 9F09      		sbc r25,r15
 139 011e A00B      		sbc r26,r16
 140 0120 B10B      		sbc r27,r17
 141 0122 8983      		std Y+1,r24
 142 0124 9A83      		std Y+2,r25
 143 0126 AB83      		std Y+3,r26
 144 0128 BC83      		std Y+4,r27
 145 012a E980      		ldd r14,Y+1
 146 012c FA80      		ldd r15,Y+2
 147 012e 0B81      		ldd r16,Y+3
 148 0130 1C81      		ldd r17,Y+4
 149 0132 C801      		movw r24,r16
 150 0134 B701      		movw r22,r14
 151 0136 2CE3      		ldi r18,lo8(60)
 152 0138 30E0      		ldi r19,hi8(60)
 153 013a 40E0      		ldi r20,hlo8(60)
 154 013c 50E0      		ldi r21,hhi8(60)
 155 013e 0E94 0000 		call __divmodsi4
 156 0142 CB01      		movw r24,r22
 157 0144 D601      		movw r26,r12
 158 0146 1196      		adiw r26,1
 159 0148 7C93      		st X,r23
 160 014a 6E93      		st -X,r22
 161 014c 77FF      		sbrs r23,7
 162 014e 00C0      		rjmp .L6
 163 0150 CC96      		adiw r24,60
 164 0152 8D93      		st X+,r24
 165 0154 9C93      		st X,r25
 166 0156 84EC      		ldi r24,lo8(-60)
 167 0158 9FEF      		ldi r25,hi8(-60)
 168 015a AFEF      		ldi r26,hlo8(-60)
 169 015c BFEF      		ldi r27,hhi8(-60)
 170 015e E80E      		add r14,r24
 171 0160 F91E      		adc r15,r25
GAS LISTING C:\Temp/cciuwSHJ.s 			page 4


 172 0162 0A1F      		adc r16,r26
 173 0164 1B1F      		adc r17,r27
 174 0166 E982      		std Y+1,r14
 175 0168 FA82      		std Y+2,r15
 176 016a 0B83      		std Y+3,r16
 177 016c 1C83      		std Y+4,r17
 178               	.L6:
 179 016e 6981      		ldd r22,Y+1
 180 0170 7A81      		ldd r23,Y+2
 181 0172 8B81      		ldd r24,Y+3
 182 0174 9C81      		ldd r25,Y+4
 183 0176 2CE3      		ldi r18,lo8(60)
 184 0178 30E0      		ldi r19,hi8(60)
 185 017a 40E0      		ldi r20,hlo8(60)
 186 017c 50E0      		ldi r21,hhi8(60)
 187 017e 0E94 0000 		call __divmodsi4
 188 0182 7901      		movw r14,r18
 189 0184 8A01      		movw r16,r20
 190 0186 D601      		movw r26,r12
 191 0188 1296      		adiw r26,2
 192 018a 8D91      		ld r24,X+
 193 018c 9C91      		ld r25,X
 194 018e 1397      		sbiw r26,2+1
 195 0190 AA27      		clr r26
 196 0192 97FD      		sbrc r25,7
 197 0194 A095      		com r26
 198 0196 BA2F      		mov r27,r26
 199 0198 E80E      		add r14,r24
 200 019a F91E      		adc r15,r25
 201 019c 0A1F      		adc r16,r26
 202 019e 1B1F      		adc r17,r27
 203 01a0 E982      		std Y+1,r14
 204 01a2 FA82      		std Y+2,r15
 205 01a4 0B83      		std Y+3,r16
 206 01a6 1C83      		std Y+4,r17
 207 01a8 C801      		movw r24,r16
 208 01aa B701      		movw r22,r14
 209 01ac 2CE3      		ldi r18,lo8(60)
 210 01ae 30E0      		ldi r19,hi8(60)
 211 01b0 40E0      		ldi r20,hlo8(60)
 212 01b2 50E0      		ldi r21,hhi8(60)
 213 01b4 0E94 0000 		call __divmodsi4
 214 01b8 CB01      		movw r24,r22
 215 01ba F601      		movw r30,r12
 216 01bc 7383      		std Z+3,r23
 217 01be 6283      		std Z+2,r22
 218 01c0 77FF      		sbrs r23,7
 219 01c2 00C0      		rjmp .L7
 220 01c4 CC96      		adiw r24,60
 221 01c6 9383      		std Z+3,r25
 222 01c8 8283      		std Z+2,r24
 223 01ca 84EC      		ldi r24,lo8(-60)
 224 01cc 9FEF      		ldi r25,hi8(-60)
 225 01ce AFEF      		ldi r26,hlo8(-60)
 226 01d0 BFEF      		ldi r27,hhi8(-60)
 227 01d2 E80E      		add r14,r24
 228 01d4 F91E      		adc r15,r25
GAS LISTING C:\Temp/cciuwSHJ.s 			page 5


 229 01d6 0A1F      		adc r16,r26
 230 01d8 1B1F      		adc r17,r27
 231 01da E982      		std Y+1,r14
 232 01dc FA82      		std Y+2,r15
 233 01de 0B83      		std Y+3,r16
 234 01e0 1C83      		std Y+4,r17
 235               	.L7:
 236 01e2 6981      		ldd r22,Y+1
 237 01e4 7A81      		ldd r23,Y+2
 238 01e6 8B81      		ldd r24,Y+3
 239 01e8 9C81      		ldd r25,Y+4
 240 01ea 2CE3      		ldi r18,lo8(60)
 241 01ec 30E0      		ldi r19,hi8(60)
 242 01ee 40E0      		ldi r20,hlo8(60)
 243 01f0 50E0      		ldi r21,hhi8(60)
 244 01f2 0E94 0000 		call __divmodsi4
 245 01f6 7901      		movw r14,r18
 246 01f8 8A01      		movw r16,r20
 247 01fa D601      		movw r26,r12
 248 01fc 1496      		adiw r26,4
 249 01fe 8D91      		ld r24,X+
 250 0200 9C91      		ld r25,X
 251 0202 1597      		sbiw r26,4+1
 252 0204 AA27      		clr r26
 253 0206 97FD      		sbrc r25,7
 254 0208 A095      		com r26
 255 020a BA2F      		mov r27,r26
 256 020c E80E      		add r14,r24
 257 020e F91E      		adc r15,r25
 258 0210 0A1F      		adc r16,r26
 259 0212 1B1F      		adc r17,r27
 260 0214 E982      		std Y+1,r14
 261 0216 FA82      		std Y+2,r15
 262 0218 0B83      		std Y+3,r16
 263 021a 1C83      		std Y+4,r17
 264 021c C801      		movw r24,r16
 265 021e B701      		movw r22,r14
 266 0220 28E1      		ldi r18,lo8(24)
 267 0222 30E0      		ldi r19,hi8(24)
 268 0224 40E0      		ldi r20,hlo8(24)
 269 0226 50E0      		ldi r21,hhi8(24)
 270 0228 0E94 0000 		call __divmodsi4
 271 022c CB01      		movw r24,r22
 272 022e F601      		movw r30,r12
 273 0230 7583      		std Z+5,r23
 274 0232 6483      		std Z+4,r22
 275 0234 77FF      		sbrs r23,7
 276 0236 00C0      		rjmp .L8
 277 0238 4896      		adiw r24,24
 278 023a 9583      		std Z+5,r25
 279 023c 8483      		std Z+4,r24
 280 023e 88EE      		ldi r24,lo8(-24)
 281 0240 9FEF      		ldi r25,hi8(-24)
 282 0242 AFEF      		ldi r26,hlo8(-24)
 283 0244 BFEF      		ldi r27,hhi8(-24)
 284 0246 E80E      		add r14,r24
 285 0248 F91E      		adc r15,r25
GAS LISTING C:\Temp/cciuwSHJ.s 			page 6


 286 024a 0A1F      		adc r16,r26
 287 024c 1B1F      		adc r17,r27
 288 024e E982      		std Y+1,r14
 289 0250 FA82      		std Y+2,r15
 290 0252 0B83      		std Y+3,r16
 291 0254 1C83      		std Y+4,r17
 292               	.L8:
 293 0256 6981      		ldd r22,Y+1
 294 0258 7A81      		ldd r23,Y+2
 295 025a 8B81      		ldd r24,Y+3
 296 025c 9C81      		ldd r25,Y+4
 297 025e 28E1      		ldi r18,lo8(24)
 298 0260 30E0      		ldi r19,hi8(24)
 299 0262 40E0      		ldi r20,hlo8(24)
 300 0264 50E0      		ldi r21,hhi8(24)
 301 0266 0E94 0000 		call __divmodsi4
 302 026a 7901      		movw r14,r18
 303 026c 8A01      		movw r16,r20
 304 026e 1E14      		cp __zero_reg__,r14
 305 0270 1F04      		cpc __zero_reg__,r15
 306 0272 1006      		cpc __zero_reg__,r16
 307 0274 1106      		cpc __zero_reg__,r17
 308 0276 04F4      		brge .L9
 309 0278 D601      		movw r26,r12
 310 027a 1C96      		adiw r26,12
 311 027c 6D91      		ld r22,X+
 312 027e 7C91      		ld r23,X
 313 0280 1D97      		sbiw r26,12+1
 314 0282 8827      		clr r24
 315 0284 77FD      		sbrc r23,7
 316 0286 8095      		com r24
 317 0288 982F      		mov r25,r24
 318 028a 6E0D      		add r22,r14
 319 028c 7F1D      		adc r23,r15
 320 028e 801F      		adc r24,r16
 321 0290 911F      		adc r25,r17
 322 0292 27E0      		ldi r18,lo8(7)
 323 0294 30E0      		ldi r19,hi8(7)
 324 0296 40E0      		ldi r20,hlo8(7)
 325 0298 50E0      		ldi r21,hhi8(7)
 326 029a 0E94 0000 		call __divmodsi4
 327 029e F601      		movw r30,r12
 328 02a0 7587      		std Z+13,r23
 329 02a2 6487      		std Z+12,r22
 330 02a4 8681      		ldd r24,Z+6
 331 02a6 9781      		ldd r25,Z+7
 332 02a8 8E0D      		add r24,r14
 333 02aa 9F1D      		adc r25,r15
 334 02ac 9783      		std Z+7,r25
 335 02ae 8683      		std Z+6,r24
 336 02b0 8685      		ldd r24,Z+14
 337 02b2 9785      		ldd r25,Z+15
 338 02b4 8E0D      		add r24,r14
 339 02b6 9F1D      		adc r25,r15
 340 02b8 9787      		std Z+15,r25
 341 02ba 8687      		std Z+14,r24
 342 02bc 00C0      		rjmp .L3
GAS LISTING C:\Temp/cciuwSHJ.s 			page 7


 343               	.L9:
 344 02be E114      		cp r14,__zero_reg__
 345 02c0 F104      		cpc r15,__zero_reg__
 346 02c2 0105      		cpc r16,__zero_reg__
 347 02c4 1105      		cpc r17,__zero_reg__
 348 02c6 01F0      		breq .L3
 349 02c8 D601      		movw r26,r12
 350 02ca 1C96      		adiw r26,12
 351 02cc 6D91      		ld r22,X+
 352 02ce 7C91      		ld r23,X
 353 02d0 1D97      		sbiw r26,12+1
 354 02d2 695F      		subi r22,lo8(-(7))
 355 02d4 7F4F      		sbci r23,hi8(-(7))
 356 02d6 8827      		clr r24
 357 02d8 77FD      		sbrc r23,7
 358 02da 8095      		com r24
 359 02dc 982F      		mov r25,r24
 360 02de 6E0D      		add r22,r14
 361 02e0 7F1D      		adc r23,r15
 362 02e2 801F      		adc r24,r16
 363 02e4 911F      		adc r25,r17
 364 02e6 27E0      		ldi r18,lo8(7)
 365 02e8 30E0      		ldi r19,hi8(7)
 366 02ea 40E0      		ldi r20,hlo8(7)
 367 02ec 50E0      		ldi r21,hhi8(7)
 368 02ee 0E94 0000 		call __divmodsi4
 369 02f2 F601      		movw r30,r12
 370 02f4 7587      		std Z+13,r23
 371 02f6 6487      		std Z+12,r22
 372 02f8 8681      		ldd r24,Z+6
 373 02fa 9781      		ldd r25,Z+7
 374 02fc 8E0D      		add r24,r14
 375 02fe 9F1D      		adc r25,r15
 376 0300 9783      		std Z+7,r25
 377 0302 8683      		std Z+6,r24
 378 0304 1816      		cp __zero_reg__,r24
 379 0306 1906      		cpc __zero_reg__,r25
 380 0308 04F0      		brlt .L10
 381 030a 4F96      		adiw r24,31
 382 030c 9783      		std Z+7,r25
 383 030e 8683      		std Z+6,r24
 384 0310 8CE6      		ldi r24,lo8(364)
 385 0312 91E0      		ldi r25,hi8(364)
 386 0314 9787      		std Z+15,r25
 387 0316 8687      		std Z+14,r24
 388 0318 8BE0      		ldi r24,lo8(11)
 389 031a 90E0      		ldi r25,hi8(11)
 390 031c 9187      		std Z+9,r25
 391 031e 8087      		std Z+8,r24
 392 0320 8285      		ldd r24,Z+10
 393 0322 9385      		ldd r25,Z+11
 394 0324 0197      		sbiw r24,1
 395 0326 9387      		std Z+11,r25
 396 0328 8287      		std Z+10,r24
 397 032a 00C0      		rjmp .L3
 398               	.L10:
 399 032c D601      		movw r26,r12
GAS LISTING C:\Temp/cciuwSHJ.s 			page 8


 400 032e 1E96      		adiw r26,14
 401 0330 8D91      		ld r24,X+
 402 0332 9C91      		ld r25,X
 403 0334 1F97      		sbiw r26,14+1
 404 0336 8E0D      		add r24,r14
 405 0338 9F1D      		adc r25,r15
 406 033a 1F96      		adiw r26,14+1
 407 033c 9C93      		st X,r25
 408 033e 8E93      		st -X,r24
 409 0340 1E97      		sbiw r26,14
 410               	.L3:
 411 0342 80E0      		ldi r24,lo8(0)
 412 0344 90E0      		ldi r25,hi8(0)
 413               	/* epilogue start */
 414 0346 0F90      		pop __tmp_reg__
 415 0348 0F90      		pop __tmp_reg__
 416 034a 0F90      		pop __tmp_reg__
 417 034c 0F90      		pop __tmp_reg__
 418 034e CF91      		pop r28
 419 0350 DF91      		pop r29
 420 0352 1F91      		pop r17
 421 0354 0F91      		pop r16
 422 0356 FF90      		pop r15
 423 0358 EF90      		pop r14
 424 035a DF90      		pop r13
 425 035c CF90      		pop r12
 426 035e 0895      		ret
 427               		.size	localtime_r, .-localtime_r
 428               	.global	localtime
 429               		.type	localtime, @function
 430               	localtime:
 431               	/* prologue: function */
 432               	/* frame size = 0 */
 433 0360 60E0      		ldi r22,lo8(_tb)
 434 0362 70E0      		ldi r23,hi8(_tb)
 435 0364 0E94 0000 		call localtime_r
 436 0368 892B      		or r24,r25
 437 036a 01F0      		breq .L14
 438 036c 20E0      		ldi r18,lo8(0)
 439 036e 30E0      		ldi r19,hi8(0)
 440 0370 00C0      		rjmp .L15
 441               	.L14:
 442 0372 20E0      		ldi r18,lo8(_tb)
 443 0374 30E0      		ldi r19,hi8(_tb)
 444               	.L15:
 445 0376 C901      		movw r24,r18
 446               	/* epilogue start */
 447 0378 0895      		ret
 448               		.size	localtime, .-localtime
GAS LISTING C:\Temp/cciuwSHJ.s 			page 9


DEFINED SYMBOLS
                            *ABS*:00000000 localtim.c
  C:\Temp/cciuwSHJ.s:2      *ABS*:0000003f __SREG__
  C:\Temp/cciuwSHJ.s:3      *ABS*:0000003e __SP_H__
  C:\Temp/cciuwSHJ.s:4      *ABS*:0000003d __SP_L__
  C:\Temp/cciuwSHJ.s:5      *ABS*:00000034 __CCP__
  C:\Temp/cciuwSHJ.s:6      *ABS*:00000000 __tmp_reg__
  C:\Temp/cciuwSHJ.s:7      *ABS*:00000001 __zero_reg__
  C:\Temp/cciuwSHJ.s:13     .text:00000000 localtime_r
  C:\Temp/cciuwSHJ.s:430    .text:00000360 localtime

UNDEFINED SYMBOLS
__do_copy_data
__do_clear_bss
_timezone
gmtime_r
_daylight
_isindst
_dstbias
__divmodsi4
_tb
