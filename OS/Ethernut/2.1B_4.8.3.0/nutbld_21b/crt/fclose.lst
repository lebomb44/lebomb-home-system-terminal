GAS LISTING C:\Temp/ccWQqweV.s 			page 1


   1               		.file	"fclose.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__  = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.global __do_copy_data
   9               		.global __do_clear_bss
  10               		.text
  11               	.global	fclose
  12               		.type	fclose, @function
  13               	fclose:
  14 0000 EF92      		push r14
  15 0002 FF92      		push r15
  16 0004 0F93      		push r16
  17 0006 1F93      		push r17
  18 0008 CF93      		push r28
  19 000a DF93      		push r29
  20               	/* prologue: function */
  21               	/* frame size = 0 */
  22 000c 7C01      		movw r14,r24
  23 000e 0097      		sbiw r24,0
  24 0010 01F4      		brne .L2
  25 0012 00C0      		rjmp .L10
  26               	.L5:
  27 0014 2196      		adiw r28,1
  28 0016 3296      		adiw r30,2
  29 0018 C830      		cpi r28,8
  30 001a D105      		cpc r29,__zero_reg__
  31 001c 01F4      		brne .L4
  32               	.L10:
  33 001e 89E0      		ldi r24,lo8(9)
  34 0020 90E0      		ldi r25,hi8(9)
  35 0022 9093 0000 		sts (errno)+1,r25
  36 0026 8093 0000 		sts errno,r24
  37 002a 0FEF      		ldi r16,lo8(-1)
  38 002c 1FEF      		ldi r17,hi8(-1)
  39 002e 00C0      		rjmp .L3
  40               	.L2:
  41 0030 E0E0      		ldi r30,lo8(__iob)
  42 0032 F0E0      		ldi r31,hi8(__iob)
  43 0034 C0E0      		ldi r28,lo8(0)
  44 0036 D0E0      		ldi r29,hi8(0)
  45               	.L4:
  46 0038 8081      		ld r24,Z
  47 003a 9181      		ldd r25,Z+1
  48 003c 8E15      		cp r24,r14
  49 003e 9F05      		cpc r25,r15
  50 0040 01F4      		brne .L5
  51 0042 F701      		movw r30,r14
  52 0044 8081      		ld r24,Z
  53 0046 9181      		ldd r25,Z+1
  54 0048 0E94 0000 		call _close
  55 004c 892B      		or r24,r25
  56 004e 01F4      		brne .L6
  57 0050 00E0      		ldi r16,lo8(0)
GAS LISTING C:\Temp/ccWQqweV.s 			page 2


  58 0052 10E0      		ldi r17,hi8(0)
  59 0054 00C0      		rjmp .L7
  60               	.L6:
  61 0056 0FEF      		ldi r16,lo8(-1)
  62 0058 1FEF      		ldi r17,hi8(-1)
  63               	.L7:
  64 005a C701      		movw r24,r14
  65 005c 0E94 0000 		call free
  66 0060 CC0F      		lsl r28
  67 0062 DD1F      		rol r29
  68 0064 C050      		subi r28,lo8(-(__iob))
  69 0066 D040      		sbci r29,hi8(-(__iob))
  70 0068 1982      		std Y+1,__zero_reg__
  71 006a 1882      		st Y,__zero_reg__
  72               	.L3:
  73 006c C801      		movw r24,r16
  74               	/* epilogue start */
  75 006e DF91      		pop r29
  76 0070 CF91      		pop r28
  77 0072 1F91      		pop r17
  78 0074 0F91      		pop r16
  79 0076 FF90      		pop r15
  80 0078 EF90      		pop r14
  81 007a 0895      		ret
  82               		.size	fclose, .-fclose
GAS LISTING C:\Temp/ccWQqweV.s 			page 3


DEFINED SYMBOLS
                            *ABS*:00000000 fclose.c
  C:\Temp/ccWQqweV.s:2      *ABS*:0000003f __SREG__
  C:\Temp/ccWQqweV.s:3      *ABS*:0000003e __SP_H__
  C:\Temp/ccWQqweV.s:4      *ABS*:0000003d __SP_L__
  C:\Temp/ccWQqweV.s:5      *ABS*:00000034 __CCP__
  C:\Temp/ccWQqweV.s:6      *ABS*:00000000 __tmp_reg__
  C:\Temp/ccWQqweV.s:7      *ABS*:00000001 __zero_reg__
  C:\Temp/ccWQqweV.s:13     .text:00000000 fclose

UNDEFINED SYMBOLS
__do_copy_data
__do_clear_bss
errno
__iob
_close
free
