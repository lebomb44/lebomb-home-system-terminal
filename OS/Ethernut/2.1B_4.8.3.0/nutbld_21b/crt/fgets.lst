GAS LISTING C:\Temp/cct58Dlh.s 			page 1


   1               		.file	"fgets.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__  = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.global __do_copy_data
   9               		.global __do_clear_bss
  10               		.text
  11               	.global	fgets
  12               		.type	fgets, @function
  13               	fgets:
  14 0000 CF92      		push r12
  15 0002 DF92      		push r13
  16 0004 EF92      		push r14
  17 0006 FF92      		push r15
  18 0008 0F93      		push r16
  19 000a 1F93      		push r17
  20 000c CF93      		push r28
  21 000e DF93      		push r29
  22               	/* prologue: function */
  23               	/* frame size = 0 */
  24 0010 7C01      		movw r14,r24
  25 0012 6A01      		movw r12,r20
  26 0014 8B01      		movw r16,r22
  27 0016 E701      		movw r28,r14
  28 0018 00C0      		rjmp .L2
  29               	.L6:
  30 001a C601      		movw r24,r12
  31 001c 0E94 0000 		call fgetc
  32 0020 2FEF      		ldi r18,hi8(-1)
  33 0022 8F3F      		cpi r24,lo8(-1)
  34 0024 9207      		cpc r25,r18
  35 0026 01F4      		brne .L3
  36 0028 1882      		st Y,__zero_reg__
  37 002a EE24      		clr r14
  38 002c FF24      		clr r15
  39 002e 00C0      		rjmp .L4
  40               	.L3:
  41 0030 8993      		st Y+,r24
  42 0032 0150      		subi r16,lo8(-(-1))
  43 0034 1040      		sbci r17,hi8(-(-1))
  44 0036 0A97      		sbiw r24,10
  45 0038 01F0      		breq .L5
  46               	.L2:
  47 003a 0230      		cpi r16,2
  48 003c 1105      		cpc r17,__zero_reg__
  49 003e 04F4      		brge .L6
  50               	.L5:
  51 0040 1882      		st Y,__zero_reg__
  52               	.L4:
  53 0042 C701      		movw r24,r14
  54               	/* epilogue start */
  55 0044 DF91      		pop r29
  56 0046 CF91      		pop r28
  57 0048 1F91      		pop r17
GAS LISTING C:\Temp/cct58Dlh.s 			page 2


  58 004a 0F91      		pop r16
  59 004c FF90      		pop r15
  60 004e EF90      		pop r14
  61 0050 DF90      		pop r13
  62 0052 CF90      		pop r12
  63 0054 0895      		ret
  64               		.size	fgets, .-fgets
GAS LISTING C:\Temp/cct58Dlh.s 			page 3


DEFINED SYMBOLS
                            *ABS*:00000000 fgets.c
  C:\Temp/cct58Dlh.s:2      *ABS*:0000003f __SREG__
  C:\Temp/cct58Dlh.s:3      *ABS*:0000003e __SP_H__
  C:\Temp/cct58Dlh.s:4      *ABS*:0000003d __SP_L__
  C:\Temp/cct58Dlh.s:5      *ABS*:00000034 __CCP__
  C:\Temp/cct58Dlh.s:6      *ABS*:00000000 __tmp_reg__
  C:\Temp/cct58Dlh.s:7      *ABS*:00000001 __zero_reg__
  C:\Temp/cct58Dlh.s:13     .text:00000000 fgets

UNDEFINED SYMBOLS
__do_copy_data
__do_clear_bss
fgetc
