GAS LISTING C:\Temp/ccr66vim.s 			page 1


   1               		.file	"condition.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__  = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.global __do_copy_data
   9               		.global __do_clear_bss
  10               		.text
  11               	.global	NutConditionFree
  12               		.type	NutConditionFree, @function
  13               	NutConditionFree:
  14 0000 0F93      		push r16
  15 0002 1F93      		push r17
  16               	/* prologue: function */
  17               	/* frame size = 0 */
  18 0004 8C01      		movw r16,r24
  19 0006 FC01      		movw r30,r24
  20 0008 8081      		ld r24,Z
  21 000a 9181      		ldd r25,Z+1
  22 000c 0296      		adiw r24,2
  23 000e 0E94 0000 		call NutMutexDestroy
  24 0012 B801      		movw r22,r16
  25 0014 80E0      		ldi r24,lo8(heapFreeList)
  26 0016 90E0      		ldi r25,hi8(heapFreeList)
  27 0018 0E94 0000 		call NutHeapRootFree
  28               	/* epilogue start */
  29 001c 1F91      		pop r17
  30 001e 0F91      		pop r16
  31 0020 0895      		ret
  32               		.size	NutConditionFree, .-NutConditionFree
  33               	.global	NutConditionBroadcast
  34               		.type	NutConditionBroadcast, @function
  35               	NutConditionBroadcast:
  36               	/* prologue: function */
  37               	/* frame size = 0 */
  38 0022 0097      		sbiw r24,0
  39 0024 01F4      		brne .L4
  40 0026 2FEF      		ldi r18,lo8(-1)
  41 0028 3FEF      		ldi r19,hi8(-1)
  42 002a 00C0      		rjmp .L5
  43               	.L4:
  44 002c 0E94 0000 		call NutEventBroadcast
  45 0030 9C01      		movw r18,r24
  46               	.L5:
  47 0032 C901      		movw r24,r18
  48               	/* epilogue start */
  49 0034 0895      		ret
  50               		.size	NutConditionBroadcast, .-NutConditionBroadcast
  51               	.global	NutConditionSignal
  52               		.type	NutConditionSignal, @function
  53               	NutConditionSignal:
  54               	/* prologue: function */
  55               	/* frame size = 0 */
  56 0036 0097      		sbiw r24,0
  57 0038 01F4      		brne .L8
GAS LISTING C:\Temp/ccr66vim.s 			page 2


  58 003a 2FEF      		ldi r18,lo8(-1)
  59 003c 3FEF      		ldi r19,hi8(-1)
  60 003e 00C0      		rjmp .L9
  61               	.L8:
  62 0040 0E94 0000 		call NutEventPost
  63 0044 9C01      		movw r18,r24
  64               	.L9:
  65 0046 C901      		movw r24,r18
  66               	/* epilogue start */
  67 0048 0895      		ret
  68               		.size	NutConditionSignal, .-NutConditionSignal
  69               	.global	NutConditionUnlock
  70               		.type	NutConditionUnlock, @function
  71               	NutConditionUnlock:
  72               	/* prologue: function */
  73               	/* frame size = 0 */
  74 004a 0097      		sbiw r24,0
  75 004c 01F0      		breq .L13
  76 004e 0296      		adiw r24,2
  77 0050 0E94 0000 		call NutMutexUnlock
  78               	.L13:
  79 0054 0895      		ret
  80               		.size	NutConditionUnlock, .-NutConditionUnlock
  81               	.global	NutConditionTimedWait
  82               		.type	NutConditionTimedWait, @function
  83               	NutConditionTimedWait:
  84 0056 CF92      		push r12
  85 0058 DF92      		push r13
  86 005a EF92      		push r14
  87 005c FF92      		push r15
  88 005e 0F93      		push r16
  89 0060 1F93      		push r17
  90 0062 CF93      		push r28
  91 0064 DF93      		push r29
  92               	/* prologue: function */
  93               	/* frame size = 0 */
  94 0066 EC01      		movw r28,r24
  95 0068 6A01      		movw r12,r20
  96 006a 7B01      		movw r14,r22
  97 006c 0097      		sbiw r24,0
  98 006e 01F0      		breq .L15
  99 0070 0E94 0000 		call NutGetMillis
 100 0074 C61A      		sub r12,r22
 101 0076 D70A      		sbc r13,r23
 102 0078 E80A      		sbc r14,r24
 103 007a F90A      		sbc r15,r25
 104 007c F7FC      		sbrc r15,7
 105 007e 00C0      		rjmp .L15
 106 0080 8E01      		movw r16,r28
 107 0082 0E5F      		subi r16,lo8(-(2))
 108 0084 1F4F      		sbci r17,hi8(-(2))
 109 0086 C801      		movw r24,r16
 110 0088 0E94 0000 		call NutMutexUnlock
 111 008c B701      		movw r22,r14
 112 008e A601      		movw r20,r12
 113 0090 CE01      		movw r24,r28
 114 0092 0E94 0000 		call NutEventWait
GAS LISTING C:\Temp/ccr66vim.s 			page 3


 115 0096 C801      		movw r24,r16
 116 0098 0E94 0000 		call NutMutexLock
 117 009c 20E0      		ldi r18,lo8(0)
 118 009e 30E0      		ldi r19,hi8(0)
 119 00a0 00C0      		rjmp .L16
 120               	.L15:
 121 00a2 2FEF      		ldi r18,lo8(-1)
 122 00a4 3FEF      		ldi r19,hi8(-1)
 123               	.L16:
 124 00a6 C901      		movw r24,r18
 125               	/* epilogue start */
 126 00a8 DF91      		pop r29
 127 00aa CF91      		pop r28
 128 00ac 1F91      		pop r17
 129 00ae 0F91      		pop r16
 130 00b0 FF90      		pop r15
 131 00b2 EF90      		pop r14
 132 00b4 DF90      		pop r13
 133 00b6 CF90      		pop r12
 134 00b8 0895      		ret
 135               		.size	NutConditionTimedWait, .-NutConditionTimedWait
 136               	.global	NutConditionWait
 137               		.type	NutConditionWait, @function
 138               	NutConditionWait:
 139 00ba 0F93      		push r16
 140 00bc 1F93      		push r17
 141 00be CF93      		push r28
 142 00c0 DF93      		push r29
 143               	/* prologue: function */
 144               	/* frame size = 0 */
 145 00c2 EC01      		movw r28,r24
 146 00c4 0097      		sbiw r24,0
 147 00c6 01F4      		brne .L19
 148 00c8 2FEF      		ldi r18,lo8(-1)
 149 00ca 3FEF      		ldi r19,hi8(-1)
 150 00cc 00C0      		rjmp .L20
 151               	.L19:
 152 00ce 8C01      		movw r16,r24
 153 00d0 0E5F      		subi r16,lo8(-(2))
 154 00d2 1F4F      		sbci r17,hi8(-(2))
 155 00d4 C801      		movw r24,r16
 156 00d6 0E94 0000 		call NutMutexUnlock
 157 00da 40E0      		ldi r20,lo8(0)
 158 00dc 50E0      		ldi r21,hi8(0)
 159 00de 60E0      		ldi r22,hlo8(0)
 160 00e0 70E0      		ldi r23,hhi8(0)
 161 00e2 8881      		ld r24,Y
 162 00e4 9981      		ldd r25,Y+1
 163 00e6 0E94 0000 		call NutEventWait
 164 00ea C801      		movw r24,r16
 165 00ec 0E94 0000 		call NutMutexLock
 166 00f0 20E0      		ldi r18,lo8(0)
 167 00f2 30E0      		ldi r19,hi8(0)
 168               	.L20:
 169 00f4 C901      		movw r24,r18
 170               	/* epilogue start */
 171 00f6 DF91      		pop r29
GAS LISTING C:\Temp/ccr66vim.s 			page 4


 172 00f8 CF91      		pop r28
 173 00fa 1F91      		pop r17
 174 00fc 0F91      		pop r16
 175 00fe 0895      		ret
 176               		.size	NutConditionWait, .-NutConditionWait
 177               	.global	NutConditionLock
 178               		.type	NutConditionLock, @function
 179               	NutConditionLock:
 180               	/* prologue: function */
 181               	/* frame size = 0 */
 182 0100 0097      		sbiw r24,0
 183 0102 01F0      		breq .L24
 184 0104 0296      		adiw r24,2
 185 0106 0E94 0000 		call NutMutexLock
 186               	.L24:
 187 010a 0895      		ret
 188               		.size	NutConditionLock, .-NutConditionLock
 189               	.global	NutConditionInit
 190               		.type	NutConditionInit, @function
 191               	NutConditionInit:
 192 010c CF93      		push r28
 193 010e DF93      		push r29
 194               	/* prologue: function */
 195               	/* frame size = 0 */
 196 0110 62E0      		ldi r22,lo8(2)
 197 0112 70E0      		ldi r23,hi8(2)
 198 0114 80E0      		ldi r24,lo8(heapFreeList)
 199 0116 90E0      		ldi r25,hi8(heapFreeList)
 200 0118 0E94 0000 		call NutHeapRootAlloc
 201 011c EC01      		movw r28,r24
 202 011e 0097      		sbiw r24,0
 203 0120 01F0      		breq .L26
 204 0122 0296      		adiw r24,2
 205 0124 0E94 0000 		call NutMutexInit
 206               	.L26:
 207 0128 CE01      		movw r24,r28
 208               	/* epilogue start */
 209 012a DF91      		pop r29
 210 012c CF91      		pop r28
 211 012e 0895      		ret
 212               		.size	NutConditionInit, .-NutConditionInit
GAS LISTING C:\Temp/ccr66vim.s 			page 5


DEFINED SYMBOLS
                            *ABS*:00000000 condition.c
  C:\Temp/ccr66vim.s:2      *ABS*:0000003f __SREG__
  C:\Temp/ccr66vim.s:3      *ABS*:0000003e __SP_H__
  C:\Temp/ccr66vim.s:4      *ABS*:0000003d __SP_L__
  C:\Temp/ccr66vim.s:5      *ABS*:00000034 __CCP__
  C:\Temp/ccr66vim.s:6      *ABS*:00000000 __tmp_reg__
  C:\Temp/ccr66vim.s:7      *ABS*:00000001 __zero_reg__
  C:\Temp/ccr66vim.s:13     .text:00000000 NutConditionFree
  C:\Temp/ccr66vim.s:35     .text:00000022 NutConditionBroadcast
  C:\Temp/ccr66vim.s:53     .text:00000036 NutConditionSignal
  C:\Temp/ccr66vim.s:71     .text:0000004a NutConditionUnlock
  C:\Temp/ccr66vim.s:83     .text:00000056 NutConditionTimedWait
  C:\Temp/ccr66vim.s:138    .text:000000ba NutConditionWait
  C:\Temp/ccr66vim.s:179    .text:00000100 NutConditionLock
  C:\Temp/ccr66vim.s:191    .text:0000010c NutConditionInit

UNDEFINED SYMBOLS
__do_copy_data
__do_clear_bss
NutMutexDestroy
heapFreeList
NutHeapRootFree
NutEventBroadcast
NutEventPost
NutMutexUnlock
NutGetMillis
NutEventWait
NutMutexLock
NutHeapRootAlloc
NutMutexInit
