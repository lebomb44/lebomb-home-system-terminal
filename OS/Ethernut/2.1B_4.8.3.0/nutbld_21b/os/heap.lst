GAS LISTING C:\Temp/ccTnjCs9.s 			page 1


   1               		.file	"heap.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__  = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.global __do_copy_data
   9               		.global __do_clear_bss
  10               		.text
  11               	.global	NutHeapRootAlloc
  12               		.type	NutHeapRootAlloc, @function
  13               	NutHeapRootAlloc:
  14 0000 CF93      		push r28
  15 0002 DF93      		push r29
  16               	/* prologue: function */
  17               	/* frame size = 0 */
  18 0004 DC01      		movw r26,r24
  19 0006 6E5F      		subi r22,lo8(-(2))
  20 0008 7F4F      		sbci r23,hi8(-(2))
  21 000a 6430      		cpi r22,4
  22 000c 7105      		cpc r23,__zero_reg__
  23 000e 00F4      		brsh .L2
  24 0010 64E0      		ldi r22,lo8(4)
  25 0012 70E0      		ldi r23,hi8(4)
  26               	.L2:
  27 0014 6F5F      		subi r22,lo8(-(1))
  28 0016 7F4F      		sbci r23,hi8(-(1))
  29 0018 6E7F      		andi r22,lo8(-2)
  30 001a ED91      		ld r30,X+
  31 001c FC91      		ld r31,X
  32 001e 1197      		sbiw r26,1
  33 0020 AD01      		movw r20,r26
  34 0022 A0E0      		ldi r26,lo8(0)
  35 0024 B0E0      		ldi r27,hi8(0)
  36 0026 C0E0      		ldi r28,lo8(0)
  37 0028 D0E0      		ldi r29,hi8(0)
  38 002a 00C0      		rjmp .L3
  39               	.L8:
  40 002c 2081      		ld r18,Z
  41 002e 3181      		ldd r19,Z+1
  42 0030 2617      		cp r18,r22
  43 0032 3707      		cpc r19,r23
  44 0034 00F0      		brlo .L4
  45 0036 1097      		sbiw r26,0
  46 0038 01F0      		breq .L5
  47 003a 8D91      		ld r24,X+
  48 003c 9C91      		ld r25,X
  49 003e 1197      		sbiw r26,1
  50 0040 2817      		cp r18,r24
  51 0042 3907      		cpc r19,r25
  52 0044 00F4      		brsh .L4
  53               	.L5:
  54 0046 2617      		cp r18,r22
  55 0048 3707      		cpc r19,r23
  56 004a 01F4      		brne .L6
  57 004c DF01      		movw r26,r30
GAS LISTING C:\Temp/ccTnjCs9.s 			page 2


  58 004e EA01      		movw r28,r20
  59 0050 00C0      		rjmp .L7
  60               	.L6:
  61 0052 DF01      		movw r26,r30
  62 0054 EA01      		movw r28,r20
  63               	.L4:
  64 0056 AF01      		movw r20,r30
  65 0058 4E5F      		subi r20,lo8(-(2))
  66 005a 5F4F      		sbci r21,hi8(-(2))
  67 005c 0280      		ldd __tmp_reg__,Z+2
  68 005e F381      		ldd r31,Z+3
  69 0060 E02D      		mov r30,__tmp_reg__
  70               	.L3:
  71 0062 3097      		sbiw r30,0
  72 0064 01F4      		brne .L8
  73 0066 9D01      		movw r18,r26
  74 0068 1097      		sbiw r26,0
  75 006a 01F0      		breq .L9
  76               	.L7:
  77 006c 8D91      		ld r24,X+
  78 006e 9C91      		ld r25,X
  79 0070 1197      		sbiw r26,1
  80 0072 861B      		sub r24,r22
  81 0074 970B      		sbc r25,r23
  82 0076 1296      		adiw r26,2
  83 0078 2D91      		ld r18,X+
  84 007a 3C91      		ld r19,X
  85 007c 1397      		sbiw r26,2+1
  86 007e 8430      		cpi r24,4
  87 0080 9105      		cpc r25,__zero_reg__
  88 0082 00F0      		brlo .L10
  89 0084 FD01      		movw r30,r26
  90 0086 E60F      		add r30,r22
  91 0088 F71F      		adc r31,r23
  92 008a 9183      		std Z+1,r25
  93 008c 8083      		st Z,r24
  94 008e 3383      		std Z+3,r19
  95 0090 2283      		std Z+2,r18
  96 0092 1196      		adiw r26,1
  97 0094 7C93      		st X,r23
  98 0096 6E93      		st -X,r22
  99 0098 F983      		std Y+1,r31
 100 009a E883      		st Y,r30
 101 009c 00C0      		rjmp .L11
 102               	.L10:
 103 009e 3983      		std Y+1,r19
 104 00a0 2883      		st Y,r18
 105               	.L11:
 106 00a2 9D01      		movw r18,r26
 107 00a4 2E5F      		subi r18,lo8(-(2))
 108 00a6 3F4F      		sbci r19,hi8(-(2))
 109               	.L9:
 110 00a8 C901      		movw r24,r18
 111               	/* epilogue start */
 112 00aa DF91      		pop r29
 113 00ac CF91      		pop r28
 114 00ae 0895      		ret
GAS LISTING C:\Temp/ccTnjCs9.s 			page 3


 115               		.size	NutHeapRootAlloc, .-NutHeapRootAlloc
 116               	.global	NutHeapRootFree
 117               		.type	NutHeapRootFree, @function
 118               	NutHeapRootFree:
 119 00b0 CF93      		push r28
 120 00b2 DF93      		push r29
 121               	/* prologue: function */
 122               	/* frame size = 0 */
 123 00b4 EC01      		movw r28,r24
 124 00b6 6115      		cp r22,__zero_reg__
 125 00b8 7105      		cpc r23,__zero_reg__
 126 00ba 01F4      		brne .L14
 127 00bc 2DEF      		ldi r18,lo8(-3)
 128 00be 3FEF      		ldi r19,hi8(-3)
 129 00c0 00C0      		rjmp .L15
 130               	.L14:
 131 00c2 DB01      		movw r26,r22
 132 00c4 1297      		sbiw r26,2
 133 00c6 E881      		ld r30,Y
 134 00c8 F981      		ldd r31,Y+1
 135 00ca 00C0      		rjmp .L16
 136               	.L23:
 137 00cc 2081      		ld r18,Z
 138 00ce 3181      		ldd r19,Z+1
 139 00d0 CF01      		movw r24,r30
 140 00d2 820F      		add r24,r18
 141 00d4 931F      		adc r25,r19
 142 00d6 8A17      		cp r24,r26
 143 00d8 9B07      		cpc r25,r27
 144 00da 01F4      		brne .L17
 145 00dc 6D91      		ld r22,X+
 146 00de 7C91      		ld r23,X
 147 00e0 620F      		add r22,r18
 148 00e2 731F      		adc r23,r19
 149 00e4 7183      		std Z+1,r23
 150 00e6 6083      		st Z,r22
 151 00e8 DF01      		movw r26,r30
 152 00ea A60F      		add r26,r22
 153 00ec B71F      		adc r27,r23
 154 00ee 8281      		ldd r24,Z+2
 155 00f0 9381      		ldd r25,Z+3
 156 00f2 A817      		cp r26,r24
 157 00f4 B907      		cpc r27,r25
 158 00f6 01F0      		breq .+2
 159 00f8 00C0      		rjmp .L18
 160 00fa 8D91      		ld r24,X+
 161 00fc 9C91      		ld r25,X
 162 00fe 1197      		sbiw r26,1
 163 0100 680F      		add r22,r24
 164 0102 791F      		adc r23,r25
 165 0104 7183      		std Z+1,r23
 166 0106 6083      		st Z,r22
 167 0108 1296      		adiw r26,2
 168 010a 8D91      		ld r24,X+
 169 010c 9C91      		ld r25,X
 170 010e 1397      		sbiw r26,2+1
 171 0110 9383      		std Z+3,r25
GAS LISTING C:\Temp/ccTnjCs9.s 			page 4


 172 0112 8283      		std Z+2,r24
 173 0114 00C0      		rjmp .L18
 174               	.L17:
 175 0116 AE17      		cp r26,r30
 176 0118 BF07      		cpc r27,r31
 177 011a 00F4      		brsh .L19
 178 011c B983      		std Y+1,r27
 179 011e A883      		st Y,r26
 180 0120 4D91      		ld r20,X+
 181 0122 5C91      		ld r21,X
 182 0124 1197      		sbiw r26,1
 183 0126 CD01      		movw r24,r26
 184 0128 840F      		add r24,r20
 185 012a 951F      		adc r25,r21
 186 012c 8E17      		cp r24,r30
 187 012e 9F07      		cpc r25,r31
 188 0130 01F4      		brne .L20
 189 0132 240F      		add r18,r20
 190 0134 351F      		adc r19,r21
 191 0136 1196      		adiw r26,1
 192 0138 3C93      		st X,r19
 193 013a 2E93      		st -X,r18
 194 013c 8281      		ldd r24,Z+2
 195 013e 9381      		ldd r25,Z+3
 196 0140 1396      		adiw r26,2+1
 197 0142 9C93      		st X,r25
 198 0144 8E93      		st -X,r24
 199 0146 1297      		sbiw r26,2
 200 0148 EF2B      		or r30,r31
 201 014a 01F4      		brne .L18
 202 014c 00C0      		rjmp .L21
 203               	.L20:
 204 014e 1396      		adiw r26,2+1
 205 0150 FC93      		st X,r31
 206 0152 EE93      		st -X,r30
 207 0154 1297      		sbiw r26,2
 208 0156 00C0      		rjmp .L18
 209               	.L19:
 210 0158 A817      		cp r26,r24
 211 015a B907      		cpc r27,r25
 212 015c 00F4      		brsh .L22
 213 015e 2FEF      		ldi r18,lo8(-1)
 214 0160 3FEF      		ldi r19,hi8(-1)
 215 0162 00C0      		rjmp .L15
 216               	.L22:
 217 0164 EF01      		movw r28,r30
 218 0166 2296      		adiw r28,2
 219 0168 0280      		ldd __tmp_reg__,Z+2
 220 016a F381      		ldd r31,Z+3
 221 016c E02D      		mov r30,__tmp_reg__
 222               	.L16:
 223 016e 3097      		sbiw r30,0
 224 0170 01F0      		breq .+2
 225 0172 00C0      		rjmp .L23
 226               	.L21:
 227 0174 1396      		adiw r26,2+1
 228 0176 1C92      		st X,__zero_reg__
GAS LISTING C:\Temp/ccTnjCs9.s 			page 5


 229 0178 1E92      		st -X,__zero_reg__
 230 017a 1297      		sbiw r26,2
 231 017c B983      		std Y+1,r27
 232 017e A883      		st Y,r26
 233               	.L18:
 234 0180 20E0      		ldi r18,lo8(0)
 235 0182 30E0      		ldi r19,hi8(0)
 236               	.L15:
 237 0184 C901      		movw r24,r18
 238               	/* epilogue start */
 239 0186 DF91      		pop r29
 240 0188 CF91      		pop r28
 241 018a 0895      		ret
 242               		.size	NutHeapRootFree, .-NutHeapRootFree
 243               	.global	NutHeapRootAdd
 244               		.type	NutHeapRootAdd, @function
 245               	NutHeapRootAdd:
 246               	/* prologue: function */
 247               	/* frame size = 0 */
 248 018c 6F5F      		subi r22,lo8(-(1))
 249 018e 7F4F      		sbci r23,hi8(-(1))
 250 0190 FB01      		movw r30,r22
 251 0192 EE7F      		andi r30,lo8(-2)
 252 0194 6150      		subi r22,lo8(-(-1))
 253 0196 7040      		sbci r23,hi8(-(-1))
 254 0198 640F      		add r22,r20
 255 019a 751F      		adc r23,r21
 256 019c 6E1B      		sub r22,r30
 257 019e 7F0B      		sbc r23,r31
 258 01a0 6E7F      		andi r22,lo8(-2)
 259 01a2 6193      		st Z+,r22
 260 01a4 7193      		st Z+,r23
 261 01a6 BF01      		movw r22,r30
 262 01a8 0E94 0000 		call NutHeapRootFree
 263               	/* epilogue start */
 264 01ac 0895      		ret
 265               		.size	NutHeapRootAdd, .-NutHeapRootAdd
 266               	.global	NutHeapRootAvailable
 267               		.type	NutHeapRootAvailable, @function
 268               	NutHeapRootAvailable:
 269               	/* prologue: function */
 270               	/* frame size = 0 */
 271 01ae FC01      		movw r30,r24
 272 01b0 0190      		ld __tmp_reg__,Z+
 273 01b2 F081      		ld r31,Z
 274 01b4 E02D      		mov r30,__tmp_reg__
 275 01b6 20E0      		ldi r18,lo8(0)
 276 01b8 30E0      		ldi r19,hi8(0)
 277 01ba 00C0      		rjmp .L28
 278               	.L29:
 279 01bc 8081      		ld r24,Z
 280 01be 9181      		ldd r25,Z+1
 281 01c0 0297      		sbiw r24,2
 282 01c2 280F      		add r18,r24
 283 01c4 391F      		adc r19,r25
 284 01c6 0280      		ldd __tmp_reg__,Z+2
 285 01c8 F381      		ldd r31,Z+3
GAS LISTING C:\Temp/ccTnjCs9.s 			page 6


 286 01ca E02D      		mov r30,__tmp_reg__
 287               	.L28:
 288 01cc 3097      		sbiw r30,0
 289 01ce 01F4      		brne .L29
 290 01d0 C901      		movw r24,r18
 291               	/* epilogue start */
 292 01d2 0895      		ret
 293               		.size	NutHeapRootAvailable, .-NutHeapRootAvailable
 294               	.global	NutHeapRootRegionAvailable
 295               		.type	NutHeapRootRegionAvailable, @function
 296               	NutHeapRootRegionAvailable:
 297               	/* prologue: function */
 298               	/* frame size = 0 */
 299 01d4 FC01      		movw r30,r24
 300 01d6 0190      		ld __tmp_reg__,Z+
 301 01d8 F081      		ld r31,Z
 302 01da E02D      		mov r30,__tmp_reg__
 303 01dc 20E0      		ldi r18,lo8(0)
 304 01de 30E0      		ldi r19,hi8(0)
 305 01e0 00C0      		rjmp .L32
 306               	.L34:
 307 01e2 8081      		ld r24,Z
 308 01e4 9181      		ldd r25,Z+1
 309 01e6 2817      		cp r18,r24
 310 01e8 3907      		cpc r19,r25
 311 01ea 00F4      		brsh .L33
 312 01ec 9C01      		movw r18,r24
 313               	.L33:
 314 01ee 0280      		ldd __tmp_reg__,Z+2
 315 01f0 F381      		ldd r31,Z+3
 316 01f2 E02D      		mov r30,__tmp_reg__
 317               	.L32:
 318 01f4 3097      		sbiw r30,0
 319 01f6 01F4      		brne .L34
 320 01f8 2250      		subi r18,lo8(-(-2))
 321 01fa 3040      		sbci r19,hi8(-(-2))
 322 01fc C901      		movw r24,r18
 323               	/* epilogue start */
 324 01fe 0895      		ret
 325               		.size	NutHeapRootRegionAvailable, .-NutHeapRootRegionAvailable
 326               	.global	NutHeapCheck
 327               		.type	NutHeapCheck, @function
 328               	NutHeapCheck:
 329               	/* prologue: function */
 330               	/* frame size = 0 */
 331 0200 80E0      		ldi r24,lo8(0)
 332 0202 90E0      		ldi r25,hi8(0)
 333               	/* epilogue start */
 334 0204 0895      		ret
 335               		.size	NutHeapCheck, .-NutHeapCheck
 336               		.data
 337               	.LC0:
 338 0000 2570 2825 		.string	"%p(%d)\n"
 338      6429 0A00 
 339               		.text
 340               	.global	NutHeapDump
 341               		.type	NutHeapDump, @function
GAS LISTING C:\Temp/ccTnjCs9.s 			page 7


 342               	NutHeapDump:
 343 0206 EF92      		push r14
 344 0208 FF92      		push r15
 345 020a 0F93      		push r16
 346 020c 1F93      		push r17
 347 020e CF93      		push r28
 348 0210 DF93      		push r29
 349               	/* prologue: function */
 350               	/* frame size = 0 */
 351 0212 8C01      		movw r16,r24
 352 0214 C091 0000 		lds r28,heapFreeList
 353 0218 D091 0000 		lds r29,(heapFreeList)+1
 354 021c 80E0      		ldi r24,lo8(.LC0)
 355 021e E82E      		mov r14,r24
 356 0220 80E0      		ldi r24,hi8(.LC0)
 357 0222 F82E      		mov r15,r24
 358 0224 00C0      		rjmp .L39
 359               	.L40:
 360 0226 8881      		ld r24,Y
 361 0228 9981      		ldd r25,Y+1
 362 022a 9F93      		push r25
 363 022c 8F93      		push r24
 364 022e DF93      		push r29
 365 0230 CF93      		push r28
 366 0232 FF92      		push r15
 367 0234 EF92      		push r14
 368 0236 1F93      		push r17
 369 0238 0F93      		push r16
 370 023a 0E94 0000 		call fprintf
 371 023e 0A80      		ldd __tmp_reg__,Y+2
 372 0240 DB81      		ldd r29,Y+3
 373 0242 C02D      		mov r28,__tmp_reg__
 374 0244 8DB7      		in r24,__SP_L__
 375 0246 9EB7      		in r25,__SP_H__
 376 0248 0896      		adiw r24,8
 377 024a 0FB6      		in __tmp_reg__,__SREG__
 378 024c F894      		cli
 379 024e 9EBF      		out __SP_H__,r25
 380 0250 0FBE      		out __SREG__,__tmp_reg__
 381 0252 8DBF      		out __SP_L__,r24
 382               	.L39:
 383 0254 2097      		sbiw r28,0
 384 0256 01F4      		brne .L40
 385               	/* epilogue start */
 386 0258 DF91      		pop r29
 387 025a CF91      		pop r28
 388 025c 1F91      		pop r17
 389 025e 0F91      		pop r16
 390 0260 FF90      		pop r15
 391 0262 EF90      		pop r14
 392 0264 0895      		ret
 393               		.size	NutHeapDump, .-NutHeapDump
 394               	.global	NutHeapRootRealloc
 395               		.type	NutHeapRootRealloc, @function
 396               	NutHeapRootRealloc:
 397 0266 AF92      		push r10
 398 0268 BF92      		push r11
GAS LISTING C:\Temp/ccTnjCs9.s 			page 8


 399 026a CF92      		push r12
 400 026c DF92      		push r13
 401 026e EF92      		push r14
 402 0270 FF92      		push r15
 403 0272 0F93      		push r16
 404 0274 1F93      		push r17
 405 0276 CF93      		push r28
 406 0278 DF93      		push r29
 407               	/* prologue: function */
 408               	/* frame size = 0 */
 409 027a 6C01      		movw r12,r24
 410 027c 7B01      		movw r14,r22
 411 027e 6115      		cp r22,__zero_reg__
 412 0280 7105      		cpc r23,__zero_reg__
 413 0282 01F4      		brne .L43
 414 0284 BA01      		movw r22,r20
 415 0286 0E94 0000 		call NutHeapRootAlloc
 416 028a 7C01      		movw r14,r24
 417 028c 00C0      		rjmp .L44
 418               	.L43:
 419 028e 4115      		cp r20,__zero_reg__
 420 0290 5105      		cpc r21,__zero_reg__
 421 0292 01F4      		brne .L45
 422 0294 0E94 0000 		call NutHeapRootFree
 423 0298 892B      		or r24,r25
 424 029a 01F4      		brne .+2
 425 029c 00C0      		rjmp .L44
 426 029e 00C0      		rjmp .L58
 427               	.L45:
 428 02a0 8B01      		movw r16,r22
 429 02a2 0250      		subi r16,lo8(-(-2))
 430 02a4 1040      		sbci r17,hi8(-(-2))
 431 02a6 4E5F      		subi r20,lo8(-(2))
 432 02a8 5F4F      		sbci r21,hi8(-(2))
 433 02aa 4430      		cpi r20,4
 434 02ac 5105      		cpc r21,__zero_reg__
 435 02ae 00F4      		brsh .L46
 436 02b0 44E0      		ldi r20,lo8(4)
 437 02b2 50E0      		ldi r21,hi8(4)
 438               	.L46:
 439 02b4 EA01      		movw r28,r20
 440 02b6 2196      		adiw r28,1
 441 02b8 CE7F      		andi r28,lo8(-2)
 442 02ba F801      		movw r30,r16
 443 02bc 2081      		ld r18,Z
 444 02be 3181      		ldd r19,Z+1
 445 02c0 2C17      		cp r18,r28
 446 02c2 3D07      		cpc r19,r29
 447 02c4 00F0      		brlo .+2
 448 02c6 00C0      		rjmp .L47
 449 02c8 F601      		movw r30,r12
 450 02ca A081      		ld r26,Z
 451 02cc B181      		ldd r27,Z+1
 452 02ce 5601      		movw r10,r12
 453 02d0 00C0      		rjmp .L48
 454               	.L50:
 455 02d2 92E0      		ldi r25,lo8(2)
GAS LISTING C:\Temp/ccTnjCs9.s 			page 9


 456 02d4 A92E      		mov r10,r25
 457 02d6 B12C      		mov r11,__zero_reg__
 458 02d8 AA0E      		add r10,r26
 459 02da BB1E      		adc r11,r27
 460 02dc 1296      		adiw r26,2
 461 02de 0D90      		ld __tmp_reg__,X+
 462 02e0 BC91      		ld r27,X
 463 02e2 A02D      		mov r26,__tmp_reg__
 464               	.L48:
 465 02e4 1097      		sbiw r26,0
 466 02e6 01F0      		breq .L49
 467 02e8 A017      		cp r26,r16
 468 02ea B107      		cpc r27,r17
 469 02ec 00F0      		brlo .L50
 470 02ee 00C0      		rjmp .L59
 471               	.L55:
 472 02f0 C801      		movw r24,r16
 473 02f2 820F      		add r24,r18
 474 02f4 931F      		adc r25,r19
 475 02f6 8A17      		cp r24,r26
 476 02f8 9B07      		cpc r25,r27
 477 02fa 01F4      		brne .L49
 478 02fc CA01      		movw r24,r20
 479 02fe 861B      		sub r24,r22
 480 0300 970B      		sbc r25,r23
 481 0302 0497      		sbiw r24,4
 482 0304 00F0      		brlo .L52
 483 0306 260F      		add r18,r22
 484 0308 371F      		adc r19,r23
 485 030a E801      		movw r28,r16
 486 030c 3983      		std Y+1,r19
 487 030e 2883      		st Y,r18
 488 0310 FD01      		movw r30,r26
 489 0312 E60F      		add r30,r22
 490 0314 F71F      		adc r31,r23
 491 0316 E501      		movw r28,r10
 492 0318 F983      		std Y+1,r31
 493 031a E883      		st Y,r30
 494 031c 1296      		adiw r26,2
 495 031e 8D91      		ld r24,X+
 496 0320 9C91      		ld r25,X
 497 0322 1397      		sbiw r26,2+1
 498 0324 9383      		std Z+3,r25
 499 0326 8283      		std Z+2,r24
 500 0328 E881      		ld r30,Y
 501 032a F981      		ldd r31,Y+1
 502 032c 8D91      		ld r24,X+
 503 032e 9C91      		ld r25,X
 504 0330 861B      		sub r24,r22
 505 0332 970B      		sbc r25,r23
 506 0334 9183      		std Z+1,r25
 507 0336 8083      		st Z,r24
 508 0338 00C0      		rjmp .L44
 509               	.L52:
 510 033a 420F      		add r20,r18
 511 033c 531F      		adc r21,r19
 512 033e F801      		movw r30,r16
GAS LISTING C:\Temp/ccTnjCs9.s 			page 10


 513 0340 5183      		std Z+1,r21
 514 0342 4083      		st Z,r20
 515 0344 1296      		adiw r26,2
 516 0346 8D91      		ld r24,X+
 517 0348 9C91      		ld r25,X
 518 034a 1397      		sbiw r26,2+1
 519 034c E501      		movw r28,r10
 520 034e 9983      		std Y+1,r25
 521 0350 8883      		st Y,r24
 522 0352 00C0      		rjmp .L44
 523               	.L49:
 524 0354 BE01      		movw r22,r28
 525 0356 C601      		movw r24,r12
 526 0358 0E94 0000 		call NutHeapRootAlloc
 527 035c EC01      		movw r28,r24
 528 035e 0097      		sbiw r24,0
 529 0360 01F4      		brne .L53
 530               	.L58:
 531 0362 EE24      		clr r14
 532 0364 FF24      		clr r15
 533 0366 00C0      		rjmp .L44
 534               	.L53:
 535 0368 F801      		movw r30,r16
 536 036a 8081      		ld r24,Z
 537 036c 9181      		ldd r25,Z+1
 538 036e 0297      		sbiw r24,2
 539 0370 AC01      		movw r20,r24
 540 0372 B701      		movw r22,r14
 541 0374 CE01      		movw r24,r28
 542 0376 0E94 0000 		call memcpy
 543 037a B701      		movw r22,r14
 544 037c C601      		movw r24,r12
 545 037e 0E94 0000 		call NutHeapRootFree
 546 0382 7E01      		movw r14,r28
 547 0384 00C0      		rjmp .L44
 548               	.L47:
 549 0386 C901      		movw r24,r18
 550 0388 0497      		sbiw r24,4
 551 038a C817      		cp r28,r24
 552 038c D907      		cpc r29,r25
 553 038e 00F4      		brsh .L44
 554 0390 2C1B      		sub r18,r28
 555 0392 3D0B      		sbc r19,r29
 556 0394 F801      		movw r30,r16
 557 0396 EC0F      		add r30,r28
 558 0398 FD1F      		adc r31,r29
 559 039a 2193      		st Z+,r18
 560 039c 3193      		st Z+,r19
 561 039e BF01      		movw r22,r30
 562 03a0 C601      		movw r24,r12
 563 03a2 0E94 0000 		call NutHeapRootFree
 564 03a6 F801      		movw r30,r16
 565 03a8 D183      		std Z+1,r29
 566 03aa C083      		st Z,r28
 567               	.L44:
 568 03ac C701      		movw r24,r14
 569               	/* epilogue start */
GAS LISTING C:\Temp/ccTnjCs9.s 			page 11


 570 03ae DF91      		pop r29
 571 03b0 CF91      		pop r28
 572 03b2 1F91      		pop r17
 573 03b4 0F91      		pop r16
 574 03b6 FF90      		pop r15
 575 03b8 EF90      		pop r14
 576 03ba DF90      		pop r13
 577 03bc CF90      		pop r12
 578 03be BF90      		pop r11
 579 03c0 AF90      		pop r10
 580 03c2 0895      		ret
 581               	.L59:
 582 03c4 BE01      		movw r22,r28
 583 03c6 621B      		sub r22,r18
 584 03c8 730B      		sbc r23,r19
 585 03ca 4D91      		ld r20,X+
 586 03cc 5C91      		ld r21,X
 587 03ce 1197      		sbiw r26,1
 588 03d0 4617      		cp r20,r22
 589 03d2 5707      		cpc r21,r23
 590 03d4 00F0      		brlo .+2
 591 03d6 00C0      		rjmp .L55
 592 03d8 00C0      		rjmp .L49
 593               		.size	NutHeapRootRealloc, .-NutHeapRootRealloc
 594               	.global	NutHeapRootAllocClear
 595               		.type	NutHeapRootAllocClear, @function
 596               	NutHeapRootAllocClear:
 597 03da 0F93      		push r16
 598 03dc 1F93      		push r17
 599 03de CF93      		push r28
 600 03e0 DF93      		push r29
 601               	/* prologue: function */
 602               	/* frame size = 0 */
 603 03e2 162F      		mov r17,r22
 604 03e4 072F      		mov r16,r23
 605 03e6 0E94 0000 		call NutHeapRootAlloc
 606 03ea EC01      		movw r28,r24
 607 03ec 0097      		sbiw r24,0
 608 03ee 01F0      		breq .L61
 609 03f0 412F      		mov r20,r17
 610 03f2 502F      		mov r21,r16
 611 03f4 60E0      		ldi r22,lo8(0)
 612 03f6 70E0      		ldi r23,hi8(0)
 613 03f8 0E94 0000 		call memset
 614               	.L61:
 615 03fc CE01      		movw r24,r28
 616               	/* epilogue start */
 617 03fe DF91      		pop r29
 618 0400 CF91      		pop r28
 619 0402 1F91      		pop r17
 620 0404 0F91      		pop r16
 621 0406 0895      		ret
 622               		.size	NutHeapRootAllocClear, .-NutHeapRootAllocClear
 623               		.comm heapFreeList,2,1
GAS LISTING C:\Temp/ccTnjCs9.s 			page 12


DEFINED SYMBOLS
                            *ABS*:00000000 heap.c
  C:\Temp/ccTnjCs9.s:2      *ABS*:0000003f __SREG__
  C:\Temp/ccTnjCs9.s:3      *ABS*:0000003e __SP_H__
  C:\Temp/ccTnjCs9.s:4      *ABS*:0000003d __SP_L__
  C:\Temp/ccTnjCs9.s:5      *ABS*:00000034 __CCP__
  C:\Temp/ccTnjCs9.s:6      *ABS*:00000000 __tmp_reg__
  C:\Temp/ccTnjCs9.s:7      *ABS*:00000001 __zero_reg__
  C:\Temp/ccTnjCs9.s:13     .text:00000000 NutHeapRootAlloc
  C:\Temp/ccTnjCs9.s:118    .text:000000b0 NutHeapRootFree
  C:\Temp/ccTnjCs9.s:245    .text:0000018c NutHeapRootAdd
  C:\Temp/ccTnjCs9.s:268    .text:000001ae NutHeapRootAvailable
  C:\Temp/ccTnjCs9.s:296    .text:000001d4 NutHeapRootRegionAvailable
  C:\Temp/ccTnjCs9.s:328    .text:00000200 NutHeapCheck
  C:\Temp/ccTnjCs9.s:342    .text:00000206 NutHeapDump
                            *COM*:00000002 heapFreeList
  C:\Temp/ccTnjCs9.s:396    .text:00000266 NutHeapRootRealloc
  C:\Temp/ccTnjCs9.s:596    .text:000003da NutHeapRootAllocClear

UNDEFINED SYMBOLS
__do_copy_data
__do_clear_bss
fprintf
memcpy
memset
