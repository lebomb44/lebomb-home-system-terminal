GAS LISTING C:\Temp/ccIE4t7g.s 			page 1


   1               		.file	"usart.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__  = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.global __do_copy_data
   9               		.global __do_clear_bss
  10               		.text
  11               	.global	UsartInit
  12               		.type	UsartInit, @function
  13               	UsartInit:
  14 0000 0F93      		push r16
  15 0002 1F93      		push r17
  16 0004 CF93      		push r28
  17 0006 DF93      		push r29
  18               	/* prologue: function */
  19               	/* frame size = 0 */
  20 0008 FC01      		movw r30,r24
  21 000a C189      		ldd r28,Z+17
  22 000c D289      		ldd r29,Z+18
  23 000e EDA9      		ldd r30,Y+53
  24 0010 FEA9      		ldd r31,Y+54
  25 0012 0995      		icall
  26 0014 8C01      		movw r16,r24
  27 0016 0097      		sbiw r24,0
  28 0018 01F4      		brne .L2
  29 001a CF5B      		subi r28,lo8(-(65))
  30 001c DF4F      		sbci r29,hi8(-(65))
  31 001e E881      		ld r30,Y
  32 0020 F981      		ldd r31,Y+1
  33 0022 60E0      		ldi r22,lo8(115200)
  34 0024 72EC      		ldi r23,hi8(115200)
  35 0026 81E0      		ldi r24,hlo8(115200)
  36 0028 90E0      		ldi r25,hhi8(115200)
  37 002a 0995      		icall
  38               	.L2:
  39 002c C801      		movw r24,r16
  40               	/* epilogue start */
  41 002e DF91      		pop r29
  42 0030 CF91      		pop r28
  43 0032 1F91      		pop r17
  44 0034 0F91      		pop r16
  45 0036 0895      		ret
  46               		.size	UsartInit, .-UsartInit
  47               	.global	UsartSize
  48               		.type	UsartSize, @function
  49               	UsartSize:
  50               	/* prologue: function */
  51               	/* frame size = 0 */
  52 0038 DC01      		movw r26,r24
  53 003a 1296      		adiw r26,2
  54 003c ED91      		ld r30,X+
  55 003e FC91      		ld r31,X
  56 0040 1397      		sbiw r26,2+1
  57 0042 0188      		ldd __tmp_reg__,Z+17
GAS LISTING C:\Temp/ccIE4t7g.s 			page 2


  58 0044 F289      		ldd r31,Z+18
  59 0046 E02D      		mov r30,__tmp_reg__
  60               	/* #APP */
  61               	 ;  874 "../../nut/dev/usart.c" 1
  62 0048 0FB6      		in  __tmp_reg__, __SREG__
  63 004a F894      		cli
  64 004c 0F92      		push __tmp_reg__
  65               		
  66               	 ;  0 "" 2
  67               	/* #NOAPP */
  68 004e 84A5      		ldd r24,Z+44
  69 0050 95A5      		ldd r25,Z+45
  70               	/* #APP */
  71               	 ;  876 "../../nut/dev/usart.c" 1
  72 0052 0F90      		pop __tmp_reg__
  73 0054 0FBE      		out __SREG__, __tmp_reg__
  74               		
  75               	 ;  0 "" 2
  76               	/* #NOAPP */
  77 0056 BC01      		movw r22,r24
  78 0058 80E0      		ldi r24,lo8(0)
  79 005a 90E0      		ldi r25,lo8(0)
  80               	/* epilogue start */
  81 005c 0895      		ret
  82               		.size	UsartSize, .-UsartSize
  83               		.type	UsartResetBuffer, @function
  84               	UsartResetBuffer:
  85 005e CF92      		push r12
  86 0060 DF92      		push r13
  87 0062 EF92      		push r14
  88 0064 FF92      		push r15
  89 0066 0F93      		push r16
  90 0068 1F93      		push r17
  91 006a CF93      		push r28
  92 006c DF93      		push r29
  93               	/* prologue: function */
  94               	/* frame size = 0 */
  95 006e EC01      		movw r28,r24
  96 0070 8B01      		movw r16,r22
  97 0072 7A01      		movw r14,r20
  98 0074 6901      		movw r12,r18
  99 0076 8C81      		ldd r24,Y+4
 100 0078 9D81      		ldd r25,Y+5
 101 007a 2885      		ldd r18,Y+8
 102 007c 3985      		ldd r19,Y+9
 103               	/* #APP */
 104               	 ;  140 "../../nut/dev/usart.c" 1
 105 007e 0FB6      		in  __tmp_reg__, __SREG__
 106 0080 F894      		cli
 107 0082 0F92      		push __tmp_reg__
 108               		
 109               	 ;  0 "" 2
 110               	/* #NOAPP */
 111 0084 1986      		std Y+9,__zero_reg__
 112 0086 1886      		std Y+8,__zero_reg__
 113               	/* #APP */
 114               	 ;  142 "../../nut/dev/usart.c" 1
GAS LISTING C:\Temp/ccIE4t7g.s 			page 3


 115 0088 0F90      		pop __tmp_reg__
 116 008a 0FBE      		out __SREG__, __tmp_reg__
 117               		
 118               	 ;  0 "" 2
 119               	/* #NOAPP */
 120 008c 2617      		cp r18,r22
 121 008e 3707      		cpc r19,r23
 122 0090 01F0      		breq .L7
 123 0092 232B      		or r18,r19
 124 0094 01F0      		breq .L8
 125 0096 0097      		sbiw r24,0
 126 0098 01F0      		breq .L8
 127 009a 0E94 0000 		call free
 128               	.L8:
 129 009e 0115      		cp r16,__zero_reg__
 130 00a0 1105      		cpc r17,__zero_reg__
 131 00a2 01F0      		breq .L9
 132 00a4 C801      		movw r24,r16
 133 00a6 0E94 0000 		call malloc
 134 00aa 0097      		sbiw r24,0
 135 00ac 01F4      		brne .L10
 136 00ae 2FEF      		ldi r18,lo8(-1)
 137 00b0 3FEF      		ldi r19,hi8(-1)
 138 00b2 00C0      		rjmp .L11
 139               	.L7:
 140 00b4 6115      		cp r22,__zero_reg__
 141 00b6 7105      		cpc r23,__zero_reg__
 142 00b8 01F0      		breq .L9
 143               	.L10:
 144 00ba 9D83      		std Y+5,r25
 145 00bc 8C83      		std Y+4,r24
 146 00be 9983      		std Y+1,r25
 147 00c0 8883      		st Y,r24
 148 00c2 9B83      		std Y+3,r25
 149 00c4 8A83      		std Y+2,r24
 150 00c6 800F      		add r24,r16
 151 00c8 911F      		adc r25,r17
 152 00ca 9F83      		std Y+7,r25
 153 00cc 8E83      		std Y+6,r24
 154 00ce FD86      		std Y+13,r15
 155 00d0 EC86      		std Y+12,r14
 156 00d2 DF86      		std Y+15,r13
 157 00d4 CE86      		std Y+14,r12
 158 00d6 1B86      		std Y+11,__zero_reg__
 159 00d8 1A86      		std Y+10,__zero_reg__
 160               	/* #APP */
 161               	 ;  165 "../../nut/dev/usart.c" 1
 162 00da 0FB6      		in  __tmp_reg__, __SREG__
 163 00dc F894      		cli
 164 00de 0F92      		push __tmp_reg__
 165               		
 166               	 ;  0 "" 2
 167               	/* #NOAPP */
 168 00e0 1987      		std Y+9,r17
 169 00e2 0887      		std Y+8,r16
 170               	/* #APP */
 171               	 ;  167 "../../nut/dev/usart.c" 1
GAS LISTING C:\Temp/ccIE4t7g.s 			page 4


 172 00e4 0F90      		pop __tmp_reg__
 173 00e6 0FBE      		out __SREG__, __tmp_reg__
 174               		
 175               	 ;  0 "" 2
 176               	/* #NOAPP */
 177               	.L9:
 178 00e8 20E0      		ldi r18,lo8(0)
 179 00ea 30E0      		ldi r19,hi8(0)
 180               	.L11:
 181 00ec C901      		movw r24,r18
 182               	/* epilogue start */
 183 00ee DF91      		pop r29
 184 00f0 CF91      		pop r28
 185 00f2 1F91      		pop r17
 186 00f4 0F91      		pop r16
 187 00f6 FF90      		pop r15
 188 00f8 EF90      		pop r14
 189 00fa DF90      		pop r13
 190 00fc CF90      		pop r12
 191 00fe 0895      		ret
 192               		.size	UsartResetBuffer, .-UsartResetBuffer
 193               	.global	UsartIOCtl
 194               		.type	UsartIOCtl, @function
 195               	UsartIOCtl:
 196 0100 CF92      		push r12
 197 0102 DF92      		push r13
 198 0104 EF92      		push r14
 199 0106 FF92      		push r15
 200 0108 0F93      		push r16
 201 010a 1F93      		push r17
 202 010c CF93      		push r28
 203 010e DF93      		push r29
 204               	/* prologue: function */
 205               	/* frame size = 0 */
 206 0110 FB01      		movw r30,r22
 207 0112 6A01      		movw r12,r20
 208 0114 DA01      		movw r26,r20
 209 0116 ED90      		ld r14,X+
 210 0118 FD90      		ld r15,X+
 211 011a 0D91      		ld r16,X+
 212 011c 1C91      		ld r17,X
 213 011e 2E2D      		mov r18,r14
 214 0120 DC01      		movw r26,r24
 215 0122 5196      		adiw r26,17
 216 0124 CD91      		ld r28,X+
 217 0126 DC91      		ld r29,X
 218 0128 5297      		sbiw r26,17+1
 219 012a E150      		subi r30,lo8(-(-257))
 220 012c F140      		sbci r31,hi8(-(-257))
 221 012e E732      		cpi r30,39
 222 0130 F105      		cpc r31,__zero_reg__
 223 0132 00F4      		brsh .L14
 224 0134 E050      		subi r30,lo8(-(gs(.L49)))
 225 0136 F040      		sbci r31,hi8(-(gs(.L49)))
 226 0138 EE0F      		lsl r30
 227 013a FF1F      		rol r31
 228 013c 0590      		lpm __tmp_reg__,Z+
GAS LISTING C:\Temp/ccIE4t7g.s 			page 5


 229 013e F491      		lpm r31,Z
 230 0140 E02D      		mov r30,__tmp_reg__
 231 0142 0994      		ijmp
 232               		.data
 233               		.section .progmem.gcc_sw_table, "a", @progbits
 234               		.p2align 1
 235               	.L49:
 236               		.data
 237               		.section .progmem.gcc_sw_table, "a", @progbits
 238               		.p2align 1
 239 0000 0000      		.word gs(.L15)
 240 0002 0000      		.word gs(.L16)
 241 0004 0000      		.word gs(.L17)
 242 0006 0000      		.word gs(.L18)
 243 0008 0000      		.word gs(.L19)
 244 000a 0000      		.word gs(.L20)
 245 000c 0000      		.word gs(.L21)
 246 000e 0000      		.word gs(.L22)
 247 0010 0000      		.word gs(.L23)
 248 0012 0000      		.word gs(.L24)
 249 0014 0000      		.word gs(.L25)
 250 0016 0000      		.word gs(.L26)
 251 0018 0000      		.word gs(.L27)
 252 001a 0000      		.word gs(.L28)
 253 001c 0000      		.word gs(.L29)
 254 001e 0000      		.word gs(.L30)
 255 0020 0000      		.word gs(.L31)
 256 0022 0000      		.word gs(.L32)
 257 0024 0000      		.word gs(.L33)
 258 0026 0000      		.word gs(.L34)
 259 0028 0000      		.word gs(.L14)
 260 002a 0000      		.word gs(.L14)
 261 002c 0000      		.word gs(.L14)
 262 002e 0000      		.word gs(.L14)
 263 0030 0000      		.word gs(.L35)
 264 0032 0000      		.word gs(.L36)
 265 0034 0000      		.word gs(.L37)
 266 0036 0000      		.word gs(.L38)
 267 0038 0000      		.word gs(.L39)
 268 003a 0000      		.word gs(.L40)
 269 003c 0000      		.word gs(.L14)
 270 003e 0000      		.word gs(.L41)
 271 0040 0000      		.word gs(.L42)
 272 0042 0000      		.word gs(.L43)
 273 0044 0000      		.word gs(.L44)
 274 0046 0000      		.word gs(.L45)
 275 0048 0000      		.word gs(.L46)
 276 004a 0000      		.word gs(.L47)
 277 004c 0000      		.word gs(.L48)
 278               		.text
 279               	.L14:
 280 0144 0FEF      		ldi r16,lo8(-1)
 281 0146 1FEF      		ldi r17,hi8(-1)
 282 0148 00C0      		rjmp .L50
 283               	.L15:
 284 014a CF5B      		subi r28,lo8(-(65))
 285 014c DF4F      		sbci r29,hi8(-(65))
GAS LISTING C:\Temp/ccIE4t7g.s 			page 6


 286 014e 00C0      		rjmp .L62
 287               	.L16:
 288 0150 CD5B      		subi r28,lo8(-(67))
 289 0152 DF4F      		sbci r29,hi8(-(67))
 290 0154 00C0      		rjmp .L69
 291               	.L17:
 292 0156 CB5B      		subi r28,lo8(-(69))
 293 0158 DF4F      		sbci r29,hi8(-(69))
 294               	.L63:
 295 015a E881      		ld r30,Y
 296 015c F981      		ldd r31,Y+1
 297 015e 822F      		mov r24,r18
 298 0160 0995      		icall
 299               	.L60:
 300 0162 8C01      		movw r16,r24
 301 0164 00C0      		rjmp .L50
 302               	.L18:
 303 0166 C95B      		subi r28,lo8(-(71))
 304 0168 DF4F      		sbci r29,hi8(-(71))
 305 016a 00C0      		rjmp .L70
 306               	.L19:
 307 016c C75B      		subi r28,lo8(-(73))
 308 016e DF4F      		sbci r29,hi8(-(73))
 309 0170 00C0      		rjmp .L63
 310               	.L20:
 311 0172 C55B      		subi r28,lo8(-(75))
 312 0174 DF4F      		sbci r29,hi8(-(75))
 313 0176 00C0      		rjmp .L70
 314               	.L21:
 315 0178 C35B      		subi r28,lo8(-(77))
 316 017a DF4F      		sbci r29,hi8(-(77))
 317 017c 00C0      		rjmp .L63
 318               	.L22:
 319 017e C15B      		subi r28,lo8(-(79))
 320 0180 DF4F      		sbci r29,hi8(-(79))
 321               	.L70:
 322 0182 E881      		ld r30,Y
 323 0184 F981      		ldd r31,Y+1
 324 0186 0995      		icall
 325 0188 90E0      		ldi r25,lo8(0)
 326 018a 00C0      		rjmp .L66
 327               	.L23:
 328 018c E6FE      		sbrs r14,6
 329 018e 00C0      		rjmp .L51
 330 0190 28A9      		ldd r18,Y+48
 331 0192 39A9      		ldd r19,Y+49
 332 0194 4EA5      		ldd r20,Y+46
 333 0196 5FA5      		ldd r21,Y+47
 334 0198 6AA5      		ldd r22,Y+42
 335 019a 7BA5      		ldd r23,Y+43
 336 019c CE01      		movw r24,r28
 337 019e 8296      		adiw r24,34
 338 01a0 0E94 0000 		call UsartResetBuffer
 339 01a4 EBAD      		ldd r30,Y+59
 340 01a6 FCAD      		ldd r31,Y+60
 341 01a8 0995      		icall
 342               	.L51:
GAS LISTING C:\Temp/ccIE4t7g.s 			page 7


 343 01aa E7FE      		sbrs r14,7
 344 01ac 00C0      		rjmp .L52
 345 01ae 2E8D      		ldd r18,Y+30
 346 01b0 3F8D      		ldd r19,Y+31
 347 01b2 4C8D      		ldd r20,Y+28
 348 01b4 5D8D      		ldd r21,Y+29
 349 01b6 688D      		ldd r22,Y+24
 350 01b8 798D      		ldd r23,Y+25
 351 01ba CE01      		movw r24,r28
 352 01bc 4096      		adiw r24,16
 353 01be 0E94 0000 		call UsartResetBuffer
 354               	.L52:
 355 01c2 CF5A      		subi r28,lo8(-(81))
 356 01c4 DF4F      		sbci r29,hi8(-(81))
 357 01c6 8FE3      		ldi r24,lo8(-193)
 358 01c8 9FEF      		ldi r25,hi8(-193)
 359 01ca AFEF      		ldi r26,hlo8(-193)
 360 01cc BFEF      		ldi r27,hhi8(-193)
 361 01ce E822      		and r14,r24
 362 01d0 F922      		and r15,r25
 363 01d2 0A23      		and r16,r26
 364 01d4 1B23      		and r17,r27
 365               	.L62:
 366 01d6 E881      		ld r30,Y
 367 01d8 F981      		ldd r31,Y+1
 368               	.L64:
 369 01da C801      		movw r24,r16
 370 01dc B701      		movw r22,r14
 371 01de 0995      		icall
 372 01e0 00C0      		rjmp .L60
 373               	.L24:
 374 01e2 CD5A      		subi r28,lo8(-(83))
 375 01e4 DF4F      		sbci r29,hi8(-(83))
 376 01e6 E881      		ld r30,Y
 377 01e8 F981      		ldd r31,Y+1
 378 01ea C355      		subi r28,lo8(-(-83))
 379 01ec D040      		sbci r29,hi8(-(-83))
 380 01ee 0995      		icall
 381 01f0 9B01      		movw r18,r22
 382 01f2 AC01      		movw r20,r24
 383 01f4 D601      		movw r26,r12
 384 01f6 6D93      		st X+,r22
 385 01f8 7D93      		st X+,r23
 386 01fa 8D93      		st X+,r24
 387 01fc 9C93      		st X,r25
 388 01fe 1397      		sbiw r26,3
 389 0200 8CA5      		ldd r24,Y+44
 390 0202 9DA5      		ldd r25,Y+45
 391 0204 892B      		or r24,r25
 392 0206 01F4      		brne .L53
 393 0208 2064      		ori r18,lo8(64)
 394 020a F601      		movw r30,r12
 395 020c 2083      		st Z,r18
 396 020e 3183      		std Z+1,r19
 397 0210 4283      		std Z+2,r20
 398 0212 5383      		std Z+3,r21
 399               	.L53:
GAS LISTING C:\Temp/ccIE4t7g.s 			page 8


 400 0214 8A8D      		ldd r24,Y+26
 401 0216 9B8D      		ldd r25,Y+27
 402 0218 892B      		or r24,r25
 403 021a 01F0      		breq .+2
 404 021c 00C0      		rjmp .L61
 405               	.L54:
 406 021e F601      		movw r30,r12
 407 0220 8081      		ld r24,Z
 408 0222 9181      		ldd r25,Z+1
 409 0224 A281      		ldd r26,Z+2
 410 0226 B381      		ldd r27,Z+3
 411 0228 8068      		ori r24,lo8(128)
 412 022a 00C0      		rjmp .L68
 413               	.L25:
 414 022c E886      		std Y+8,r14
 415 022e F986      		std Y+9,r15
 416 0230 0A87      		std Y+10,r16
 417 0232 1B87      		std Y+11,r17
 418 0234 00C0      		rjmp .L61
 419               	.L26:
 420 0236 8885      		ldd r24,Y+8
 421 0238 9985      		ldd r25,Y+9
 422 023a AA85      		ldd r26,Y+10
 423 023c BB85      		ldd r27,Y+11
 424 023e 00C0      		rjmp .L67
 425               	.L27:
 426 0240 EC86      		std Y+12,r14
 427 0242 FD86      		std Y+13,r15
 428 0244 0E87      		std Y+14,r16
 429 0246 1F87      		std Y+15,r17
 430 0248 00C0      		rjmp .L61
 431               	.L28:
 432 024a 8C85      		ldd r24,Y+12
 433 024c 9D85      		ldd r25,Y+13
 434 024e AE85      		ldd r26,Y+14
 435 0250 BF85      		ldd r27,Y+15
 436 0252 00C0      		rjmp .L67
 437               	.L29:
 438 0254 8881      		ld r24,Y
 439 0256 9981      		ldd r25,Y+1
 440 0258 AA81      		ldd r26,Y+2
 441 025a BB81      		ldd r27,Y+3
 442 025c EE20      		tst r14
 443 025e 01F0      		breq .L55
 444 0260 8064      		ori r24,lo8(64)
 445 0262 00C0      		rjmp .L65
 446               	.L55:
 447 0264 8F7B      		andi r24,lo8(-65)
 448 0266 00C0      		rjmp .L65
 449               	.L30:
 450 0268 8881      		ld r24,Y
 451 026a 86FF      		sbrs r24,6
 452 026c 00C0      		rjmp .L58
 453 026e 00C0      		rjmp .L71
 454               	.L31:
 455 0270 EDAD      		ldd r30,Y+61
 456 0272 FEAD      		ldd r31,Y+62
GAS LISTING C:\Temp/ccIE4t7g.s 			page 9


 457 0274 00C0      		rjmp .L64
 458               	.L32:
 459 0276 EF96      		adiw r28,63
 460               	.L69:
 461 0278 E881      		ld r30,Y
 462 027a F981      		ldd r31,Y+1
 463 027c 0995      		icall
 464 027e F601      		movw r30,r12
 465 0280 6083      		st Z,r22
 466 0282 7183      		std Z+1,r23
 467 0284 8283      		std Z+2,r24
 468 0286 9383      		std Z+3,r25
 469 0288 00C0      		rjmp .L61
 470               	.L33:
 471 028a 8881      		ld r24,Y
 472 028c 9981      		ldd r25,Y+1
 473 028e AA81      		ldd r26,Y+2
 474 0290 BB81      		ldd r27,Y+3
 475 0292 EE20      		tst r14
 476 0294 01F0      		breq .L57
 477 0296 8068      		ori r24,lo8(128)
 478 0298 00C0      		rjmp .L65
 479               	.L57:
 480 029a 8F77      		andi r24,lo8(-129)
 481               	.L65:
 482 029c 8883      		st Y,r24
 483 029e 9983      		std Y+1,r25
 484 02a0 AA83      		std Y+2,r26
 485 02a2 BB83      		std Y+3,r27
 486 02a4 00C0      		rjmp .L61
 487               	.L34:
 488 02a6 8881      		ld r24,Y
 489 02a8 87FF      		sbrs r24,7
 490 02aa 00C0      		rjmp .L58
 491               	.L71:
 492 02ac 81E0      		ldi r24,lo8(1)
 493 02ae 90E0      		ldi r25,hi8(1)
 494 02b0 A0E0      		ldi r26,hlo8(1)
 495 02b2 B0E0      		ldi r27,hhi8(1)
 496 02b4 00C0      		rjmp .L67
 497               	.L58:
 498 02b6 D601      		movw r26,r12
 499 02b8 1D92      		st X+,__zero_reg__
 500 02ba 1D92      		st X+,__zero_reg__
 501 02bc 1D92      		st X+,__zero_reg__
 502 02be 1C92      		st X,__zero_reg__
 503 02c0 1397      		sbiw r26,3
 504 02c2 00C0      		rjmp .L61
 505               	.L35:
 506 02c4 CB5A      		subi r28,lo8(-(85))
 507 02c6 DF4F      		sbci r29,hi8(-(85))
 508 02c8 00C0      		rjmp .L63
 509               	.L36:
 510 02ca C95A      		subi r28,lo8(-(87))
 511 02cc DF4F      		sbci r29,hi8(-(87))
 512 02ce 00C0      		rjmp .L70
 513               	.L37:
GAS LISTING C:\Temp/ccIE4t7g.s 			page 10


 514 02d0 2E8D      		ldd r18,Y+30
 515 02d2 3F8D      		ldd r19,Y+31
 516 02d4 4C8D      		ldd r20,Y+28
 517 02d6 5D8D      		ldd r21,Y+29
 518 02d8 B701      		movw r22,r14
 519 02da CE01      		movw r24,r28
 520 02dc 4096      		adiw r24,16
 521 02de 0E94 0000 		call UsartResetBuffer
 522 02e2 8C01      		movw r16,r24
 523 02e4 0097      		sbiw r24,0
 524 02e6 01F0      		breq .+2
 525 02e8 00C0      		rjmp .L50
 526 02ea EBAD      		ldd r30,Y+59
 527 02ec FCAD      		ldd r31,Y+60
 528 02ee 0995      		icall
 529 02f0 00C0      		rjmp .L50
 530               	.L38:
 531 02f2 888D      		ldd r24,Y+24
 532 02f4 998D      		ldd r25,Y+25
 533 02f6 00C0      		rjmp .L66
 534               	.L39:
 535 02f8 28A9      		ldd r18,Y+48
 536 02fa 39A9      		ldd r19,Y+49
 537 02fc 4EA5      		ldd r20,Y+46
 538 02fe 5FA5      		ldd r21,Y+47
 539 0300 B701      		movw r22,r14
 540 0302 CE01      		movw r24,r28
 541 0304 8296      		adiw r24,34
 542 0306 0E94 0000 		call UsartResetBuffer
 543 030a 00C0      		rjmp .L60
 544               	.L40:
 545 030c 8AA5      		ldd r24,Y+42
 546 030e 9BA5      		ldd r25,Y+43
 547 0310 00C0      		rjmp .L66
 548               	.L41:
 549               	/* #APP */
 550               	 ;  813 "../../nut/dev/usart.c" 1
 551 0312 0FB6      		in  __tmp_reg__, __SREG__
 552 0314 F894      		cli
 553 0316 0F92      		push __tmp_reg__
 554               		
 555               	 ;  0 "" 2
 556               	/* #NOAPP */
 557 0318 FD8E      		std Y+29,r15
 558 031a EC8E      		std Y+28,r14
 559               	/* #APP */
 560               	 ;  815 "../../nut/dev/usart.c" 1
 561 031c 0F90      		pop __tmp_reg__
 562 031e 0FBE      		out __SREG__, __tmp_reg__
 563               		
 564               	 ;  0 "" 2
 565               	/* #NOAPP */
 566 0320 00C0      		rjmp .L61
 567               	.L42:
 568 0322 8C8D      		ldd r24,Y+28
 569 0324 9D8D      		ldd r25,Y+29
 570 0326 00C0      		rjmp .L66
GAS LISTING C:\Temp/ccIE4t7g.s 			page 11


 571               	.L43:
 572               	/* #APP */
 573               	 ;  822 "../../nut/dev/usart.c" 1
 574 0328 0FB6      		in  __tmp_reg__, __SREG__
 575 032a F894      		cli
 576 032c 0F92      		push __tmp_reg__
 577               		
 578               	 ;  0 "" 2
 579               	/* #NOAPP */
 580 032e FF8E      		std Y+31,r15
 581 0330 EE8E      		std Y+30,r14
 582               	/* #APP */
 583               	 ;  824 "../../nut/dev/usart.c" 1
 584 0332 0F90      		pop __tmp_reg__
 585 0334 0FBE      		out __SREG__, __tmp_reg__
 586               		
 587               	 ;  0 "" 2
 588               	/* #NOAPP */
 589 0336 00C0      		rjmp .L61
 590               	.L44:
 591 0338 8E8D      		ldd r24,Y+30
 592 033a 9F8D      		ldd r25,Y+31
 593 033c 00C0      		rjmp .L66
 594               	.L45:
 595               	/* #APP */
 596               	 ;  831 "../../nut/dev/usart.c" 1
 597 033e 0FB6      		in  __tmp_reg__, __SREG__
 598 0340 F894      		cli
 599 0342 0F92      		push __tmp_reg__
 600               		
 601               	 ;  0 "" 2
 602               	/* #NOAPP */
 603 0344 FFA6      		std Y+47,r15
 604 0346 EEA6      		std Y+46,r14
 605               	/* #APP */
 606               	 ;  833 "../../nut/dev/usart.c" 1
 607 0348 0F90      		pop __tmp_reg__
 608 034a 0FBE      		out __SREG__, __tmp_reg__
 609               		
 610               	 ;  0 "" 2
 611               	/* #NOAPP */
 612 034c 00C0      		rjmp .L61
 613               	.L46:
 614 034e 8EA5      		ldd r24,Y+46
 615 0350 9FA5      		ldd r25,Y+47
 616 0352 00C0      		rjmp .L66
 617               	.L47:
 618               	/* #APP */
 619               	 ;  840 "../../nut/dev/usart.c" 1
 620 0354 0FB6      		in  __tmp_reg__, __SREG__
 621 0356 F894      		cli
 622 0358 0F92      		push __tmp_reg__
 623               		
 624               	 ;  0 "" 2
 625               	/* #NOAPP */
 626 035a F9AA      		std Y+49,r15
 627 035c E8AA      		std Y+48,r14
GAS LISTING C:\Temp/ccIE4t7g.s 			page 12


 628               	/* #APP */
 629               	 ;  842 "../../nut/dev/usart.c" 1
 630 035e 0F90      		pop __tmp_reg__
 631 0360 0FBE      		out __SREG__, __tmp_reg__
 632               		
 633               	 ;  0 "" 2
 634               	/* #NOAPP */
 635 0362 00C0      		rjmp .L61
 636               	.L48:
 637 0364 88A9      		ldd r24,Y+48
 638 0366 99A9      		ldd r25,Y+49
 639               	.L66:
 640 0368 A0E0      		ldi r26,lo8(0)
 641 036a B0E0      		ldi r27,hi8(0)
 642               	.L67:
 643 036c F601      		movw r30,r12
 644               	.L68:
 645 036e 8083      		st Z,r24
 646 0370 9183      		std Z+1,r25
 647 0372 A283      		std Z+2,r26
 648 0374 B383      		std Z+3,r27
 649               	.L61:
 650 0376 00E0      		ldi r16,lo8(0)
 651 0378 10E0      		ldi r17,hi8(0)
 652               	.L50:
 653 037a C801      		movw r24,r16
 654               	/* epilogue start */
 655 037c DF91      		pop r29
 656 037e CF91      		pop r28
 657 0380 1F91      		pop r17
 658 0382 0F91      		pop r16
 659 0384 FF90      		pop r15
 660 0386 EF90      		pop r14
 661 0388 DF90      		pop r13
 662 038a CF90      		pop r12
 663 038c 0895      		ret
 664               		.size	UsartIOCtl, .-UsartIOCtl
 665               	.global	UsartClose
 666               		.type	UsartClose, @function
 667               	UsartClose:
 668 038e 0F93      		push r16
 669 0390 1F93      		push r17
 670               	/* prologue: function */
 671               	/* frame size = 0 */
 672 0392 DC01      		movw r26,r24
 673 0394 1296      		adiw r26,2
 674 0396 ED91      		ld r30,X+
 675 0398 FC91      		ld r31,X
 676 039a 1397      		sbiw r26,2+1
 677 039c 2189      		ldd r18,Z+17
 678 039e 3289      		ldd r19,Z+18
 679 03a0 0197      		sbiw r24,1
 680 03a2 8E5F      		subi r24,lo8(-2)
 681 03a4 9F4F      		sbci r25,hi8(-2)
 682 03a6 00F0      		brlo .L74
 683 03a8 2FEF      		ldi r18,lo8(-1)
 684 03aa 3FEF      		ldi r19,hi8(-1)
GAS LISTING C:\Temp/ccIE4t7g.s 			page 13


 685 03ac 00C0      		rjmp .L75
 686               	.L74:
 687 03ae 8901      		movw r16,r18
 688 03b0 CD01      		movw r24,r26
 689 03b2 0E94 0000 		call free
 690 03b6 20E0      		ldi r18,lo8(0)
 691 03b8 30E0      		ldi r19,hi8(0)
 692 03ba 40E0      		ldi r20,lo8(0)
 693 03bc 50E0      		ldi r21,hi8(0)
 694 03be 60E0      		ldi r22,lo8(0)
 695 03c0 70E0      		ldi r23,hi8(0)
 696 03c2 C801      		movw r24,r16
 697 03c4 4096      		adiw r24,16
 698 03c6 0E94 0000 		call UsartResetBuffer
 699 03ca 20E0      		ldi r18,lo8(0)
 700 03cc 30E0      		ldi r19,hi8(0)
 701 03ce 40E0      		ldi r20,lo8(0)
 702 03d0 50E0      		ldi r21,hi8(0)
 703 03d2 60E0      		ldi r22,lo8(0)
 704 03d4 70E0      		ldi r23,hi8(0)
 705 03d6 C801      		movw r24,r16
 706 03d8 8296      		adiw r24,34
 707 03da 0E94 0000 		call UsartResetBuffer
 708 03de 20E0      		ldi r18,lo8(0)
 709 03e0 30E0      		ldi r19,hi8(0)
 710               	.L75:
 711 03e2 C901      		movw r24,r18
 712               	/* epilogue start */
 713 03e4 1F91      		pop r17
 714 03e6 0F91      		pop r16
 715 03e8 0895      		ret
 716               		.size	UsartClose, .-UsartClose
 717               	.global	UsartOpen
 718               		.type	UsartOpen, @function
 719               	UsartOpen:
 720 03ea AF92      		push r10
 721 03ec BF92      		push r11
 722 03ee CF92      		push r12
 723 03f0 DF92      		push r13
 724 03f2 EF92      		push r14
 725 03f4 FF92      		push r15
 726 03f6 0F93      		push r16
 727 03f8 1F93      		push r17
 728 03fa CF93      		push r28
 729 03fc DF93      		push r29
 730               	/* prologue: function */
 731               	/* frame size = 0 */
 732 03fe 5C01      		movw r10,r24
 733 0400 7A01      		movw r14,r20
 734 0402 FC01      		movw r30,r24
 735 0404 C189      		ldd r28,Z+17
 736 0406 D289      		ldd r29,Z+18
 737 0408 83E0      		ldi r24,lo8(3)
 738 040a C82E      		mov r12,r24
 739 040c D12C      		mov r13,__zero_reg__
 740 040e C422      		and r12,r20
 741 0410 D522      		and r13,r21
GAS LISTING C:\Temp/ccIE4t7g.s 			page 14


 742 0412 C114      		cp r12,__zero_reg__
 743 0414 D104      		cpc r13,__zero_reg__
 744 0416 01F0      		breq .L78
 745 0418 28E3      		ldi r18,lo8(56)
 746 041a 30E0      		ldi r19,hi8(56)
 747 041c 48E2      		ldi r20,lo8(40)
 748 041e 50E0      		ldi r21,hi8(40)
 749 0420 60E4      		ldi r22,lo8(64)
 750 0422 70E0      		ldi r23,hi8(64)
 751 0424 CE01      		movw r24,r28
 752 0426 4096      		adiw r24,16
 753 0428 0E94 0000 		call UsartResetBuffer
 754 042c 892B      		or r24,r25
 755 042e 01F4      		brne .L87
 756               	.L79:
 757 0430 F1E0      		ldi r31,lo8(1)
 758 0432 CF16      		cp r12,r31
 759 0434 D104      		cpc r13,__zero_reg__
 760 0436 01F0      		breq .L81
 761               	.L78:
 762 0438 20EF      		ldi r18,lo8(240)
 763 043a 30E0      		ldi r19,hi8(240)
 764 043c 40ED      		ldi r20,lo8(208)
 765 043e 50E0      		ldi r21,hi8(208)
 766 0440 60E0      		ldi r22,lo8(256)
 767 0442 71E0      		ldi r23,hi8(256)
 768 0444 CE01      		movw r24,r28
 769 0446 8296      		adiw r24,34
 770 0448 0E94 0000 		call UsartResetBuffer
 771 044c 892B      		or r24,r25
 772 044e 01F0      		breq .L81
 773 0450 8C89      		ldd r24,Y+20
 774 0452 9D89      		ldd r25,Y+21
 775               	.L88:
 776 0454 0E94 0000 		call free
 777               	.L87:
 778 0458 0FEF      		ldi r16,lo8(-1)
 779 045a 1FEF      		ldi r17,hi8(-1)
 780 045c 00C0      		rjmp .L80
 781               	.L81:
 782 045e 86E0      		ldi r24,lo8(6)
 783 0460 90E0      		ldi r25,hi8(6)
 784 0462 0E94 0000 		call malloc
 785 0466 FC01      		movw r30,r24
 786 0468 8C01      		movw r16,r24
 787 046a 0097      		sbiw r24,0
 788 046c 01F4      		brne .L82
 789 046e 8C89      		ldd r24,Y+20
 790 0470 9D89      		ldd r25,Y+21
 791 0472 0E94 0000 		call free
 792 0476 8EA1      		ldd r24,Y+38
 793 0478 9FA1      		ldd r25,Y+39
 794 047a 00C0      		rjmp .L88
 795               	.L82:
 796 047c 80E0      		ldi r24,lo8(-16384)
 797 047e 90EC      		ldi r25,hi8(-16384)
 798 0480 E822      		and r14,r24
GAS LISTING C:\Temp/ccIE4t7g.s 			page 15


 799 0482 F922      		and r15,r25
 800 0484 8881      		ld r24,Y
 801 0486 9981      		ldd r25,Y+1
 802 0488 AA81      		ldd r26,Y+2
 803 048a BB81      		ldd r27,Y+3
 804 048c 20E0      		ldi r18,lo8(-32768)
 805 048e E216      		cp r14,r18
 806 0490 20E8      		ldi r18,hi8(-32768)
 807 0492 F206      		cpc r15,r18
 808 0494 01F4      		brne .L83
 809 0496 8F77      		andi r24,lo8(-129)
 810 0498 00C0      		rjmp .L86
 811               	.L83:
 812 049a 8068      		ori r24,lo8(128)
 813               	.L86:
 814 049c 8883      		st Y,r24
 815 049e 9983      		std Y+1,r25
 816 04a0 AA83      		std Y+2,r26
 817 04a2 BB83      		std Y+3,r27
 818 04a4 1182      		std Z+1,__zero_reg__
 819 04a6 1082      		st Z,__zero_reg__
 820 04a8 B382      		std Z+3,r11
 821 04aa A282      		std Z+2,r10
 822 04ac 1582      		std Z+5,__zero_reg__
 823 04ae 1482      		std Z+4,__zero_reg__
 824 04b0 81E0      		ldi r24,lo8(1)
 825 04b2 C816      		cp r12,r24
 826 04b4 D104      		cpc r13,__zero_reg__
 827 04b6 01F0      		breq .L80
 828 04b8 EBAD      		ldd r30,Y+59
 829 04ba FCAD      		ldd r31,Y+60
 830 04bc 0995      		icall
 831               	.L80:
 832 04be C801      		movw r24,r16
 833               	/* epilogue start */
 834 04c0 DF91      		pop r29
 835 04c2 CF91      		pop r28
 836 04c4 1F91      		pop r17
 837 04c6 0F91      		pop r16
 838 04c8 FF90      		pop r15
 839 04ca EF90      		pop r14
 840 04cc DF90      		pop r13
 841 04ce CF90      		pop r12
 842 04d0 BF90      		pop r11
 843 04d2 AF90      		pop r10
 844 04d4 0895      		ret
 845               		.size	UsartOpen, .-UsartOpen
 846               		.type	UsartFlushOutput, @function
 847               	UsartFlushOutput:
 848 04d6 CF92      		push r12
 849 04d8 DF92      		push r13
 850 04da EF92      		push r14
 851 04dc FF92      		push r15
 852 04de 0F93      		push r16
 853 04e0 1F93      		push r17
 854 04e2 CF93      		push r28
 855 04e4 DF93      		push r29
GAS LISTING C:\Temp/ccIE4t7g.s 			page 16


 856               	/* prologue: function */
 857               	/* frame size = 0 */
 858 04e6 EC01      		movw r28,r24
 859 04e8 6A01      		movw r12,r20
 860               	/* #APP */
 861               	 ;  325 "../../nut/dev/usart.c" 1
 862 04ea 0FB6      		in  __tmp_reg__, __SREG__
 863 04ec F894      		cli
 864 04ee 0F92      		push __tmp_reg__
 865               		
 866               	 ;  0 "" 2
 867               	/* #NOAPP */
 868 04f0 8A8D      		ldd r24,Y+26
 869 04f2 9B8D      		ldd r25,Y+27
 870 04f4 860F      		add r24,r22
 871 04f6 971F      		adc r25,r23
 872 04f8 9B8F      		std Y+27,r25
 873 04fa 8A8F      		std Y+26,r24
 874 04fc 0A8D      		ldd r16,Y+26
 875 04fe 1B8D      		ldd r17,Y+27
 876               	/* #APP */
 877               	 ;  328 "../../nut/dev/usart.c" 1
 878 0500 0F90      		pop __tmp_reg__
 879 0502 0FBE      		out __SREG__, __tmp_reg__
 880               		
 881               	 ;  0 "" 2
 882               	/* #NOAPP */
 883 0504 90E2      		ldi r25,lo8(32)
 884 0506 E92E      		mov r14,r25
 885 0508 F12C      		mov r15,__zero_reg__
 886 050a EC0E      		add r14,r28
 887 050c FD1E      		adc r15,r29
 888 050e 00C0      		rjmp .L90
 889               	.L92:
 890 0510 E9AD      		ldd r30,Y+57
 891 0512 FAAD      		ldd r31,Y+58
 892 0514 0995      		icall
 893 0516 4C85      		ldd r20,Y+12
 894 0518 5D85      		ldd r21,Y+13
 895 051a 6E85      		ldd r22,Y+14
 896 051c 7F85      		ldd r23,Y+15
 897 051e C701      		movw r24,r14
 898 0520 0E94 0000 		call NutEventWait
 899 0524 892B      		or r24,r25
 900 0526 01F4      		brne .L91
 901               	/* #APP */
 902               	 ;  337 "../../nut/dev/usart.c" 1
 903 0528 0FB6      		in  __tmp_reg__, __SREG__
 904 052a F894      		cli
 905 052c 0F92      		push __tmp_reg__
 906               		
 907               	 ;  0 "" 2
 908               	/* #NOAPP */
 909 052e 0A8D      		ldd r16,Y+26
 910 0530 1B8D      		ldd r17,Y+27
 911               	/* #APP */
 912               	 ;  339 "../../nut/dev/usart.c" 1
GAS LISTING C:\Temp/ccIE4t7g.s 			page 17


 913 0532 0F90      		pop __tmp_reg__
 914 0534 0FBE      		out __SREG__, __tmp_reg__
 915               		
 916               	 ;  0 "" 2
 917               	/* #NOAPP */
 918               	.L90:
 919 0536 C016      		cp r12,r16
 920 0538 D106      		cpc r13,r17
 921 053a 00F0      		brlo .L92
 922               	.L91:
 923 053c C801      		movw r24,r16
 924               	/* epilogue start */
 925 053e DF91      		pop r29
 926 0540 CF91      		pop r28
 927 0542 1F91      		pop r17
 928 0544 0F91      		pop r16
 929 0546 FF90      		pop r15
 930 0548 EF90      		pop r14
 931 054a DF90      		pop r13
 932 054c CF90      		pop r12
 933 054e 0895      		ret
 934               		.size	UsartFlushOutput, .-UsartFlushOutput
 935               		.type	UsartPut, @function
 936               	UsartPut:
 937 0550 8F92      		push r8
 938 0552 9F92      		push r9
 939 0554 AF92      		push r10
 940 0556 BF92      		push r11
 941 0558 CF92      		push r12
 942 055a DF92      		push r13
 943 055c EF92      		push r14
 944 055e FF92      		push r15
 945 0560 0F93      		push r16
 946 0562 1F93      		push r17
 947 0564 DF93      		push r29
 948 0566 CF93      		push r28
 949 0568 00D0      		rcall .
 950 056a CDB7      		in r28,__SP_L__
 951 056c DEB7      		in r29,__SP_H__
 952               	/* prologue: function */
 953               	/* frame size = 2 */
 954 056e 8B01      		movw r16,r22
 955 0570 5A01      		movw r10,r20
 956 0572 6901      		movw r12,r18
 957 0574 DC01      		movw r26,r24
 958 0576 5196      		adiw r26,17
 959 0578 8D90      		ld r8,X+
 960 057a 9C90      		ld r9,X
 961 057c 5297      		sbiw r26,17+1
 962 057e F401      		movw r30,r8
 963 0580 808D      		ldd r24,Z+24
 964 0582 918D      		ldd r25,Z+25
 965 0584 892B      		or r24,r25
 966 0586 01F4      		brne .L95
 967 0588 0FEF      		ldi r16,lo8(-1)
 968 058a 1FEF      		ldi r17,hi8(-1)
 969 058c 00C0      		rjmp .L96
GAS LISTING C:\Temp/ccIE4t7g.s 			page 18


 970               	.L95:
 971 058e 6115      		cp r22,__zero_reg__
 972 0590 7105      		cpc r23,__zero_reg__
 973 0592 01F4      		brne .L97
 974 0594 40E0      		ldi r20,lo8(0)
 975 0596 50E0      		ldi r21,hi8(0)
 976 0598 60E0      		ldi r22,lo8(0)
 977 059a 70E0      		ldi r23,hi8(0)
 978 059c C401      		movw r24,r8
 979 059e 0E94 0000 		call UsartFlushOutput
 980 05a2 8C01      		movw r16,r24
 981 05a4 00C0      		rjmp .L96
 982               	.L97:
 983 05a6 F401      		movw r30,r8
 984 05a8 8081      		ld r24,Z
 985 05aa 9181      		ldd r25,Z+1
 986 05ac A281      		ldd r26,Z+2
 987 05ae B381      		ldd r27,Z+3
 988 05b0 9C01      		movw r18,r24
 989 05b2 AD01      		movw r20,r26
 990 05b4 69E0      		ldi r22,9
 991 05b6 5695      	1:	lsr r21
 992 05b8 4795      		ror r20
 993 05ba 3795      		ror r19
 994 05bc 2795      		ror r18
 995 05be 6A95      		dec r22
 996 05c0 01F4      		brne 1b
 997 05c2 F22F      		mov r31,r18
 998 05c4 F170      		andi r31,lo8(1)
 999 05c6 FA83      		std Y+2,r31
 1000 05c8 27E0      		ldi r18,7
 1001 05ca B695      	1:	lsr r27
 1002 05cc A795      		ror r26
 1003 05ce 9795      		ror r25
 1004 05d0 8795      		ror r24
 1005 05d2 2A95      		dec r18
 1006 05d4 01F4      		brne 1b
 1007 05d6 282F      		mov r18,r24
 1008 05d8 2170      		andi r18,lo8(1)
 1009 05da 2983      		std Y+1,r18
 1010               	/* #APP */
 1011               	 ;  397 "../../nut/dev/usart.c" 1
 1012 05dc 0FB6      		in  __tmp_reg__, __SREG__
 1013 05de F894      		cli
 1014 05e0 0F92      		push __tmp_reg__
 1015               		
 1016               	 ;  0 "" 2
 1017               	/* #NOAPP */
 1018 05e2 D401      		movw r26,r8
 1019 05e4 5A96      		adiw r26,26
 1020 05e6 4D91      		ld r20,X+
 1021 05e8 5C91      		ld r21,X
 1022 05ea 5B97      		sbiw r26,26+1
 1023               	/* #APP */
 1024               	 ;  399 "../../nut/dev/usart.c" 1
 1025 05ec 0F90      		pop __tmp_reg__
 1026 05ee 0FBE      		out __SREG__, __tmp_reg__
GAS LISTING C:\Temp/ccIE4t7g.s 			page 19


 1027               		
 1028               	 ;  0 "" 2
 1029               	/* #NOAPP */
 1030 05f0 7801      		movw r14,r16
 1031 05f2 60E0      		ldi r22,lo8(0)
 1032 05f4 70E0      		ldi r23,hi8(0)
 1033 05f6 00E0      		ldi r16,lo8(0)
 1034 05f8 10E0      		ldi r17,hi8(0)
 1035 05fa 00C0      		rjmp .L98
 1036               	.L107:
 1037 05fc 9B01      		movw r18,r22
 1038 05fe 240F      		add r18,r20
 1039 0600 351F      		adc r19,r21
 1040 0602 F401      		movw r30,r8
 1041 0604 868D      		ldd r24,Z+30
 1042 0606 978D      		ldd r25,Z+31
 1043 0608 2817      		cp r18,r24
 1044 060a 3907      		cpc r19,r25
 1045 060c 00F0      		brlo .L99
 1046 060e 448D      		ldd r20,Z+28
 1047 0610 558D      		ldd r21,Z+29
 1048 0612 C401      		movw r24,r8
 1049 0614 0E94 0000 		call UsartFlushOutput
 1050 0618 AC01      		movw r20,r24
 1051 061a D401      		movw r26,r8
 1052 061c 5C96      		adiw r26,28
 1053 061e 8D91      		ld r24,X+
 1054 0620 9C91      		ld r25,X
 1055 0622 5D97      		sbiw r26,28+1
 1056 0624 8417      		cp r24,r20
 1057 0626 9507      		cpc r25,r21
 1058 0628 00F4      		brsh .+2
 1059 062a 00C0      		rjmp .L96
 1060 062c 60E0      		ldi r22,lo8(0)
 1061 062e 70E0      		ldi r23,hi8(0)
 1062               	.L99:
 1063 0630 C114      		cp r12,__zero_reg__
 1064 0632 D104      		cpc r13,__zero_reg__
 1065 0634 01F0      		breq .L100
 1066 0636 F701      		movw r30,r14
 1067               	/* #APP */
 1068               	 ;  424 "../../nut/dev/usart.c" 1
 1069 0638 8491      		lpm r24, Z
 1070               		
 1071               	 ;  0 "" 2
 1072               	/* #NOAPP */
 1073 063a 00C0      		rjmp .L101
 1074               	.L100:
 1075 063c D701      		movw r26,r14
 1076 063e 8C91      		ld r24,X
 1077               	.L101:
 1078 0640 B981      		ldd r27,Y+1
 1079 0642 B130      		cpi r27,lo8(1)
 1080 0644 01F4      		brne .L102
 1081 0646 8A30      		cpi r24,lo8(10)
 1082 0648 01F4      		brne .L105
 1083 064a EA81      		ldd r30,Y+2
GAS LISTING C:\Temp/ccIE4t7g.s 			page 20


 1084 064c E130      		cpi r30,lo8(1)
 1085 064e 01F4      		brne .L103
 1086 0650 F2E0      		ldi r31,lo8(2)
 1087 0652 FA83      		std Y+2,r31
 1088 0654 F983      		std Y+1,r31
 1089 0656 00C0      		rjmp .L109
 1090               	.L103:
 1091 0658 22E0      		ldi r18,lo8(2)
 1092 065a 2983      		std Y+1,r18
 1093               	.L109:
 1094 065c 8DE0      		ldi r24,lo8(13)
 1095 065e 00C0      		rjmp .L104
 1096               	.L102:
 1097 0660 9981      		ldd r25,Y+1
 1098 0662 9230      		cpi r25,lo8(2)
 1099 0664 01F4      		brne .L105
 1100 0666 A1E0      		ldi r26,lo8(1)
 1101 0668 A983      		std Y+1,r26
 1102               	.L105:
 1103 066a 0894      		sec
 1104 066c E11C      		adc r14,__zero_reg__
 1105 066e F11C      		adc r15,__zero_reg__
 1106 0670 0F5F      		subi r16,lo8(-(1))
 1107 0672 1F4F      		sbci r17,hi8(-(1))
 1108               	.L104:
 1109 0674 D401      		movw r26,r8
 1110 0676 5096      		adiw r26,16
 1111 0678 ED91      		ld r30,X+
 1112 067a FC91      		ld r31,X
 1113 067c 5197      		sbiw r26,16+1
 1114 067e 8193      		st Z+,r24
 1115 0680 5196      		adiw r26,16+1
 1116 0682 FC93      		st X,r31
 1117 0684 EE93      		st -X,r30
 1118 0686 5097      		sbiw r26,16
 1119 0688 5096      		adiw r26,16
 1120 068a 2D91      		ld r18,X+
 1121 068c 3C91      		ld r19,X
 1122 068e 5197      		sbiw r26,16+1
 1123 0690 5696      		adiw r26,22
 1124 0692 8D91      		ld r24,X+
 1125 0694 9C91      		ld r25,X
 1126 0696 5797      		sbiw r26,22+1
 1127 0698 2817      		cp r18,r24
 1128 069a 3907      		cpc r19,r25
 1129 069c 01F4      		brne .L106
 1130 069e 5496      		adiw r26,20
 1131 06a0 8D91      		ld r24,X+
 1132 06a2 9C91      		ld r25,X
 1133 06a4 5597      		sbiw r26,20+1
 1134 06a6 5196      		adiw r26,16+1
 1135 06a8 9C93      		st X,r25
 1136 06aa 8E93      		st -X,r24
 1137 06ac 5097      		sbiw r26,16
 1138               	.L106:
 1139 06ae 6F5F      		subi r22,lo8(-(1))
 1140 06b0 7F4F      		sbci r23,hi8(-(1))
GAS LISTING C:\Temp/ccIE4t7g.s 			page 21


 1141               	.L98:
 1142 06b2 0A15      		cp r16,r10
 1143 06b4 1B05      		cpc r17,r11
 1144 06b6 04F4      		brge .+2
 1145 06b8 00C0      		rjmp .L107
 1146 06ba 6115      		cp r22,__zero_reg__
 1147 06bc 7105      		cpc r23,__zero_reg__
 1148 06be 01F0      		breq .L96
 1149               	/* #APP */
 1150               	 ;  449 "../../nut/dev/usart.c" 1
 1151 06c0 0FB6      		in  __tmp_reg__, __SREG__
 1152 06c2 F894      		cli
 1153 06c4 0F92      		push __tmp_reg__
 1154               		
 1155               	 ;  0 "" 2
 1156               	/* #NOAPP */
 1157 06c6 F401      		movw r30,r8
 1158 06c8 828D      		ldd r24,Z+26
 1159 06ca 938D      		ldd r25,Z+27
 1160 06cc 680F      		add r22,r24
 1161 06ce 791F      		adc r23,r25
 1162 06d0 738F      		std Z+27,r23
 1163 06d2 628F      		std Z+26,r22
 1164               	/* #APP */
 1165               	 ;  451 "../../nut/dev/usart.c" 1
 1166 06d4 0F90      		pop __tmp_reg__
 1167 06d6 0FBE      		out __SREG__, __tmp_reg__
 1168               		
 1169               	 ;  0 "" 2
 1170               	/* #NOAPP */
 1171 06d8 D401      		movw r26,r8
 1172 06da D996      		adiw r26,57
 1173 06dc ED91      		ld r30,X+
 1174 06de FC91      		ld r31,X
 1175 06e0 DA97      		sbiw r26,57+1
 1176 06e2 0995      		icall
 1177               	.L96:
 1178 06e4 C801      		movw r24,r16
 1179               	/* epilogue start */
 1180 06e6 0F90      		pop __tmp_reg__
 1181 06e8 0F90      		pop __tmp_reg__
 1182 06ea CF91      		pop r28
 1183 06ec DF91      		pop r29
 1184 06ee 1F91      		pop r17
 1185 06f0 0F91      		pop r16
 1186 06f2 FF90      		pop r15
 1187 06f4 EF90      		pop r14
 1188 06f6 DF90      		pop r13
 1189 06f8 CF90      		pop r12
 1190 06fa BF90      		pop r11
 1191 06fc AF90      		pop r10
 1192 06fe 9F90      		pop r9
 1193 0700 8F90      		pop r8
 1194 0702 0895      		ret
 1195               		.size	UsartPut, .-UsartPut
 1196               	.global	UsartWrite_P
 1197               		.type	UsartWrite_P, @function
GAS LISTING C:\Temp/ccIE4t7g.s 			page 22


 1198               	UsartWrite_P:
 1199               	/* prologue: function */
 1200               	/* frame size = 0 */
 1201 0704 21E0      		ldi r18,lo8(1)
 1202 0706 30E0      		ldi r19,hi8(1)
 1203 0708 FC01      		movw r30,r24
 1204 070a 8281      		ldd r24,Z+2
 1205 070c 9381      		ldd r25,Z+3
 1206 070e 0E94 0000 		call UsartPut
 1207               	/* epilogue start */
 1208 0712 0895      		ret
 1209               		.size	UsartWrite_P, .-UsartWrite_P
 1210               	.global	UsartWrite
 1211               		.type	UsartWrite, @function
 1212               	UsartWrite:
 1213               	/* prologue: function */
 1214               	/* frame size = 0 */
 1215 0714 20E0      		ldi r18,lo8(0)
 1216 0716 30E0      		ldi r19,hi8(0)
 1217 0718 FC01      		movw r30,r24
 1218 071a 8281      		ldd r24,Z+2
 1219 071c 9381      		ldd r25,Z+3
 1220 071e 0E94 0000 		call UsartPut
 1221               	/* epilogue start */
 1222 0722 0895      		ret
 1223               		.size	UsartWrite, .-UsartWrite
 1224               	.global	UsartRead
 1225               		.type	UsartRead, @function
 1226               	UsartRead:
 1227 0724 AF92      		push r10
 1228 0726 BF92      		push r11
 1229 0728 CF92      		push r12
 1230 072a DF92      		push r13
 1231 072c EF92      		push r14
 1232 072e FF92      		push r15
 1233 0730 0F93      		push r16
 1234 0732 1F93      		push r17
 1235 0734 CF93      		push r28
 1236 0736 DF93      		push r29
 1237               	/* prologue: function */
 1238               	/* frame size = 0 */
 1239 0738 6B01      		movw r12,r22
 1240 073a 5A01      		movw r10,r20
 1241 073c DC01      		movw r26,r24
 1242 073e 1296      		adiw r26,2
 1243 0740 ED91      		ld r30,X+
 1244 0742 FC91      		ld r31,X
 1245 0744 1397      		sbiw r26,2+1
 1246 0746 C189      		ldd r28,Z+17
 1247 0748 D289      		ldd r29,Z+18
 1248 074a 6AA5      		ldd r22,Y+42
 1249 074c 7BA5      		ldd r23,Y+43
 1250 074e 6115      		cp r22,__zero_reg__
 1251 0750 7105      		cpc r23,__zero_reg__
 1252 0752 01F4      		brne .L115
 1253 0754 2FEF      		ldi r18,lo8(-1)
 1254 0756 3FEF      		ldi r19,hi8(-1)
GAS LISTING C:\Temp/ccIE4t7g.s 			page 23


 1255 0758 00C0      		rjmp .L116
 1256               	.L115:
 1257 075a C114      		cp r12,__zero_reg__
 1258 075c D104      		cpc r13,__zero_reg__
 1259 075e 01F4      		brne .L117
 1260 0760 28A9      		ldd r18,Y+48
 1261 0762 39A9      		ldd r19,Y+49
 1262 0764 4EA5      		ldd r20,Y+46
 1263 0766 5FA5      		ldd r21,Y+47
 1264 0768 CE01      		movw r24,r28
 1265 076a 8296      		adiw r24,34
 1266 076c 0E94 0000 		call UsartResetBuffer
 1267 0770 EBAD      		ldd r30,Y+59
 1268 0772 FCAD      		ldd r31,Y+60
 1269 0774 0995      		icall
 1270 0776 00C0      		rjmp .L137
 1271               	.L117:
 1272 0778 8E01      		movw r16,r28
 1273 077a 0E5C      		subi r16,lo8(-(50))
 1274 077c 1F4F      		sbci r17,hi8(-(50))
 1275               	.L119:
 1276               	/* #APP */
 1277               	 ;  231 "../../nut/dev/usart.c" 1
 1278 077e 0FB6      		in  __tmp_reg__, __SREG__
 1279 0780 F894      		cli
 1280 0782 0F92      		push __tmp_reg__
 1281               		
 1282               	 ;  0 "" 2
 1283               	/* #NOAPP */
 1284 0784 ECA4      		ldd r14,Y+44
 1285 0786 FDA4      		ldd r15,Y+45
 1286               	/* #APP */
 1287               	 ;  233 "../../nut/dev/usart.c" 1
 1288 0788 0F90      		pop __tmp_reg__
 1289 078a 0FBE      		out __SREG__, __tmp_reg__
 1290               		
 1291               	 ;  0 "" 2
 1292               	/* #NOAPP */
 1293 078c E114      		cp r14,__zero_reg__
 1294 078e F104      		cpc r15,__zero_reg__
 1295 0790 01F4      		brne .L118
 1296 0792 EBAD      		ldd r30,Y+59
 1297 0794 FCAD      		ldd r31,Y+60
 1298 0796 0995      		icall
 1299 0798 4885      		ldd r20,Y+8
 1300 079a 5985      		ldd r21,Y+9
 1301 079c 6A85      		ldd r22,Y+10
 1302 079e 7B85      		ldd r23,Y+11
 1303 07a0 C801      		movw r24,r16
 1304 07a2 0E94 0000 		call NutEventWait
 1305 07a6 892B      		or r24,r25
 1306 07a8 01F0      		breq .L119
 1307               	.L137:
 1308 07aa 20E0      		ldi r18,lo8(0)
 1309 07ac 30E0      		ldi r19,hi8(0)
 1310 07ae 00C0      		rjmp .L116
 1311               	.L118:
GAS LISTING C:\Temp/ccIE4t7g.s 			page 24


 1312 07b0 D601      		movw r26,r12
 1313 07b2 8881      		ld r24,Y
 1314 07b4 87FF      		sbrs r24,7
 1315 07b6 00C0      		rjmp .L120
 1316 07b8 00E0      		ldi r16,lo8(0)
 1317 07ba 10E0      		ldi r17,hi8(0)
 1318 07bc 40E0      		ldi r20,lo8(0)
 1319 07be 50E0      		ldi r21,hi8(0)
 1320 07c0 7AE0      		ldi r23,lo8(10)
 1321 07c2 00C0      		rjmp .L121
 1322               	.L128:
 1323 07c4 4E15      		cp r20,r14
 1324 07c6 5F05      		cpc r21,r15
 1325 07c8 00F0      		brlo .+2
 1326 07ca 00C0      		rjmp .L122
 1327 07cc ECA1      		ldd r30,Y+36
 1328 07ce FDA1      		ldd r31,Y+37
 1329 07d0 6191      		ld r22,Z+
 1330 07d2 FDA3      		std Y+37,r31
 1331 07d4 ECA3      		std Y+36,r30
 1332 07d6 2CA1      		ldd r18,Y+36
 1333 07d8 3DA1      		ldd r19,Y+37
 1334 07da 88A5      		ldd r24,Y+40
 1335 07dc 99A5      		ldd r25,Y+41
 1336 07de 2817      		cp r18,r24
 1337 07e0 3907      		cpc r19,r25
 1338 07e2 01F4      		brne .L123
 1339 07e4 8EA1      		ldd r24,Y+38
 1340 07e6 9FA1      		ldd r25,Y+39
 1341 07e8 9DA3      		std Y+37,r25
 1342 07ea 8CA3      		std Y+36,r24
 1343               	.L123:
 1344 07ec 6D30      		cpi r22,lo8(13)
 1345 07ee 01F0      		breq .L124
 1346 07f0 6A30      		cpi r22,lo8(10)
 1347 07f2 01F4      		brne .L125
 1348               	.L124:
 1349 07f4 8CA9      		ldd r24,Y+52
 1350 07f6 8823      		tst r24
 1351 07f8 01F0      		breq .L126
 1352 07fa 8617      		cp r24,r22
 1353 07fc 01F4      		brne .L127
 1354               	.L126:
 1355 07fe 6CAB      		std Y+52,r22
 1356 0800 7D93      		st X+,r23
 1357 0802 00C0      		rjmp .L136
 1358               	.L125:
 1359 0804 1CAA      		std Y+52,__zero_reg__
 1360 0806 6D93      		st X+,r22
 1361               	.L136:
 1362 0808 0F5F      		subi r16,lo8(-(1))
 1363 080a 1F4F      		sbci r17,hi8(-(1))
 1364               	.L127:
 1365 080c 4F5F      		subi r20,lo8(-(1))
 1366 080e 5F4F      		sbci r21,hi8(-(1))
 1367               	.L121:
 1368 0810 0A15      		cp r16,r10
GAS LISTING C:\Temp/ccIE4t7g.s 			page 25


 1369 0812 1B05      		cpc r17,r11
 1370 0814 00F0      		brlo .L128
 1371 0816 00C0      		rjmp .L122
 1372               	.L120:
 1373 0818 8501      		movw r16,r10
 1374 081a EA14      		cp r14,r10
 1375 081c FB04      		cpc r15,r11
 1376 081e 00F4      		brsh .L129
 1377 0820 8701      		movw r16,r14
 1378               	.L129:
 1379 0822 40E0      		ldi r20,lo8(0)
 1380 0824 50E0      		ldi r21,hi8(0)
 1381 0826 00C0      		rjmp .L130
 1382               	.L132:
 1383 0828 ECA1      		ldd r30,Y+36
 1384 082a FDA1      		ldd r31,Y+37
 1385 082c D601      		movw r26,r12
 1386 082e A40F      		add r26,r20
 1387 0830 B51F      		adc r27,r21
 1388 0832 8191      		ld r24,Z+
 1389 0834 8C93      		st X,r24
 1390 0836 FDA3      		std Y+37,r31
 1391 0838 ECA3      		std Y+36,r30
 1392 083a 2CA1      		ldd r18,Y+36
 1393 083c 3DA1      		ldd r19,Y+37
 1394 083e 88A5      		ldd r24,Y+40
 1395 0840 99A5      		ldd r25,Y+41
 1396 0842 2817      		cp r18,r24
 1397 0844 3907      		cpc r19,r25
 1398 0846 01F4      		brne .L131
 1399 0848 8EA1      		ldd r24,Y+38
 1400 084a 9FA1      		ldd r25,Y+39
 1401 084c 9DA3      		std Y+37,r25
 1402 084e 8CA3      		std Y+36,r24
 1403               	.L131:
 1404 0850 4F5F      		subi r20,lo8(-(1))
 1405 0852 5F4F      		sbci r21,hi8(-(1))
 1406               	.L130:
 1407 0854 4017      		cp r20,r16
 1408 0856 5107      		cpc r21,r17
 1409 0858 00F0      		brlo .L132
 1410 085a A801      		movw r20,r16
 1411               	.L122:
 1412 085c 4115      		cp r20,__zero_reg__
 1413 085e 5105      		cpc r21,__zero_reg__
 1414 0860 01F0      		breq .L133
 1415               	/* #APP */
 1416               	 ;  289 "../../nut/dev/usart.c" 1
 1417 0862 0FB6      		in  __tmp_reg__, __SREG__
 1418 0864 F894      		cli
 1419 0866 0F92      		push __tmp_reg__
 1420               		
 1421               	 ;  0 "" 2
 1422               	/* #NOAPP */
 1423 0868 8CA5      		ldd r24,Y+44
 1424 086a 9DA5      		ldd r25,Y+45
 1425 086c 841B      		sub r24,r20
GAS LISTING C:\Temp/ccIE4t7g.s 			page 26


 1426 086e 950B      		sbc r25,r21
 1427 0870 9DA7      		std Y+45,r25
 1428 0872 8CA7      		std Y+44,r24
 1429               	/* #APP */
 1430               	 ;  291 "../../nut/dev/usart.c" 1
 1431 0874 0F90      		pop __tmp_reg__
 1432 0876 0FBE      		out __SREG__, __tmp_reg__
 1433               		
 1434               	 ;  0 "" 2
 1435               	/* #NOAPP */
 1436 0878 2CA5      		ldd r18,Y+44
 1437 087a 3DA5      		ldd r19,Y+45
 1438 087c 8EA5      		ldd r24,Y+46
 1439 087e 9FA5      		ldd r25,Y+47
 1440 0880 2817      		cp r18,r24
 1441 0882 3907      		cpc r19,r25
 1442 0884 00F4      		brsh .L133
 1443 0886 EBAD      		ldd r30,Y+59
 1444 0888 FCAD      		ldd r31,Y+60
 1445 088a 0995      		icall
 1446               	.L133:
 1447 088c 9801      		movw r18,r16
 1448               	.L116:
 1449 088e C901      		movw r24,r18
 1450               	/* epilogue start */
 1451 0890 DF91      		pop r29
 1452 0892 CF91      		pop r28
 1453 0894 1F91      		pop r17
 1454 0896 0F91      		pop r16
 1455 0898 FF90      		pop r15
 1456 089a EF90      		pop r14
 1457 089c DF90      		pop r13
 1458 089e CF90      		pop r12
 1459 08a0 BF90      		pop r11
 1460 08a2 AF90      		pop r10
 1461 08a4 0895      		ret
 1462               		.size	UsartRead, .-UsartRead
GAS LISTING C:\Temp/ccIE4t7g.s 			page 27


DEFINED SYMBOLS
                            *ABS*:00000000 usart.c
  C:\Temp/ccIE4t7g.s:2      *ABS*:0000003f __SREG__
  C:\Temp/ccIE4t7g.s:3      *ABS*:0000003e __SP_H__
  C:\Temp/ccIE4t7g.s:4      *ABS*:0000003d __SP_L__
  C:\Temp/ccIE4t7g.s:5      *ABS*:00000034 __CCP__
  C:\Temp/ccIE4t7g.s:6      *ABS*:00000000 __tmp_reg__
  C:\Temp/ccIE4t7g.s:7      *ABS*:00000001 __zero_reg__
  C:\Temp/ccIE4t7g.s:13     .text:00000000 UsartInit
  C:\Temp/ccIE4t7g.s:49     .text:00000038 UsartSize
  C:\Temp/ccIE4t7g.s:84     .text:0000005e UsartResetBuffer
  C:\Temp/ccIE4t7g.s:195    .text:00000100 UsartIOCtl
  C:\Temp/ccIE4t7g.s:667    .text:0000038e UsartClose
  C:\Temp/ccIE4t7g.s:719    .text:000003ea UsartOpen
  C:\Temp/ccIE4t7g.s:847    .text:000004d6 UsartFlushOutput
  C:\Temp/ccIE4t7g.s:936    .text:00000550 UsartPut
  C:\Temp/ccIE4t7g.s:1198   .text:00000704 UsartWrite_P
  C:\Temp/ccIE4t7g.s:1212   .text:00000714 UsartWrite
  C:\Temp/ccIE4t7g.s:1226   .text:00000724 UsartRead

UNDEFINED SYMBOLS
__do_copy_data
__do_clear_bss
free
malloc
NutEventWait
