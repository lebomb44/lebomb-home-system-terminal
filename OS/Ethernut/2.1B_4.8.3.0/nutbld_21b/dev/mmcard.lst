GAS LISTING C:\Temp/cctdWvvG.s 			page 1


   1               		.file	"mmcard.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__  = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.global __do_copy_data
   9               		.global __do_clear_bss
  10               		.text
  11               		.type	MmCardRxR1, @function
  12               	MmCardRxR1:
  13 0000 0F93      		push r16
  14 0002 1F93      		push r17
  15 0004 CF93      		push r28
  16 0006 DF93      		push r29
  17               	/* prologue: function */
  18               	/* frame size = 0 */
  19 0008 8C01      		movw r16,r24
  20 000a C0E0      		ldi r28,lo8(0)
  21 000c D0E0      		ldi r29,hi8(0)
  22               	.L3:
  23 000e D801      		movw r26,r16
  24 0010 1296      		adiw r26,2
  25 0012 ED91      		ld r30,X+
  26 0014 FC91      		ld r31,X
  27 0016 1397      		sbiw r26,2+1
  28 0018 8FEF      		ldi r24,lo8(-1)
  29 001a 0995      		icall
  30 001c 8F3F      		cpi r24,lo8(-1)
  31 001e 01F4      		brne .L2
  32 0020 2196      		adiw r28,1
  33 0022 B4E0      		ldi r27,hi8(1024)
  34 0024 C030      		cpi r28,lo8(1024)
  35 0026 DB07      		cpc r29,r27
  36 0028 01F4      		brne .L3
  37               	.L2:
  38               	/* epilogue start */
  39 002a DF91      		pop r29
  40 002c CF91      		pop r28
  41 002e 1F91      		pop r17
  42 0030 0F91      		pop r16
  43 0032 0895      		ret
  44               		.size	MmCardRxR1, .-MmCardRxR1
  45               	.global	MmCardBlockWrite_P
  46               		.type	MmCardBlockWrite_P, @function
  47               	MmCardBlockWrite_P:
  48               	/* prologue: function */
  49               	/* frame size = 0 */
  50 0034 8FEF      		ldi r24,lo8(-1)
  51 0036 9FEF      		ldi r25,hi8(-1)
  52               	/* epilogue start */
  53 0038 0895      		ret
  54               		.size	MmCardBlockWrite_P, .-MmCardBlockWrite_P
  55               	.global	MmCardDevInit
  56               		.type	MmCardDevInit, @function
  57               	MmCardDevInit:
GAS LISTING C:\Temp/cctdWvvG.s 			page 2


  58               	/* prologue: function */
  59               	/* frame size = 0 */
  60 003a 80E0      		ldi r24,lo8(0)
  61 003c 90E0      		ldi r25,hi8(0)
  62               	/* epilogue start */
  63 003e 0895      		ret
  64               		.size	MmCardDevInit, .-MmCardDevInit
  65               		.type	MmCardTxCmd, @function
  66               	MmCardTxCmd:
  67 0040 BF92      		push r11
  68 0042 CF92      		push r12
  69 0044 DF92      		push r13
  70 0046 EF92      		push r14
  71 0048 FF92      		push r15
  72 004a 0F93      		push r16
  73 004c 1F93      		push r17
  74 004e CF93      		push r28
  75 0050 DF93      		push r29
  76               	/* prologue: function */
  77               	/* frame size = 0 */
  78 0052 EC01      		movw r28,r24
  79 0054 B62E      		mov r11,r22
  80 0056 6901      		movw r12,r18
  81 0058 7A01      		movw r14,r20
  82 005a EC81      		ldd r30,Y+4
  83 005c FD81      		ldd r31,Y+5
  84 005e 81E0      		ldi r24,lo8(1)
  85 0060 90E0      		ldi r25,hi8(1)
  86 0062 0995      		icall
  87 0064 00E0      		ldi r16,lo8(1024)
  88 0066 14E0      		ldi r17,hi8(1024)
  89 0068 00C0      		rjmp .L17
  90               	.L13:
  91 006a 0150      		subi r16,lo8(-(-1))
  92 006c 1040      		sbci r17,hi8(-(-1))
  93 006e 01F0      		breq .L12
  94 0070 0F3F      		cpi r16,255
  95 0072 1105      		cpc r17,__zero_reg__
  96 0074 01F0      		breq .+2
  97 0076 00F4      		brsh .L17
  98 0078 61E0      		ldi r22,lo8(1)
  99 007a 70E0      		ldi r23,hi8(1)
 100 007c 80E0      		ldi r24,hlo8(1)
 101 007e 90E0      		ldi r25,hhi8(1)
 102 0080 0E94 0000 		call NutSleep
 103               	.L17:
 104 0084 EA81      		ldd r30,Y+2
 105 0086 FB81      		ldd r31,Y+3
 106 0088 8FEF      		ldi r24,lo8(-1)
 107 008a 0995      		icall
 108 008c 8F3F      		cpi r24,lo8(-1)
 109 008e 01F4      		brne .L13
 110               	.L12:
 111 0090 EA81      		ldd r30,Y+2
 112 0092 FB81      		ldd r31,Y+3
 113 0094 8B2D      		mov r24,r11
 114 0096 8064      		ori r24,lo8(64)
GAS LISTING C:\Temp/cctdWvvG.s 			page 3


 115 0098 0995      		icall
 116 009a 8F2D      		mov r24,r15
 117 009c 9927      		clr r25
 118 009e AA27      		clr r26
 119 00a0 BB27      		clr r27
 120 00a2 EA81      		ldd r30,Y+2
 121 00a4 FB81      		ldd r31,Y+3
 122 00a6 0995      		icall
 123 00a8 C701      		movw r24,r14
 124 00aa AA27      		clr r26
 125 00ac BB27      		clr r27
 126 00ae EA81      		ldd r30,Y+2
 127 00b0 FB81      		ldd r31,Y+3
 128 00b2 0995      		icall
 129 00b4 BB27      		clr r27
 130 00b6 AF2D      		mov r26,r15
 131 00b8 9E2D      		mov r25,r14
 132 00ba 8D2D      		mov r24,r13
 133 00bc EA81      		ldd r30,Y+2
 134 00be FB81      		ldd r31,Y+3
 135 00c0 0995      		icall
 136 00c2 EA81      		ldd r30,Y+2
 137 00c4 FB81      		ldd r31,Y+3
 138 00c6 8C2D      		mov r24,r12
 139 00c8 0995      		icall
 140 00ca EA81      		ldd r30,Y+2
 141 00cc FB81      		ldd r31,Y+3
 142 00ce 85E9      		ldi r24,lo8(-107)
 143 00d0 0995      		icall
 144               	/* epilogue start */
 145 00d2 DF91      		pop r29
 146 00d4 CF91      		pop r28
 147 00d6 1F91      		pop r17
 148 00d8 0F91      		pop r16
 149 00da FF90      		pop r15
 150 00dc EF90      		pop r14
 151 00de DF90      		pop r13
 152 00e0 CF90      		pop r12
 153 00e2 BF90      		pop r11
 154 00e4 0895      		ret
 155               		.size	MmCardTxCmd, .-MmCardTxCmd
 156               		.type	MmCardGetReg, @function
 157               	MmCardGetReg:
 158 00e6 BF92      		push r11
 159 00e8 CF92      		push r12
 160 00ea DF92      		push r13
 161 00ec EF92      		push r14
 162 00ee FF92      		push r15
 163 00f0 0F93      		push r16
 164 00f2 1F93      		push r17
 165 00f4 CF93      		push r28
 166 00f6 DF93      		push r29
 167               	/* prologue: function */
 168               	/* frame size = 0 */
 169 00f8 8C01      		movw r16,r24
 170 00fa B62E      		mov r11,r22
 171 00fc 7A01      		movw r14,r20
GAS LISTING C:\Temp/cctdWvvG.s 			page 4


 172 00fe 6901      		movw r12,r18
 173 0100 40E0      		ldi r20,lo8(0)
 174 0102 50E0      		ldi r21,hi8(0)
 175 0104 60E0      		ldi r22,hlo8(0)
 176 0106 70E0      		ldi r23,hhi8(0)
 177 0108 80E0      		ldi r24,lo8(mutex)
 178 010a 90E0      		ldi r25,hi8(mutex)
 179 010c 0E94 0000 		call NutEventWait
 180 0110 C0E0      		ldi r28,lo8(512)
 181 0112 D2E0      		ldi r29,hi8(512)
 182 0114 00C0      		rjmp .L19
 183               	.L24:
 184 0116 20E0      		ldi r18,lo8(0)
 185 0118 30E0      		ldi r19,hi8(0)
 186 011a 40E0      		ldi r20,hlo8(0)
 187 011c 50E0      		ldi r21,hhi8(0)
 188 011e 6B2D      		mov r22,r11
 189 0120 C801      		movw r24,r16
 190 0122 0E94 0000 		call MmCardTxCmd
 191 0126 C801      		movw r24,r16
 192 0128 0E94 0000 		call MmCardRxR1
 193 012c 8823      		tst r24
 194 012e 01F4      		brne .L20
 195 0130 C801      		movw r24,r16
 196 0132 0E94 0000 		call MmCardRxR1
 197 0136 8E3F      		cpi r24,lo8(-2)
 198 0138 01F4      		brne .L20
 199 013a C0E0      		ldi r28,lo8(0)
 200 013c D0E0      		ldi r29,hi8(0)
 201 013e 00C0      		rjmp .L21
 202               	.L22:
 203 0140 8FEF      		ldi r24,lo8(-1)
 204 0142 0995      		icall
 205 0144 D701      		movw r26,r14
 206 0146 8D93      		st X+,r24
 207 0148 7D01      		movw r14,r26
 208 014a 2196      		adiw r28,1
 209               	.L21:
 210 014c D801      		movw r26,r16
 211 014e 1296      		adiw r26,2
 212 0150 ED91      		ld r30,X+
 213 0152 FC91      		ld r31,X
 214 0154 1397      		sbiw r26,2+1
 215 0156 CC15      		cp r28,r12
 216 0158 DD05      		cpc r29,r13
 217 015a 04F0      		brlt .L22
 218 015c 8FEF      		ldi r24,lo8(-1)
 219 015e 0995      		icall
 220 0160 D801      		movw r26,r16
 221 0162 1296      		adiw r26,2
 222 0164 ED91      		ld r30,X+
 223 0166 FC91      		ld r31,X
 224 0168 1397      		sbiw r26,2+1
 225 016a 8FEF      		ldi r24,lo8(-1)
 226 016c 0995      		icall
 227 016e D801      		movw r26,r16
 228 0170 1496      		adiw r26,4
GAS LISTING C:\Temp/cctdWvvG.s 			page 5


 229 0172 ED91      		ld r30,X+
 230 0174 FC91      		ld r31,X
 231 0176 1597      		sbiw r26,4+1
 232 0178 80E0      		ldi r24,lo8(0)
 233 017a 90E0      		ldi r25,hi8(0)
 234 017c 0995      		icall
 235 017e C0E0      		ldi r28,lo8(0)
 236 0180 D0E0      		ldi r29,hi8(0)
 237 0182 00C0      		rjmp .L23
 238               	.L20:
 239 0184 D801      		movw r26,r16
 240 0186 1496      		adiw r26,4
 241 0188 ED91      		ld r30,X+
 242 018a FC91      		ld r31,X
 243 018c 1597      		sbiw r26,4+1
 244 018e 80E0      		ldi r24,lo8(0)
 245 0190 90E0      		ldi r25,hi8(0)
 246 0192 0995      		icall
 247               	.L19:
 248 0194 2197      		sbiw r28,1
 249 0196 BFEF      		ldi r27,hi8(-1)
 250 0198 CF3F      		cpi r28,lo8(-1)
 251 019a DB07      		cpc r29,r27
 252 019c 01F0      		breq .+2
 253 019e 00C0      		rjmp .L24
 254 01a0 CFEF      		ldi r28,lo8(-1)
 255 01a2 DFEF      		ldi r29,hi8(-1)
 256               	.L23:
 257 01a4 80E0      		ldi r24,lo8(mutex)
 258 01a6 90E0      		ldi r25,hi8(mutex)
 259 01a8 0E94 0000 		call NutEventPost
 260 01ac CE01      		movw r24,r28
 261               	/* epilogue start */
 262 01ae DF91      		pop r29
 263 01b0 CF91      		pop r28
 264 01b2 1F91      		pop r17
 265 01b4 0F91      		pop r16
 266 01b6 FF90      		pop r15
 267 01b8 EF90      		pop r14
 268 01ba DF90      		pop r13
 269 01bc CF90      		pop r12
 270 01be BF90      		pop r11
 271 01c0 0895      		ret
 272               		.size	MmCardGetReg, .-MmCardGetReg
 273               	.global	MmCardIOCtl
 274               		.type	MmCardIOCtl, @function
 275               	MmCardIOCtl:
 276 01c2 9F92      		push r9
 277 01c4 AF92      		push r10
 278 01c6 BF92      		push r11
 279 01c8 CF92      		push r12
 280 01ca DF92      		push r13
 281 01cc EF92      		push r14
 282 01ce FF92      		push r15
 283 01d0 0F93      		push r16
 284 01d2 1F93      		push r17
 285 01d4 CF93      		push r28
GAS LISTING C:\Temp/cctdWvvG.s 			page 6


 286 01d6 DF93      		push r29
 287               	/* prologue: function */
 288               	/* frame size = 0 */
 289 01d8 EA01      		movw r28,r20
 290 01da DC01      		movw r26,r24
 291 01dc 1F96      		adiw r26,15
 292 01de AD90      		ld r10,X+
 293 01e0 BC90      		ld r11,X
 294 01e2 5097      		sbiw r26,15+1
 295 01e4 B2E1      		ldi r27,hi8(4611)
 296 01e6 6330      		cpi r22,lo8(4611)
 297 01e8 7B07      		cpc r23,r27
 298 01ea 01F4      		brne .+2
 299 01ec 00C0      		rjmp .L31
 300 01ee E2E1      		ldi r30,hi8(4612)
 301 01f0 6430      		cpi r22,lo8(4612)
 302 01f2 7E07      		cpc r23,r30
 303 01f4 04F4      		brge .L36
 304 01f6 F2E1      		ldi r31,hi8(4609)
 305 01f8 6130      		cpi r22,lo8(4609)
 306 01fa 7F07      		cpc r23,r31
 307 01fc 01F0      		breq .L29
 308 01fe 82E1      		ldi r24,hi8(4610)
 309 0200 6230      		cpi r22,lo8(4610)
 310 0202 7807      		cpc r23,r24
 311 0204 04F4      		brge .L30
 312 0206 6050      		subi r22,lo8(4608)
 313 0208 7241      		sbci r23,hi8(4608)
 314 020a 01F4      		brne .L27
 315 020c 00C0      		rjmp .L48
 316               	.L36:
 317 020e B0E2      		ldi r27,hi8(8194)
 318 0210 6230      		cpi r22,lo8(8194)
 319 0212 7B07      		cpc r23,r27
 320 0214 01F4      		brne .+2
 321 0216 00C0      		rjmp .L33
 322 0218 E0E2      		ldi r30,hi8(8195)
 323 021a 6330      		cpi r22,lo8(8195)
 324 021c 7E07      		cpc r23,r30
 325 021e 04F4      		brge .L37
 326 0220 6150      		subi r22,lo8(8193)
 327 0222 7042      		sbci r23,hi8(8193)
 328 0224 01F4      		brne .L27
 329 0226 00C0      		rjmp .L49
 330               	.L37:
 331 0228 80E2      		ldi r24,hi8(8195)
 332 022a 6330      		cpi r22,lo8(8195)
 333 022c 7807      		cpc r23,r24
 334 022e 01F4      		brne .+2
 335 0230 00C0      		rjmp .L34
 336 0232 6450      		subi r22,lo8(8196)
 337 0234 7042      		sbci r23,hi8(8196)
 338 0236 01F4      		brne .+2
 339 0238 00C0      		rjmp .L35
 340               	.L27:
 341 023a CFEF      		ldi r28,lo8(-1)
 342 023c DFEF      		ldi r29,hi8(-1)
GAS LISTING C:\Temp/cctdWvvG.s 			page 7


 343 023e 00C0      		rjmp .L38
 344               	.L48:
 345 0240 D501      		movw r26,r10
 346 0242 1696      		adiw r26,6
 347 0244 ED91      		ld r30,X+
 348 0246 FC91      		ld r31,X
 349 0248 1797      		sbiw r26,6+1
 350 024a 0995      		icall
 351 024c 00C0      		rjmp .L47
 352               	.L29:
 353 024e D501      		movw r26,r10
 354 0250 1696      		adiw r26,6
 355 0252 ED91      		ld r30,X+
 356 0254 FC91      		ld r31,X
 357 0256 1797      		sbiw r26,6+1
 358 0258 0995      		icall
 359 025a 0197      		sbiw r24,1
 360 025c 01F0      		breq .L39
 361 025e 81E0      		ldi r24,lo8(1)
 362 0260 90E0      		ldi r25,hi8(1)
 363               	.L47:
 364 0262 9983      		std Y+1,r25
 365 0264 8883      		st Y,r24
 366 0266 00C0      		rjmp .L45
 367               	.L39:
 368 0268 1982      		std Y+1,__zero_reg__
 369 026a 1882      		st Y,__zero_reg__
 370               	.L45:
 371 026c C0E0      		ldi r28,lo8(0)
 372 026e D0E0      		ldi r29,hi8(0)
 373 0270 00C0      		rjmp .L38
 374               	.L30:
 375 0272 E881      		ld r30,Y
 376 0274 F981      		ldd r31,Y+1
 377 0276 0480      		ldd __tmp_reg__,Z+4
 378 0278 F581      		ldd r31,Z+5
 379 027a E02D      		mov r30,__tmp_reg__
 380 027c 8685      		ldd r24,Z+14
 381 027e 9785      		ldd r25,Z+15
 382 0280 A089      		ldd r26,Z+16
 383 0282 B189      		ldd r27,Z+17
 384 0284 8A83      		std Y+2,r24
 385 0286 9B83      		std Y+3,r25
 386 0288 AC83      		std Y+4,r26
 387 028a BD83      		std Y+5,r27
 388 028c 80E0      		ldi r24,lo8(512)
 389 028e 92E0      		ldi r25,hi8(512)
 390 0290 A0E0      		ldi r26,hlo8(512)
 391 0292 B0E0      		ldi r27,hhi8(512)
 392 0294 8E83      		std Y+6,r24
 393 0296 9F83      		std Y+7,r25
 394 0298 A887      		std Y+8,r26
 395 029a B987      		std Y+9,r27
 396 029c 7696      		adiw r30,22
 397 029e FB87      		std Y+11,r31
 398 02a0 EA87      		std Y+10,r30
 399 02a2 00C0      		rjmp .L45
GAS LISTING C:\Temp/cctdWvvG.s 			page 8


 400               	.L31:
 401 02a4 E881      		ld r30,Y
 402 02a6 F981      		ldd r31,Y+1
 403 02a8 0480      		ldd __tmp_reg__,Z+4
 404 02aa F581      		ldd r31,Z+5
 405 02ac E02D      		mov r30,__tmp_reg__
 406 02ae 8A81      		ldd r24,Y+2
 407 02b0 9B81      		ldd r25,Y+3
 408 02b2 AC81      		ldd r26,Y+4
 409 02b4 BD81      		ldd r27,Y+5
 410 02b6 828B      		std Z+18,r24
 411 02b8 938B      		std Z+19,r25
 412 02ba A48B      		std Z+20,r26
 413 02bc B58B      		std Z+21,r27
 414 02be 00C0      		rjmp .L45
 415               	.L49:
 416 02c0 40E0      		ldi r20,lo8(0)
 417 02c2 50E0      		ldi r21,hi8(0)
 418 02c4 60E0      		ldi r22,hlo8(0)
 419 02c6 70E0      		ldi r23,hhi8(0)
 420 02c8 80E0      		ldi r24,lo8(mutex)
 421 02ca 90E0      		ldi r25,hi8(mutex)
 422 02cc 0E94 0000 		call NutEventWait
 423 02d0 20E0      		ldi r18,lo8(0)
 424 02d2 30E0      		ldi r19,hi8(0)
 425 02d4 40E0      		ldi r20,hlo8(0)
 426 02d6 50E0      		ldi r21,hhi8(0)
 427 02d8 6DE0      		ldi r22,lo8(13)
 428 02da C501      		movw r24,r10
 429 02dc 0E94 0000 		call MmCardTxCmd
 430 02e0 C501      		movw r24,r10
 431 02e2 0E94 0000 		call MmCardRxR1
 432 02e6 182F      		mov r17,r24
 433 02e8 00E0      		ldi r16,lo8(0)
 434 02ea D501      		movw r26,r10
 435 02ec 1296      		adiw r26,2
 436 02ee ED91      		ld r30,X+
 437 02f0 FC91      		ld r31,X
 438 02f2 1397      		sbiw r26,2+1
 439 02f4 8FEF      		ldi r24,lo8(-1)
 440 02f6 0995      		icall
 441 02f8 080F      		add r16,r24
 442 02fa 111D      		adc r17,__zero_reg__
 443 02fc 1983      		std Y+1,r17
 444 02fe 0883      		st Y,r16
 445 0300 80E0      		ldi r24,lo8(mutex)
 446 0302 90E0      		ldi r25,hi8(mutex)
 447 0304 0E94 0000 		call NutEventPost
 448 0308 00C0      		rjmp .L45
 449               	.L33:
 450 030a 40E0      		ldi r20,lo8(0)
 451 030c 50E0      		ldi r21,hi8(0)
 452 030e 60E0      		ldi r22,hlo8(0)
 453 0310 70E0      		ldi r23,hhi8(0)
 454 0312 80E0      		ldi r24,lo8(mutex)
 455 0314 90E0      		ldi r25,hi8(mutex)
 456 0316 0E94 0000 		call NutEventWait
GAS LISTING C:\Temp/cctdWvvG.s 			page 9


 457 031a 20E0      		ldi r18,lo8(0)
 458 031c 30E0      		ldi r19,hi8(0)
 459 031e 40E0      		ldi r20,hlo8(0)
 460 0320 50E0      		ldi r21,hhi8(0)
 461 0322 6AE3      		ldi r22,lo8(58)
 462 0324 C501      		movw r24,r10
 463 0326 0E94 0000 		call MmCardTxCmd
 464 032a C501      		movw r24,r10
 465 032c 0E94 0000 		call MmCardRxR1
 466 0330 982E      		mov r9,r24
 467 0332 CC24      		clr r12
 468 0334 DD24      		clr r13
 469               	.L40:
 470 0336 E880      		ld r14,Y
 471 0338 F980      		ldd r15,Y+1
 472 033a 0A81      		ldd r16,Y+2
 473 033c 1B81      		ldd r17,Y+3
 474 033e 102F      		mov r17,r16
 475 0340 0F2D      		mov r16,r15
 476 0342 FE2C      		mov r15,r14
 477 0344 EE24      		clr r14
 478 0346 E882      		st Y,r14
 479 0348 F982      		std Y+1,r15
 480 034a 0A83      		std Y+2,r16
 481 034c 1B83      		std Y+3,r17
 482 034e D501      		movw r26,r10
 483 0350 1296      		adiw r26,2
 484 0352 ED91      		ld r30,X+
 485 0354 FC91      		ld r31,X
 486 0356 1397      		sbiw r26,2+1
 487 0358 8FEF      		ldi r24,lo8(-1)
 488 035a 0995      		icall
 489 035c 90E0      		ldi r25,lo8(0)
 490 035e A0E0      		ldi r26,lo8(0)
 491 0360 B0E0      		ldi r27,hi8(0)
 492 0362 8E29      		or r24,r14
 493 0364 9F29      		or r25,r15
 494 0366 A02B      		or r26,r16
 495 0368 B12B      		or r27,r17
 496 036a 8883      		st Y,r24
 497 036c 9983      		std Y+1,r25
 498 036e AA83      		std Y+2,r26
 499 0370 BB83      		std Y+3,r27
 500 0372 0894      		sec
 501 0374 C11C      		adc r12,__zero_reg__
 502 0376 D11C      		adc r13,__zero_reg__
 503 0378 B4E0      		ldi r27,lo8(4)
 504 037a CB16      		cp r12,r27
 505 037c D104      		cpc r13,__zero_reg__
 506 037e 01F4      		brne .L40
 507 0380 9920      		tst r9
 508 0382 01F0      		breq .L41
 509 0384 CFEF      		ldi r28,lo8(-1)
 510 0386 DFEF      		ldi r29,hi8(-1)
 511 0388 00C0      		rjmp .L42
 512               	.L41:
 513 038a C0E0      		ldi r28,lo8(0)
GAS LISTING C:\Temp/cctdWvvG.s 			page 10


 514 038c D0E0      		ldi r29,hi8(0)
 515               	.L42:
 516 038e 80E0      		ldi r24,lo8(mutex)
 517 0390 90E0      		ldi r25,hi8(mutex)
 518 0392 0E94 0000 		call NutEventPost
 519 0396 00C0      		rjmp .L38
 520               	.L34:
 521 0398 20E1      		ldi r18,lo8(16)
 522 039a 30E0      		ldi r19,hi8(16)
 523 039c 6AE0      		ldi r22,lo8(10)
 524 039e 00C0      		rjmp .L46
 525               	.L35:
 526 03a0 20E1      		ldi r18,lo8(16)
 527 03a2 30E0      		ldi r19,hi8(16)
 528 03a4 69E0      		ldi r22,lo8(9)
 529               	.L46:
 530 03a6 C501      		movw r24,r10
 531 03a8 0E94 0000 		call MmCardGetReg
 532 03ac EC01      		movw r28,r24
 533               	.L38:
 534 03ae CE01      		movw r24,r28
 535               	/* epilogue start */
 536 03b0 DF91      		pop r29
 537 03b2 CF91      		pop r28
 538 03b4 1F91      		pop r17
 539 03b6 0F91      		pop r16
 540 03b8 FF90      		pop r15
 541 03ba EF90      		pop r14
 542 03bc DF90      		pop r13
 543 03be CF90      		pop r12
 544 03c0 BF90      		pop r11
 545 03c2 AF90      		pop r10
 546 03c4 9F90      		pop r9
 547 03c6 0895      		ret
 548               		.size	MmCardIOCtl, .-MmCardIOCtl
 549               		.type	MmCardReset, @function
 550               	MmCardReset:
 551 03c8 EF92      		push r14
 552 03ca FF92      		push r15
 553 03cc 1F93      		push r17
 554 03ce CF93      		push r28
 555 03d0 DF93      		push r29
 556               	/* prologue: function */
 557               	/* frame size = 0 */
 558 03d2 7C01      		movw r14,r24
 559 03d4 DC01      		movw r26,r24
 560 03d6 ED91      		ld r30,X+
 561 03d8 FC91      		ld r31,X
 562 03da 0995      		icall
 563 03dc 892B      		or r24,r25
 564 03de 01F4      		brne .L51
 565 03e0 D701      		movw r26,r14
 566 03e2 1496      		adiw r26,4
 567 03e4 ED91      		ld r30,X+
 568 03e6 FC91      		ld r31,X
 569 03e8 1597      		sbiw r26,4+1
 570 03ea 80E0      		ldi r24,lo8(0)
GAS LISTING C:\Temp/cctdWvvG.s 			page 11


 571 03ec 90E0      		ldi r25,hi8(0)
 572 03ee 0995      		icall
 573 03f0 C0E0      		ldi r28,lo8(0)
 574 03f2 D0E0      		ldi r29,hi8(0)
 575               	.L52:
 576 03f4 D701      		movw r26,r14
 577 03f6 1296      		adiw r26,2
 578 03f8 ED91      		ld r30,X+
 579 03fa FC91      		ld r31,X
 580 03fc 1397      		sbiw r26,2+1
 581 03fe 8FEF      		ldi r24,lo8(-1)
 582 0400 0995      		icall
 583 0402 2196      		adiw r28,1
 584 0404 CA30      		cpi r28,10
 585 0406 D105      		cpc r29,__zero_reg__
 586 0408 01F4      		brne .L52
 587 040a C0E0      		ldi r28,lo8(0)
 588 040c D0E0      		ldi r29,hi8(0)
 589               	.L55:
 590 040e 20E0      		ldi r18,lo8(0)
 591 0410 30E0      		ldi r19,hi8(0)
 592 0412 40E0      		ldi r20,hlo8(0)
 593 0414 50E0      		ldi r21,hhi8(0)
 594 0416 60E0      		ldi r22,lo8(0)
 595 0418 C701      		movw r24,r14
 596 041a 0E94 0000 		call MmCardTxCmd
 597 041e C701      		movw r24,r14
 598 0420 0E94 0000 		call MmCardRxR1
 599 0424 182F      		mov r17,r24
 600 0426 D701      		movw r26,r14
 601 0428 1496      		adiw r26,4
 602 042a ED91      		ld r30,X+
 603 042c FC91      		ld r31,X
 604 042e 1597      		sbiw r26,4+1
 605 0430 80E0      		ldi r24,lo8(0)
 606 0432 90E0      		ldi r25,hi8(0)
 607 0434 0995      		icall
 608 0436 1230      		cpi r17,lo8(2)
 609 0438 00F4      		brsh .L53
 610 043a 20E0      		ldi r18,lo8(0)
 611 043c 30E0      		ldi r19,hi8(0)
 612 043e 00C0      		rjmp .L54
 613               	.L53:
 614 0440 2196      		adiw r28,1
 615 0442 CF3F      		cpi r28,255
 616 0444 D105      		cpc r29,__zero_reg__
 617 0446 01F4      		brne .L55
 618               	.L51:
 619 0448 2FEF      		ldi r18,lo8(-1)
 620 044a 3FEF      		ldi r19,hi8(-1)
 621               	.L54:
 622 044c C901      		movw r24,r18
 623               	/* epilogue start */
 624 044e DF91      		pop r29
 625 0450 CF91      		pop r28
 626 0452 1F91      		pop r17
 627 0454 FF90      		pop r15
GAS LISTING C:\Temp/cctdWvvG.s 			page 12


 628 0456 EF90      		pop r14
 629 0458 0895      		ret
 630               		.size	MmCardReset, .-MmCardReset
 631               		.type	MmCardReadOrVerify, @function
 632               	MmCardReadOrVerify:
 633 045a 8F92      		push r8
 634 045c 9F92      		push r9
 635 045e AF92      		push r10
 636 0460 BF92      		push r11
 637 0462 CF92      		push r12
 638 0464 DF92      		push r13
 639 0466 EF92      		push r14
 640 0468 FF92      		push r15
 641 046a 0F93      		push r16
 642 046c 1F93      		push r17
 643 046e CF93      		push r28
 644 0470 DF93      		push r29
 645               	/* prologue: function */
 646               	/* frame size = 0 */
 647 0472 5C01      		movw r10,r24
 648 0474 6A01      		movw r12,r20
 649 0476 7B01      		movw r14,r22
 650 0478 4901      		movw r8,r18
 651 047a 40E0      		ldi r20,lo8(0)
 652 047c 50E0      		ldi r21,hi8(0)
 653 047e 60E0      		ldi r22,hlo8(0)
 654 0480 70E0      		ldi r23,hhi8(0)
 655 0482 80E0      		ldi r24,lo8(mutex)
 656 0484 90E0      		ldi r25,hi8(mutex)
 657 0486 0E94 0000 		call NutEventWait
 658 048a 49E0      		ldi r20,9
 659 048c CC0C      	1:	lsl r12
 660 048e DD1C      		rol r13
 661 0490 EE1C      		rol r14
 662 0492 FF1C      		rol r15
 663 0494 4A95      		dec r20
 664 0496 01F4      		brne 1b
 665 0498 C0E4      		ldi r28,lo8(64)
 666 049a D0E0      		ldi r29,hi8(64)
 667 049c 00C0      		rjmp .L60
 668               	.L68:
 669 049e A701      		movw r20,r14
 670 04a0 9601      		movw r18,r12
 671 04a2 61E1      		ldi r22,lo8(17)
 672 04a4 C501      		movw r24,r10
 673 04a6 0E94 0000 		call MmCardTxCmd
 674 04aa C501      		movw r24,r10
 675 04ac 0E94 0000 		call MmCardRxR1
 676 04b0 8823      		tst r24
 677 04b2 01F0      		breq .+2
 678 04b4 00C0      		rjmp .L61
 679 04b6 C501      		movw r24,r10
 680 04b8 0E94 0000 		call MmCardRxR1
 681 04bc 8E3F      		cpi r24,lo8(-2)
 682 04be 01F0      		breq .+2
 683 04c0 00C0      		rjmp .L61
 684 04c2 012B      		or r16,r17
GAS LISTING C:\Temp/cctdWvvG.s 			page 13


 685 04c4 01F0      		breq .L62
 686 04c6 EE24      		clr r14
 687 04c8 FF24      		clr r15
 688 04ca C0E0      		ldi r28,lo8(0)
 689 04cc D0E0      		ldi r29,hi8(0)
 690               	.L65:
 691 04ce D401      		movw r26,r8
 692 04d0 1C91      		ld r17,X
 693 04d2 D501      		movw r26,r10
 694 04d4 1296      		adiw r26,2
 695 04d6 ED91      		ld r30,X+
 696 04d8 FC91      		ld r31,X
 697 04da 1397      		sbiw r26,2+1
 698 04dc 8FEF      		ldi r24,lo8(-1)
 699 04de 0995      		icall
 700 04e0 1817      		cp r17,r24
 701 04e2 01F0      		breq .L63
 702 04e4 EE24      		clr r14
 703 04e6 EA94      		dec r14
 704 04e8 FE2C      		mov r15,r14
 705               	.L63:
 706 04ea 2196      		adiw r28,1
 707 04ec B2E0      		ldi r27,hi8(512)
 708 04ee C030      		cpi r28,lo8(512)
 709 04f0 DB07      		cpc r29,r27
 710 04f2 01F0      		breq .L64
 711 04f4 0894      		sec
 712 04f6 811C      		adc r8,__zero_reg__
 713 04f8 911C      		adc r9,__zero_reg__
 714 04fa 00C0      		rjmp .L65
 715               	.L62:
 716 04fc 00E0      		ldi r16,lo8(0)
 717 04fe 10E0      		ldi r17,hi8(0)
 718               	.L66:
 719 0500 D501      		movw r26,r10
 720 0502 1296      		adiw r26,2
 721 0504 ED91      		ld r30,X+
 722 0506 FC91      		ld r31,X
 723 0508 1397      		sbiw r26,2+1
 724 050a 8FEF      		ldi r24,lo8(-1)
 725 050c 0995      		icall
 726 050e F401      		movw r30,r8
 727 0510 8193      		st Z+,r24
 728 0512 4F01      		movw r8,r30
 729 0514 0F5F      		subi r16,lo8(-(1))
 730 0516 1F4F      		sbci r17,hi8(-(1))
 731 0518 F2E0      		ldi r31,hi8(512)
 732 051a 0030      		cpi r16,lo8(512)
 733 051c 1F07      		cpc r17,r31
 734 051e 01F4      		brne .L66
 735 0520 EE24      		clr r14
 736 0522 FF24      		clr r15
 737               	.L64:
 738 0524 D501      		movw r26,r10
 739 0526 1296      		adiw r26,2
 740 0528 ED91      		ld r30,X+
 741 052a FC91      		ld r31,X
GAS LISTING C:\Temp/cctdWvvG.s 			page 14


 742 052c 1397      		sbiw r26,2+1
 743 052e 8FEF      		ldi r24,lo8(-1)
 744 0530 0995      		icall
 745 0532 D501      		movw r26,r10
 746 0534 1296      		adiw r26,2
 747 0536 ED91      		ld r30,X+
 748 0538 FC91      		ld r31,X
 749 053a 1397      		sbiw r26,2+1
 750 053c 8FEF      		ldi r24,lo8(-1)
 751 053e 0995      		icall
 752 0540 D501      		movw r26,r10
 753 0542 1496      		adiw r26,4
 754 0544 ED91      		ld r30,X+
 755 0546 FC91      		ld r31,X
 756 0548 1597      		sbiw r26,4+1
 757 054a 80E0      		ldi r24,lo8(0)
 758 054c 90E0      		ldi r25,hi8(0)
 759 054e 0995      		icall
 760 0550 00C0      		rjmp .L67
 761               	.L61:
 762 0552 D501      		movw r26,r10
 763 0554 1496      		adiw r26,4
 764 0556 ED91      		ld r30,X+
 765 0558 FC91      		ld r31,X
 766 055a 1597      		sbiw r26,4+1
 767 055c 80E0      		ldi r24,lo8(0)
 768 055e 90E0      		ldi r25,hi8(0)
 769 0560 0995      		icall
 770               	.L60:
 771 0562 2197      		sbiw r28,1
 772 0564 BFEF      		ldi r27,hi8(-1)
 773 0566 CF3F      		cpi r28,lo8(-1)
 774 0568 DB07      		cpc r29,r27
 775 056a 01F0      		breq .+2
 776 056c 00C0      		rjmp .L68
 777 056e EE24      		clr r14
 778 0570 EA94      		dec r14
 779 0572 FE2C      		mov r15,r14
 780               	.L67:
 781 0574 80E0      		ldi r24,lo8(mutex)
 782 0576 90E0      		ldi r25,hi8(mutex)
 783 0578 0E94 0000 		call NutEventPost
 784 057c C701      		movw r24,r14
 785               	/* epilogue start */
 786 057e DF91      		pop r29
 787 0580 CF91      		pop r28
 788 0582 1F91      		pop r17
 789 0584 0F91      		pop r16
 790 0586 FF90      		pop r15
 791 0588 EF90      		pop r14
 792 058a DF90      		pop r13
 793 058c CF90      		pop r12
 794 058e BF90      		pop r11
 795 0590 AF90      		pop r10
 796 0592 9F90      		pop r9
 797 0594 8F90      		pop r8
 798 0596 0895      		ret
GAS LISTING C:\Temp/cctdWvvG.s 			page 15


 799               		.size	MmCardReadOrVerify, .-MmCardReadOrVerify
 800               	.global	MmCardBlockRead
 801               		.type	MmCardBlockRead, @function
 802               	MmCardBlockRead:
 803 0598 8F92      		push r8
 804 059a 9F92      		push r9
 805 059c AF92      		push r10
 806 059e BF92      		push r11
 807 05a0 CF92      		push r12
 808 05a2 DF92      		push r13
 809 05a4 EF92      		push r14
 810 05a6 FF92      		push r15
 811 05a8 0F93      		push r16
 812 05aa 1F93      		push r17
 813 05ac CF93      		push r28
 814 05ae DF93      		push r29
 815               	/* prologue: function */
 816               	/* frame size = 0 */
 817 05b0 FC01      		movw r30,r24
 818 05b2 5B01      		movw r10,r22
 819 05b4 C481      		ldd r28,Z+4
 820 05b6 D581      		ldd r29,Z+5
 821 05b8 CA88      		ldd r12,Y+18
 822 05ba DB88      		ldd r13,Y+19
 823 05bc EC88      		ldd r14,Y+20
 824 05be FD88      		ldd r15,Y+21
 825 05c0 0280      		ldd __tmp_reg__,Z+2
 826 05c2 F381      		ldd r31,Z+3
 827 05c4 E02D      		mov r30,__tmp_reg__
 828 05c6 8784      		ldd r8,Z+15
 829 05c8 9088      		ldd r9,Z+16
 830 05ca D401      		movw r26,r8
 831 05cc 1696      		adiw r26,6
 832 05ce ED91      		ld r30,X+
 833 05d0 FC91      		ld r31,X
 834 05d2 1797      		sbiw r26,6+1
 835 05d4 0995      		icall
 836 05d6 0197      		sbiw r24,1
 837 05d8 01F4      		brne .L72
 838 05da A114      		cp r10,__zero_reg__
 839 05dc B104      		cpc r11,__zero_reg__
 840 05de 01F4      		brne .L73
 841 05e0 56E1      		ldi r21,lo8(22)
 842 05e2 A52E      		mov r10,r21
 843 05e4 B12C      		mov r11,__zero_reg__
 844 05e6 AC0E      		add r10,r28
 845 05e8 BD1E      		adc r11,r29
 846               	.L73:
 847 05ea 8A85      		ldd r24,Y+10
 848 05ec 9B85      		ldd r25,Y+11
 849 05ee AC85      		ldd r26,Y+12
 850 05f0 BD85      		ldd r27,Y+13
 851 05f2 C80E      		add r12,r24
 852 05f4 D91E      		adc r13,r25
 853 05f6 EA1E      		adc r14,r26
 854 05f8 FB1E      		adc r15,r27
 855 05fa 00E0      		ldi r16,lo8(0)
GAS LISTING C:\Temp/cctdWvvG.s 			page 16


 856 05fc 10E0      		ldi r17,hi8(0)
 857 05fe 9501      		movw r18,r10
 858 0600 B701      		movw r22,r14
 859 0602 A601      		movw r20,r12
 860 0604 C401      		movw r24,r8
 861 0606 0E94 0000 		call MmCardReadOrVerify
 862 060a 892B      		or r24,r25
 863 060c 01F4      		brne .L72
 864 060e 21E0      		ldi r18,lo8(1)
 865 0610 30E0      		ldi r19,hi8(1)
 866 0612 00C0      		rjmp .L74
 867               	.L72:
 868 0614 2FEF      		ldi r18,lo8(-1)
 869 0616 3FEF      		ldi r19,hi8(-1)
 870               	.L74:
 871 0618 C901      		movw r24,r18
 872               	/* epilogue start */
 873 061a DF91      		pop r29
 874 061c CF91      		pop r28
 875 061e 1F91      		pop r17
 876 0620 0F91      		pop r16
 877 0622 FF90      		pop r15
 878 0624 EF90      		pop r14
 879 0626 DF90      		pop r13
 880 0628 CF90      		pop r12
 881 062a BF90      		pop r11
 882 062c AF90      		pop r10
 883 062e 9F90      		pop r9
 884 0630 8F90      		pop r8
 885 0632 0895      		ret
 886               		.size	MmCardBlockRead, .-MmCardBlockRead
 887               	.global	MmCardBlockWrite
 888               		.type	MmCardBlockWrite, @function
 889               	MmCardBlockWrite:
 890 0634 6F92      		push r6
 891 0636 7F92      		push r7
 892 0638 8F92      		push r8
 893 063a 9F92      		push r9
 894 063c AF92      		push r10
 895 063e BF92      		push r11
 896 0640 CF92      		push r12
 897 0642 DF92      		push r13
 898 0644 EF92      		push r14
 899 0646 FF92      		push r15
 900 0648 0F93      		push r16
 901 064a 1F93      		push r17
 902 064c CF93      		push r28
 903 064e DF93      		push r29
 904               	/* prologue: function */
 905               	/* frame size = 0 */
 906 0650 FC01      		movw r30,r24
 907 0652 8B01      		movw r16,r22
 908 0654 C481      		ldd r28,Z+4
 909 0656 D581      		ldd r29,Z+5
 910 0658 6A88      		ldd r6,Y+18
 911 065a 7B88      		ldd r7,Y+19
 912 065c 8C88      		ldd r8,Y+20
GAS LISTING C:\Temp/cctdWvvG.s 			page 17


 913 065e 9D88      		ldd r9,Y+21
 914 0660 0280      		ldd __tmp_reg__,Z+2
 915 0662 F381      		ldd r31,Z+3
 916 0664 E02D      		mov r30,__tmp_reg__
 917 0666 E784      		ldd r14,Z+15
 918 0668 F088      		ldd r15,Z+16
 919 066a D701      		movw r26,r14
 920 066c 1696      		adiw r26,6
 921 066e ED91      		ld r30,X+
 922 0670 FC91      		ld r31,X
 923 0672 1797      		sbiw r26,6+1
 924 0674 0995      		icall
 925 0676 0197      		sbiw r24,1
 926 0678 01F0      		breq .+2
 927 067a 00C0      		rjmp .L77
 928 067c 0115      		cp r16,__zero_reg__
 929 067e 1105      		cpc r17,__zero_reg__
 930 0680 01F4      		brne .L78
 931 0682 8E01      		movw r16,r28
 932 0684 0A5E      		subi r16,lo8(-(22))
 933 0686 1F4F      		sbci r17,hi8(-(22))
 934               	.L78:
 935 0688 AA84      		ldd r10,Y+10
 936 068a BB84      		ldd r11,Y+11
 937 068c CC84      		ldd r12,Y+12
 938 068e DD84      		ldd r13,Y+13
 939 0690 A60C      		add r10,r6
 940 0692 B71C      		adc r11,r7
 941 0694 C81C      		adc r12,r8
 942 0696 D91C      		adc r13,r9
 943 0698 3801      		movw r6,r16
 944 069a 40E0      		ldi r20,lo8(0)
 945 069c 50E0      		ldi r21,hi8(0)
 946 069e 60E0      		ldi r22,hlo8(0)
 947 06a0 70E0      		ldi r23,hhi8(0)
 948 06a2 80E0      		ldi r24,lo8(mutex)
 949 06a4 90E0      		ldi r25,hi8(mutex)
 950 06a6 0E94 0000 		call NutEventWait
 951 06aa 79E0      		ldi r23,9
 952 06ac AA0C      	1:	lsl r10
 953 06ae BB1C      		rol r11
 954 06b0 CC1C      		rol r12
 955 06b2 DD1C      		rol r13
 956 06b4 7A95      		dec r23
 957 06b6 01F4      		brne 1b
 958 06b8 60E2      		ldi r22,lo8(32)
 959 06ba 862E      		mov r8,r22
 960 06bc 912C      		mov r9,__zero_reg__
 961 06be 00C0      		rjmp .L79
 962               	.L86:
 963 06c0 A601      		movw r20,r12
 964 06c2 9501      		movw r18,r10
 965 06c4 68E1      		ldi r22,lo8(24)
 966 06c6 C701      		movw r24,r14
 967 06c8 0E94 0000 		call MmCardTxCmd
 968 06cc C701      		movw r24,r14
 969 06ce 0E94 0000 		call MmCardRxR1
GAS LISTING C:\Temp/cctdWvvG.s 			page 18


 970 06d2 8823      		tst r24
 971 06d4 01F0      		breq .+2
 972 06d6 00C0      		rjmp .L80
 973 06d8 D701      		movw r26,r14
 974 06da 1296      		adiw r26,2
 975 06dc ED91      		ld r30,X+
 976 06de FC91      		ld r31,X
 977 06e0 1397      		sbiw r26,2+1
 978 06e2 8FEF      		ldi r24,lo8(-1)
 979 06e4 0995      		icall
 980 06e6 D701      		movw r26,r14
 981 06e8 1296      		adiw r26,2
 982 06ea ED91      		ld r30,X+
 983 06ec FC91      		ld r31,X
 984 06ee 1397      		sbiw r26,2+1
 985 06f0 8EEF      		ldi r24,lo8(-2)
 986 06f2 0995      		icall
 987 06f4 8301      		movw r16,r6
 988 06f6 C0E0      		ldi r28,lo8(0)
 989 06f8 D0E0      		ldi r29,hi8(0)
 990               	.L81:
 991 06fa D701      		movw r26,r14
 992 06fc 1296      		adiw r26,2
 993 06fe ED91      		ld r30,X+
 994 0700 FC91      		ld r31,X
 995 0702 1397      		sbiw r26,2+1
 996 0704 D801      		movw r26,r16
 997 0706 8D91      		ld r24,X+
 998 0708 8D01      		movw r16,r26
 999 070a 0995      		icall
 1000 070c 2196      		adiw r28,1
 1001 070e B2E0      		ldi r27,hi8(512)
 1002 0710 C030      		cpi r28,lo8(512)
 1003 0712 DB07      		cpc r29,r27
 1004 0714 01F4      		brne .L81
 1005 0716 80E0      		ldi r24,lo8(512)
 1006 0718 92E0      		ldi r25,hi8(512)
 1007 071a 680E      		add r6,r24
 1008 071c 791E      		adc r7,r25
 1009 071e C701      		movw r24,r14
 1010 0720 0E94 0000 		call MmCardRxR1
 1011 0724 853E      		cpi r24,lo8(-27)
 1012 0726 01F4      		brne .L80
 1013 0728 C0E0      		ldi r28,lo8(0)
 1014 072a D0E0      		ldi r29,hi8(0)
 1015               	.L85:
 1016 072c D701      		movw r26,r14
 1017 072e 1296      		adiw r26,2
 1018 0730 ED91      		ld r30,X+
 1019 0732 FC91      		ld r31,X
 1020 0734 1397      		sbiw r26,2+1
 1021 0736 8FEF      		ldi r24,lo8(-1)
 1022 0738 0995      		icall
 1023 073a 8F3F      		cpi r24,lo8(-1)
 1024 073c 01F4      		brne .L82
 1025 073e CD2B      		or r28,r29
 1026 0740 01F0      		breq .L80
GAS LISTING C:\Temp/cctdWvvG.s 			page 19


 1027 0742 00C0      		rjmp .L83
 1028               	.L82:
 1029 0744 B3E0      		ldi r27,hi8(993)
 1030 0746 C13E      		cpi r28,lo8(993)
 1031 0748 DB07      		cpc r29,r27
 1032 074a 04F0      		brlt .L84
 1033 074c 61E0      		ldi r22,lo8(1)
 1034 074e 70E0      		ldi r23,hi8(1)
 1035 0750 80E0      		ldi r24,hlo8(1)
 1036 0752 90E0      		ldi r25,hhi8(1)
 1037 0754 0E94 0000 		call NutSleep
 1038               	.L84:
 1039 0758 2196      		adiw r28,1
 1040 075a 84E0      		ldi r24,hi8(1024)
 1041 075c C030      		cpi r28,lo8(1024)
 1042 075e D807      		cpc r29,r24
 1043 0760 01F4      		brne .L85
 1044 0762 00C0      		rjmp .L83
 1045               	.L80:
 1046 0764 D701      		movw r26,r14
 1047 0766 1496      		adiw r26,4
 1048 0768 ED91      		ld r30,X+
 1049 076a FC91      		ld r31,X
 1050 076c 1597      		sbiw r26,4+1
 1051 076e 80E0      		ldi r24,lo8(0)
 1052 0770 90E0      		ldi r25,hi8(0)
 1053 0772 0995      		icall
 1054               	.L79:
 1055 0774 0894      		sec
 1056 0776 8108      		sbc r8,__zero_reg__
 1057 0778 9108      		sbc r9,__zero_reg__
 1058 077a BFEF      		ldi r27,lo8(-1)
 1059 077c 8B16      		cp r8,r27
 1060 077e BFEF      		ldi r27,hi8(-1)
 1061 0780 9B06      		cpc r9,r27
 1062 0782 01F0      		breq .+2
 1063 0784 00C0      		rjmp .L86
 1064 0786 CFEF      		ldi r28,lo8(-1)
 1065 0788 DFEF      		ldi r29,hi8(-1)
 1066 078a 00C0      		rjmp .L87
 1067               	.L83:
 1068 078c C0E0      		ldi r28,lo8(0)
 1069 078e D0E0      		ldi r29,hi8(0)
 1070               	.L87:
 1071 0790 D701      		movw r26,r14
 1072 0792 1496      		adiw r26,4
 1073 0794 ED91      		ld r30,X+
 1074 0796 FC91      		ld r31,X
 1075 0798 1597      		sbiw r26,4+1
 1076 079a 80E0      		ldi r24,lo8(0)
 1077 079c 90E0      		ldi r25,hi8(0)
 1078 079e 0995      		icall
 1079 07a0 80E0      		ldi r24,lo8(mutex)
 1080 07a2 90E0      		ldi r25,hi8(mutex)
 1081 07a4 0E94 0000 		call NutEventPost
 1082 07a8 CD2B      		or r28,r29
 1083 07aa 01F4      		brne .L77
GAS LISTING C:\Temp/cctdWvvG.s 			page 20


 1084 07ac 21E0      		ldi r18,lo8(1)
 1085 07ae 30E0      		ldi r19,hi8(1)
 1086 07b0 00C0      		rjmp .L88
 1087               	.L77:
 1088 07b2 2FEF      		ldi r18,lo8(-1)
 1089 07b4 3FEF      		ldi r19,hi8(-1)
 1090               	.L88:
 1091 07b6 C901      		movw r24,r18
 1092               	/* epilogue start */
 1093 07b8 DF91      		pop r29
 1094 07ba CF91      		pop r28
 1095 07bc 1F91      		pop r17
 1096 07be 0F91      		pop r16
 1097 07c0 FF90      		pop r15
 1098 07c2 EF90      		pop r14
 1099 07c4 DF90      		pop r13
 1100 07c6 CF90      		pop r12
 1101 07c8 BF90      		pop r11
 1102 07ca AF90      		pop r10
 1103 07cc 9F90      		pop r9
 1104 07ce 8F90      		pop r8
 1105 07d0 7F90      		pop r7
 1106 07d2 6F90      		pop r6
 1107 07d4 0895      		ret
 1108               		.size	MmCardBlockWrite, .-MmCardBlockWrite
 1109               	.global	MmCardUnmount
 1110               		.type	MmCardUnmount, @function
 1111               	MmCardUnmount:
 1112 07d6 EF92      		push r14
 1113 07d8 FF92      		push r15
 1114 07da 0F93      		push r16
 1115 07dc 1F93      		push r17
 1116 07de CF93      		push r28
 1117 07e0 DF93      		push r29
 1118               	/* prologue: function */
 1119               	/* frame size = 0 */
 1120 07e2 7C01      		movw r14,r24
 1121 07e4 0097      		sbiw r24,0
 1122 07e6 01F4      		brne .L93
 1123 07e8 CFEF      		ldi r28,lo8(-1)
 1124 07ea DFEF      		ldi r29,hi8(-1)
 1125 07ec 00C0      		rjmp .L94
 1126               	.L93:
 1127 07ee DC01      		movw r26,r24
 1128 07f0 1496      		adiw r26,4
 1129 07f2 0D91      		ld r16,X+
 1130 07f4 1C91      		ld r17,X
 1131 07f6 1597      		sbiw r26,4+1
 1132 07f8 0115      		cp r16,__zero_reg__
 1133 07fa 1105      		cpc r17,__zero_reg__
 1134 07fc 01F4      		brne .L95
 1135 07fe CFEF      		ldi r28,lo8(-1)
 1136 0800 DFEF      		ldi r29,hi8(-1)
 1137 0802 00C0      		rjmp .L96
 1138               	.L95:
 1139 0804 DC01      		movw r26,r24
 1140 0806 1296      		adiw r26,2
GAS LISTING C:\Temp/cctdWvvG.s 			page 21


 1141 0808 ED91      		ld r30,X+
 1142 080a FC91      		ld r31,X
 1143 080c 1397      		sbiw r26,2+1
 1144 080e 0784      		ldd __tmp_reg__,Z+15
 1145 0810 F089      		ldd r31,Z+16
 1146 0812 E02D      		mov r30,__tmp_reg__
 1147 0814 0680      		ldd __tmp_reg__,Z+6
 1148 0816 F781      		ldd r31,Z+7
 1149 0818 E02D      		mov r30,__tmp_reg__
 1150 081a 0995      		icall
 1151 081c 0197      		sbiw r24,1
 1152 081e 01F0      		breq .L97
 1153 0820 CFEF      		ldi r28,lo8(-1)
 1154 0822 DFEF      		ldi r29,hi8(-1)
 1155 0824 00C0      		rjmp .L98
 1156               	.L97:
 1157 0826 D801      		movw r26,r16
 1158 0828 ED91      		ld r30,X+
 1159 082a FC91      		ld r31,X
 1160 082c 2589      		ldd r18,Z+21
 1161 082e 3689      		ldd r19,Z+22
 1162 0830 40E0      		ldi r20,lo8(0)
 1163 0832 50E0      		ldi r21,hi8(0)
 1164 0834 61E3      		ldi r22,lo8(4401)
 1165 0836 71E1      		ldi r23,hi8(4401)
 1166 0838 CF01      		movw r24,r30
 1167 083a F901      		movw r30,r18
 1168 083c 0995      		icall
 1169 083e EC01      		movw r28,r24
 1170               	.L98:
 1171 0840 C801      		movw r24,r16
 1172 0842 0E94 0000 		call free
 1173               	.L96:
 1174 0846 C701      		movw r24,r14
 1175 0848 0E94 0000 		call free
 1176               	.L94:
 1177 084c CE01      		movw r24,r28
 1178               	/* epilogue start */
 1179 084e DF91      		pop r29
 1180 0850 CF91      		pop r28
 1181 0852 1F91      		pop r17
 1182 0854 0F91      		pop r16
 1183 0856 FF90      		pop r15
 1184 0858 EF90      		pop r14
 1185 085a 0895      		ret
 1186               		.size	MmCardUnmount, .-MmCardUnmount
 1187               	.global	MmCardMount
 1188               		.type	MmCardMount, @function
 1189               	MmCardMount:
 1190 085c 4F92      		push r4
 1191 085e 5F92      		push r5
 1192 0860 6F92      		push r6
 1193 0862 7F92      		push r7
 1194 0864 8F92      		push r8
 1195 0866 9F92      		push r9
 1196 0868 AF92      		push r10
 1197 086a BF92      		push r11
GAS LISTING C:\Temp/cctdWvvG.s 			page 22


 1198 086c CF92      		push r12
 1199 086e DF92      		push r13
 1200 0870 EF92      		push r14
 1201 0872 FF92      		push r15
 1202 0874 0F93      		push r16
 1203 0876 1F93      		push r17
 1204 0878 DF93      		push r29
 1205 087a CF93      		push r28
 1206 087c 00D0      		rcall .
 1207 087e 0F92      		push __tmp_reg__
 1208 0880 CDB7      		in r28,__SP_L__
 1209 0882 DEB7      		in r29,__SP_H__
 1210               	/* prologue: function */
 1211               	/* frame size = 3 */
 1212 0884 2C01      		movw r4,r24
 1213 0886 6B01      		movw r12,r22
 1214 0888 DC01      		movw r26,r24
 1215 088a 1F96      		adiw r26,15
 1216 088c AD90      		ld r10,X+
 1217 088e BC90      		ld r11,X
 1218 0890 5097      		sbiw r26,15+1
 1219 0892 D501      		movw r26,r10
 1220 0894 1696      		adiw r26,6
 1221 0896 ED91      		ld r30,X+
 1222 0898 FC91      		ld r31,X
 1223 089a 1797      		sbiw r26,6+1
 1224 089c 0995      		icall
 1225 089e 892B      		or r24,r25
 1226 08a0 01F4      		brne .+2
 1227 08a2 00C0      		rjmp .L139
 1228               	.L101:
 1229 08a4 C501      		movw r24,r10
 1230 08a6 0E94 0000 		call MmCardReset
 1231 08aa 892B      		or r24,r25
 1232 08ac 01F0      		breq .L103
 1233 08ae C501      		movw r24,r10
 1234 08b0 0E94 0000 		call MmCardReset
 1235 08b4 892B      		or r24,r25
 1236 08b6 01F0      		breq .+2
 1237 08b8 00C0      		rjmp .L139
 1238               	.L103:
 1239 08ba EE24      		clr r14
 1240 08bc FF24      		clr r15
 1241               	.L109:
 1242 08be 20E0      		ldi r18,lo8(0)
 1243 08c0 30E0      		ldi r19,hi8(0)
 1244 08c2 40E0      		ldi r20,hlo8(0)
 1245 08c4 50E0      		ldi r21,hhi8(0)
 1246 08c6 61E0      		ldi r22,lo8(1)
 1247 08c8 C501      		movw r24,r10
 1248 08ca 0E94 0000 		call MmCardTxCmd
 1249 08ce C501      		movw r24,r10
 1250 08d0 0E94 0000 		call MmCardRxR1
 1251 08d4 182F      		mov r17,r24
 1252 08d6 D501      		movw r26,r10
 1253 08d8 1496      		adiw r26,4
 1254 08da ED91      		ld r30,X+
GAS LISTING C:\Temp/cctdWvvG.s 			page 23


 1255 08dc FC91      		ld r31,X
 1256 08de 1597      		sbiw r26,4+1
 1257 08e0 80E0      		ldi r24,lo8(0)
 1258 08e2 90E0      		ldi r25,hi8(0)
 1259 08e4 0995      		icall
 1260 08e6 1123      		tst r17
 1261 08e8 01F4      		brne .L105
 1262 08ea 80E0      		ldi r24,lo8(mutex)
 1263 08ec 90E0      		ldi r25,hi8(mutex)
 1264 08ee 0E94 0000 		call NutEventPost
 1265 08f2 F601      		movw r30,r12
 1266 08f4 8081      		ld r24,Z
 1267 08f6 8823      		tst r24
 1268 08f8 01F0      		breq .L137
 1269 08fa 00C0      		rjmp .L144
 1270               	.L105:
 1271 08fc F1E8      		ldi r31,lo8(129)
 1272 08fe EF16      		cp r14,r31
 1273 0900 F104      		cpc r15,__zero_reg__
 1274 0902 04F0      		brlt .L108
 1275 0904 61E0      		ldi r22,lo8(1)
 1276 0906 70E0      		ldi r23,hi8(1)
 1277 0908 80E0      		ldi r24,hlo8(1)
 1278 090a 90E0      		ldi r25,hhi8(1)
 1279 090c 0E94 0000 		call NutSleep
 1280               	.L108:
 1281 0910 0894      		sec
 1282 0912 E11C      		adc r14,__zero_reg__
 1283 0914 F11C      		adc r15,__zero_reg__
 1284 0916 20E0      		ldi r18,lo8(512)
 1285 0918 E216      		cp r14,r18
 1286 091a 22E0      		ldi r18,hi8(512)
 1287 091c F206      		cpc r15,r18
 1288 091e 01F4      		brne .L109
 1289 0920 00C0      		rjmp .L139
 1290               	.L144:
 1291 0922 C601      		movw r24,r12
 1292 0924 0E94 0000 		call atoi
 1293 0928 3C01      		movw r6,r24
 1294               	.L111:
 1295 092a 0894      		sec
 1296 092c C11C      		adc r12,__zero_reg__
 1297 092e D11C      		adc r13,__zero_reg__
 1298 0930 D601      		movw r26,r12
 1299 0932 8C91      		ld r24,X
 1300 0934 8823      		tst r24
 1301 0936 01F0      		breq .L110
 1302 0938 8F32      		cpi r24,lo8(47)
 1303 093a 01F4      		brne .L111
 1304 093c 00C0      		rjmp .L145
 1305               	.L137:
 1306 093e 6624      		clr r6
 1307 0940 7724      		clr r7
 1308               	.L110:
 1309 0942 8090 0000 		lds r8,nutDeviceList
 1310 0946 9090 0000 		lds r9,(nutDeviceList)+1
 1311 094a 00C0      		rjmp .L113
GAS LISTING C:\Temp/cctdWvvG.s 			page 24


 1312               	.L117:
 1313 094c F601      		movw r30,r12
 1314 094e 8081      		ld r24,Z
 1315 0950 8823      		tst r24
 1316 0952 01F4      		brne .L114
 1317 0954 D401      		movw r26,r8
 1318 0956 1B96      		adiw r26,11
 1319 0958 8C91      		ld r24,X
 1320 095a 8031      		cpi r24,lo8(16)
 1321 095c 01F4      		brne .L116
 1322 095e 00C0      		rjmp .L115
 1323               	.L114:
 1324 0960 B601      		movw r22,r12
 1325 0962 C401      		movw r24,r8
 1326 0964 0296      		adiw r24,2
 1327 0966 0E94 0000 		call strcmp
 1328 096a 0097      		sbiw r24,0
 1329 096c 01F0      		breq .L115
 1330               	.L116:
 1331 096e F401      		movw r30,r8
 1332 0970 8080      		ld r8,Z
 1333 0972 9180      		ldd r9,Z+1
 1334               	.L113:
 1335 0974 8114      		cp r8,__zero_reg__
 1336 0976 9104      		cpc r9,__zero_reg__
 1337 0978 01F4      		brne .L117
 1338 097a 00C0      		rjmp .L139
 1339               	.L115:
 1340 097c 66E1      		ldi r22,lo8(534)
 1341 097e 72E0      		ldi r23,hi8(534)
 1342 0980 81E0      		ldi r24,lo8(1)
 1343 0982 90E0      		ldi r25,hi8(1)
 1344 0984 0E94 0000 		call calloc
 1345 0988 7C01      		movw r14,r24
 1346 098a 0097      		sbiw r24,0
 1347 098c 01F4      		brne .+2
 1348 098e 00C0      		rjmp .L143
 1349               	.L119:
 1350 0990 DC01      		movw r26,r24
 1351 0992 8D92      		st X+,r8
 1352 0994 9C92      		st X,r9
 1353 0996 9C01      		movw r18,r24
 1354 0998 2A5E      		subi r18,lo8(-(22))
 1355 099a 3F4F      		sbci r19,hi8(-(22))
 1356 099c 00E0      		ldi r16,lo8(0)
 1357 099e 10E0      		ldi r17,hi8(0)
 1358 09a0 40E0      		ldi r20,lo8(0)
 1359 09a2 50E0      		ldi r21,hi8(0)
 1360 09a4 60E0      		ldi r22,hlo8(0)
 1361 09a6 70E0      		ldi r23,hhi8(0)
 1362 09a8 C501      		movw r24,r10
 1363 09aa 0E94 0000 		call MmCardReadOrVerify
 1364 09ae 892B      		or r24,r25
 1365 09b0 01F0      		breq .+2
 1366 09b2 00C0      		rjmp .L142
 1367               	.L120:
 1368 09b4 E4E1      		ldi r30,lo8(532)
GAS LISTING C:\Temp/cctdWvvG.s 			page 25


 1369 09b6 F2E0      		ldi r31,hi8(532)
 1370 09b8 EE0E      		add r14,r30
 1371 09ba FF1E      		adc r15,r31
 1372 09bc D701      		movw r26,r14
 1373 09be 8C91      		ld r24,X
 1374 09c0 ECEE      		ldi r30,lo8(-532)
 1375 09c2 FDEF      		ldi r31,hi8(-532)
 1376 09c4 EE0E      		add r14,r30
 1377 09c6 FF1E      		adc r15,r31
 1378 09c8 8535      		cpi r24,lo8(85)
 1379 09ca 01F0      		breq .+2
 1380 09cc 00C0      		rjmp .L142
 1381 09ce 25E1      		ldi r18,lo8(533)
 1382 09d0 32E0      		ldi r19,hi8(533)
 1383 09d2 E20E      		add r14,r18
 1384 09d4 F31E      		adc r15,r19
 1385 09d6 D701      		movw r26,r14
 1386 09d8 8C91      		ld r24,X
 1387 09da EBEE      		ldi r30,lo8(-533)
 1388 09dc FDEF      		ldi r31,hi8(-533)
 1389 09de EE0E      		add r14,r30
 1390 09e0 FF1E      		adc r15,r31
 1391 09e2 8A3A      		cpi r24,lo8(-86)
 1392 09e4 01F0      		breq .+2
 1393 09e6 00C0      		rjmp .L142
 1394               	.L122:
 1395 09e8 2CE4      		ldi r18,lo8(76)
 1396 09ea 30E0      		ldi r19,hi8(76)
 1397 09ec E20E      		add r14,r18
 1398 09ee F31E      		adc r15,r19
 1399 09f0 D701      		movw r26,r14
 1400 09f2 8C91      		ld r24,X
 1401 09f4 E4EB      		ldi r30,lo8(-76)
 1402 09f6 FFEF      		ldi r31,hi8(-76)
 1403 09f8 EE0E      		add r14,r30
 1404 09fa FF1E      		adc r15,r31
 1405 09fc 8634      		cpi r24,lo8(70)
 1406 09fe 01F4      		brne .L123
 1407 0a00 2DE4      		ldi r18,lo8(77)
 1408 0a02 30E0      		ldi r19,hi8(77)
 1409 0a04 E20E      		add r14,r18
 1410 0a06 F31E      		adc r15,r19
 1411 0a08 D701      		movw r26,r14
 1412 0a0a 8C91      		ld r24,X
 1413 0a0c E3EB      		ldi r30,lo8(-77)
 1414 0a0e FFEF      		ldi r31,hi8(-77)
 1415 0a10 EE0E      		add r14,r30
 1416 0a12 FF1E      		adc r15,r31
 1417 0a14 8134      		cpi r24,lo8(65)
 1418 0a16 01F4      		brne .L123
 1419 0a18 2EE4      		ldi r18,lo8(78)
 1420 0a1a 30E0      		ldi r19,hi8(78)
 1421 0a1c E20E      		add r14,r18
 1422 0a1e F31E      		adc r15,r19
 1423 0a20 D701      		movw r26,r14
 1424 0a22 8C91      		ld r24,X
 1425 0a24 E2EB      		ldi r30,lo8(-78)
GAS LISTING C:\Temp/cctdWvvG.s 			page 26


 1426 0a26 FFEF      		ldi r31,hi8(-78)
 1427 0a28 EE0E      		add r14,r30
 1428 0a2a FF1E      		adc r15,r31
 1429 0a2c 8435      		cpi r24,lo8(84)
 1430 0a2e 01F4      		brne .L123
 1431 0a30 81E0      		ldi r24,lo8(1)
 1432 0a32 D701      		movw r26,r14
 1433 0a34 1696      		adiw r26,6
 1434 0a36 8C93      		st X,r24
 1435 0a38 F701      		movw r30,r14
 1436 0a3a 1286      		std Z+10,__zero_reg__
 1437 0a3c 1386      		std Z+11,__zero_reg__
 1438 0a3e 1486      		std Z+12,__zero_reg__
 1439 0a40 1586      		std Z+13,__zero_reg__
 1440 0a42 80E0      		ldi r24,lo8(65536)
 1441 0a44 90E0      		ldi r25,hi8(65536)
 1442 0a46 A1E0      		ldi r26,hlo8(65536)
 1443 0a48 B0E0      		ldi r27,hhi8(65536)
 1444 0a4a 8687      		std Z+14,r24
 1445 0a4c 9787      		std Z+15,r25
 1446 0a4e A08B      		std Z+16,r26
 1447 0a50 B18B      		std Z+17,r27
 1448 0a52 00C0      		rjmp .L124
 1449               	.L123:
 1450 0a54 F701      		movw r30,r14
 1451 0a56 EC52      		subi r30,lo8(-(468))
 1452 0a58 FE4F      		sbci r31,hi8(-(468))
 1453 0a5a 21E0      		ldi r18,lo8(1)
 1454 0a5c 30E0      		ldi r19,hi8(1)
 1455               	.L130:
 1456 0a5e 6114      		cp r6,__zero_reg__
 1457 0a60 7104      		cpc r7,__zero_reg__
 1458 0a62 01F0      		breq .L125
 1459 0a64 2615      		cp r18,r6
 1460 0a66 3705      		cpc r19,r7
 1461 0a68 01F4      		brne .L126
 1462 0a6a D701      		movw r26,r14
 1463 0a6c 1296      		adiw r26,2
 1464 0a6e 80E1      		ldi r24,lo8(16)
 1465               	.L127:
 1466 0a70 0190      		ld r0,Z+
 1467 0a72 0D92      		st X+,r0
 1468 0a74 8150      		subi r24,lo8(-(-1))
 1469 0a76 01F4      		brne .L127
 1470 0a78 00C0      		rjmp .L128
 1471               	.L125:
 1472 0a7a 8081      		ld r24,Z
 1473 0a7c 87FF      		sbrs r24,7
 1474 0a7e 00C0      		rjmp .L126
 1475 0a80 D701      		movw r26,r14
 1476 0a82 1296      		adiw r26,2
 1477 0a84 80E1      		ldi r24,lo8(16)
 1478               	.L129:
 1479 0a86 0190      		ld r0,Z+
 1480 0a88 0D92      		st X+,r0
 1481 0a8a 8150      		subi r24,lo8(-(-1))
 1482 0a8c 01F4      		brne .L129
GAS LISTING C:\Temp/cctdWvvG.s 			page 27


 1483 0a8e 00C0      		rjmp .L128
 1484               	.L126:
 1485 0a90 2F5F      		subi r18,lo8(-(1))
 1486 0a92 3F4F      		sbci r19,hi8(-(1))
 1487 0a94 2530      		cpi r18,5
 1488 0a96 3105      		cpc r19,__zero_reg__
 1489 0a98 01F0      		breq .L128
 1490 0a9a 7096      		adiw r30,16
 1491 0a9c 00C0      		rjmp .L130
 1492               	.L128:
 1493 0a9e D701      		movw r26,r14
 1494 0aa0 1696      		adiw r26,6
 1495 0aa2 8C91      		ld r24,X
 1496 0aa4 8823      		tst r24
 1497 0aa6 01F4      		brne .L124
 1498               	.L142:
 1499 0aa8 C701      		movw r24,r14
 1500 0aaa 0E94 0000 		call free
 1501 0aae 00C0      		rjmp .L140
 1502               	.L124:
 1503 0ab0 66E0      		ldi r22,lo8(6)
 1504 0ab2 70E0      		ldi r23,hi8(6)
 1505 0ab4 80E0      		ldi r24,lo8(heapFreeList)
 1506 0ab6 90E0      		ldi r25,hi8(heapFreeList)
 1507 0ab8 0E94 0000 		call NutHeapRootAlloc
 1508 0abc FC01      		movw r30,r24
 1509 0abe 8C01      		movw r16,r24
 1510 0ac0 0097      		sbiw r24,0
 1511 0ac2 01F4      		brne .L131
 1512 0ac4 C701      		movw r24,r14
 1513 0ac6 0E94 0000 		call free
 1514               	.L143:
 1515 0aca 8CE0      		ldi r24,lo8(12)
 1516 0acc 90E0      		ldi r25,hi8(12)
 1517 0ace 00C0      		rjmp .L141
 1518               	.L131:
 1519 0ad0 1182      		std Z+1,__zero_reg__
 1520 0ad2 1082      		st Z,__zero_reg__
 1521 0ad4 5382      		std Z+3,r5
 1522 0ad6 4282      		std Z+2,r4
 1523 0ad8 F582      		std Z+5,r15
 1524 0ada E482      		std Z+4,r14
 1525 0adc 9A83      		std Y+2,r25
 1526 0ade 8983      		std Y+1,r24
 1527 0ae0 F701      		movw r30,r14
 1528 0ae2 8681      		ldd r24,Z+6
 1529 0ae4 8B83      		std Y+3,r24
 1530 0ae6 D401      		movw r26,r8
 1531 0ae8 5596      		adiw r26,21
 1532 0aea ED91      		ld r30,X+
 1533 0aec FC91      		ld r31,X
 1534 0aee 5697      		sbiw r26,21+1
 1535 0af0 AE01      		movw r20,r28
 1536 0af2 4F5F      		subi r20,lo8(-(1))
 1537 0af4 5F4F      		sbci r21,hi8(-(1))
 1538 0af6 60E3      		ldi r22,lo8(4400)
 1539 0af8 71E1      		ldi r23,hi8(4400)
GAS LISTING C:\Temp/cctdWvvG.s 			page 28


 1540 0afa C401      		movw r24,r8
 1541 0afc 0995      		icall
 1542 0afe 892B      		or r24,r25
 1543 0b00 01F0      		breq .L102
 1544 0b02 C801      		movw r24,r16
 1545 0b04 0E94 0000 		call MmCardUnmount
 1546               	.L140:
 1547 0b08 0FEF      		ldi r16,lo8(-1)
 1548 0b0a 1FEF      		ldi r17,hi8(-1)
 1549               	.L102:
 1550 0b0c C801      		movw r24,r16
 1551               	/* epilogue start */
 1552 0b0e 0F90      		pop __tmp_reg__
 1553 0b10 0F90      		pop __tmp_reg__
 1554 0b12 0F90      		pop __tmp_reg__
 1555 0b14 CF91      		pop r28
 1556 0b16 DF91      		pop r29
 1557 0b18 1F91      		pop r17
 1558 0b1a 0F91      		pop r16
 1559 0b1c FF90      		pop r15
 1560 0b1e EF90      		pop r14
 1561 0b20 DF90      		pop r13
 1562 0b22 CF90      		pop r12
 1563 0b24 BF90      		pop r11
 1564 0b26 AF90      		pop r10
 1565 0b28 9F90      		pop r9
 1566 0b2a 8F90      		pop r8
 1567 0b2c 7F90      		pop r7
 1568 0b2e 6F90      		pop r6
 1569 0b30 5F90      		pop r5
 1570 0b32 4F90      		pop r4
 1571 0b34 0895      		ret
 1572               	.L145:
 1573 0b36 0894      		sec
 1574 0b38 C11C      		adc r12,__zero_reg__
 1575 0b3a D11C      		adc r13,__zero_reg__
 1576 0b3c 00C0      		rjmp .L110
 1577               	.L139:
 1578 0b3e 83E1      		ldi r24,lo8(19)
 1579 0b40 90E0      		ldi r25,hi8(19)
 1580               	.L141:
 1581 0b42 9093 0000 		sts (errno)+1,r25
 1582 0b46 8093 0000 		sts errno,r24
 1583 0b4a 00C0      		rjmp .L140
 1584               		.size	MmCardMount, .-MmCardMount
 1585               		.lcomm mutex,2
GAS LISTING C:\Temp/cctdWvvG.s 			page 29


DEFINED SYMBOLS
                            *ABS*:00000000 mmcard.c
  C:\Temp/cctdWvvG.s:2      *ABS*:0000003f __SREG__
  C:\Temp/cctdWvvG.s:3      *ABS*:0000003e __SP_H__
  C:\Temp/cctdWvvG.s:4      *ABS*:0000003d __SP_L__
  C:\Temp/cctdWvvG.s:5      *ABS*:00000034 __CCP__
  C:\Temp/cctdWvvG.s:6      *ABS*:00000000 __tmp_reg__
  C:\Temp/cctdWvvG.s:7      *ABS*:00000001 __zero_reg__
  C:\Temp/cctdWvvG.s:12     .text:00000000 MmCardRxR1
  C:\Temp/cctdWvvG.s:47     .text:00000034 MmCardBlockWrite_P
  C:\Temp/cctdWvvG.s:57     .text:0000003a MmCardDevInit
  C:\Temp/cctdWvvG.s:66     .text:00000040 MmCardTxCmd
  C:\Temp/cctdWvvG.s:157    .text:000000e6 MmCardGetReg
                             .bss:00000000 mutex
  C:\Temp/cctdWvvG.s:275    .text:000001c2 MmCardIOCtl
  C:\Temp/cctdWvvG.s:550    .text:000003c8 MmCardReset
  C:\Temp/cctdWvvG.s:632    .text:0000045a MmCardReadOrVerify
  C:\Temp/cctdWvvG.s:802    .text:00000598 MmCardBlockRead
  C:\Temp/cctdWvvG.s:889    .text:00000634 MmCardBlockWrite
  C:\Temp/cctdWvvG.s:1111   .text:000007d6 MmCardUnmount
  C:\Temp/cctdWvvG.s:1189   .text:0000085c MmCardMount

UNDEFINED SYMBOLS
__do_copy_data
__do_clear_bss
NutSleep
NutEventWait
NutEventPost
free
atoi
nutDeviceList
strcmp
calloc
heapFreeList
NutHeapRootAlloc
errno
