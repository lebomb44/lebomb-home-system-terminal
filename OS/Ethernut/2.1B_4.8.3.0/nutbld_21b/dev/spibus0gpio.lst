GAS LISTING C:\Temp/cctirweV.s 			page 1


   1               		.file	"spibus0gpio.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__  = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.global __do_copy_data
   9               		.global __do_clear_bss
  10               		.text
  11               	.global	GpioSpiBus0Transfer
  12               		.type	GpioSpiBus0Transfer, @function
  13               	GpioSpiBus0Transfer:
  14               	/* prologue: function */
  15               	/* frame size = 0 */
  16 0000 80E0      		ldi r24,lo8(0)
  17 0002 90E0      		ldi r25,hi8(0)
  18               	/* epilogue start */
  19 0004 0895      		ret
  20               		.size	GpioSpiBus0Transfer, .-GpioSpiBus0Transfer
  21               	.global	GpioSpiBus0Deselect
  22               		.type	GpioSpiBus0Deselect, @function
  23               	GpioSpiBus0Deselect:
  24               	/* prologue: function */
  25               	/* frame size = 0 */
  26 0006 FC01      		movw r30,r24
  27 0008 8385      		ldd r24,Z+11
  28 000a 8823      		tst r24
  29 000c 01F0      		breq .L5
  30 000e 85E0      		ldi r24,lo8(5)
  31 0010 90E0      		ldi r25,hi8(5)
  32 0012 9093 0000 		sts (errno)+1,r25
  33 0016 8093 0000 		sts errno,r24
  34               	.L5:
  35 001a 8081      		ld r24,Z
  36 001c 9181      		ldd r25,Z+1
  37 001e 0E94 0000 		call NutEventPost
  38 0022 80E0      		ldi r24,lo8(0)
  39 0024 90E0      		ldi r25,hi8(0)
  40               	/* epilogue start */
  41 0026 0895      		ret
  42               		.size	GpioSpiBus0Deselect, .-GpioSpiBus0Deselect
  43               	.global	GpioSpiBus0Select
  44               		.type	GpioSpiBus0Select, @function
  45               	GpioSpiBus0Select:
  46 0028 0F93      		push r16
  47 002a 1F93      		push r17
  48 002c CF93      		push r28
  49 002e DF93      		push r29
  50               	/* prologue: function */
  51               	/* frame size = 0 */
  52 0030 EC01      		movw r28,r24
  53 0032 8881      		ld r24,Y
  54 0034 9981      		ldd r25,Y+1
  55 0036 0E94 0000 		call NutEventWait
  56 003a 8C01      		movw r16,r24
  57 003c 0097      		sbiw r24,0
GAS LISTING C:\Temp/cctirweV.s 			page 2


  58 003e 01F0      		breq .L8
  59 0040 85E0      		ldi r24,lo8(5)
  60 0042 90E0      		ldi r25,hi8(5)
  61 0044 9093 0000 		sts (errno)+1,r25
  62 0048 8093 0000 		sts errno,r24
  63 004c 00C0      		rjmp .L9
  64               	.L8:
  65 004e 8885      		ldd r24,Y+8
  66 0050 9985      		ldd r25,Y+9
  67 0052 97FF      		sbrs r25,7
  68 0054 00C0      		rjmp .L10
  69 0056 CE01      		movw r24,r28
  70 0058 0E94 0000 		call GpioSpiSetup
  71               	.L10:
  72 005c 8B85      		ldd r24,Y+11
  73 005e 8823      		tst r24
  74 0060 01F0      		breq .L9
  75 0062 85E0      		ldi r24,lo8(5)
  76 0064 90E0      		ldi r25,hi8(5)
  77 0066 9093 0000 		sts (errno)+1,r25
  78 006a 8093 0000 		sts errno,r24
  79 006e 8881      		ld r24,Y
  80 0070 9981      		ldd r25,Y+1
  81 0072 0E94 0000 		call NutEventPost
  82 0076 0FEF      		ldi r16,lo8(-1)
  83 0078 1FEF      		ldi r17,hi8(-1)
  84               	.L9:
  85 007a C801      		movw r24,r16
  86               	/* epilogue start */
  87 007c DF91      		pop r29
  88 007e CF91      		pop r28
  89 0080 1F91      		pop r17
  90 0082 0F91      		pop r16
  91 0084 0895      		ret
  92               		.size	GpioSpiBus0Select, .-GpioSpiBus0Select
  93               	.global	GpioSpiBus0NodeInit
  94               		.type	GpioSpiBus0NodeInit, @function
  95               	GpioSpiBus0NodeInit:
  96               	/* prologue: function */
  97               	/* frame size = 0 */
  98 0086 FC01      		movw r30,r24
  99 0088 8385      		ldd r24,Z+11
 100 008a 8823      		tst r24
 101 008c 01F4      		brne .L20
 102 008e 80E0      		ldi r24,lo8(gspi_reg0)
 103 0090 90E0      		ldi r25,hi8(gspi_reg0)
 104 0092 00C0      		rjmp .L16
 105               	.L20:
 106 0094 85E0      		ldi r24,lo8(5)
 107 0096 90E0      		ldi r25,hi8(5)
 108 0098 9093 0000 		sts (errno)+1,r25
 109 009c 8093 0000 		sts errno,r24
 110 00a0 80E0      		ldi r24,lo8(0)
 111 00a2 90E0      		ldi r25,hi8(0)
 112               	.L16:
 113 00a4 9383      		std Z+3,r25
 114 00a6 8283      		std Z+2,r24
GAS LISTING C:\Temp/cctirweV.s 			page 3


 115 00a8 892B      		or r24,r25
 116 00aa 01F4      		brne .L17
 117 00ac 2FEF      		ldi r18,lo8(-1)
 118 00ae 3FEF      		ldi r19,hi8(-1)
 119 00b0 00C0      		rjmp .L18
 120               	.L17:
 121 00b2 CF01      		movw r24,r30
 122 00b4 0E94 0000 		call GpioSpiSetup
 123 00b8 9C01      		movw r18,r24
 124               	.L18:
 125 00ba C901      		movw r24,r18
 126               	/* epilogue start */
 127 00bc 0895      		ret
 128               		.size	GpioSpiBus0NodeInit, .-GpioSpiBus0NodeInit
 129               	.global	spiBus0Gpio
 130               		.data
 131               		.type	spiBus0Gpio, @object
 132               		.size	spiBus0Gpio, 24
 133               	spiBus0Gpio:
 134 0000 0000      		.word	0
 135 0002 0000      		.word	0
 136 0004 0000      		.word	0
 137 0006 0000      		.word	0
 138 0008 0000      		.word	gs(GpioSpiBus0NodeInit)
 139 000a 0000      		.word	gs(GpioSpiBus0Select)
 140 000c 0000      		.word	gs(GpioSpiBus0Deselect)
 141 000e 0000      		.word	gs(GpioSpiBus0Transfer)
 142 0010 0000      		.word	gs(NutSpiBusWait)
 143 0012 0000      		.word	gs(NutSpiBusSetMode)
 144 0014 0000      		.word	gs(NutSpiBusSetRate)
 145 0016 0000      		.word	gs(NutSpiBusSetBits)
 146               		.lcomm gspi_reg0,4
GAS LISTING C:\Temp/cctirweV.s 			page 4


DEFINED SYMBOLS
                            *ABS*:00000000 spibus0gpio.c
  C:\Temp/cctirweV.s:2      *ABS*:0000003f __SREG__
  C:\Temp/cctirweV.s:3      *ABS*:0000003e __SP_H__
  C:\Temp/cctirweV.s:4      *ABS*:0000003d __SP_L__
  C:\Temp/cctirweV.s:5      *ABS*:00000034 __CCP__
  C:\Temp/cctirweV.s:6      *ABS*:00000000 __tmp_reg__
  C:\Temp/cctirweV.s:7      *ABS*:00000001 __zero_reg__
  C:\Temp/cctirweV.s:13     .text:00000000 GpioSpiBus0Transfer
  C:\Temp/cctirweV.s:23     .text:00000006 GpioSpiBus0Deselect
  C:\Temp/cctirweV.s:45     .text:00000028 GpioSpiBus0Select
  C:\Temp/cctirweV.s:95     .text:00000086 GpioSpiBus0NodeInit
                             .bss:00000000 gspi_reg0
  C:\Temp/cctirweV.s:133    .data:00000000 spiBus0Gpio

UNDEFINED SYMBOLS
__do_copy_data
__do_clear_bss
errno
NutEventPost
NutEventWait
GpioSpiSetup
NutSpiBusWait
NutSpiBusSetMode
NutSpiBusSetRate
NutSpiBusSetBits
