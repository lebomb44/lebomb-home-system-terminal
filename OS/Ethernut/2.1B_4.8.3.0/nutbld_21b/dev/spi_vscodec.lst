GAS LISTING C:\Temp/ccI3lnZi.s 			page 1


   1               		.file	"spi_vscodec.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__  = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.global __do_copy_data
   9               		.global __do_clear_bss
  10               		.text
  11               	.global	VsCodecWrite_P
  12               		.type	VsCodecWrite_P, @function
  13               	VsCodecWrite_P:
  14               	/* prologue: function */
  15               	/* frame size = 0 */
  16 0000 8FEF      		ldi r24,lo8(-1)
  17 0002 9FEF      		ldi r25,hi8(-1)
  18               	/* epilogue start */
  19 0004 0895      		ret
  20               		.size	VsCodecWrite_P, .-VsCodecWrite_P
  21               	.global	VsCodecWaitReady
  22               		.type	VsCodecWaitReady, @function
  23               	VsCodecWaitReady:
  24 0006 CF92      		push r12
  25 0008 DF92      		push r13
  26 000a EF92      		push r14
  27 000c FF92      		push r15
  28 000e 0F93      		push r16
  29 0010 1F93      		push r17
  30 0012 CF93      		push r28
  31 0014 DF93      		push r29
  32               	/* prologue: function */
  33               	/* frame size = 0 */
  34 0016 7A01      		movw r14,r20
  35 0018 8B01      		movw r16,r22
  36 001a FC01      		movw r30,r24
  37 001c C189      		ldd r28,Z+17
  38 001e D289      		ldd r29,Z+18
  39 0020 8AE1      		ldi r24,lo8(26)
  40 0022 C82E      		mov r12,r24
  41 0024 D12C      		mov r13,__zero_reg__
  42 0026 CC0E      		add r12,r28
  43 0028 DD1E      		adc r13,r29
  44 002a 00C0      		rjmp .L4
  45               	.L6:
  46 002c B801      		movw r22,r16
  47 002e A701      		movw r20,r14
  48 0030 C601      		movw r24,r12
  49 0032 0E94 0000 		call NutEventWait
  50 0036 892B      		or r24,r25
  51 0038 01F0      		breq .L4
  52 003a 2FEF      		ldi r18,lo8(-1)
  53 003c 3FEF      		ldi r19,hi8(-1)
  54 003e 00C0      		rjmp .L5
  55               	.L4:
  56 0040 EF8D      		ldd r30,Y+31
  57 0042 F8A1      		ldd r31,Y+32
GAS LISTING C:\Temp/ccI3lnZi.s 			page 2


  58 0044 0995      		icall
  59 0046 892B      		or r24,r25
  60 0048 01F0      		breq .L6
  61 004a 20E0      		ldi r18,lo8(0)
  62 004c 30E0      		ldi r19,hi8(0)
  63               	.L5:
  64 004e C901      		movw r24,r18
  65               	/* epilogue start */
  66 0050 DF91      		pop r29
  67 0052 CF91      		pop r28
  68 0054 1F91      		pop r17
  69 0056 0F91      		pop r16
  70 0058 FF90      		pop r15
  71 005a EF90      		pop r14
  72 005c DF90      		pop r13
  73 005e CF90      		pop r12
  74 0060 0895      		ret
  75               		.size	VsCodecWaitReady, .-VsCodecWaitReady
  76               	.global	VsCodecReg
  77               		.type	VsCodecReg, @function
  78               	VsCodecReg:
  79 0062 0F93      		push r16
  80 0064 1F93      		push r17
  81 0066 DF93      		push r29
  82 0068 CF93      		push r28
  83 006a 00D0      		rcall .
  84 006c 00D0      		rcall .
  85 006e CDB7      		in r28,__SP_L__
  86 0070 DEB7      		in r29,__SP_H__
  87               	/* prologue: function */
  88               	/* frame size = 4 */
  89 0072 FC01      		movw r30,r24
  90 0074 0189      		ldd r16,Z+17
  91 0076 1289      		ldd r17,Z+18
  92 0078 6983      		std Y+1,r22
  93 007a 4A83      		std Y+2,r20
  94 007c 3B83      		std Y+3,r19
  95 007e 2C83      		std Y+4,r18
  96 0080 40E0      		ldi r20,lo8(0)
  97 0082 50E0      		ldi r21,hi8(0)
  98 0084 60E0      		ldi r22,hlo8(0)
  99 0086 70E0      		ldi r23,hhi8(0)
 100 0088 0E94 0000 		call VsCodecWaitReady
 101 008c D801      		movw r26,r16
 102 008e 9196      		adiw r26,33
 103 0090 ED91      		ld r30,X+
 104 0092 FC91      		ld r31,X
 105 0094 9297      		sbiw r26,33+1
 106 0096 64E0      		ldi r22,lo8(4)
 107 0098 70E0      		ldi r23,hi8(4)
 108 009a CE01      		movw r24,r28
 109 009c 0196      		adiw r24,1
 110 009e 0995      		icall
 111 00a0 9B81      		ldd r25,Y+3
 112 00a2 80E0      		ldi r24,lo8(0)
 113 00a4 2C81      		ldd r18,Y+4
 114 00a6 30E0      		ldi r19,lo8(0)
GAS LISTING C:\Temp/ccI3lnZi.s 			page 3


 115 00a8 282B      		or r18,r24
 116 00aa 392B      		or r19,r25
 117 00ac C901      		movw r24,r18
 118               	/* epilogue start */
 119 00ae 0F90      		pop __tmp_reg__
 120 00b0 0F90      		pop __tmp_reg__
 121 00b2 0F90      		pop __tmp_reg__
 122 00b4 0F90      		pop __tmp_reg__
 123 00b6 CF91      		pop r28
 124 00b8 DF91      		pop r29
 125 00ba 1F91      		pop r17
 126 00bc 0F91      		pop r16
 127 00be 0895      		ret
 128               		.size	VsCodecReg, .-VsCodecReg
 129               	.global	VsDecoderSetVolume
 130               		.type	VsDecoderSetVolume, @function
 131               	VsDecoderSetVolume:
 132 00c0 EF92      		push r14
 133 00c2 FF92      		push r15
 134 00c4 0F93      		push r16
 135 00c6 1F93      		push r17
 136 00c8 CF93      		push r28
 137 00ca DF93      		push r29
 138               	/* prologue: function */
 139               	/* frame size = 0 */
 140 00cc FC01      		movw r30,r24
 141 00ce E188      		ldd r14,Z+17
 142 00d0 F288      		ldd r15,Z+18
 143 00d2 CB01      		movw r24,r22
 144 00d4 1616      		cp __zero_reg__,r22
 145 00d6 1706      		cpc __zero_reg__,r23
 146 00d8 04F4      		brge .L12
 147 00da 80E0      		ldi r24,lo8(0)
 148 00dc 90E0      		ldi r25,hi8(0)
 149               	.L12:
 150 00de 8C01      		movw r16,r24
 151 00e0 8FEF      		ldi r24,hi8(-127)
 152 00e2 0138      		cpi r16,lo8(-127)
 153 00e4 1807      		cpc r17,r24
 154 00e6 04F4      		brge .L13
 155 00e8 01E8      		ldi r16,lo8(-127)
 156 00ea 1FEF      		ldi r17,hi8(-127)
 157               	.L13:
 158 00ec 9A01      		movw r18,r20
 159 00ee 1416      		cp __zero_reg__,r20
 160 00f0 1506      		cpc __zero_reg__,r21
 161 00f2 04F4      		brge .L14
 162 00f4 20E0      		ldi r18,lo8(0)
 163 00f6 30E0      		ldi r19,hi8(0)
 164               	.L14:
 165 00f8 E901      		movw r28,r18
 166 00fa 8FEF      		ldi r24,hi8(-127)
 167 00fc 2138      		cpi r18,lo8(-127)
 168 00fe 3807      		cpc r19,r24
 169 0100 04F4      		brge .L15
 170 0102 C1E8      		ldi r28,lo8(-127)
 171 0104 DFEF      		ldi r29,hi8(-127)
GAS LISTING C:\Temp/ccI3lnZi.s 			page 4


 172               	.L15:
 173 0106 9801      		movw r18,r16
 174 0108 322F      		mov r19,r18
 175 010a 2227      		clr r18
 176 010c 330F      		lsl r19
 177 010e 3095      		com r19
 178 0110 2195      		neg r18
 179 0112 3F4F      		sbci r19,lo8(-1)
 180 0114 CE01      		movw r24,r28
 181 0116 880F      		lsl r24
 182 0118 991F      		rol r25
 183 011a 9095      		com r25
 184 011c 8195      		neg r24
 185 011e 9F4F      		sbci r25,lo8(-1)
 186 0120 282B      		or r18,r24
 187 0122 392B      		or r19,r25
 188 0124 4BE0      		ldi r20,lo8(11)
 189 0126 62E0      		ldi r22,lo8(2)
 190 0128 CF01      		movw r24,r30
 191 012a 0E94 0000 		call VsCodecReg
 192 012e F701      		movw r30,r14
 193 0130 1187      		std Z+9,r17
 194 0132 0087      		std Z+8,r16
 195 0134 D783      		std Z+7,r29
 196 0136 C683      		std Z+6,r28
 197 0138 80E0      		ldi r24,lo8(0)
 198 013a 90E0      		ldi r25,hi8(0)
 199               	/* epilogue start */
 200 013c DF91      		pop r29
 201 013e CF91      		pop r28
 202 0140 1F91      		pop r17
 203 0142 0F91      		pop r16
 204 0144 FF90      		pop r15
 205 0146 EF90      		pop r14
 206 0148 0895      		ret
 207               		.size	VsDecoderSetVolume, .-VsDecoderSetVolume
 208               	.global	VsCodecOpen
 209               		.type	VsCodecOpen, @function
 210               	VsCodecOpen:
 211 014a DF92      		push r13
 212 014c EF92      		push r14
 213 014e FF92      		push r15
 214 0150 0F93      		push r16
 215 0152 1F93      		push r17
 216               	/* prologue: function */
 217               	/* frame size = 0 */
 218 0154 8C01      		movw r16,r24
 219 0156 86E0      		ldi r24,lo8(6)
 220 0158 90E0      		ldi r25,hi8(6)
 221 015a 0E94 0000 		call malloc
 222 015e D92E      		mov r13,r25
 223 0160 E82E      		mov r14,r24
 224 0162 F92E      		mov r15,r25
 225 0164 F701      		movw r30,r14
 226 0166 1182      		std Z+1,__zero_reg__
 227 0168 1082      		st Z,__zero_reg__
 228 016a 1383      		std Z+3,r17
GAS LISTING C:\Temp/ccI3lnZi.s 			page 5


 229 016c 0283      		std Z+2,r16
 230 016e 1582      		std Z+5,__zero_reg__
 231 0170 1482      		std Z+4,__zero_reg__
 232 0172 0E94 0000 		call NutSegBufReset
 233 0176 8E2D      		mov r24,r14
 234 0178 9D2D      		mov r25,r13
 235               	/* epilogue start */
 236 017a 1F91      		pop r17
 237 017c 0F91      		pop r16
 238 017e FF90      		pop r15
 239 0180 EF90      		pop r14
 240 0182 DF90      		pop r13
 241 0184 0895      		ret
 242               		.size	VsCodecOpen, .-VsCodecOpen
 243               	.global	VsDecoderBufferInit
 244               		.type	VsDecoderBufferInit, @function
 245               	VsDecoderBufferInit:
 246 0186 CF93      		push r28
 247 0188 DF93      		push r29
 248               	/* prologue: function */
 249               	/* frame size = 0 */
 250 018a FC01      		movw r30,r24
 251 018c C189      		ldd r28,Z+17
 252 018e D289      		ldd r29,Z+18
 253 0190 8881      		ld r24,Y
 254 0192 9981      		ldd r25,Y+1
 255 0194 892B      		or r24,r25
 256 0196 01F4      		brne .L20
 257 0198 CA01      		movw r24,r20
 258 019a 0E94 0000 		call NutSegBufInit
 259 019e 892B      		or r24,r25
 260 01a0 01F0      		breq .L20
 261 01a2 0E94 0000 		call NutSegBufAvailable
 262 01a6 23E0      		ldi r18,lo8(3)
 263 01a8 30E0      		ldi r19,hi8(3)
 264 01aa 40E0      		ldi r20,hlo8(3)
 265 01ac 50E0      		ldi r21,hhi8(3)
 266 01ae 0E94 0000 		call __udivmodsi4
 267 01b2 C901      		movw r24,r18
 268 01b4 DA01      		movw r26,r20
 269 01b6 8C87      		std Y+12,r24
 270 01b8 9D87      		std Y+13,r25
 271 01ba AE87      		std Y+14,r26
 272 01bc BF87      		std Y+15,r27
 273 01be 880F      		lsl r24
 274 01c0 991F      		rol r25
 275 01c2 AA1F      		rol r26
 276 01c4 BB1F      		rol r27
 277 01c6 888B      		std Y+16,r24
 278 01c8 998B      		std Y+17,r25
 279 01ca AA8B      		std Y+18,r26
 280 01cc BB8B      		std Y+19,r27
 281 01ce 20E0      		ldi r18,lo8(0)
 282 01d0 30E0      		ldi r19,hi8(0)
 283 01d2 00C0      		rjmp .L21
 284               	.L20:
 285 01d4 2FEF      		ldi r18,lo8(-1)
GAS LISTING C:\Temp/ccI3lnZi.s 			page 6


 286 01d6 3FEF      		ldi r19,hi8(-1)
 287               	.L21:
 288 01d8 C901      		movw r24,r18
 289               	/* epilogue start */
 290 01da DF91      		pop r29
 291 01dc CF91      		pop r28
 292 01de 0895      		ret
 293               		.size	VsDecoderBufferInit, .-VsDecoderBufferInit
 294               	.global	VsCodecIOCtl
 295               		.type	VsCodecIOCtl, @function
 296               	VsCodecIOCtl:
 297 01e0 EF92      		push r14
 298 01e2 FF92      		push r15
 299 01e4 0F93      		push r16
 300 01e6 1F93      		push r17
 301 01e8 CF93      		push r28
 302 01ea DF93      		push r29
 303               	/* prologue: function */
 304               	/* frame size = 0 */
 305 01ec DC01      		movw r26,r24
 306 01ee EA01      		movw r28,r20
 307 01f0 5196      		adiw r26,17
 308 01f2 ED91      		ld r30,X+
 309 01f4 FC91      		ld r31,X
 310 01f6 5297      		sbiw r26,17+1
 311 01f8 80E3      		ldi r24,hi8(12294)
 312 01fa 6630      		cpi r22,lo8(12294)
 313 01fc 7807      		cpc r23,r24
 314 01fe 01F4      		brne .+2
 315 0200 00C0      		rjmp .L32
 316 0202 80E3      		ldi r24,hi8(12295)
 317 0204 6730      		cpi r22,lo8(12295)
 318 0206 7807      		cpc r23,r24
 319 0208 04F4      		brge .L40
 320 020a 80E3      		ldi r24,hi8(12290)
 321 020c 6230      		cpi r22,lo8(12290)
 322 020e 7807      		cpc r23,r24
 323 0210 01F4      		brne .+2
 324 0212 00C0      		rjmp .L28
 325 0214 80E3      		ldi r24,hi8(12291)
 326 0216 6330      		cpi r22,lo8(12291)
 327 0218 7807      		cpc r23,r24
 328 021a 04F4      		brge .L41
 329 021c 81E0      		ldi r24,hi8(270)
 330 021e 6E30      		cpi r22,lo8(270)
 331 0220 7807      		cpc r23,r24
 332 0222 01F4      		brne .+2
 333 0224 00C0      		rjmp .L26
 334 0226 80E3      		ldi r24,hi8(12289)
 335 0228 6130      		cpi r22,lo8(12289)
 336 022a 7807      		cpc r23,r24
 337 022c 01F0      		breq .L27
 338 022e 6D50      		subi r22,lo8(269)
 339 0230 7140      		sbci r23,hi8(269)
 340 0232 01F0      		breq .+2
 341 0234 00C0      		rjmp .L24
 342 0236 00C0      		rjmp .L55
GAS LISTING C:\Temp/ccI3lnZi.s 			page 7


 343               	.L41:
 344 0238 80E3      		ldi r24,hi8(12292)
 345 023a 6430      		cpi r22,lo8(12292)
 346 023c 7807      		cpc r23,r24
 347 023e 01F4      		brne .+2
 348 0240 00C0      		rjmp .L30
 349 0242 6550      		subi r22,lo8(12293)
 350 0244 7043      		sbci r23,hi8(12293)
 351 0246 04F0      		brlt .+2
 352 0248 00C0      		rjmp .L31
 353 024a 00C0      		rjmp .L56
 354               	.L40:
 355 024c 80E3      		ldi r24,hi8(12298)
 356 024e 6A30      		cpi r22,lo8(12298)
 357 0250 7807      		cpc r23,r24
 358 0252 01F4      		brne .+2
 359 0254 00C0      		rjmp .L36
 360 0256 80E3      		ldi r24,hi8(12299)
 361 0258 6B30      		cpi r22,lo8(12299)
 362 025a 7807      		cpc r23,r24
 363 025c 04F4      		brge .L42
 364 025e 80E3      		ldi r24,hi8(12296)
 365 0260 6830      		cpi r22,lo8(12296)
 366 0262 7807      		cpc r23,r24
 367 0264 01F4      		brne .+2
 368 0266 00C0      		rjmp .L34
 369 0268 6950      		subi r22,lo8(12297)
 370 026a 7043      		sbci r23,hi8(12297)
 371 026c 04F0      		brlt .+2
 372 026e 00C0      		rjmp .L35
 373 0270 00C0      		rjmp .L57
 374               	.L42:
 375 0272 80E3      		ldi r24,hi8(12300)
 376 0274 6C30      		cpi r22,lo8(12300)
 377 0276 7807      		cpc r23,r24
 378 0278 01F4      		brne .+2
 379 027a 00C0      		rjmp .L38
 380 027c 80E3      		ldi r24,hi8(12300)
 381 027e 6C30      		cpi r22,lo8(12300)
 382 0280 7807      		cpc r23,r24
 383 0282 04F4      		brge .+2
 384 0284 00C0      		rjmp .L37
 385 0286 6F50      		subi r22,lo8(12303)
 386 0288 7043      		sbci r23,hi8(12303)
 387 028a 01F0      		breq .+2
 388 028c 00C0      		rjmp .L24
 389 028e 00C0      		rjmp .L58
 390               	.L27:
 391 0290 8081      		ld r24,Z
 392 0292 9181      		ldd r25,Z+1
 393 0294 892B      		or r24,r25
 394 0296 01F0      		breq .+2
 395 0298 00C0      		rjmp .L51
 396 029a 8281      		ldd r24,Z+2
 397 029c 9381      		ldd r25,Z+3
 398 029e A481      		ldd r26,Z+4
 399 02a0 B581      		ldd r27,Z+5
GAS LISTING C:\Temp/ccI3lnZi.s 			page 8


 400 02a2 8160      		ori r24,lo8(1)
 401 02a4 00C0      		rjmp .L54
 402               	.L28:
 403 02a6 8081      		ld r24,Z
 404 02a8 9181      		ldd r25,Z+1
 405 02aa 0197      		sbiw r24,1
 406 02ac 01F0      		breq .+2
 407 02ae 00C0      		rjmp .L51
 408 02b0 8281      		ldd r24,Z+2
 409 02b2 9381      		ldd r25,Z+3
 410 02b4 A481      		ldd r26,Z+4
 411 02b6 B581      		ldd r27,Z+5
 412 02b8 8260      		ori r24,lo8(2)
 413 02ba 00C0      		rjmp .L54
 414               	.L56:
 415 02bc 8081      		ld r24,Z
 416 02be 9181      		ldd r25,Z+1
 417 02c0 00C0      		rjmp .L46
 418               	.L30:
 419 02c2 2085      		ldd r18,Z+8
 420 02c4 3185      		ldd r19,Z+9
 421 02c6 8681      		ldd r24,Z+6
 422 02c8 9781      		ldd r25,Z+7
 423 02ca 8217      		cp r24,r18
 424 02cc 9307      		cpc r25,r19
 425 02ce 04F4      		brge .L46
 426 02d0 C901      		movw r24,r18
 427               	.L46:
 428 02d2 9983      		std Y+1,r25
 429 02d4 8883      		st Y,r24
 430 02d6 00C0      		rjmp .L50
 431               	.L31:
 432 02d8 8881      		ld r24,Y
 433 02da 9981      		ldd r25,Y+1
 434 02dc 9187      		std Z+9,r25
 435 02de 8087      		std Z+8,r24
 436 02e0 8881      		ld r24,Y
 437 02e2 9981      		ldd r25,Y+1
 438 02e4 9783      		std Z+7,r25
 439 02e6 8683      		std Z+6,r24
 440 02e8 8281      		ldd r24,Z+2
 441 02ea 9381      		ldd r25,Z+3
 442 02ec A481      		ldd r26,Z+4
 443 02ee B581      		ldd r27,Z+5
 444 02f0 8460      		ori r24,lo8(4)
 445 02f2 8283      		std Z+2,r24
 446 02f4 9383      		std Z+3,r25
 447 02f6 A483      		std Z+4,r26
 448 02f8 B583      		std Z+5,r27
 449 02fa 00C0      		rjmp .L50
 450               	.L32:
 451 02fc 0E94 0000 		call NutSegBufAvailable
 452 0300 7B01      		movw r14,r22
 453 0302 8C01      		movw r16,r24
 454 0304 0E94 0000 		call NutSegBufUsed
 455 0308 6E0D      		add r22,r14
 456 030a 7F1D      		adc r23,r15
GAS LISTING C:\Temp/ccI3lnZi.s 			page 9


 457 030c 801F      		adc r24,r16
 458 030e 911F      		adc r25,r17
 459 0310 00C0      		rjmp .L52
 460               	.L57:
 461 0312 4881      		ld r20,Y
 462 0314 5981      		ldd r21,Y+1
 463 0316 6A81      		ldd r22,Y+2
 464 0318 7B81      		ldd r23,Y+3
 465 031a CD01      		movw r24,r26
 466 031c 0E94 0000 		call VsDecoderBufferInit
 467 0320 9C01      		movw r18,r24
 468 0322 00C0      		rjmp .L44
 469               	.L34:
 470 0324 0E94 0000 		call NutSegBufUsed
 471               	.L52:
 472 0328 6883      		st Y,r22
 473 032a 7983      		std Y+1,r23
 474 032c 8A83      		std Y+2,r24
 475 032e 9B83      		std Y+3,r25
 476 0330 00C0      		rjmp .L50
 477               	.L35:
 478 0332 8485      		ldd r24,Z+12
 479 0334 9585      		ldd r25,Z+13
 480 0336 A685      		ldd r26,Z+14
 481 0338 B785      		ldd r27,Z+15
 482 033a 00C0      		rjmp .L53
 483               	.L36:
 484 033c 8881      		ld r24,Y
 485 033e 9981      		ldd r25,Y+1
 486 0340 AA81      		ldd r26,Y+2
 487 0342 BB81      		ldd r27,Y+3
 488 0344 8487      		std Z+12,r24
 489 0346 9587      		std Z+13,r25
 490 0348 A687      		std Z+14,r26
 491 034a B787      		std Z+15,r27
 492 034c 00C0      		rjmp .L50
 493               	.L37:
 494 034e 8089      		ldd r24,Z+16
 495 0350 9189      		ldd r25,Z+17
 496 0352 A289      		ldd r26,Z+18
 497 0354 B389      		ldd r27,Z+19
 498 0356 00C0      		rjmp .L53
 499               	.L38:
 500 0358 8881      		ld r24,Y
 501 035a 9981      		ldd r25,Y+1
 502 035c AA81      		ldd r26,Y+2
 503 035e BB81      		ldd r27,Y+3
 504 0360 808B      		std Z+16,r24
 505 0362 918B      		std Z+17,r25
 506 0364 A28B      		std Z+18,r26
 507 0366 B38B      		std Z+19,r27
 508 0368 00C0      		rjmp .L50
 509               	.L55:
 510 036a 8881      		ld r24,Y
 511 036c 9981      		ldd r25,Y+1
 512 036e AA81      		ldd r26,Y+2
 513 0370 BB81      		ldd r27,Y+3
GAS LISTING C:\Temp/ccI3lnZi.s 			page 10


 514 0372 848B      		std Z+20,r24
 515 0374 958B      		std Z+21,r25
 516 0376 A68B      		std Z+22,r26
 517 0378 B78B      		std Z+23,r27
 518 037a 00C0      		rjmp .L50
 519               	.L26:
 520 037c 8489      		ldd r24,Z+20
 521 037e 9589      		ldd r25,Z+21
 522 0380 A689      		ldd r26,Z+22
 523 0382 B789      		ldd r27,Z+23
 524               	.L53:
 525 0384 8883      		st Y,r24
 526 0386 9983      		std Y+1,r25
 527 0388 AA83      		std Y+2,r26
 528 038a BB83      		std Y+3,r27
 529               	.L50:
 530 038c 20E0      		ldi r18,lo8(0)
 531 038e 30E0      		ldi r19,hi8(0)
 532 0390 00C0      		rjmp .L44
 533               	.L58:
 534 0392 8081      		ld r24,Z
 535 0394 9181      		ldd r25,Z+1
 536 0396 892B      		or r24,r25
 537 0398 01F4      		brne .L24
 538 039a 8881      		ld r24,Y
 539 039c 9981      		ldd r25,Y+1
 540 039e 9387      		std Z+11,r25
 541 03a0 8287      		std Z+10,r24
 542 03a2 8281      		ldd r24,Z+2
 543 03a4 9381      		ldd r25,Z+3
 544 03a6 A481      		ldd r26,Z+4
 545 03a8 B581      		ldd r27,Z+5
 546 03aa 8860      		ori r24,lo8(8)
 547               	.L54:
 548 03ac 8283      		std Z+2,r24
 549 03ae 9383      		std Z+3,r25
 550 03b0 A483      		std Z+4,r26
 551 03b2 B583      		std Z+5,r27
 552               	.L51:
 553 03b4 CF01      		movw r24,r30
 554 03b6 4A96      		adiw r24,26
 555 03b8 0E94 0000 		call NutEventPost
 556 03bc 00C0      		rjmp .L50
 557               	.L24:
 558 03be 2FEF      		ldi r18,lo8(-1)
 559 03c0 3FEF      		ldi r19,hi8(-1)
 560               	.L44:
 561 03c2 C901      		movw r24,r18
 562               	/* epilogue start */
 563 03c4 DF91      		pop r29
 564 03c6 CF91      		pop r28
 565 03c8 1F91      		pop r17
 566 03ca 0F91      		pop r16
 567 03cc FF90      		pop r15
 568 03ce EF90      		pop r14
 569 03d0 0895      		ret
 570               		.size	VsCodecIOCtl, .-VsCodecIOCtl
GAS LISTING C:\Temp/ccI3lnZi.s 			page 11


 571               		.type	VsDecoderBufferFlush, @function
 572               	VsDecoderBufferFlush:
 573 03d2 AF92      		push r10
 574 03d4 BF92      		push r11
 575 03d6 CF92      		push r12
 576 03d8 DF92      		push r13
 577 03da EF92      		push r14
 578 03dc FF92      		push r15
 579 03de 0F93      		push r16
 580 03e0 1F93      		push r17
 581 03e2 CF93      		push r28
 582 03e4 DF93      		push r29
 583               	/* prologue: function */
 584               	/* frame size = 0 */
 585 03e6 6C01      		movw r12,r24
 586 03e8 7A01      		movw r14,r20
 587 03ea 8B01      		movw r16,r22
 588 03ec FC01      		movw r30,r24
 589 03ee C189      		ldd r28,Z+17
 590 03f0 D289      		ldd r29,Z+18
 591 03f2 78E1      		ldi r23,lo8(24)
 592 03f4 A72E      		mov r10,r23
 593 03f6 B12C      		mov r11,__zero_reg__
 594 03f8 AC0E      		add r10,r28
 595 03fa BD1E      		adc r11,r29
 596               	.L63:
 597 03fc 0E94 0000 		call NutSegBufUsed
 598 0400 6115      		cp r22,__zero_reg__
 599 0402 7105      		cpc r23,__zero_reg__
 600 0404 8105      		cpc r24,__zero_reg__
 601 0406 9105      		cpc r25,__zero_reg__
 602 0408 01F0      		breq .L60
 603 040a 40E0      		ldi r20,lo8(0)
 604 040c 50E0      		ldi r21,hi8(0)
 605 040e 61E0      		ldi r22,lo8(12289)
 606 0410 70E3      		ldi r23,hi8(12289)
 607 0412 C601      		movw r24,r12
 608 0414 0E94 0000 		call VsCodecIOCtl
 609 0418 00C0      		rjmp .L61
 610               	.L60:
 611 041a 8881      		ld r24,Y
 612 041c 9981      		ldd r25,Y+1
 613 041e 892B      		or r24,r25
 614 0420 01F4      		brne .L61
 615 0422 20E0      		ldi r18,lo8(0)
 616 0424 30E0      		ldi r19,hi8(0)
 617 0426 00C0      		rjmp .L62
 618               	.L61:
 619 0428 B801      		movw r22,r16
 620 042a A701      		movw r20,r14
 621 042c C501      		movw r24,r10
 622 042e 0E94 0000 		call NutEventWait
 623 0432 9C01      		movw r18,r24
 624 0434 0097      		sbiw r24,0
 625 0436 01F0      		breq .L63
 626               	.L62:
 627 0438 C901      		movw r24,r18
GAS LISTING C:\Temp/ccI3lnZi.s 			page 12


 628               	/* epilogue start */
 629 043a DF91      		pop r29
 630 043c CF91      		pop r28
 631 043e 1F91      		pop r17
 632 0440 0F91      		pop r16
 633 0442 FF90      		pop r15
 634 0444 EF90      		pop r14
 635 0446 DF90      		pop r13
 636 0448 CF90      		pop r12
 637 044a BF90      		pop r11
 638 044c AF90      		pop r10
 639 044e 0895      		ret
 640               		.size	VsDecoderBufferFlush, .-VsDecoderBufferFlush
 641               	.global	VsCodecClose
 642               		.type	VsCodecClose, @function
 643               	VsCodecClose:
 644 0450 0F93      		push r16
 645 0452 1F93      		push r17
 646 0454 CF93      		push r28
 647 0456 DF93      		push r29
 648               	/* prologue: function */
 649               	/* frame size = 0 */
 650 0458 EC01      		movw r28,r24
 651 045a AA81      		ldd r26,Y+2
 652 045c BB81      		ldd r27,Y+3
 653 045e 5196      		adiw r26,17
 654 0460 ED91      		ld r30,X+
 655 0462 FC91      		ld r31,X
 656 0464 5297      		sbiw r26,17+1
 657 0466 4489      		ldd r20,Z+20
 658 0468 5589      		ldd r21,Z+21
 659 046a 6689      		ldd r22,Z+22
 660 046c 7789      		ldd r23,Z+23
 661 046e CD01      		movw r24,r26
 662 0470 0E94 0000 		call VsDecoderBufferFlush
 663 0474 182F      		mov r17,r24
 664 0476 092F      		mov r16,r25
 665 0478 2097      		sbiw r28,0
 666 047a 01F0      		breq .L67
 667 047c CE01      		movw r24,r28
 668 047e 0E94 0000 		call free
 669               	.L67:
 670 0482 812F      		mov r24,r17
 671 0484 902F      		mov r25,r16
 672               	/* epilogue start */
 673 0486 DF91      		pop r29
 674 0488 CF91      		pop r28
 675 048a 1F91      		pop r17
 676 048c 0F91      		pop r16
 677 048e 0895      		ret
 678               		.size	VsCodecClose, .-VsCodecClose
 679               	.global	VsCodecWrite
 680               		.type	VsCodecWrite, @function
 681               	VsCodecWrite:
 682 0490 4F92      		push r4
 683 0492 5F92      		push r5
 684 0494 6F92      		push r6
GAS LISTING C:\Temp/ccI3lnZi.s 			page 13


 685 0496 7F92      		push r7
 686 0498 8F92      		push r8
 687 049a 9F92      		push r9
 688 049c AF92      		push r10
 689 049e BF92      		push r11
 690 04a0 CF92      		push r12
 691 04a2 DF92      		push r13
 692 04a4 EF92      		push r14
 693 04a6 FF92      		push r15
 694 04a8 0F93      		push r16
 695 04aa 1F93      		push r17
 696 04ac DF93      		push r29
 697 04ae CF93      		push r28
 698 04b0 00D0      		rcall .
 699 04b2 CDB7      		in r28,__SP_L__
 700 04b4 DEB7      		in r29,__SP_H__
 701               	/* prologue: function */
 702               	/* frame size = 2 */
 703 04b6 8A01      		movw r16,r20
 704 04b8 DC01      		movw r26,r24
 705 04ba 1296      		adiw r26,2
 706 04bc ED91      		ld r30,X+
 707 04be FC91      		ld r31,X
 708 04c0 1397      		sbiw r26,2+1
 709 04c2 A188      		ldd r10,Z+17
 710 04c4 B288      		ldd r11,Z+18
 711 04c6 6115      		cp r22,__zero_reg__
 712 04c8 7105      		cpc r23,__zero_reg__
 713 04ca 01F0      		breq .L70
 714 04cc 4115      		cp r20,__zero_reg__
 715 04ce 5105      		cpc r21,__zero_reg__
 716 04d0 01F4      		brne .L71
 717               	.L70:
 718 04d2 D501      		movw r26,r10
 719 04d4 5496      		adiw r26,20
 720 04d6 4D91      		ld r20,X+
 721 04d8 5D91      		ld r21,X+
 722 04da 6D91      		ld r22,X+
 723 04dc 7C91      		ld r23,X
 724 04de 5797      		sbiw r26,20+3
 725 04e0 CF01      		movw r24,r30
 726 04e2 0E94 0000 		call VsDecoderBufferFlush
 727 04e6 7C01      		movw r14,r24
 728 04e8 00C0      		rjmp .L72
 729               	.L71:
 730 04ea 6B01      		movw r12,r22
 731 04ec F8E1      		ldi r31,lo8(24)
 732 04ee 6F2E      		mov r6,r31
 733 04f0 712C      		mov r7,__zero_reg__
 734 04f2 6A0C      		add r6,r10
 735 04f4 7B1C      		adc r7,r11
 736 04f6 EAE1      		ldi r30,lo8(26)
 737 04f8 8E2E      		mov r8,r30
 738 04fa 912C      		mov r9,__zero_reg__
 739 04fc 8A0C      		add r8,r10
 740 04fe 9B1C      		adc r9,r11
 741 0500 EE24      		clr r14
GAS LISTING C:\Temp/ccI3lnZi.s 			page 14


 742 0502 FF24      		clr r15
 743 0504 2E01      		movw r4,r28
 744 0506 0894      		sec
 745 0508 411C      		adc r4,__zero_reg__
 746 050a 511C      		adc r5,__zero_reg__
 747               	.L77:
 748 050c C201      		movw r24,r4
 749 050e 0E94 0000 		call NutSegBufWriteRequest
 750 0512 2981      		ldd r18,Y+1
 751 0514 3A81      		ldd r19,Y+2
 752 0516 2115      		cp r18,__zero_reg__
 753 0518 3105      		cpc r19,__zero_reg__
 754 051a 01F4      		brne .L73
 755 051c F501      		movw r30,r10
 756 051e 4489      		ldd r20,Z+20
 757 0520 5589      		ldd r21,Z+21
 758 0522 6689      		ldd r22,Z+22
 759 0524 7789      		ldd r23,Z+23
 760 0526 C301      		movw r24,r6
 761 0528 0E94 0000 		call NutEventWait
 762 052c 892B      		or r24,r25
 763 052e 01F0      		breq .L74
 764 0530 00C0      		rjmp .L72
 765               	.L73:
 766 0532 0217      		cp r16,r18
 767 0534 1307      		cpc r17,r19
 768 0536 00F4      		brsh .L75
 769 0538 1A83      		std Y+2,r17
 770 053a 0983      		std Y+1,r16
 771               	.L75:
 772 053c 4981      		ldd r20,Y+1
 773 053e 5A81      		ldd r21,Y+2
 774 0540 B601      		movw r22,r12
 775 0542 0E94 0000 		call memcpy
 776 0546 8981      		ldd r24,Y+1
 777 0548 9A81      		ldd r25,Y+2
 778 054a 0E94 0000 		call NutSegBufWriteLast
 779 054e C401      		movw r24,r8
 780 0550 0E94 0000 		call NutEventPost
 781 0554 8981      		ldd r24,Y+1
 782 0556 9A81      		ldd r25,Y+2
 783 0558 081B      		sub r16,r24
 784 055a 190B      		sbc r17,r25
 785 055c E80E      		add r14,r24
 786 055e F91E      		adc r15,r25
 787 0560 C80E      		add r12,r24
 788 0562 D91E      		adc r13,r25
 789               	.L74:
 790 0564 0115      		cp r16,__zero_reg__
 791 0566 1105      		cpc r17,__zero_reg__
 792 0568 01F4      		brne .L77
 793               	.L72:
 794 056a C701      		movw r24,r14
 795               	/* epilogue start */
 796 056c 0F90      		pop __tmp_reg__
 797 056e 0F90      		pop __tmp_reg__
 798 0570 CF91      		pop r28
GAS LISTING C:\Temp/ccI3lnZi.s 			page 15


 799 0572 DF91      		pop r29
 800 0574 1F91      		pop r17
 801 0576 0F91      		pop r16
 802 0578 FF90      		pop r15
 803 057a EF90      		pop r14
 804 057c DF90      		pop r13
 805 057e CF90      		pop r12
 806 0580 BF90      		pop r11
 807 0582 AF90      		pop r10
 808 0584 9F90      		pop r9
 809 0586 8F90      		pop r8
 810 0588 7F90      		pop r7
 811 058a 6F90      		pop r6
 812 058c 5F90      		pop r5
 813 058e 4F90      		pop r4
 814 0590 0895      		ret
 815               		.size	VsCodecWrite, .-VsCodecWrite
 816               	.global	VsCodecMode
 817               		.type	VsCodecMode, @function
 818               	VsCodecMode:
 819 0592 CF92      		push r12
 820 0594 DF92      		push r13
 821 0596 EF92      		push r14
 822 0598 FF92      		push r15
 823 059a 0F93      		push r16
 824 059c 1F93      		push r17
 825 059e CF93      		push r28
 826 05a0 DF93      		push r29
 827               	/* prologue: function */
 828               	/* frame size = 0 */
 829 05a2 6C01      		movw r12,r24
 830 05a4 7B01      		movw r14,r22
 831 05a6 EA01      		movw r28,r20
 832 05a8 20E0      		ldi r18,lo8(0)
 833 05aa 30E0      		ldi r19,hi8(0)
 834 05ac 40E0      		ldi r20,lo8(0)
 835 05ae 63E0      		ldi r22,lo8(3)
 836 05b0 0E94 0000 		call VsCodecReg
 837 05b4 8C01      		movw r16,r24
 838 05b6 CE01      		movw r24,r28
 839 05b8 8E29      		or r24,r14
 840 05ba 9F29      		or r25,r15
 841 05bc 892B      		or r24,r25
 842 05be 01F0      		breq .L81
 843 05c0 C095      		com r28
 844 05c2 D095      		com r29
 845 05c4 C023      		and r28,r16
 846 05c6 D123      		and r29,r17
 847 05c8 CE29      		or r28,r14
 848 05ca DF29      		or r29,r15
 849 05cc 9E01      		movw r18,r28
 850 05ce 40E0      		ldi r20,lo8(0)
 851 05d0 62E0      		ldi r22,lo8(2)
 852 05d2 C601      		movw r24,r12
 853 05d4 0E94 0000 		call VsCodecReg
 854 05d8 E2FE      		sbrs r14,2
 855 05da 00C0      		rjmp .L81
GAS LISTING C:\Temp/ccI3lnZi.s 			page 16


 856 05dc 60E0      		ldi r22,lo8(0)
 857 05de 70E0      		ldi r23,hi8(0)
 858 05e0 80E0      		ldi r24,hlo8(0)
 859 05e2 90E0      		ldi r25,hhi8(0)
 860 05e4 0E94 0000 		call NutSleep
 861               	.L81:
 862 05e8 C801      		movw r24,r16
 863               	/* epilogue start */
 864 05ea DF91      		pop r29
 865 05ec CF91      		pop r28
 866 05ee 1F91      		pop r17
 867 05f0 0F91      		pop r16
 868 05f2 FF90      		pop r15
 869 05f4 EF90      		pop r14
 870 05f6 DF90      		pop r13
 871 05f8 CF90      		pop r12
 872 05fa 0895      		ret
 873               		.size	VsCodecMode, .-VsCodecMode
 874               	.global	VsCodecBeep
 875               		.type	VsCodecBeep, @function
 876               	VsCodecBeep:
 877 05fc 2F92      		push r2
 878 05fe 3F92      		push r3
 879 0600 4F92      		push r4
 880 0602 5F92      		push r5
 881 0604 6F92      		push r6
 882 0606 7F92      		push r7
 883 0608 8F92      		push r8
 884 060a 9F92      		push r9
 885 060c AF92      		push r10
 886 060e BF92      		push r11
 887 0610 CF92      		push r12
 888 0612 DF92      		push r13
 889 0614 EF92      		push r14
 890 0616 FF92      		push r15
 891 0618 0F93      		push r16
 892 061a 1F93      		push r17
 893 061c DF93      		push r29
 894 061e CF93      		push r28
 895 0620 CDB7      		in r28,__SP_L__
 896 0622 DEB7      		in r29,__SP_H__
 897 0624 2D97      		sbiw r28,13
 898 0626 0FB6      		in __tmp_reg__,__SREG__
 899 0628 F894      		cli
 900 062a DEBF      		out __SP_H__,r29
 901 062c 0FBE      		out __SREG__,__tmp_reg__
 902 062e CDBF      		out __SP_L__,r28
 903               	/* prologue: function */
 904               	/* frame size = 13 */
 905 0630 2C01      		movw r4,r24
 906 0632 6B01      		movw r12,r22
 907 0634 FC01      		movw r30,r24
 908 0636 0188      		ldd __tmp_reg__,Z+17
 909 0638 F289      		ldd r31,Z+18
 910 063a E02D      		mov r30,__tmp_reg__
 911 063c FF83      		std Y+7,r31
 912 063e EE83      		std Y+6,r30
GAS LISTING C:\Temp/ccI3lnZi.s 			page 17


 913 0640 6115      		cp r22,__zero_reg__
 914 0642 7105      		cpc r23,__zero_reg__
 915 0644 01F4      		brne .+2
 916 0646 00C0      		rjmp .L84
 917 0648 1B01      		movw r2,r22
 918 064a CB01      		movw r24,r22
 919 064c A0E0      		ldi r26,lo8(0)
 920 064e B0E0      		ldi r27,hi8(0)
 921 0650 9C01      		movw r18,r24
 922 0652 AD01      		movw r20,r26
 923 0654 67E0      		ldi r22,7
 924 0656 220F      	1:	lsl r18
 925 0658 331F      		rol r19
 926 065a 441F      		rol r20
 927 065c 551F      		rol r21
 928 065e 6A95      		dec r22
 929 0660 01F4      		brne 1b
 930 0662 2983      		std Y+1,r18
 931 0664 3A83      		std Y+2,r19
 932 0666 4B83      		std Y+3,r20
 933 0668 5C83      		std Y+4,r21
 934 066a 8090 0000 		lds r8,on.2060+3
 935 066e 40E0      		ldi r20,lo8(ftab.2062+14)
 936 0670 A42E      		mov r10,r20
 937 0672 40E0      		ldi r20,hi8(ftab.2062+14)
 938 0674 B42E      		mov r11,r20
 939 0676 6624      		clr r6
 940 0678 7724      		clr r7
 941 067a 38E0      		ldi r19,lo8(8)
 942 067c 932E      		mov r9,r19
 943 067e 1D82      		std Y+5,__zero_reg__
 944 0680 8887      		std Y+8,r24
 945 0682 9987      		std Y+9,r25
 946 0684 AA87      		std Y+10,r26
 947 0686 BB87      		std Y+11,r27
 948 0688 00C0      		rjmp .L85
 949               	.L89:
 950 068a F501      		movw r30,r10
 951 068c 8081      		ld r24,Z
 952 068e 9181      		ldd r25,Z+1
 953 0690 7C01      		movw r14,r24
 954 0692 00E0      		ldi r16,lo8(0)
 955 0694 10E0      		ldi r17,hi8(0)
 956 0696 C801      		movw r24,r16
 957 0698 B701      		movw r22,r14
 958 069a 9695      		lsr r25
 959 069c 8795      		ror r24
 960 069e 7795      		ror r23
 961 06a0 6795      		ror r22
 962 06a2 2981      		ldd r18,Y+1
 963 06a4 3A81      		ldd r19,Y+2
 964 06a6 4B81      		ldd r20,Y+3
 965 06a8 5C81      		ldd r21,Y+4
 966 06aa 620F      		add r22,r18
 967 06ac 731F      		adc r23,r19
 968 06ae 841F      		adc r24,r20
 969 06b0 951F      		adc r25,r21
GAS LISTING C:\Temp/ccI3lnZi.s 			page 18


 970 06b2 A801      		movw r20,r16
 971 06b4 9701      		movw r18,r14
 972 06b6 0E94 0000 		call __udivmodsi4
 973 06ba 3D87      		std Y+13,r19
 974 06bc 2C87      		std Y+12,r18
 975 06be C901      		movw r24,r18
 976 06c0 0197      		sbiw r24,1
 977 06c2 4F97      		sbiw r24,31
 978 06c4 00F4      		brsh .L86
 979 06c6 B901      		movw r22,r18
 980 06c8 80E0      		ldi r24,lo8(0)
 981 06ca 90E0      		ldi r25,hi8(0)
 982 06cc A801      		movw r20,r16
 983 06ce 9701      		movw r18,r14
 984 06d0 0E94 0000 		call __mulsi3
 985 06d4 605C      		subi r22,lo8(-(64))
 986 06d6 7F4F      		sbci r23,hi8(-(64))
 987 06d8 8F4F      		sbci r24,hlo8(-(64))
 988 06da 9F4F      		sbci r25,hhi8(-(64))
 989 06dc B7E0      		ldi r27,7
 990 06de 9695      	1:	lsr r25
 991 06e0 8795      		ror r24
 992 06e2 7795      		ror r23
 993 06e4 6795      		ror r22
 994 06e6 BA95      		dec r27
 995 06e8 01F4      		brne 1b
 996 06ea 2885      		ldd r18,Y+8
 997 06ec 3985      		ldd r19,Y+9
 998 06ee 4A85      		ldd r20,Y+10
 999 06f0 5B85      		ldd r21,Y+11
 1000 06f2 6217      		cp r22,r18
 1001 06f4 7307      		cpc r23,r19
 1002 06f6 8407      		cpc r24,r20
 1003 06f8 9507      		cpc r25,r21
 1004 06fa 00F4      		brsh .L87
 1005 06fc 9601      		movw r18,r12
 1006 06fe 261B      		sub r18,r22
 1007 0700 370B      		sbc r19,r23
 1008 0702 00C0      		rjmp .L88
 1009               	.L87:
 1010 0704 9B01      		movw r18,r22
 1011 0706 2C19      		sub r18,r12
 1012 0708 3D09      		sbc r19,r13
 1013               	.L88:
 1014 070a 2215      		cp r18,r2
 1015 070c 3305      		cpc r19,r3
 1016 070e 00F4      		brsh .L86
 1017 0710 1901      		movw r2,r18
 1018 0712 3B01      		movw r6,r22
 1019 0714 892C      		mov r8,r9
 1020 0716 8294      		swap r8
 1021 0718 880C      		lsl r8
 1022 071a A0EE      		ldi r26,lo8(-32)
 1023 071c 8A22      		and r8,r26
 1024 071e 3C85      		ldd r19,Y+12
 1025 0720 832A      		or r8,r19
 1026 0722 41E0      		ldi r20,lo8(1)
GAS LISTING C:\Temp/ccI3lnZi.s 			page 19


 1027 0724 4915      		cp r20,r9
 1028 0726 04F4      		brge .L86
 1029 0728 592D      		mov r21,r9
 1030 072a 5250      		subi r21,lo8(-(-2))
 1031 072c 5D83      		std Y+5,r21
 1032               	.L86:
 1033 072e 8EEF      		ldi r24,lo8(-2)
 1034 0730 9FEF      		ldi r25,hi8(-2)
 1035 0732 A80E      		add r10,r24
 1036 0734 B91E      		adc r11,r25
 1037               	.L85:
 1038 0736 9A94      		dec r9
 1039 0738 9D81      		ldd r25,Y+5
 1040 073a 9916      		cp r9,r25
 1041 073c 04F0      		brlt .+2
 1042 073e 00C0      		rjmp .L89
 1043 0740 8092 0000 		sts on.2060+3,r8
 1044 0744 44E0      		ldi r20,lo8(4)
 1045 0746 50E0      		ldi r21,hi8(4)
 1046 0748 64E0      		ldi r22,lo8(4)
 1047 074a 70E0      		ldi r23,hi8(4)
 1048 074c C201      		movw r24,r4
 1049 074e 0E94 0000 		call VsCodecMode
 1050 0752 9093 0000 		sts (mode.2063)+1,r25
 1051 0756 8093 0000 		sts mode.2063,r24
 1052 075a 8062      		ori r24,lo8(32)
 1053 075c 4FEF      		ldi r20,lo8(-1)
 1054 075e 5FEF      		ldi r21,hi8(-1)
 1055 0760 BC01      		movw r22,r24
 1056 0762 C201      		movw r24,r4
 1057 0764 0E94 0000 		call VsCodecMode
 1058 0768 EE81      		ldd r30,Y+6
 1059 076a FF81      		ldd r31,Y+7
 1060 076c 23A1      		ldd r18,Z+35
 1061 076e 34A1      		ldd r19,Z+36
 1062 0770 68E0      		ldi r22,lo8(8)
 1063 0772 70E0      		ldi r23,hi8(8)
 1064 0774 80E0      		ldi r24,lo8(on.2060)
 1065 0776 90E0      		ldi r25,hi8(on.2060)
 1066 0778 F901      		movw r30,r18
 1067 077a 0995      		icall
 1068 077c 00C0      		rjmp .L90
 1069               	.L84:
 1070 077e EE81      		ldd r30,Y+6
 1071 0780 FF81      		ldd r31,Y+7
 1072 0782 23A1      		ldd r18,Z+35
 1073 0784 34A1      		ldd r19,Z+36
 1074 0786 68E0      		ldi r22,lo8(8)
 1075 0788 70E0      		ldi r23,hi8(8)
 1076 078a 80E0      		ldi r24,lo8(off.2061)
 1077 078c 90E0      		ldi r25,hi8(off.2061)
 1078 078e F901      		movw r30,r18
 1079 0790 0995      		icall
 1080 0792 44E2      		ldi r20,lo8(36)
 1081 0794 50E0      		ldi r21,hi8(36)
 1082 0796 64E0      		ldi r22,lo8(4)
 1083 0798 70E0      		ldi r23,hi8(4)
GAS LISTING C:\Temp/ccI3lnZi.s 			page 20


 1084 079a C201      		movw r24,r4
 1085 079c 0E94 0000 		call VsCodecMode
 1086 07a0 6091 0000 		lds r22,mode.2063
 1087 07a4 7091 0000 		lds r23,(mode.2063)+1
 1088 07a8 4FEF      		ldi r20,lo8(-1)
 1089 07aa 5FEF      		ldi r21,hi8(-1)
 1090 07ac C201      		movw r24,r4
 1091 07ae 0E94 0000 		call VsCodecMode
 1092 07b2 6624      		clr r6
 1093 07b4 7724      		clr r7
 1094               	.L90:
 1095 07b6 C301      		movw r24,r6
 1096               	/* epilogue start */
 1097 07b8 2D96      		adiw r28,13
 1098 07ba 0FB6      		in __tmp_reg__,__SREG__
 1099 07bc F894      		cli
 1100 07be DEBF      		out __SP_H__,r29
 1101 07c0 0FBE      		out __SREG__,__tmp_reg__
 1102 07c2 CDBF      		out __SP_L__,r28
 1103 07c4 CF91      		pop r28
 1104 07c6 DF91      		pop r29
 1105 07c8 1F91      		pop r17
 1106 07ca 0F91      		pop r16
 1107 07cc FF90      		pop r15
 1108 07ce EF90      		pop r14
 1109 07d0 DF90      		pop r13
 1110 07d2 CF90      		pop r12
 1111 07d4 BF90      		pop r11
 1112 07d6 AF90      		pop r10
 1113 07d8 9F90      		pop r9
 1114 07da 8F90      		pop r8
 1115 07dc 7F90      		pop r7
 1116 07de 6F90      		pop r6
 1117 07e0 5F90      		pop r5
 1118 07e2 4F90      		pop r4
 1119 07e4 3F90      		pop r3
 1120 07e6 2F90      		pop r2
 1121 07e8 0895      		ret
 1122               		.size	VsCodecBeep, .-VsCodecBeep
 1123               	.global	FeederThread
 1124               		.type	FeederThread, @function
 1125               	FeederThread:
 1126 07ea DF93      		push r29
 1127 07ec CF93      		push r28
 1128 07ee 00D0      		rcall .
 1129 07f0 CDB7      		in r28,__SP_L__
 1130 07f2 DEB7      		in r29,__SP_H__
 1131               	/* prologue: function */
 1132               	/* frame size = 2 */
 1133 07f4 7C01      		movw r14,r24
 1134 07f6 DC01      		movw r26,r24
 1135 07f8 5196      		adiw r26,17
 1136 07fa 0D91      		ld r16,X+
 1137 07fc 1C91      		ld r17,X
 1138 07fe 5297      		sbiw r26,17+1
 1139 0800 87E0      		ldi r24,lo8(7)
 1140 0802 0E94 0000 		call NutThreadSetPriority
GAS LISTING C:\Temp/ccI3lnZi.s 			page 21


 1141 0806 A8E1      		ldi r26,lo8(24)
 1142 0808 8A2E      		mov r8,r26
 1143 080a 912C      		mov r9,__zero_reg__
 1144 080c 800E      		add r8,r16
 1145 080e 911E      		adc r9,r17
 1146 0810 FAE1      		ldi r31,lo8(26)
 1147 0812 6F2E      		mov r6,r31
 1148 0814 712C      		mov r7,__zero_reg__
 1149 0816 600E      		add r6,r16
 1150 0818 711E      		adc r7,r17
 1151 081a CC24      		clr r12
 1152 081c DD24      		clr r13
 1153 081e E1E0      		ldi r30,lo8(1)
 1154 0820 2E2E      		mov r2,r30
 1155 0822 312C      		mov r3,__zero_reg__
 1156 0824 2E01      		movw r4,r28
 1157 0826 0894      		sec
 1158 0828 411C      		adc r4,__zero_reg__
 1159 082a 511C      		adc r5,__zero_reg__
 1160               	.L109:
 1161 082c F801      		movw r30,r16
 1162 082e 8081      		ld r24,Z
 1163 0830 9181      		ldd r25,Z+1
 1164 0832 892B      		or r24,r25
 1165 0834 01F0      		breq .+2
 1166 0836 00C0      		rjmp .L93
 1167 0838 BB24      		clr r11
 1168               	.L108:
 1169 083a 40E0      		ldi r20,lo8(0)
 1170 083c 50E0      		ldi r21,hi8(0)
 1171 083e 60E0      		ldi r22,hlo8(0)
 1172 0840 70E0      		ldi r23,hhi8(0)
 1173 0842 C301      		movw r24,r6
 1174 0844 0E94 0000 		call NutEventWait
 1175 0848 D801      		movw r26,r16
 1176 084a 1296      		adiw r26,2
 1177 084c 8C91      		ld r24,X
 1178 084e 1297      		sbiw r26,2
 1179 0850 83FF      		sbrs r24,3
 1180 0852 00C0      		rjmp .L94
 1181 0854 5F96      		adiw r26,31
 1182 0856 ED91      		ld r30,X+
 1183 0858 FC91      		ld r31,X
 1184 085a 9097      		sbiw r26,31+1
 1185 085c 0995      		icall
 1186 085e 892B      		or r24,r25
 1187 0860 01F0      		breq .L94
 1188 0862 F801      		movw r30,r16
 1189 0864 8281      		ldd r24,Z+2
 1190 0866 9381      		ldd r25,Z+3
 1191 0868 A481      		ldd r26,Z+4
 1192 086a B581      		ldd r27,Z+5
 1193 086c 877F      		andi r24,lo8(-9)
 1194 086e 8283      		std Z+2,r24
 1195 0870 9383      		std Z+3,r25
 1196 0872 A483      		std Z+4,r26
 1197 0874 B583      		std Z+5,r27
GAS LISTING C:\Temp/ccI3lnZi.s 			page 22


 1198 0876 6285      		ldd r22,Z+10
 1199 0878 7385      		ldd r23,Z+11
 1200 087a C701      		movw r24,r14
 1201 087c 0E94 0000 		call VsCodecBeep
 1202 0880 892B      		or r24,r25
 1203 0882 01F0      		breq .L105
 1204 0884 BB24      		clr r11
 1205 0886 B394      		inc r11
 1206 0888 00C0      		rjmp .L108
 1207               	.L94:
 1208 088a BB20      		tst r11
 1209 088c 01F4      		brne .L108
 1210               	.L105:
 1211 088e D801      		movw r26,r16
 1212 0890 1296      		adiw r26,2
 1213 0892 8C91      		ld r24,X
 1214 0894 1297      		sbiw r26,2
 1215 0896 80FD      		sbrc r24,0
 1216 0898 00C0      		rjmp .L97
 1217 089a 0E94 0000 		call NutSegBufUsed
 1218 089e F801      		movw r30,r16
 1219 08a0 2089      		ldd r18,Z+16
 1220 08a2 3189      		ldd r19,Z+17
 1221 08a4 4289      		ldd r20,Z+18
 1222 08a6 5389      		ldd r21,Z+19
 1223 08a8 6217      		cp r22,r18
 1224 08aa 7307      		cpc r23,r19
 1225 08ac 8407      		cpc r24,r20
 1226 08ae 9507      		cpc r25,r21
 1227 08b0 00F0      		brlo .L93
 1228               	.L97:
 1229 08b2 F801      		movw r30,r16
 1230 08b4 8281      		ldd r24,Z+2
 1231 08b6 9381      		ldd r25,Z+3
 1232 08b8 A481      		ldd r26,Z+4
 1233 08ba B581      		ldd r27,Z+5
 1234 08bc 8C7F      		andi r24,lo8(-4)
 1235 08be 8283      		std Z+2,r24
 1236 08c0 9383      		std Z+3,r25
 1237 08c2 A483      		std Z+4,r26
 1238 08c4 B583      		std Z+5,r27
 1239 08c6 3182      		std Z+1,r3
 1240 08c8 2082      		st Z,r2
 1241 08ca 4681      		ldd r20,Z+6
 1242 08cc 5781      		ldd r21,Z+7
 1243 08ce 6085      		ldd r22,Z+8
 1244 08d0 7185      		ldd r23,Z+9
 1245 08d2 C701      		movw r24,r14
 1246 08d4 0E94 0000 		call VsDecoderSetVolume
 1247               	.L93:
 1248 08d8 D801      		movw r26,r16
 1249 08da 8D91      		ld r24,X+
 1250 08dc 9C91      		ld r25,X
 1251 08de 0197      		sbiw r24,1
 1252 08e0 01F0      		breq .+2
 1253 08e2 00C0      		rjmp .L109
 1254 08e4 40E0      		ldi r20,lo8(0)
GAS LISTING C:\Temp/ccI3lnZi.s 			page 23


 1255 08e6 50E0      		ldi r21,hi8(0)
 1256 08e8 60E0      		ldi r22,hlo8(0)
 1257 08ea 70E0      		ldi r23,hhi8(0)
 1258 08ec C701      		movw r24,r14
 1259 08ee 0E94 0000 		call VsCodecWaitReady
 1260 08f2 F801      		movw r30,r16
 1261 08f4 8281      		ldd r24,Z+2
 1262 08f6 9381      		ldd r25,Z+3
 1263 08f8 A481      		ldd r26,Z+4
 1264 08fa B581      		ldd r27,Z+5
 1265 08fc 81FF      		sbrs r24,1
 1266 08fe 00C0      		rjmp .L99
 1267 0900 8D7F      		andi r24,lo8(-3)
 1268 0902 8283      		std Z+2,r24
 1269 0904 9383      		std Z+3,r25
 1270 0906 A483      		std Z+4,r26
 1271 0908 B583      		std Z+5,r27
 1272 090a 0E94 0000 		call NutSegBufReset
 1273               	.L99:
 1274 090e C201      		movw r24,r4
 1275 0910 0E94 0000 		call NutSegBufReadRequest
 1276 0914 6981      		ldd r22,Y+1
 1277 0916 7A81      		ldd r23,Y+2
 1278 0918 6115      		cp r22,__zero_reg__
 1279 091a 7105      		cpc r23,__zero_reg__
 1280 091c 01F0      		breq .L100
 1281 091e D801      		movw r26,r16
 1282 0920 9396      		adiw r26,35
 1283 0922 ED91      		ld r30,X+
 1284 0924 FC91      		ld r31,X
 1285 0926 9497      		sbiw r26,35+1
 1286 0928 0995      		icall
 1287 092a 0097      		sbiw r24,0
 1288 092c 01F0      		breq .L101
 1289 092e 0E94 0000 		call NutSegBufReadLast
 1290 0932 C401      		movw r24,r8
 1291 0934 0E94 0000 		call NutEventPost
 1292 0938 C12C      		mov r12,__zero_reg__
 1293 093a 78E0      		ldi r23,hi8(2048)
 1294 093c D72E      		mov r13,r23
 1295               	.L101:
 1296 093e F801      		movw r30,r16
 1297 0940 8281      		ldd r24,Z+2
 1298 0942 82FF      		sbrs r24,2
 1299 0944 00C0      		rjmp .L109
 1300 0946 4681      		ldd r20,Z+6
 1301 0948 5781      		ldd r21,Z+7
 1302 094a 6085      		ldd r22,Z+8
 1303 094c 7185      		ldd r23,Z+9
 1304 094e C701      		movw r24,r14
 1305 0950 0E94 0000 		call VsDecoderSetVolume
 1306 0954 F801      		movw r30,r16
 1307 0956 8281      		ldd r24,Z+2
 1308 0958 9381      		ldd r25,Z+3
 1309 095a A481      		ldd r26,Z+4
 1310 095c B581      		ldd r27,Z+5
 1311 095e 8B7F      		andi r24,lo8(-5)
GAS LISTING C:\Temp/ccI3lnZi.s 			page 24


 1312 0960 8283      		std Z+2,r24
 1313 0962 9383      		std Z+3,r25
 1314 0964 A483      		std Z+4,r26
 1315 0966 B583      		std Z+5,r27
 1316 0968 00C0      		rjmp .L109
 1317               	.L100:
 1318 096a 0E94 0000 		call NutSegBufUsed
 1319 096e 6115      		cp r22,__zero_reg__
 1320 0970 7105      		cpc r23,__zero_reg__
 1321 0972 8105      		cpc r24,__zero_reg__
 1322 0974 9105      		cpc r25,__zero_reg__
 1323 0976 01F0      		breq .+2
 1324 0978 00C0      		rjmp .L109
 1325 097a C114      		cp r12,__zero_reg__
 1326 097c D104      		cpc r13,__zero_reg__
 1327 097e 01F0      		breq .L102
 1328 0980 D801      		movw r26,r16
 1329 0982 9396      		adiw r26,35
 1330 0984 ED91      		ld r30,X+
 1331 0986 FC91      		ld r31,X
 1332 0988 9497      		sbiw r26,35+1
 1333 098a B601      		movw r22,r12
 1334 098c 80E0      		ldi r24,lo8(0)
 1335 098e 90E0      		ldi r25,hi8(0)
 1336 0990 0995      		icall
 1337 0992 C81A      		sub r12,r24
 1338 0994 D90A      		sbc r13,r25
 1339 0996 01F0      		breq .+2
 1340 0998 00C0      		rjmp .L109
 1341               	.L102:
 1342 099a F801      		movw r30,r16
 1343 099c 1182      		std Z+1,__zero_reg__
 1344 099e 1082      		st Z,__zero_reg__
 1345 09a0 C401      		movw r24,r8
 1346 09a2 0E94 0000 		call NutEventPost
 1347 09a6 CC24      		clr r12
 1348 09a8 DD24      		clr r13
 1349 09aa 00C0      		rjmp .L109
 1350               		.size	FeederThread, .-FeederThread
 1351               		.lcomm mode.2063,2
 1352               		.data
 1353               		.type	ftab.2062, @object
 1354               		.size	ftab.2062, 16
 1355               	ftab.2062:
 1356 0000 44AC      		.word	-21436
 1357 0002 80BB      		.word	-17536
 1358 0004 007D      		.word	32000
 1359 0006 2256      		.word	22050
 1360 0008 C05D      		.word	24000
 1361 000a 803E      		.word	16000
 1362 000c 112B      		.word	11025
 1363 000e E02E      		.word	12000
 1364               		.type	off.2061, @object
 1365               		.size	off.2061, 8
 1366               	off.2061:
 1367 0010 45        		.byte	69
 1368 0011 78        		.byte	120
GAS LISTING C:\Temp/ccI3lnZi.s 			page 25


 1369 0012 69        		.byte	105
 1370 0013 74        		.byte	116
 1371 0014 00        		.byte	0
 1372 0015 00        		.byte	0
 1373 0016 00        		.byte	0
 1374 0017 00        		.byte	0
 1375               		.type	on.2060, @object
 1376               		.size	on.2060, 8
 1377               	on.2060:
 1378 0018 53        		.byte	83
 1379 0019 EF        		.byte	-17
 1380 001a 6E        		.byte	110
 1381 001b 3F        		.byte	63
 1382 001c 00        		.byte	0
 1383 001d 00        		.byte	0
 1384 001e 00        		.byte	0
 1385 001f 00        		.byte	0
 1386               		.comm zero_chunk,32,1
GAS LISTING C:\Temp/ccI3lnZi.s 			page 26


DEFINED SYMBOLS
                            *ABS*:00000000 spi_vscodec.c
  C:\Temp/ccI3lnZi.s:2      *ABS*:0000003f __SREG__
  C:\Temp/ccI3lnZi.s:3      *ABS*:0000003e __SP_H__
  C:\Temp/ccI3lnZi.s:4      *ABS*:0000003d __SP_L__
  C:\Temp/ccI3lnZi.s:5      *ABS*:00000034 __CCP__
  C:\Temp/ccI3lnZi.s:6      *ABS*:00000000 __tmp_reg__
  C:\Temp/ccI3lnZi.s:7      *ABS*:00000001 __zero_reg__
  C:\Temp/ccI3lnZi.s:13     .text:00000000 VsCodecWrite_P
  C:\Temp/ccI3lnZi.s:23     .text:00000006 VsCodecWaitReady
  C:\Temp/ccI3lnZi.s:78     .text:00000062 VsCodecReg
  C:\Temp/ccI3lnZi.s:131    .text:000000c0 VsDecoderSetVolume
  C:\Temp/ccI3lnZi.s:210    .text:0000014a VsCodecOpen
  C:\Temp/ccI3lnZi.s:245    .text:00000186 VsDecoderBufferInit
  C:\Temp/ccI3lnZi.s:296    .text:000001e0 VsCodecIOCtl
  C:\Temp/ccI3lnZi.s:572    .text:000003d2 VsDecoderBufferFlush
  C:\Temp/ccI3lnZi.s:643    .text:00000450 VsCodecClose
  C:\Temp/ccI3lnZi.s:681    .text:00000490 VsCodecWrite
  C:\Temp/ccI3lnZi.s:818    .text:00000592 VsCodecMode
  C:\Temp/ccI3lnZi.s:876    .text:000005fc VsCodecBeep
  C:\Temp/ccI3lnZi.s:1377   .data:00000018 on.2060
  C:\Temp/ccI3lnZi.s:1355   .data:00000000 ftab.2062
                             .bss:00000000 mode.2063
  C:\Temp/ccI3lnZi.s:1366   .data:00000010 off.2061
  C:\Temp/ccI3lnZi.s:1125   .text:000007ea FeederThread
                            *COM*:00000020 zero_chunk

UNDEFINED SYMBOLS
__do_copy_data
__do_clear_bss
NutEventWait
malloc
NutSegBufReset
NutSegBufInit
NutSegBufAvailable
__udivmodsi4
NutSegBufUsed
NutEventPost
free
NutSegBufWriteRequest
memcpy
NutSegBufWriteLast
NutSleep
__mulsi3
NutThreadSetPriority
NutSegBufReadRequest
NutSegBufReadLast
