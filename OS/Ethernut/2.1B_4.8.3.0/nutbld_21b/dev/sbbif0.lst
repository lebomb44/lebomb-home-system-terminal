GAS LISTING C:\Temp/ccLfWvvG.s 			page 1


   1               		.file	"sbbif0.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__  = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.global __do_copy_data
   9               		.global __do_clear_bss
  10               		.text
  11               	.global	Sbbi0SetMode
  12               		.type	Sbbi0SetMode, @function
  13               	Sbbi0SetMode:
  14               	/* prologue: function */
  15               	/* frame size = 0 */
  16 0000 8430      		cpi r24,lo8(4)
  17 0002 00F4      		brsh .L2
  18 0004 6430      		cpi r22,lo8(4)
  19 0006 00F4      		brsh .L2
  20 0008 E82F      		mov r30,r24
  21 000a F0E0      		ldi r31,lo8(0)
  22 000c E050      		subi r30,lo8(-(sbbi0_mode))
  23 000e F040      		sbci r31,hi8(-(sbbi0_mode))
  24 0010 6083      		st Z,r22
  25 0012 20E0      		ldi r18,lo8(0)
  26 0014 30E0      		ldi r19,hi8(0)
  27 0016 00C0      		rjmp .L3
  28               	.L2:
  29 0018 2FEF      		ldi r18,lo8(-1)
  30 001a 3FEF      		ldi r19,hi8(-1)
  31               	.L3:
  32 001c C901      		movw r24,r18
  33               	/* epilogue start */
  34 001e 0895      		ret
  35               		.size	Sbbi0SetMode, .-Sbbi0SetMode
  36               	.global	Sbbi0Enable
  37               		.type	Sbbi0Enable, @function
  38               	Sbbi0Enable:
  39               	/* prologue: function */
  40               	/* frame size = 0 */
  41 0020 E82F      		mov r30,r24
  42 0022 F0E0      		ldi r31,lo8(0)
  43 0024 DF01      		movw r26,r30
  44 0026 A050      		subi r26,lo8(-(sbbi0_mode))
  45 0028 B040      		sbci r27,hi8(-(sbbi0_mode))
  46 002a 8C91      		ld r24,X
  47 002c 8093 0000 		sts sel_mode,r24
  48 0030 E050      		subi r30,lo8(-(sbbi0_delay))
  49 0032 F040      		sbci r31,hi8(-(sbbi0_delay))
  50 0034 8081      		ld r24,Z
  51 0036 8093 0000 		sts sel_delay,r24
  52               	/* epilogue start */
  53 003a 0895      		ret
  54               		.size	Sbbi0Enable, .-Sbbi0Enable
  55               	.global	Sbbi0ChipReset
  56               		.type	Sbbi0ChipReset, @function
  57               	Sbbi0ChipReset:
GAS LISTING C:\Temp/ccLfWvvG.s 			page 2


  58               	/* prologue: function */
  59               	/* frame size = 0 */
  60               	/* epilogue start */
  61 003c 0895      		ret
  62               		.size	Sbbi0ChipReset, .-Sbbi0ChipReset
  63               	.global	Sbbi0ChipSelect
  64               		.type	Sbbi0ChipSelect, @function
  65               	Sbbi0ChipSelect:
  66               	/* prologue: function */
  67               	/* frame size = 0 */
  68               	/* epilogue start */
  69 003e 0895      		ret
  70               		.size	Sbbi0ChipSelect, .-Sbbi0ChipSelect
  71               	.global	Sbbi0SelectDevice
  72               		.type	Sbbi0SelectDevice, @function
  73               	Sbbi0SelectDevice:
  74               	/* prologue: function */
  75               	/* frame size = 0 */
  76 0040 E82F      		mov r30,r24
  77 0042 F0E0      		ldi r31,lo8(0)
  78 0044 DF01      		movw r26,r30
  79 0046 A050      		subi r26,lo8(-(sbbi0_mode))
  80 0048 B040      		sbci r27,hi8(-(sbbi0_mode))
  81 004a 8C91      		ld r24,X
  82 004c 8093 0000 		sts sel_mode,r24
  83 0050 E050      		subi r30,lo8(-(sbbi0_delay))
  84 0052 F040      		sbci r31,hi8(-(sbbi0_delay))
  85 0054 8081      		ld r24,Z
  86 0056 8093 0000 		sts sel_delay,r24
  87               	/* epilogue start */
  88 005a 0895      		ret
  89               		.size	Sbbi0SelectDevice, .-Sbbi0SelectDevice
  90               	.global	Sbbi0DeselectDevice
  91               		.type	Sbbi0DeselectDevice, @function
  92               	Sbbi0DeselectDevice:
  93               	/* prologue: function */
  94               	/* frame size = 0 */
  95               	/* epilogue start */
  96 005c 0895      		ret
  97               		.size	Sbbi0DeselectDevice, .-Sbbi0DeselectDevice
  98               	.global	Sbbi0NegSelectDevice
  99               		.type	Sbbi0NegSelectDevice, @function
 100               	Sbbi0NegSelectDevice:
 101               	/* prologue: function */
 102               	/* frame size = 0 */
 103 005e E82F      		mov r30,r24
 104 0060 F0E0      		ldi r31,lo8(0)
 105 0062 DF01      		movw r26,r30
 106 0064 A050      		subi r26,lo8(-(sbbi0_mode))
 107 0066 B040      		sbci r27,hi8(-(sbbi0_mode))
 108 0068 8C91      		ld r24,X
 109 006a 8093 0000 		sts sel_mode,r24
 110 006e E050      		subi r30,lo8(-(sbbi0_delay))
 111 0070 F040      		sbci r31,hi8(-(sbbi0_delay))
 112 0072 8081      		ld r24,Z
 113 0074 8093 0000 		sts sel_delay,r24
 114               	/* epilogue start */
GAS LISTING C:\Temp/ccLfWvvG.s 			page 3


 115 0078 0895      		ret
 116               		.size	Sbbi0NegSelectDevice, .-Sbbi0NegSelectDevice
 117               	.global	Sbbi0NegDeselectDevice
 118               		.type	Sbbi0NegDeselectDevice, @function
 119               	Sbbi0NegDeselectDevice:
 120               	/* prologue: function */
 121               	/* frame size = 0 */
 122               	/* epilogue start */
 123 007a 0895      		ret
 124               		.size	Sbbi0NegDeselectDevice, .-Sbbi0NegDeselectDevice
 125               	.global	Sbbi0Byte
 126               		.type	Sbbi0Byte, @function
 127               	Sbbi0Byte:
 128               	/* prologue: function */
 129               	/* frame size = 0 */
 130 007c 582F      		mov r21,r24
 131 007e 8091 0000 		lds r24,sel_mode
 132 0082 8330      		cpi r24,lo8(3)
 133 0084 01F4      		brne .L20
 134 0086 9091 0000 		lds r25,sel_delay
 135 008a 40E8      		ldi r20,lo8(-128)
 136 008c 28E0      		ldi r18,lo8(8)
 137 008e 30E0      		ldi r19,hi8(8)
 138               	.L25:
 139 0090 9923      		tst r25
 140 0092 01F0      		breq .L21
 141 0094 892F      		mov r24,r25
 142               	.L22:
 143               	/* #APP */
 144               	 ;  125 "../../nut/dev/sbbif0.c" 1
 145 0096 0000      		nop
 146               	 ;  0 "" 2
 147               	/* #NOAPP */
 148 0098 8150      		subi r24,lo8(-(-1))
 149 009a 01F4      		brne .L22
 150               	.L21:
 151 009c 842F      		mov r24,r20
 152 009e 8095      		com r24
 153 00a0 5823      		and r21,r24
 154 00a2 9923      		tst r25
 155 00a4 01F0      		breq .L23
 156 00a6 892F      		mov r24,r25
 157               	.L24:
 158               	/* #APP */
 159               	 ;  125 "../../nut/dev/sbbif0.c" 1
 160 00a8 0000      		nop
 161               	 ;  0 "" 2
 162               	/* #NOAPP */
 163 00aa 8150      		subi r24,lo8(-(-1))
 164 00ac 01F4      		brne .L24
 165               	.L23:
 166 00ae 4695      		lsr r20
 167 00b0 2150      		subi r18,lo8(-(-1))
 168 00b2 3040      		sbci r19,hi8(-(-1))
 169 00b4 01F4      		brne .L25
 170 00b6 00C0      		rjmp .L26
 171               	.L20:
GAS LISTING C:\Temp/ccLfWvvG.s 			page 4


 172 00b8 8230      		cpi r24,lo8(2)
 173 00ba 01F4      		brne .L27
 174 00bc 9091 0000 		lds r25,sel_delay
 175 00c0 40E8      		ldi r20,lo8(-128)
 176 00c2 28E0      		ldi r18,lo8(8)
 177 00c4 30E0      		ldi r19,hi8(8)
 178               	.L32:
 179 00c6 9923      		tst r25
 180 00c8 01F0      		breq .L28
 181 00ca 892F      		mov r24,r25
 182               	.L29:
 183               	/* #APP */
 184               	 ;  125 "../../nut/dev/sbbif0.c" 1
 185 00cc 0000      		nop
 186               	 ;  0 "" 2
 187               	/* #NOAPP */
 188 00ce 8150      		subi r24,lo8(-(-1))
 189 00d0 01F4      		brne .L29
 190               	.L28:
 191 00d2 842F      		mov r24,r20
 192 00d4 8095      		com r24
 193 00d6 5823      		and r21,r24
 194 00d8 9923      		tst r25
 195 00da 01F0      		breq .L30
 196 00dc 892F      		mov r24,r25
 197               	.L31:
 198               	/* #APP */
 199               	 ;  125 "../../nut/dev/sbbif0.c" 1
 200 00de 0000      		nop
 201               	 ;  0 "" 2
 202               	/* #NOAPP */
 203 00e0 8150      		subi r24,lo8(-(-1))
 204 00e2 01F4      		brne .L31
 205               	.L30:
 206 00e4 4695      		lsr r20
 207 00e6 2150      		subi r18,lo8(-(-1))
 208 00e8 3040      		sbci r19,hi8(-(-1))
 209 00ea 01F4      		brne .L32
 210 00ec 00C0      		rjmp .L26
 211               	.L27:
 212 00ee 9091 0000 		lds r25,sel_delay
 213 00f2 8130      		cpi r24,lo8(1)
 214 00f4 01F4      		brne .L33
 215 00f6 40E8      		ldi r20,lo8(-128)
 216 00f8 28E0      		ldi r18,lo8(8)
 217 00fa 30E0      		ldi r19,hi8(8)
 218               	.L38:
 219 00fc 9923      		tst r25
 220 00fe 01F0      		breq .L34
 221 0100 892F      		mov r24,r25
 222               	.L35:
 223               	/* #APP */
 224               	 ;  125 "../../nut/dev/sbbif0.c" 1
 225 0102 0000      		nop
 226               	 ;  0 "" 2
 227               	/* #NOAPP */
 228 0104 8150      		subi r24,lo8(-(-1))
GAS LISTING C:\Temp/ccLfWvvG.s 			page 5


 229 0106 01F4      		brne .L35
 230               	.L34:
 231 0108 842F      		mov r24,r20
 232 010a 8095      		com r24
 233 010c 5823      		and r21,r24
 234 010e 9923      		tst r25
 235 0110 01F0      		breq .L36
 236 0112 892F      		mov r24,r25
 237               	.L37:
 238               	/* #APP */
 239               	 ;  125 "../../nut/dev/sbbif0.c" 1
 240 0114 0000      		nop
 241               	 ;  0 "" 2
 242               	/* #NOAPP */
 243 0116 8150      		subi r24,lo8(-(-1))
 244 0118 01F4      		brne .L37
 245               	.L36:
 246 011a 4695      		lsr r20
 247 011c 2150      		subi r18,lo8(-(-1))
 248 011e 3040      		sbci r19,hi8(-(-1))
 249 0120 01F4      		brne .L38
 250 0122 00C0      		rjmp .L26
 251               	.L33:
 252 0124 40E8      		ldi r20,lo8(-128)
 253 0126 28E0      		ldi r18,lo8(8)
 254 0128 30E0      		ldi r19,hi8(8)
 255               	.L43:
 256 012a 9923      		tst r25
 257 012c 01F0      		breq .L39
 258 012e 892F      		mov r24,r25
 259               	.L40:
 260               	/* #APP */
 261               	 ;  125 "../../nut/dev/sbbif0.c" 1
 262 0130 0000      		nop
 263               	 ;  0 "" 2
 264               	/* #NOAPP */
 265 0132 8150      		subi r24,lo8(-(-1))
 266 0134 01F4      		brne .L40
 267               	.L39:
 268 0136 842F      		mov r24,r20
 269 0138 8095      		com r24
 270 013a 5823      		and r21,r24
 271 013c 9923      		tst r25
 272 013e 01F0      		breq .L41
 273 0140 892F      		mov r24,r25
 274               	.L42:
 275               	/* #APP */
 276               	 ;  125 "../../nut/dev/sbbif0.c" 1
 277 0142 0000      		nop
 278               	 ;  0 "" 2
 279               	/* #NOAPP */
 280 0144 8150      		subi r24,lo8(-(-1))
 281 0146 01F4      		brne .L42
 282               	.L41:
 283 0148 4695      		lsr r20
 284 014a 2150      		subi r18,lo8(-(-1))
 285 014c 3040      		sbci r19,hi8(-(-1))
GAS LISTING C:\Temp/ccLfWvvG.s 			page 6


 286 014e 01F4      		brne .L43
 287               	.L26:
 288 0150 852F      		mov r24,r21
 289               	/* epilogue start */
 290 0152 0895      		ret
 291               		.size	Sbbi0Byte, .-Sbbi0Byte
 292               	.global	Sbbi0Transact
 293               		.type	Sbbi0Transact, @function
 294               	Sbbi0Transact:
 295 0154 CF92      		push r12
 296 0156 DF92      		push r13
 297 0158 EF92      		push r14
 298 015a FF92      		push r15
 299 015c 0F93      		push r16
 300 015e 1F93      		push r17
 301 0160 CF93      		push r28
 302 0162 DF93      		push r29
 303               	/* prologue: function */
 304               	/* frame size = 0 */
 305 0164 6C01      		movw r12,r24
 306 0166 7B01      		movw r14,r22
 307 0168 8A01      		movw r16,r20
 308 016a EC01      		movw r28,r24
 309 016c 6115      		cp r22,__zero_reg__
 310 016e 7105      		cpc r23,__zero_reg__
 311 0170 01F0      		breq .L64
 312 0172 C0E0      		ldi r28,lo8(0)
 313 0174 D0E0      		ldi r29,hi8(0)
 314 0176 00C0      		rjmp .L59
 315               	.L60:
 316 0178 F601      		movw r30,r12
 317 017a EC0F      		add r30,r28
 318 017c FD1F      		adc r31,r29
 319 017e 8081      		ld r24,Z
 320 0180 0E94 0000 		call Sbbi0Byte
 321 0184 F701      		movw r30,r14
 322 0186 EC0F      		add r30,r28
 323 0188 FD1F      		adc r31,r29
 324 018a 8083      		st Z,r24
 325 018c 2196      		adiw r28,1
 326 018e 0150      		subi r16,lo8(-(-1))
 327 0190 1040      		sbci r17,hi8(-(-1))
 328               	.L59:
 329 0192 0115      		cp r16,__zero_reg__
 330 0194 1105      		cpc r17,__zero_reg__
 331 0196 01F4      		brne .L60
 332 0198 00C0      		rjmp .L63
 333               	.L62:
 334 019a 8991      		ld r24,Y+
 335 019c 0E94 0000 		call Sbbi0Byte
 336 01a0 0150      		subi r16,lo8(-(-1))
 337 01a2 1040      		sbci r17,hi8(-(-1))
 338               	.L64:
 339 01a4 0115      		cp r16,__zero_reg__
 340 01a6 1105      		cpc r17,__zero_reg__
 341 01a8 01F4      		brne .L62
 342               	.L63:
GAS LISTING C:\Temp/ccLfWvvG.s 			page 7


 343               	/* epilogue start */
 344 01aa DF91      		pop r29
 345 01ac CF91      		pop r28
 346 01ae 1F91      		pop r17
 347 01b0 0F91      		pop r16
 348 01b2 FF90      		pop r15
 349 01b4 EF90      		pop r14
 350 01b6 DF90      		pop r13
 351 01b8 CF90      		pop r12
 352 01ba 0895      		ret
 353               		.size	Sbbi0Transact, .-Sbbi0Transact
 354               	.global	Sbbi0SetSpeed
 355               		.type	Sbbi0SetSpeed, @function
 356               	Sbbi0SetSpeed:
 357 01bc DF92      		push r13
 358 01be EF92      		push r14
 359 01c0 FF92      		push r15
 360 01c2 0F93      		push r16
 361 01c4 1F93      		push r17
 362               	/* prologue: function */
 363               	/* frame size = 0 */
 364 01c6 D82E      		mov r13,r24
 365 01c8 7A01      		movw r14,r20
 366 01ca 8B01      		movw r16,r22
 367 01cc 0E94 0000 		call NutGetCpuClock
 368 01d0 24E0      		ldi r18,4
 369 01d2 9695      	1:	lsr r25
 370 01d4 8795      		ror r24
 371 01d6 7795      		ror r23
 372 01d8 6795      		ror r22
 373 01da 2A95      		dec r18
 374 01dc 01F4      		brne 1b
 375 01de E114      		cp r14,__zero_reg__
 376 01e0 F104      		cpc r15,__zero_reg__
 377 01e2 0105      		cpc r16,__zero_reg__
 378 01e4 1105      		cpc r17,__zero_reg__
 379 01e6 01F0      		breq .L66
 380 01e8 A801      		movw r20,r16
 381 01ea 9701      		movw r18,r14
 382 01ec 0E94 0000 		call __udivmodsi4
 383 01f0 C901      		movw r24,r18
 384 01f2 DA01      		movw r26,r20
 385 01f4 BC01      		movw r22,r24
 386 01f6 CD01      		movw r24,r26
 387               	.L66:
 388 01f8 6530      		cpi r22,lo8(5)
 389 01fa 7105      		cpc r23,__zero_reg__
 390 01fc 8105      		cpc r24,__zero_reg__
 391 01fe 9105      		cpc r25,__zero_reg__
 392 0200 00F4      		brsh .L67
 393 0202 ED2D      		mov r30,r13
 394 0204 F0E0      		ldi r31,lo8(0)
 395 0206 E050      		subi r30,lo8(-(sbbi0_delay))
 396 0208 F040      		sbci r31,hi8(-(sbbi0_delay))
 397 020a 1082      		st Z,__zero_reg__
 398 020c 00C0      		rjmp .L70
 399               	.L67:
GAS LISTING C:\Temp/ccLfWvvG.s 			page 8


 400 020e ED2D      		mov r30,r13
 401 0210 F0E0      		ldi r31,lo8(0)
 402 0212 6F3F      		cpi r22,lo8(255)
 403 0214 7105      		cpc r23,__zero_reg__
 404 0216 8105      		cpc r24,__zero_reg__
 405 0218 9105      		cpc r25,__zero_reg__
 406 021a 00F4      		brsh .L69
 407 021c E050      		subi r30,lo8(-(sbbi0_delay))
 408 021e F040      		sbci r31,hi8(-(sbbi0_delay))
 409 0220 6083      		st Z,r22
 410 0222 00C0      		rjmp .L70
 411               	.L69:
 412 0224 E050      		subi r30,lo8(-(sbbi0_delay))
 413 0226 F040      		sbci r31,hi8(-(sbbi0_delay))
 414 0228 8FEF      		ldi r24,lo8(-1)
 415 022a 8083      		st Z,r24
 416               	.L70:
 417               	/* epilogue start */
 418 022c 1F91      		pop r17
 419 022e 0F91      		pop r16
 420 0230 FF90      		pop r15
 421 0232 EF90      		pop r14
 422 0234 DF90      		pop r13
 423 0236 0895      		ret
 424               		.size	Sbbi0SetSpeed, .-Sbbi0SetSpeed
 425               		.lcomm sbbi0_mode,4
 426               		.lcomm sel_mode,1
 427               		.lcomm sbbi0_delay,4
 428               		.lcomm sel_delay,1
GAS LISTING C:\Temp/ccLfWvvG.s 			page 9


DEFINED SYMBOLS
                            *ABS*:00000000 sbbif0.c
  C:\Temp/ccLfWvvG.s:2      *ABS*:0000003f __SREG__
  C:\Temp/ccLfWvvG.s:3      *ABS*:0000003e __SP_H__
  C:\Temp/ccLfWvvG.s:4      *ABS*:0000003d __SP_L__
  C:\Temp/ccLfWvvG.s:5      *ABS*:00000034 __CCP__
  C:\Temp/ccLfWvvG.s:6      *ABS*:00000000 __tmp_reg__
  C:\Temp/ccLfWvvG.s:7      *ABS*:00000001 __zero_reg__
  C:\Temp/ccLfWvvG.s:13     .text:00000000 Sbbi0SetMode
                             .bss:00000000 sbbi0_mode
  C:\Temp/ccLfWvvG.s:38     .text:00000020 Sbbi0Enable
  C:\Temp/ccLfWvvG.s:425    .bss:00000004 sel_mode
  C:\Temp/ccLfWvvG.s:426    .bss:00000005 sbbi0_delay
  C:\Temp/ccLfWvvG.s:427    .bss:00000009 sel_delay
  C:\Temp/ccLfWvvG.s:57     .text:0000003c Sbbi0ChipReset
  C:\Temp/ccLfWvvG.s:65     .text:0000003e Sbbi0ChipSelect
  C:\Temp/ccLfWvvG.s:73     .text:00000040 Sbbi0SelectDevice
  C:\Temp/ccLfWvvG.s:92     .text:0000005c Sbbi0DeselectDevice
  C:\Temp/ccLfWvvG.s:100    .text:0000005e Sbbi0NegSelectDevice
  C:\Temp/ccLfWvvG.s:119    .text:0000007a Sbbi0NegDeselectDevice
  C:\Temp/ccLfWvvG.s:127    .text:0000007c Sbbi0Byte
  C:\Temp/ccLfWvvG.s:294    .text:00000154 Sbbi0Transact
  C:\Temp/ccLfWvvG.s:356    .text:000001bc Sbbi0SetSpeed

UNDEFINED SYMBOLS
__do_copy_data
__do_clear_bss
NutGetCpuClock
__udivmodsi4
