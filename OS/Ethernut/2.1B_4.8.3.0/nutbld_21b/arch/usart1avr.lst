GAS LISTING C:\Temp/ccvrVlPh.s 			page 1


   1               		.file	"usart1avr.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__  = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.global __do_copy_data
   9               		.global __do_clear_bss
  10               		.text
  11               		.type	AvrUsartTxEmpty, @function
  12               	AvrUsartTxEmpty:
  13               	/* prologue: function */
  14               	/* frame size = 0 */
  15 0000 FC01      		movw r30,r24
  16 0002 6281      		ldd r22,Z+2
  17 0004 7381      		ldd r23,Z+3
  18 0006 2091 0000 		lds r18,flow_control
  19 000a 422F      		mov r20,r18
  20 000c 50E0      		ldi r21,lo8(0)
  21 000e CA01      		movw r24,r20
  22 0010 8073      		andi r24,lo8(48)
  23 0012 9070      		andi r25,hi8(48)
  24 0014 892B      		or r24,r25
  25 0016 01F0      		breq .L2
  26 0018 24FF      		sbrs r18,4
  27 001a 00C0      		rjmp .L3
  28 001c 83E1      		ldi r24,lo8(19)
  29 001e 8093 9C00 		sts 156,r24
  30 0022 2064      		ori r18,lo8(64)
  31 0024 00C0      		rjmp .L14
  32               	.L3:
  33 0026 81E1      		ldi r24,lo8(17)
  34 0028 8093 9C00 		sts 156,r24
  35 002c 2F7B      		andi r18,lo8(-65)
  36               	.L14:
  37 002e 2093 0000 		sts flow_control,r18
  38 0032 8091 0000 		lds r24,flow_control
  39 0036 8F7C      		andi r24,lo8(-49)
  40 0038 8093 0000 		sts flow_control,r24
  41 003c 0895      		ret
  42               	.L2:
  43 003e 27FF      		sbrs r18,7
  44 0040 00C0      		rjmp .L6
  45 0042 8091 9A00 		lds r24,154
  46 0046 8F7D      		andi r24,lo8(-33)
  47 0048 8093 9A00 		sts 154,r24
  48 004c 0895      		ret
  49               	.L6:
  50 004e 8285      		ldd r24,Z+10
  51 0050 9385      		ldd r25,Z+11
  52 0052 892B      		or r24,r25
  53 0054 01F0      		breq .L7
  54 0056 8285      		ldd r24,Z+10
  55 0058 9385      		ldd r25,Z+11
  56 005a 0197      		sbiw r24,1
  57 005c 9387      		std Z+11,r25
GAS LISTING C:\Temp/ccvrVlPh.s 			page 2


  58 005e 8287      		std Z+10,r24
  59 0060 8091 0000 		lds r24,tx_aframe
  60 0064 8823      		tst r24
  61 0066 01F0      		breq .L8
  62 0068 8091 9A00 		lds r24,154
  63 006c 8160      		ori r24,lo8(1)
  64 006e 00C0      		rjmp .L15
  65               	.L8:
  66 0070 8091 9A00 		lds r24,154
  67 0074 8E7F      		andi r24,lo8(-2)
  68               	.L15:
  69 0076 8093 9A00 		sts 154,r24
  70 007a DB01      		movw r26,r22
  71 007c 8D91      		ld r24,X+
  72 007e 8093 9C00 		sts 156,r24
  73 0082 8681      		ldd r24,Z+6
  74 0084 9781      		ldd r25,Z+7
  75 0086 A817      		cp r26,r24
  76 0088 B907      		cpc r27,r25
  77 008a 01F4      		brne .L10
  78 008c A481      		ldd r26,Z+4
  79 008e B581      		ldd r27,Z+5
  80               	.L10:
  81 0090 B383      		std Z+3,r27
  82 0092 A283      		std Z+2,r26
  83 0094 2285      		ldd r18,Z+10
  84 0096 3385      		ldd r19,Z+11
  85 0098 8485      		ldd r24,Z+12
  86 009a 9585      		ldd r25,Z+13
  87 009c 2817      		cp r18,r24
  88 009e 3907      		cpc r19,r25
  89 00a0 01F4      		brne .L13
  90 00a2 A089      		ldd r26,Z+16
  91 00a4 B189      		ldd r27,Z+17
  92 00a6 1097      		sbiw r26,0
  93 00a8 01F0      		breq .L16
  94               	.L11:
  95 00aa 8FEF      		ldi r24,hi8(-1)
  96 00ac AF3F      		cpi r26,lo8(-1)
  97 00ae B807      		cpc r27,r24
  98 00b0 01F0      		breq .L13
  99 00b2 1496      		adiw r26,4
 100 00b4 8D91      		ld r24,X+
 101 00b6 9C91      		ld r25,X
 102 00b8 1597      		sbiw r26,4+1
 103 00ba 0196      		adiw r24,1
 104 00bc 1596      		adiw r26,4+1
 105 00be 9C93      		st X,r25
 106 00c0 8E93      		st -X,r24
 107 00c2 1497      		sbiw r26,4
 108 00c4 0895      		ret
 109               	.L7:
 110 00c6 8091 9A00 		lds r24,154
 111 00ca 8F7D      		andi r24,lo8(-33)
 112 00cc 8093 9A00 		sts 154,r24
 113 00d0 1386      		std Z+11,__zero_reg__
 114 00d2 1286      		std Z+10,__zero_reg__
GAS LISTING C:\Temp/ccvrVlPh.s 			page 3


 115 00d4 A089      		ldd r26,Z+16
 116 00d6 B189      		ldd r27,Z+17
 117 00d8 1097      		sbiw r26,0
 118 00da 01F4      		brne .L12
 119               	.L16:
 120 00dc 8FEF      		ldi r24,lo8(-1)
 121 00de 9FEF      		ldi r25,hi8(-1)
 122 00e0 918B      		std Z+17,r25
 123 00e2 808B      		std Z+16,r24
 124 00e4 0895      		ret
 125               	.L12:
 126 00e6 8FEF      		ldi r24,hi8(-1)
 127 00e8 AF3F      		cpi r26,lo8(-1)
 128 00ea B807      		cpc r27,r24
 129 00ec 01F0      		breq .L13
 130 00ee 1496      		adiw r26,4
 131 00f0 8D91      		ld r24,X+
 132 00f2 9C91      		ld r25,X
 133 00f4 1597      		sbiw r26,4+1
 134 00f6 0196      		adiw r24,1
 135 00f8 1596      		adiw r26,4+1
 136 00fa 9C93      		st X,r25
 137 00fc 8E93      		st -X,r24
 138 00fe 1497      		sbiw r26,4
 139               	.L13:
 140 0100 0895      		ret
 141               		.size	AvrUsartTxEmpty, .-AvrUsartTxEmpty
 142               		.type	AvrUsartRxComplete, @function
 143               	AvrUsartRxComplete:
 144 0102 CF93      		push r28
 145 0104 DF93      		push r29
 146               	/* prologue: function */
 147               	/* frame size = 0 */
 148 0106 282F      		mov r18,r24
 149 0108 5091 9B00 		lds r21,155
 150 010c 8091 0000 		lds r24,rx_errors
 151 0110 582B      		or r21,r24
 152 0112 5093 0000 		sts rx_errors,r21
 153 0116 6091 9C00 		lds r22,156
 154 011a 4091 0000 		lds r20,flow_control
 155 011e 4423      		tst r20
 156 0120 01F0      		breq .L18
 157 0122 6331      		cpi r22,lo8(19)
 158 0124 01F4      		brne .L19
 159 0126 8091 9A00 		lds r24,154
 160 012a 8F7D      		andi r24,lo8(-33)
 161 012c 8093 9A00 		sts 154,r24
 162 0130 4068      		ori r20,lo8(-128)
 163 0132 00C0      		rjmp .L29
 164               	.L19:
 165 0134 6131      		cpi r22,lo8(17)
 166 0136 01F4      		brne .L18
 167 0138 8091 9A00 		lds r24,154
 168 013c 8062      		ori r24,lo8(32)
 169 013e 8093 9A00 		sts 154,r24
 170 0142 4F77      		andi r20,lo8(127)
 171               	.L29:
GAS LISTING C:\Temp/ccvrVlPh.s 			page 4


 172 0144 4093 0000 		sts flow_control,r20
 173 0148 00C0      		rjmp .L27
 174               	.L18:
 175 014a A22F      		mov r26,r18
 176 014c B92F      		mov r27,r25
 177 014e 1A96      		adiw r26,10
 178 0150 2D91      		ld r18,X+
 179 0152 3C91      		ld r19,X
 180 0154 1B97      		sbiw r26,10+1
 181 0156 1896      		adiw r26,8
 182 0158 8D91      		ld r24,X+
 183 015a 9C91      		ld r25,X
 184 015c 1997      		sbiw r26,8+1
 185 015e 2817      		cp r18,r24
 186 0160 3907      		cpc r19,r25
 187 0162 00F0      		brlo .L21
 188 0164 5860      		ori r21,lo8(8)
 189 0166 5093 0000 		sts rx_errors,r21
 190 016a 00C0      		rjmp .L27
 191               	.L21:
 192 016c E901      		movw r28,r18
 193 016e 2196      		adiw r28,1
 194 0170 232B      		or r18,r19
 195 0172 01F4      		brne .L22
 196 0174 5096      		adiw r26,16
 197 0176 ED91      		ld r30,X+
 198 0178 FC91      		ld r31,X
 199 017a 5197      		sbiw r26,16+1
 200 017c 3097      		sbiw r30,0
 201 017e 01F4      		brne .L23
 202 0180 8FEF      		ldi r24,lo8(-1)
 203 0182 9FEF      		ldi r25,hi8(-1)
 204 0184 5196      		adiw r26,16+1
 205 0186 9C93      		st X,r25
 206 0188 8E93      		st -X,r24
 207 018a 5097      		sbiw r26,16
 208 018c 00C0      		rjmp .L24
 209               	.L23:
 210 018e 8FEF      		ldi r24,hi8(-1)
 211 0190 EF3F      		cpi r30,lo8(-1)
 212 0192 F807      		cpc r31,r24
 213 0194 01F0      		breq .L24
 214 0196 8481      		ldd r24,Z+4
 215 0198 9581      		ldd r25,Z+5
 216 019a 0196      		adiw r24,1
 217 019c 9583      		std Z+5,r25
 218 019e 8483      		std Z+4,r24
 219 01a0 00C0      		rjmp .L24
 220               	.L22:
 221 01a2 4423      		tst r20
 222 01a4 01F0      		breq .L24
 223 01a6 1E96      		adiw r26,14
 224 01a8 8D91      		ld r24,X+
 225 01aa 9C91      		ld r25,X
 226 01ac 1F97      		sbiw r26,14+1
 227 01ae C817      		cp r28,r24
 228 01b0 D907      		cpc r29,r25
GAS LISTING C:\Temp/ccvrVlPh.s 			page 5


 229 01b2 00F0      		brlo .L24
 230 01b4 46FD      		sbrc r20,6
 231 01b6 00C0      		rjmp .L24
 232 01b8 8091 9B00 		lds r24,155
 233 01bc 85FF      		sbrs r24,5
 234 01be 00C0      		rjmp .L25
 235 01c0 83E1      		ldi r24,lo8(19)
 236 01c2 8093 9C00 		sts 156,r24
 237 01c6 4064      		ori r20,lo8(64)
 238 01c8 4F7D      		andi r20,lo8(-33)
 239 01ca 00C0      		rjmp .L28
 240               	.L25:
 241 01cc 4062      		ori r20,lo8(32)
 242               	.L28:
 243 01ce 4093 0000 		sts flow_control,r20
 244               	.L24:
 245 01d2 ED91      		ld r30,X+
 246 01d4 FC91      		ld r31,X
 247 01d6 1197      		sbiw r26,1
 248 01d8 6193      		st Z+,r22
 249 01da 1196      		adiw r26,1
 250 01dc FC93      		st X,r31
 251 01de EE93      		st -X,r30
 252 01e0 2D91      		ld r18,X+
 253 01e2 3C91      		ld r19,X
 254 01e4 1197      		sbiw r26,1
 255 01e6 1696      		adiw r26,6
 256 01e8 8D91      		ld r24,X+
 257 01ea 9C91      		ld r25,X
 258 01ec 1797      		sbiw r26,6+1
 259 01ee 2817      		cp r18,r24
 260 01f0 3907      		cpc r19,r25
 261 01f2 01F4      		brne .L26
 262 01f4 1496      		adiw r26,4
 263 01f6 8D91      		ld r24,X+
 264 01f8 9C91      		ld r25,X
 265 01fa 1597      		sbiw r26,4+1
 266 01fc 1196      		adiw r26,1
 267 01fe 9C93      		st X,r25
 268 0200 8E93      		st -X,r24
 269               	.L26:
 270 0202 1B96      		adiw r26,10+1
 271 0204 DC93      		st X,r29
 272 0206 CE93      		st -X,r28
 273 0208 1A97      		sbiw r26,10
 274               	.L27:
 275               	/* epilogue start */
 276 020a DF91      		pop r29
 277 020c CF91      		pop r28
 278 020e 0895      		ret
 279               		.size	AvrUsartRxComplete, .-AvrUsartRxComplete
 280               		.type	AvrUsartGetDataBits, @function
 281               	AvrUsartGetDataBits:
 282               	/* prologue: function */
 283               	/* frame size = 0 */
 284 0210 8091 9A00 		lds r24,154
 285 0214 82FF      		sbrs r24,2
GAS LISTING C:\Temp/ccvrVlPh.s 			page 6


 286 0216 00C0      		rjmp .L31
 287 0218 89E0      		ldi r24,lo8(9)
 288 021a 0895      		ret
 289               	.L31:
 290 021c 8091 9D00 		lds r24,157
 291 0220 82FF      		sbrs r24,2
 292 0222 00C0      		rjmp .L33
 293 0224 8091 9D00 		lds r24,157
 294 0228 81FD      		sbrc r24,1
 295 022a 00C0      		rjmp .L34
 296 022c 87E0      		ldi r24,lo8(7)
 297 022e 0895      		ret
 298               	.L34:
 299 0230 88E0      		ldi r24,lo8(8)
 300 0232 0895      		ret
 301               	.L33:
 302 0234 8091 9D00 		lds r24,157
 303 0238 81FD      		sbrc r24,1
 304 023a 00C0      		rjmp .L35
 305 023c 85E0      		ldi r24,lo8(5)
 306 023e 0895      		ret
 307               	.L35:
 308 0240 86E0      		ldi r24,lo8(6)
 309 0242 0895      		ret
 310               		.size	AvrUsartGetDataBits, .-AvrUsartGetDataBits
 311               		.type	AvrUsartGetParity, @function
 312               	AvrUsartGetParity:
 313               	/* prologue: function */
 314               	/* frame size = 0 */
 315 0244 8091 9D00 		lds r24,157
 316 0248 85FD      		sbrc r24,5
 317 024a 00C0      		rjmp .L38
 318 024c 80E0      		ldi r24,lo8(0)
 319 024e 0895      		ret
 320               	.L38:
 321 0250 8091 9D00 		lds r24,157
 322 0254 84FD      		sbrc r24,4
 323 0256 00C0      		rjmp .L40
 324 0258 82E0      		ldi r24,lo8(2)
 325 025a 0895      		ret
 326               	.L40:
 327 025c 81E0      		ldi r24,lo8(1)
 328 025e 0895      		ret
 329               		.size	AvrUsartGetParity, .-AvrUsartGetParity
 330               		.type	AvrUsartGetStopBits, @function
 331               	AvrUsartGetStopBits:
 332               	/* prologue: function */
 333               	/* frame size = 0 */
 334 0260 8091 9D00 		lds r24,157
 335 0264 83FD      		sbrc r24,3
 336 0266 00C0      		rjmp .L43
 337 0268 81E0      		ldi r24,lo8(1)
 338 026a 0895      		ret
 339               	.L43:
 340 026c 82E0      		ldi r24,lo8(2)
 341 026e 0895      		ret
 342               		.size	AvrUsartGetStopBits, .-AvrUsartGetStopBits
GAS LISTING C:\Temp/ccvrVlPh.s 			page 7


 343               		.type	AvrUsartGetStatus, @function
 344               	AvrUsartGetStatus:
 345               	/* prologue: function */
 346               	/* frame size = 0 */
 347 0270 8091 0000 		lds r24,rx_errors
 348 0274 682F      		mov r22,r24
 349 0276 70E0      		ldi r23,lo8(0)
 350 0278 CB01      		movw r24,r22
 351 027a 24E0      		ldi r18,4
 352 027c 9695      	1:	lsr r25
 353 027e 8795      		ror r24
 354 0280 2A95      		dec r18
 355 0282 01F4      		brne 1b
 356 0284 9C01      		movw r18,r24
 357 0286 40E0      		ldi r20,lo8(0)
 358 0288 50E0      		ldi r21,hi8(0)
 359 028a 2170      		andi r18,lo8(1)
 360 028c 3070      		andi r19,hi8(1)
 361 028e 4070      		andi r20,hlo8(1)
 362 0290 5070      		andi r21,hhi8(1)
 363 0292 63FD      		sbrc r22,3
 364 0294 2260      		ori r18,lo8(2)
 365               	.L47:
 366 0296 62FD      		sbrc r22,2
 367 0298 2460      		ori r18,lo8(4)
 368               	.L48:
 369 029a 8091 0000 		lds r24,flow_control
 370 029e 8823      		tst r24
 371 02a0 01F0      		breq .L49
 372 02a2 86FD      		sbrc r24,6
 373 02a4 4260      		ori r20,hlo8(131072)
 374               	.L50:
 375 02a6 87FD      		sbrc r24,7
 376 02a8 4860      		ori r20,hlo8(524288)
 377               	.L49:
 378 02aa 41FF      		sbrs r20,1
 379 02ac 4160      		ori r20,hlo8(65536)
 380               	.L51:
 381 02ae 43FF      		sbrs r20,3
 382 02b0 4460      		ori r20,hlo8(262144)
 383               	.L52:
 384 02b2 8091 0000 		lds r24,tx_aframe
 385 02b6 8823      		tst r24
 386 02b8 01F0      		breq .L53
 387 02ba 4064      		ori r20,hlo8(4194304)
 388 02bc 00C0      		rjmp .L54
 389               	.L53:
 390 02be 4068      		ori r20,hlo8(8388608)
 391               	.L54:
 392 02c0 8091 9B00 		lds r24,155
 393 02c4 80FF      		sbrs r24,0
 394 02c6 00C0      		rjmp .L55
 395 02c8 4061      		ori r20,hlo8(1048576)
 396 02ca 00C0      		rjmp .L56
 397               	.L55:
 398 02cc 4062      		ori r20,hlo8(2097152)
 399               	.L56:
GAS LISTING C:\Temp/ccvrVlPh.s 			page 8


 400 02ce B901      		movw r22,r18
 401 02d0 CA01      		movw r24,r20
 402               	/* epilogue start */
 403 02d2 0895      		ret
 404               		.size	AvrUsartGetStatus, .-AvrUsartGetStatus
 405               		.type	AvrUsartSetStatus, @function
 406               	AvrUsartSetStatus:
 407 02d4 EF92      		push r14
 408 02d6 FF92      		push r15
 409 02d8 0F93      		push r16
 410 02da 1F93      		push r17
 411               	/* prologue: function */
 412               	/* frame size = 0 */
 413 02dc 7B01      		movw r14,r22
 414 02de 8C01      		movw r16,r24
 415 02e0 8091 0000 		lds r24,flow_control
 416 02e4 8823      		tst r24
 417 02e6 01F0      		breq .L59
 418               	/* #APP */
 419               	 ;  922 "../../nut/arch/avr/dev/usartavr.c" 1
 420 02e8 0FB6      		in  __tmp_reg__, __SREG__
 421 02ea F894      		cli
 422 02ec 0F92      		push __tmp_reg__
 423               		
 424               	 ;  0 "" 2
 425               	/* #NOAPP */
 426 02ee 00FF      		sbrs r16,0
 427 02f0 00C0      		rjmp .L60
 428 02f2 8F7B      		andi r24,lo8(-65)
 429 02f4 00C0      		rjmp .L74
 430               	.L60:
 431 02f6 01FF      		sbrs r16,1
 432 02f8 00C0      		rjmp .L61
 433 02fa 8064      		ori r24,lo8(64)
 434               	.L74:
 435 02fc 8093 0000 		sts flow_control,r24
 436               	.L61:
 437 0300 02FF      		sbrs r16,2
 438 0302 00C0      		rjmp .L62
 439 0304 8091 0000 		lds r24,flow_control
 440 0308 8F77      		andi r24,lo8(127)
 441 030a 00C0      		rjmp .L75
 442               	.L62:
 443 030c 03FF      		sbrs r16,3
 444 030e 00C0      		rjmp .L63
 445 0310 8091 0000 		lds r24,flow_control
 446 0314 8068      		ori r24,lo8(-128)
 447               	.L75:
 448 0316 8093 0000 		sts flow_control,r24
 449               	.L63:
 450               	/* #APP */
 451               	 ;  943 "../../nut/arch/avr/dev/usartavr.c" 1
 452 031a 0F90      		pop __tmp_reg__
 453 031c 0FBE      		out __SREG__, __tmp_reg__
 454               		
 455               	 ;  0 "" 2
 456               	/* #NOAPP */
GAS LISTING C:\Temp/ccvrVlPh.s 			page 9


 457               	.L59:
 458 031e 06FF      		sbrs r16,6
 459 0320 00C0      		rjmp .L64
 460 0322 81E0      		ldi r24,lo8(1)
 461 0324 8093 0000 		sts tx_aframe,r24
 462               	.L64:
 463 0328 07FF      		sbrs r16,7
 464 032a 00C0      		rjmp .L65
 465 032c 1092 0000 		sts tx_aframe,__zero_reg__
 466               	.L65:
 467 0330 04FF      		sbrs r16,4
 468 0332 00C0      		rjmp .L66
 469 0334 8091 9B00 		lds r24,155
 470 0338 8160      		ori r24,lo8(1)
 471 033a 8093 9B00 		sts 155,r24
 472               	.L66:
 473 033e 05FF      		sbrs r16,5
 474 0340 00C0      		rjmp .L67
 475 0342 8091 9B00 		lds r24,155
 476 0346 8E7F      		andi r24,lo8(-2)
 477 0348 8093 9B00 		sts 155,r24
 478               	.L67:
 479 034c C701      		movw r24,r14
 480 034e 8170      		andi r24,lo8(1)
 481 0350 9070      		andi r25,hi8(1)
 482 0352 892B      		or r24,r25
 483 0354 01F0      		breq .L68
 484 0356 8091 0000 		lds r24,rx_errors
 485 035a 8F7E      		andi r24,lo8(-17)
 486 035c 8093 0000 		sts rx_errors,r24
 487               	.L68:
 488 0360 E1FE      		sbrs r14,1
 489 0362 00C0      		rjmp .L69
 490 0364 8091 0000 		lds r24,rx_errors
 491 0368 877F      		andi r24,lo8(-9)
 492 036a 8093 0000 		sts rx_errors,r24
 493               	.L69:
 494 036e E2FE      		sbrs r14,2
 495 0370 00C0      		rjmp .L70
 496 0372 8091 0000 		lds r24,rx_errors
 497 0376 8B7F      		andi r24,lo8(-5)
 498 0378 8093 0000 		sts rx_errors,r24
 499               	.L70:
 500 037c 0E94 0000 		call AvrUsartGetStatus
 501 0380 687F      		andi r22,lo8(-8)
 502 0382 6E15      		cp r22,r14
 503 0384 7F05      		cpc r23,r15
 504 0386 8007      		cpc r24,r16
 505 0388 9107      		cpc r25,r17
 506 038a 01F4      		brne .L71
 507 038c 20E0      		ldi r18,lo8(0)
 508 038e 30E0      		ldi r19,hi8(0)
 509 0390 00C0      		rjmp .L72
 510               	.L71:
 511 0392 2FEF      		ldi r18,lo8(-1)
 512 0394 3FEF      		ldi r19,hi8(-1)
 513               	.L72:
GAS LISTING C:\Temp/ccvrVlPh.s 			page 10


 514 0396 C901      		movw r24,r18
 515               	/* epilogue start */
 516 0398 1F91      		pop r17
 517 039a 0F91      		pop r16
 518 039c FF90      		pop r15
 519 039e EF90      		pop r14
 520 03a0 0895      		ret
 521               		.size	AvrUsartSetStatus, .-AvrUsartSetStatus
 522               		.type	AvrUsartGetClockMode, @function
 523               	AvrUsartGetClockMode:
 524               	/* prologue: function */
 525               	/* frame size = 0 */
 526 03a2 8091 9D00 		lds r24,157
 527 03a6 86FF      		sbrs r24,6
 528 03a8 00C0      		rjmp .L77
 529 03aa 129B      		sbis 34-32,2
 530 03ac 00C0      		rjmp .L78
 531 03ae 93E0      		ldi r25,lo8(3)
 532 03b0 00C0      		rjmp .L79
 533               	.L78:
 534 03b2 91E0      		ldi r25,lo8(1)
 535               	.L79:
 536 03b4 8091 9D00 		lds r24,157
 537 03b8 80FF      		sbrs r24,0
 538 03ba 00C0      		rjmp .L80
 539 03bc 9460      		ori r25,lo8(4)
 540 03be 00C0      		rjmp .L80
 541               	.L77:
 542 03c0 8091 9B00 		lds r24,155
 543 03c4 81FF      		sbrs r24,1
 544 03c6 00C0      		rjmp .L81
 545 03c8 90E2      		ldi r25,lo8(32)
 546 03ca 00C0      		rjmp .L80
 547               	.L81:
 548 03cc 90E0      		ldi r25,lo8(0)
 549               	.L80:
 550 03ce 892F      		mov r24,r25
 551               	/* epilogue start */
 552 03d0 0895      		ret
 553               		.size	AvrUsartGetClockMode, .-AvrUsartGetClockMode
 554               		.type	AvrUsartGetFlowControl, @function
 555               	AvrUsartGetFlowControl:
 556               	/* prologue: function */
 557               	/* frame size = 0 */
 558 03d2 8091 0000 		lds r24,flow_control
 559 03d6 8823      		tst r24
 560 03d8 01F4      		brne .L84
 561 03da 20E0      		ldi r18,lo8(0)
 562 03dc 30E0      		ldi r19,hi8(0)
 563 03de 40E0      		ldi r20,hlo8(0)
 564 03e0 50E0      		ldi r21,hhi8(0)
 565 03e2 00C0      		rjmp .L85
 566               	.L84:
 567 03e4 20E2      		ldi r18,lo8(32)
 568 03e6 30E0      		ldi r19,hi8(32)
 569 03e8 40E0      		ldi r20,hlo8(32)
 570 03ea 50E0      		ldi r21,hhi8(32)
GAS LISTING C:\Temp/ccvrVlPh.s 			page 11


 571               	.L85:
 572 03ec B901      		movw r22,r18
 573 03ee CA01      		movw r24,r20
 574               	/* epilogue start */
 575 03f0 0895      		ret
 576               		.size	AvrUsartGetFlowControl, .-AvrUsartGetFlowControl
 577               		.type	AvrUsartSetFlowControl, @function
 578               	AvrUsartSetFlowControl:
 579 03f2 EF92      		push r14
 580 03f4 FF92      		push r15
 581 03f6 0F93      		push r16
 582 03f8 1F93      		push r17
 583               	/* prologue: function */
 584               	/* frame size = 0 */
 585 03fa 7B01      		movw r14,r22
 586 03fc 8C01      		movw r16,r24
 587 03fe 65FF      		sbrs r22,5
 588 0400 00C0      		rjmp .L88
 589 0402 8091 0000 		lds r24,flow_control
 590 0406 8823      		tst r24
 591 0408 01F4      		brne .L89
 592               	/* #APP */
 593               	 ;  1178 "../../nut/arch/avr/dev/usartavr.c" 1
 594 040a 0FB6      		in  __tmp_reg__, __SREG__
 595 040c F894      		cli
 596 040e 0F92      		push __tmp_reg__
 597               		
 598               	 ;  0 "" 2
 599               	/* #NOAPP */
 600 0410 81E4      		ldi r24,lo8(65)
 601 0412 8093 0000 		sts flow_control,r24
 602               	/* #APP */
 603               	 ;  1180 "../../nut/arch/avr/dev/usartavr.c" 1
 604 0416 0F90      		pop __tmp_reg__
 605 0418 0FBE      		out __SREG__, __tmp_reg__
 606               		
 607               	 ;  0 "" 2
 608               	/* #NOAPP */
 609 041a 00C0      		rjmp .L89
 610               	.L88:
 611               	/* #APP */
 612               	 ;  1183 "../../nut/arch/avr/dev/usartavr.c" 1
 613 041c 0FB6      		in  __tmp_reg__, __SREG__
 614 041e F894      		cli
 615 0420 0F92      		push __tmp_reg__
 616               		
 617               	 ;  0 "" 2
 618               	/* #NOAPP */
 619 0422 1092 0000 		sts flow_control,__zero_reg__
 620               	/* #APP */
 621               	 ;  1185 "../../nut/arch/avr/dev/usartavr.c" 1
 622 0426 0F90      		pop __tmp_reg__
 623 0428 0FBE      		out __SREG__, __tmp_reg__
 624               		
 625               	 ;  0 "" 2
 626               	/* #NOAPP */
 627               	.L89:
GAS LISTING C:\Temp/ccvrVlPh.s 			page 12


 628 042a 8091 0000 		lds r24,flow_control
 629 042e 8823      		tst r24
 630 0430 01F4      		brne .L90
 631 0432 20E0      		ldi r18,lo8(0)
 632 0434 30E0      		ldi r19,hi8(0)
 633 0436 40E0      		ldi r20,hlo8(0)
 634 0438 50E0      		ldi r21,hhi8(0)
 635 043a 00C0      		rjmp .L91
 636               	.L90:
 637 043c 20E2      		ldi r18,lo8(32)
 638 043e 30E0      		ldi r19,hi8(32)
 639 0440 40E0      		ldi r20,hlo8(32)
 640 0442 50E0      		ldi r21,hhi8(32)
 641               	.L91:
 642 0444 2E15      		cp r18,r14
 643 0446 3F05      		cpc r19,r15
 644 0448 4007      		cpc r20,r16
 645 044a 5107      		cpc r21,r17
 646 044c 01F4      		brne .L92
 647 044e 20E0      		ldi r18,lo8(0)
 648 0450 30E0      		ldi r19,hi8(0)
 649 0452 00C0      		rjmp .L93
 650               	.L92:
 651 0454 2FEF      		ldi r18,lo8(-1)
 652 0456 3FEF      		ldi r19,hi8(-1)
 653               	.L93:
 654 0458 C901      		movw r24,r18
 655               	/* epilogue start */
 656 045a 1F91      		pop r17
 657 045c 0F91      		pop r16
 658 045e FF90      		pop r15
 659 0460 EF90      		pop r14
 660 0462 0895      		ret
 661               		.size	AvrUsartSetFlowControl, .-AvrUsartSetFlowControl
 662               		.type	AvrUsartTxStart, @function
 663               	AvrUsartTxStart:
 664               	/* prologue: function */
 665               	/* frame size = 0 */
 666 0464 EAE9      		ldi r30,lo8(154)
 667 0466 F0E0      		ldi r31,hi8(154)
 668 0468 8081      		ld r24,Z
 669 046a 8062      		ori r24,lo8(32)
 670 046c 8083      		st Z,r24
 671               	/* epilogue start */
 672 046e 0895      		ret
 673               		.size	AvrUsartTxStart, .-AvrUsartTxStart
 674               		.type	AvrUsartRxStart, @function
 675               	AvrUsartRxStart:
 676               	/* prologue: function */
 677               	/* frame size = 0 */
 678 0470 9091 0000 		lds r25,flow_control
 679 0474 9923      		tst r25
 680 0476 01F0      		breq .L101
 681 0478 96FF      		sbrs r25,6
 682 047a 00C0      		rjmp .L101
 683               	/* #APP */
 684               	 ;  1289 "../../nut/arch/avr/dev/usartavr.c" 1
GAS LISTING C:\Temp/ccvrVlPh.s 			page 13


 685 047c 0FB6      		in  __tmp_reg__, __SREG__
 686 047e F894      		cli
 687 0480 0F92      		push __tmp_reg__
 688               		
 689               	 ;  0 "" 2
 690               	/* #NOAPP */
 691 0482 8091 9B00 		lds r24,155
 692 0486 85FF      		sbrs r24,5
 693 0488 00C0      		rjmp .L99
 694 048a 81E1      		ldi r24,lo8(17)
 695 048c 8093 9C00 		sts 156,r24
 696 0490 9F7E      		andi r25,lo8(-17)
 697 0492 00C0      		rjmp .L102
 698               	.L99:
 699 0494 9061      		ori r25,lo8(16)
 700               	.L102:
 701 0496 9093 0000 		sts flow_control,r25
 702 049a 8091 0000 		lds r24,flow_control
 703 049e 8F79      		andi r24,lo8(-97)
 704 04a0 8093 0000 		sts flow_control,r24
 705               	/* #APP */
 706               	 ;  1297 "../../nut/arch/avr/dev/usartavr.c" 1
 707 04a4 0F90      		pop __tmp_reg__
 708 04a6 0FBE      		out __SREG__, __tmp_reg__
 709               		
 710               	 ;  0 "" 2
 711               	/* #NOAPP */
 712               	.L101:
 713 04a8 0895      		ret
 714               		.size	AvrUsartRxStart, .-AvrUsartRxStart
 715               		.type	AvrUsartDisable, @function
 716               	AvrUsartDisable:
 717 04aa 0F93      		push r16
 718 04ac 1F93      		push r17
 719               	/* prologue: function */
 720               	/* frame size = 0 */
 721               	/* #APP */
 722               	 ;  522 "../../nut/arch/avr/dev/usartavr.c" 1
 723 04ae 0FB6      		in  __tmp_reg__, __SREG__
 724 04b0 F894      		cli
 725 04b2 0F92      		push __tmp_reg__
 726               		
 727               	 ;  0 "" 2
 728               	/* #NOAPP */
 729 04b4 0AE9      		ldi r16,lo8(154)
 730 04b6 10E0      		ldi r17,hi8(154)
 731 04b8 F801      		movw r30,r16
 732 04ba 8081      		ld r24,Z
 733 04bc 8F77      		andi r24,lo8(127)
 734 04be 8083      		st Z,r24
 735 04c0 8081      		ld r24,Z
 736 04c2 8F7B      		andi r24,lo8(-65)
 737 04c4 8083      		st Z,r24
 738 04c6 8081      		ld r24,Z
 739 04c8 8F7D      		andi r24,lo8(-33)
 740 04ca 8083      		st Z,r24
 741               	/* #APP */
GAS LISTING C:\Temp/ccvrVlPh.s 			page 14


 742               	 ;  526 "../../nut/arch/avr/dev/usartavr.c" 1
 743 04cc 0F90      		pop __tmp_reg__
 744 04ce 0FBE      		out __SREG__, __tmp_reg__
 745               		
 746               	 ;  0 "" 2
 747               	/* #NOAPP */
 748 04d0 8AE0      		ldi r24,lo8(10)
 749 04d2 0E94 0000 		call NutDelay
 750 04d6 F801      		movw r30,r16
 751 04d8 8081      		ld r24,Z
 752 04da 8F7E      		andi r24,lo8(-17)
 753 04dc 8083      		st Z,r24
 754 04de 8081      		ld r24,Z
 755 04e0 877F      		andi r24,lo8(-9)
 756 04e2 8083      		st Z,r24
 757               	/* epilogue start */
 758 04e4 1F91      		pop r17
 759 04e6 0F91      		pop r16
 760 04e8 0895      		ret
 761               		.size	AvrUsartDisable, .-AvrUsartDisable
 762               		.type	AvrUsartSetClockMode, @function
 763               	AvrUsartSetClockMode:
 764 04ea 1F93      		push r17
 765               	/* prologue: function */
 766               	/* frame size = 0 */
 767 04ec 182F      		mov r17,r24
 768 04ee 0E94 0000 		call AvrUsartDisable
 769 04f2 812F      		mov r24,r17
 770 04f4 10FF      		sbrs r17,0
 771 04f6 00C0      		rjmp .L106
 772 04f8 11FF      		sbrs r17,1
 773 04fa 00C0      		rjmp .L107
 774 04fc 129A      		sbi 34-32,2
 775 04fe 00C0      		rjmp .L108
 776               	.L107:
 777 0500 1298      		cbi 34-32,2
 778               	.L108:
 779 0502 82FF      		sbrs r24,2
 780 0504 00C0      		rjmp .L109
 781 0506 8091 9D00 		lds r24,157
 782 050a 8160      		ori r24,lo8(1)
 783 050c 00C0      		rjmp .L117
 784               	.L109:
 785 050e 8091 9D00 		lds r24,157
 786 0512 8E7F      		andi r24,lo8(-2)
 787               	.L117:
 788 0514 8093 9D00 		sts 157,r24
 789 0518 8091 9B00 		lds r24,155
 790 051c 8D7F      		andi r24,lo8(-3)
 791 051e 8093 9B00 		sts 155,r24
 792 0522 8091 9B00 		lds r24,155
 793 0526 8064      		ori r24,lo8(64)
 794 0528 8093 9B00 		sts 155,r24
 795 052c 00C0      		rjmp .L111
 796               	.L106:
 797 052e 15FF      		sbrs r17,5
 798 0530 00C0      		rjmp .L112
GAS LISTING C:\Temp/ccvrVlPh.s 			page 15


 799 0532 8091 9B00 		lds r24,155
 800 0536 8260      		ori r24,lo8(2)
 801 0538 00C0      		rjmp .L118
 802               	.L112:
 803 053a 8091 9B00 		lds r24,155
 804 053e 8D7F      		andi r24,lo8(-3)
 805               	.L118:
 806 0540 8093 9B00 		sts 155,r24
 807 0544 8091 9D00 		lds r24,157
 808 0548 8E7F      		andi r24,lo8(-2)
 809 054a 8093 9D00 		sts 157,r24
 810 054e 8091 9D00 		lds r24,157
 811 0552 8F7B      		andi r24,lo8(-65)
 812 0554 8093 9D00 		sts 157,r24
 813               	.L111:
 814               	/* #APP */
 815               	 ;  500 "../../nut/arch/avr/dev/usartavr.c" 1
 816 0558 0FB6      		in  __tmp_reg__, __SREG__
 817 055a F894      		cli
 818 055c 0F92      		push __tmp_reg__
 819               		
 820               	 ;  0 "" 2
 821               	/* #NOAPP */
 822 055e 88EB      		ldi r24,lo8(-72)
 823 0560 8093 9A00 		sts 154,r24
 824               	/* #APP */
 825               	 ;  511 "../../nut/arch/avr/dev/usartavr.c" 1
 826 0564 0F90      		pop __tmp_reg__
 827 0566 0FBE      		out __SREG__, __tmp_reg__
 828               		
 829               	 ;  0 "" 2
 830               	/* #NOAPP */
 831 0568 0E94 0000 		call AvrUsartGetClockMode
 832 056c 8117      		cp r24,r17
 833 056e 01F4      		brne .L114
 834 0570 20E0      		ldi r18,lo8(0)
 835 0572 30E0      		ldi r19,hi8(0)
 836 0574 00C0      		rjmp .L115
 837               	.L114:
 838 0576 2FEF      		ldi r18,lo8(-1)
 839 0578 3FEF      		ldi r19,hi8(-1)
 840               	.L115:
 841 057a C901      		movw r24,r18
 842               	/* epilogue start */
 843 057c 1F91      		pop r17
 844 057e 0895      		ret
 845               		.size	AvrUsartSetClockMode, .-AvrUsartSetClockMode
 846               		.type	AvrUsartSetStopBits, @function
 847               	AvrUsartSetStopBits:
 848 0580 1F93      		push r17
 849               	/* prologue: function */
 850               	/* frame size = 0 */
 851 0582 182F      		mov r17,r24
 852 0584 0E94 0000 		call AvrUsartDisable
 853 0588 1130      		cpi r17,lo8(1)
 854 058a 01F4      		brne .L120
 855 058c 8091 9D00 		lds r24,157
GAS LISTING C:\Temp/ccvrVlPh.s 			page 16


 856 0590 877F      		andi r24,lo8(-9)
 857 0592 00C0      		rjmp .L127
 858               	.L120:
 859 0594 1230      		cpi r17,lo8(2)
 860 0596 01F4      		brne .L121
 861 0598 8091 9D00 		lds r24,157
 862 059c 8860      		ori r24,lo8(8)
 863               	.L127:
 864 059e 8093 9D00 		sts 157,r24
 865               	.L121:
 866               	/* #APP */
 867               	 ;  500 "../../nut/arch/avr/dev/usartavr.c" 1
 868 05a2 0FB6      		in  __tmp_reg__, __SREG__
 869 05a4 F894      		cli
 870 05a6 0F92      		push __tmp_reg__
 871               		
 872               	 ;  0 "" 2
 873               	/* #NOAPP */
 874 05a8 88EB      		ldi r24,lo8(-72)
 875 05aa 8093 9A00 		sts 154,r24
 876               	/* #APP */
 877               	 ;  511 "../../nut/arch/avr/dev/usartavr.c" 1
 878 05ae 0F90      		pop __tmp_reg__
 879 05b0 0FBE      		out __SREG__, __tmp_reg__
 880               		
 881               	 ;  0 "" 2
 882               	/* #NOAPP */
 883 05b2 8091 9D00 		lds r24,157
 884 05b6 83FD      		sbrc r24,3
 885 05b8 00C0      		rjmp .L122
 886 05ba 81E0      		ldi r24,lo8(1)
 887 05bc 00C0      		rjmp .L123
 888               	.L122:
 889 05be 82E0      		ldi r24,lo8(2)
 890               	.L123:
 891 05c0 8117      		cp r24,r17
 892 05c2 01F4      		brne .L124
 893 05c4 20E0      		ldi r18,lo8(0)
 894 05c6 30E0      		ldi r19,hi8(0)
 895 05c8 00C0      		rjmp .L125
 896               	.L124:
 897 05ca 2FEF      		ldi r18,lo8(-1)
 898 05cc 3FEF      		ldi r19,hi8(-1)
 899               	.L125:
 900 05ce C901      		movw r24,r18
 901               	/* epilogue start */
 902 05d0 1F91      		pop r17
 903 05d2 0895      		ret
 904               		.size	AvrUsartSetStopBits, .-AvrUsartSetStopBits
 905               		.type	AvrUsartSetParity, @function
 906               	AvrUsartSetParity:
 907 05d4 1F93      		push r17
 908               	/* prologue: function */
 909               	/* frame size = 0 */
 910 05d6 182F      		mov r17,r24
 911 05d8 0E94 0000 		call AvrUsartDisable
 912 05dc 1130      		cpi r17,lo8(1)
GAS LISTING C:\Temp/ccvrVlPh.s 			page 17


 913 05de 01F0      		breq .L131
 914 05e0 1130      		cpi r17,lo8(1)
 915 05e2 00F0      		brlo .L130
 916 05e4 1230      		cpi r17,lo8(2)
 917 05e6 01F4      		brne .L129
 918 05e8 00C0      		rjmp .L141
 919               	.L130:
 920 05ea 8091 9D00 		lds r24,157
 921 05ee 8F7E      		andi r24,lo8(-17)
 922 05f0 8093 9D00 		sts 157,r24
 923 05f4 8091 9D00 		lds r24,157
 924 05f8 8F7D      		andi r24,lo8(-33)
 925 05fa 00C0      		rjmp .L139
 926               	.L131:
 927 05fc 8091 9D00 		lds r24,157
 928 0600 8061      		ori r24,lo8(16)
 929 0602 00C0      		rjmp .L140
 930               	.L141:
 931 0604 8091 9D00 		lds r24,157
 932 0608 8F7E      		andi r24,lo8(-17)
 933               	.L140:
 934 060a 8093 9D00 		sts 157,r24
 935 060e 8091 9D00 		lds r24,157
 936 0612 8062      		ori r24,lo8(32)
 937               	.L139:
 938 0614 8093 9D00 		sts 157,r24
 939               	.L129:
 940               	/* #APP */
 941               	 ;  500 "../../nut/arch/avr/dev/usartavr.c" 1
 942 0618 0FB6      		in  __tmp_reg__, __SREG__
 943 061a F894      		cli
 944 061c 0F92      		push __tmp_reg__
 945               		
 946               	 ;  0 "" 2
 947               	/* #NOAPP */
 948 061e 88EB      		ldi r24,lo8(-72)
 949 0620 8093 9A00 		sts 154,r24
 950               	/* #APP */
 951               	 ;  511 "../../nut/arch/avr/dev/usartavr.c" 1
 952 0624 0F90      		pop __tmp_reg__
 953 0626 0FBE      		out __SREG__, __tmp_reg__
 954               		
 955               	 ;  0 "" 2
 956               	/* #NOAPP */
 957 0628 8091 9D00 		lds r24,157
 958 062c 85FD      		sbrc r24,5
 959 062e 00C0      		rjmp .L133
 960 0630 80E0      		ldi r24,lo8(0)
 961 0632 00C0      		rjmp .L134
 962               	.L133:
 963 0634 8091 9D00 		lds r24,157
 964 0638 84FD      		sbrc r24,4
 965 063a 00C0      		rjmp .L135
 966 063c 82E0      		ldi r24,lo8(2)
 967 063e 00C0      		rjmp .L134
 968               	.L135:
 969 0640 81E0      		ldi r24,lo8(1)
GAS LISTING C:\Temp/ccvrVlPh.s 			page 18


 970               	.L134:
 971 0642 8117      		cp r24,r17
 972 0644 01F4      		brne .L136
 973 0646 20E0      		ldi r18,lo8(0)
 974 0648 30E0      		ldi r19,hi8(0)
 975 064a 00C0      		rjmp .L137
 976               	.L136:
 977 064c 2FEF      		ldi r18,lo8(-1)
 978 064e 3FEF      		ldi r19,hi8(-1)
 979               	.L137:
 980 0650 C901      		movw r24,r18
 981               	/* epilogue start */
 982 0652 1F91      		pop r17
 983 0654 0895      		ret
 984               		.size	AvrUsartSetParity, .-AvrUsartSetParity
 985               		.type	AvrUsartSetDataBits, @function
 986               	AvrUsartSetDataBits:
 987 0656 1F93      		push r17
 988               	/* prologue: function */
 989               	/* frame size = 0 */
 990 0658 182F      		mov r17,r24
 991 065a 0E94 0000 		call AvrUsartDisable
 992 065e 8091 9A00 		lds r24,154
 993 0662 8B7F      		andi r24,lo8(-5)
 994 0664 8093 9A00 		sts 154,r24
 995 0668 8091 9D00 		lds r24,157
 996 066c 8D7F      		andi r24,lo8(-3)
 997 066e 8093 9D00 		sts 157,r24
 998 0672 8091 9D00 		lds r24,157
 999 0676 8B7F      		andi r24,lo8(-5)
 1000 0678 8093 9D00 		sts 157,r24
 1001 067c 1730      		cpi r17,lo8(7)
 1002 067e 01F0      		breq .L145
 1003 0680 1830      		cpi r17,lo8(8)
 1004 0682 00F4      		brsh .L148
 1005 0684 1630      		cpi r17,lo8(6)
 1006 0686 01F4      		brne .L143
 1007 0688 00C0      		rjmp .L158
 1008               	.L148:
 1009 068a 1830      		cpi r17,lo8(8)
 1010 068c 01F0      		breq .L146
 1011 068e 1930      		cpi r17,lo8(9)
 1012 0690 01F4      		brne .L143
 1013 0692 00C0      		rjmp .L159
 1014               	.L158:
 1015 0694 8091 9D00 		lds r24,157
 1016 0698 8260      		ori r24,lo8(2)
 1017 069a 00C0      		rjmp .L157
 1018               	.L159:
 1019 069c 8091 9A00 		lds r24,154
 1020 06a0 8460      		ori r24,lo8(4)
 1021 06a2 8093 9A00 		sts 154,r24
 1022               	.L146:
 1023 06a6 8091 9D00 		lds r24,157
 1024 06aa 8260      		ori r24,lo8(2)
 1025 06ac 8093 9D00 		sts 157,r24
 1026               	.L145:
GAS LISTING C:\Temp/ccvrVlPh.s 			page 19


 1027 06b0 8091 9D00 		lds r24,157
 1028 06b4 8460      		ori r24,lo8(4)
 1029               	.L157:
 1030 06b6 8093 9D00 		sts 157,r24
 1031               	.L143:
 1032               	/* #APP */
 1033               	 ;  500 "../../nut/arch/avr/dev/usartavr.c" 1
 1034 06ba 0FB6      		in  __tmp_reg__, __SREG__
 1035 06bc F894      		cli
 1036 06be 0F92      		push __tmp_reg__
 1037               		
 1038               	 ;  0 "" 2
 1039               	/* #NOAPP */
 1040 06c0 88EB      		ldi r24,lo8(-72)
 1041 06c2 8093 9A00 		sts 154,r24
 1042               	/* #APP */
 1043               	 ;  511 "../../nut/arch/avr/dev/usartavr.c" 1
 1044 06c6 0F90      		pop __tmp_reg__
 1045 06c8 0FBE      		out __SREG__, __tmp_reg__
 1046               		
 1047               	 ;  0 "" 2
 1048               	/* #NOAPP */
 1049 06ca 8091 9A00 		lds r24,154
 1050 06ce 82FF      		sbrs r24,2
 1051 06d0 00C0      		rjmp .L149
 1052 06d2 89E0      		ldi r24,lo8(9)
 1053 06d4 00C0      		rjmp .L150
 1054               	.L149:
 1055 06d6 8091 9D00 		lds r24,157
 1056 06da 82FF      		sbrs r24,2
 1057 06dc 00C0      		rjmp .L151
 1058 06de 8091 9D00 		lds r24,157
 1059 06e2 81FD      		sbrc r24,1
 1060 06e4 00C0      		rjmp .L152
 1061 06e6 87E0      		ldi r24,lo8(7)
 1062 06e8 00C0      		rjmp .L150
 1063               	.L152:
 1064 06ea 88E0      		ldi r24,lo8(8)
 1065 06ec 00C0      		rjmp .L150
 1066               	.L151:
 1067 06ee 8091 9D00 		lds r24,157
 1068 06f2 81FD      		sbrc r24,1
 1069 06f4 00C0      		rjmp .L153
 1070 06f6 85E0      		ldi r24,lo8(5)
 1071 06f8 00C0      		rjmp .L150
 1072               	.L153:
 1073 06fa 86E0      		ldi r24,lo8(6)
 1074               	.L150:
 1075 06fc 8117      		cp r24,r17
 1076 06fe 01F4      		brne .L154
 1077 0700 20E0      		ldi r18,lo8(0)
 1078 0702 30E0      		ldi r19,hi8(0)
 1079 0704 00C0      		rjmp .L155
 1080               	.L154:
 1081 0706 2FEF      		ldi r18,lo8(-1)
 1082 0708 3FEF      		ldi r19,hi8(-1)
 1083               	.L155:
GAS LISTING C:\Temp/ccvrVlPh.s 			page 20


 1084 070a C901      		movw r24,r18
 1085               	/* epilogue start */
 1086 070c 1F91      		pop r17
 1087 070e 0895      		ret
 1088               		.size	AvrUsartSetDataBits, .-AvrUsartSetDataBits
 1089               		.type	AvrUsartGetSpeed, @function
 1090               	AvrUsartGetSpeed:
 1091 0710 8F92      		push r8
 1092 0712 9F92      		push r9
 1093 0714 AF92      		push r10
 1094 0716 BF92      		push r11
 1095 0718 CF92      		push r12
 1096 071a DF92      		push r13
 1097 071c EF92      		push r14
 1098 071e FF92      		push r15
 1099 0720 0F93      		push r16
 1100 0722 1F93      		push r17
 1101               	/* prologue: function */
 1102               	/* frame size = 0 */
 1103 0724 9090 9900 		lds r9,153
 1104 0728 8090 9800 		lds r8,152
 1105 072c 8091 9D00 		lds r24,157
 1106 0730 86FF      		sbrs r24,6
 1107 0732 00C0      		rjmp .L161
 1108 0734 52E0      		ldi r21,lo8(2)
 1109 0736 A52E      		mov r10,r21
 1110 0738 B12C      		mov r11,__zero_reg__
 1111 073a C12C      		mov r12,__zero_reg__
 1112 073c D12C      		mov r13,__zero_reg__
 1113 073e 00C0      		rjmp .L162
 1114               	.L161:
 1115 0740 8091 9B00 		lds r24,155
 1116 0744 81FD      		sbrc r24,1
 1117 0746 00C0      		rjmp .L163
 1118 0748 40E1      		ldi r20,lo8(16)
 1119 074a A42E      		mov r10,r20
 1120 074c B12C      		mov r11,__zero_reg__
 1121 074e C12C      		mov r12,__zero_reg__
 1122 0750 D12C      		mov r13,__zero_reg__
 1123 0752 00C0      		rjmp .L162
 1124               	.L163:
 1125 0754 38E0      		ldi r19,lo8(8)
 1126 0756 A32E      		mov r10,r19
 1127 0758 B12C      		mov r11,__zero_reg__
 1128 075a C12C      		mov r12,__zero_reg__
 1129 075c D12C      		mov r13,__zero_reg__
 1130               	.L162:
 1131 075e 0E94 0000 		call NutGetCpuClock
 1132 0762 7B01      		movw r14,r22
 1133 0764 8C01      		movw r16,r24
 1134 0766 892D      		mov r24,r9
 1135 0768 90E0      		ldi r25,lo8(0)
 1136 076a 382D      		mov r19,r8
 1137 076c 20E0      		ldi r18,lo8(0)
 1138 076e 282B      		or r18,r24
 1139 0770 392B      		or r19,r25
 1140 0772 40E0      		ldi r20,lo8(0)
GAS LISTING C:\Temp/ccvrVlPh.s 			page 21


 1141 0774 50E0      		ldi r21,hi8(0)
 1142 0776 2F5F      		subi r18,lo8(-(1))
 1143 0778 3F4F      		sbci r19,hi8(-(1))
 1144 077a 4F4F      		sbci r20,hlo8(-(1))
 1145 077c 5F4F      		sbci r21,hhi8(-(1))
 1146 077e C601      		movw r24,r12
 1147 0780 B501      		movw r22,r10
 1148 0782 0E94 0000 		call __mulsi3
 1149 0786 9B01      		movw r18,r22
 1150 0788 AC01      		movw r20,r24
 1151 078a C801      		movw r24,r16
 1152 078c B701      		movw r22,r14
 1153 078e 0E94 0000 		call __udivmodsi4
 1154 0792 CA01      		movw r24,r20
 1155 0794 B901      		movw r22,r18
 1156               	/* epilogue start */
 1157 0796 1F91      		pop r17
 1158 0798 0F91      		pop r16
 1159 079a FF90      		pop r15
 1160 079c EF90      		pop r14
 1161 079e DF90      		pop r13
 1162 07a0 CF90      		pop r12
 1163 07a2 BF90      		pop r11
 1164 07a4 AF90      		pop r10
 1165 07a6 9F90      		pop r9
 1166 07a8 8F90      		pop r8
 1167 07aa 0895      		ret
 1168               		.size	AvrUsartGetSpeed, .-AvrUsartGetSpeed
 1169               		.type	AvrUsartSetSpeed, @function
 1170               	AvrUsartSetSpeed:
 1171 07ac EF92      		push r14
 1172 07ae FF92      		push r15
 1173 07b0 0F93      		push r16
 1174 07b2 1F93      		push r17
 1175               	/* prologue: function */
 1176               	/* frame size = 0 */
 1177 07b4 7B01      		movw r14,r22
 1178 07b6 8C01      		movw r16,r24
 1179 07b8 0E94 0000 		call AvrUsartDisable
 1180 07bc 8091 9D00 		lds r24,157
 1181 07c0 86FD      		sbrc r24,6
 1182 07c2 00C0      		rjmp .L166
 1183 07c4 8091 9B00 		lds r24,155
 1184 07c8 81FF      		sbrs r24,1
 1185 07ca 00C0      		rjmp .L167
 1186 07cc E2E0      		ldi r30,2
 1187 07ce EE0C      	1:	lsl r14
 1188 07d0 FF1C      		rol r15
 1189 07d2 001F      		rol r16
 1190 07d4 111F      		rol r17
 1191 07d6 EA95      		dec r30
 1192 07d8 01F4      		brne 1b
 1193 07da 00C0      		rjmp .L166
 1194               	.L167:
 1195 07dc 73E0      		ldi r23,3
 1196 07de EE0C      	1:	lsl r14
 1197 07e0 FF1C      		rol r15
GAS LISTING C:\Temp/ccvrVlPh.s 			page 22


 1198 07e2 001F      		rol r16
 1199 07e4 111F      		rol r17
 1200 07e6 7A95      		dec r23
 1201 07e8 01F4      		brne 1b
 1202               	.L166:
 1203 07ea 0E94 0000 		call NutGetCpuClock
 1204 07ee A801      		movw r20,r16
 1205 07f0 9701      		movw r18,r14
 1206 07f2 0E94 0000 		call __udivmodsi4
 1207 07f6 2F5F      		subi r18,lo8(-(1))
 1208 07f8 3F4F      		sbci r19,hi8(-(1))
 1209 07fa 4F4F      		sbci r20,hlo8(-(1))
 1210 07fc 5F4F      		sbci r21,hhi8(-(1))
 1211 07fe 5695      		lsr r21
 1212 0800 4795      		ror r20
 1213 0802 3795      		ror r19
 1214 0804 2795      		ror r18
 1215 0806 2150      		subi r18,lo8(-(-1))
 1216 0808 3040      		sbci r19,hi8(-(-1))
 1217 080a 2093 9900 		sts 153,r18
 1218 080e 3093 9800 		sts 152,r19
 1219               	/* #APP */
 1220               	 ;  500 "../../nut/arch/avr/dev/usartavr.c" 1
 1221 0812 0FB6      		in  __tmp_reg__, __SREG__
 1222 0814 F894      		cli
 1223 0816 0F92      		push __tmp_reg__
 1224               		
 1225               	 ;  0 "" 2
 1226               	/* #NOAPP */
 1227 0818 88EB      		ldi r24,lo8(-72)
 1228 081a 8093 9A00 		sts 154,r24
 1229               	/* #APP */
 1230               	 ;  511 "../../nut/arch/avr/dev/usartavr.c" 1
 1231 081e 0F90      		pop __tmp_reg__
 1232 0820 0FBE      		out __SREG__, __tmp_reg__
 1233               		
 1234               	 ;  0 "" 2
 1235               	/* #NOAPP */
 1236 0822 80E0      		ldi r24,lo8(0)
 1237 0824 90E0      		ldi r25,hi8(0)
 1238               	/* epilogue start */
 1239 0826 1F91      		pop r17
 1240 0828 0F91      		pop r16
 1241 082a FF90      		pop r15
 1242 082c EF90      		pop r14
 1243 082e 0895      		ret
 1244               		.size	AvrUsartSetSpeed, .-AvrUsartSetSpeed
 1245               		.type	AvrUsartDeinit, @function
 1246               	AvrUsartDeinit:
 1247               	/* prologue: function */
 1248               	/* frame size = 0 */
 1249 0830 40E0      		ldi r20,lo8(0)
 1250 0832 50E0      		ldi r21,hi8(0)
 1251 0834 60E0      		ldi r22,lo8(0)
 1252 0836 70E0      		ldi r23,hi8(0)
 1253 0838 80E0      		ldi r24,lo8(sig_UART1_RECV)
 1254 083a 90E0      		ldi r25,hi8(sig_UART1_RECV)
GAS LISTING C:\Temp/ccvrVlPh.s 			page 23


 1255 083c 0E94 0000 		call NutRegisterIrqHandler
 1256 0840 40E0      		ldi r20,lo8(0)
 1257 0842 50E0      		ldi r21,hi8(0)
 1258 0844 60E0      		ldi r22,lo8(0)
 1259 0846 70E0      		ldi r23,hi8(0)
 1260 0848 80E0      		ldi r24,lo8(sig_UART1_DATA)
 1261 084a 90E0      		ldi r25,hi8(sig_UART1_DATA)
 1262 084c 0E94 0000 		call NutRegisterIrqHandler
 1263 0850 80E0      		ldi r24,lo8(0)
 1264 0852 90E0      		ldi r25,hi8(0)
 1265               	/* epilogue start */
 1266 0854 0895      		ret
 1267               		.size	AvrUsartDeinit, .-AvrUsartDeinit
 1268               		.type	AvrUsartInit, @function
 1269               	AvrUsartInit:
 1270               	/* prologue: function */
 1271               	/* frame size = 0 */
 1272 0856 40E0      		ldi r20,lo8(dcb_usart1+34)
 1273 0858 50E0      		ldi r21,hi8(dcb_usart1+34)
 1274 085a 60E0      		ldi r22,lo8(gs(AvrUsartRxComplete))
 1275 085c 70E0      		ldi r23,hi8(gs(AvrUsartRxComplete))
 1276 085e 80E0      		ldi r24,lo8(sig_UART1_RECV)
 1277 0860 90E0      		ldi r25,hi8(sig_UART1_RECV)
 1278 0862 0E94 0000 		call NutRegisterIrqHandler
 1279 0866 892B      		or r24,r25
 1280 0868 01F4      		brne .L176
 1281               	.L172:
 1282 086a 40E0      		ldi r20,lo8(dcb_usart1+16)
 1283 086c 50E0      		ldi r21,hi8(dcb_usart1+16)
 1284 086e 60E0      		ldi r22,lo8(gs(AvrUsartTxEmpty))
 1285 0870 70E0      		ldi r23,hi8(gs(AvrUsartTxEmpty))
 1286 0872 80E0      		ldi r24,lo8(sig_UART1_DATA)
 1287 0874 90E0      		ldi r25,hi8(sig_UART1_DATA)
 1288 0876 0E94 0000 		call NutRegisterIrqHandler
 1289 087a 892B      		or r24,r25
 1290 087c 01F4      		brne .L174
 1291 087e 20E0      		ldi r18,lo8(0)
 1292 0880 30E0      		ldi r19,hi8(0)
 1293 0882 00C0      		rjmp .L173
 1294               	.L174:
 1295 0884 40E0      		ldi r20,lo8(0)
 1296 0886 50E0      		ldi r21,hi8(0)
 1297 0888 60E0      		ldi r22,lo8(0)
 1298 088a 70E0      		ldi r23,hi8(0)
 1299 088c 80E0      		ldi r24,lo8(sig_UART1_RECV)
 1300 088e 90E0      		ldi r25,hi8(sig_UART1_RECV)
 1301 0890 0E94 0000 		call NutRegisterIrqHandler
 1302               	.L176:
 1303 0894 2FEF      		ldi r18,lo8(-1)
 1304 0896 3FEF      		ldi r19,hi8(-1)
 1305               	.L173:
 1306 0898 C901      		movw r24,r18
 1307               	/* epilogue start */
 1308 089a 0895      		ret
 1309               		.size	AvrUsartInit, .-AvrUsartInit
 1310               	.global	devUsartAvr1
 1311               		.data
GAS LISTING C:\Temp/ccvrVlPh.s 			page 24


 1312               		.type	devUsartAvr1, @object
 1313               		.size	devUsartAvr1, 35
 1314               	devUsartAvr1:
 1315 0000 0000      		.word	0
 1316 0002 75        		.byte	117
 1317 0003 61        		.byte	97
 1318 0004 72        		.byte	114
 1319 0005 74        		.byte	116
 1320 0006 31        		.byte	49
 1321 0007 00        		.byte	0
 1322 0008 00        		.byte	0
 1323 0009 00        		.byte	0
 1324 000a 00        		.byte	0
 1325 000b 05        		.byte	5
 1326 000c 0100      		.word	1
 1327 000e 00        		.byte	0
 1328 000f 0000      		.word	0
 1329 0011 0000      		.word	dcb_usart1
 1330 0013 0000      		.word	gs(UsartInit)
 1331 0015 0000      		.word	gs(UsartIOCtl)
 1332 0017 0000      		.word	gs(UsartRead)
 1333 0019 0000      		.word	gs(UsartWrite)
 1334 001b 0000      		.word	gs(UsartWrite_P)
 1335 001d 0000      		.word	gs(UsartOpen)
 1336 001f 0000      		.word	gs(UsartClose)
 1337 0021 0000      		.word	gs(UsartSize)
 1338               		.type	dcb_usart1, @object
 1339               		.size	dcb_usart1, 89
 1340               	dcb_usart1:
 1341 0023 00        		.byte	0
 1342 0024 00        		.byte	0
 1343 0025 00        		.byte	0
 1344 0026 00        		.byte	0
 1345 0027 00        		.byte	0
 1346 0028 00        		.byte	0
 1347 0029 00        		.byte	0
 1348 002a 00        		.byte	0
 1349 002b 00        		.byte	0
 1350 002c 00        		.byte	0
 1351 002d 00        		.byte	0
 1352 002e 00        		.byte	0
 1353 002f 00        		.byte	0
 1354 0030 00        		.byte	0
 1355 0031 00        		.byte	0
 1356 0032 00        		.byte	0
 1357 0033 0000      		.word	0
 1358 0035 0000      		.word	0
 1359 0037 0000      		.word	0
 1360 0039 0000      		.word	0
 1361 003b 0000      		.word	0
 1362 003d 0000      		.word	0
 1363 003f 0000      		.word	0
 1364 0041 0000      		.word	0
 1365 0043 0000      		.skip 2,0
 1366 0045 0000      		.word	0
 1367 0047 0000      		.word	0
 1368 0049 0000      		.word	0
GAS LISTING C:\Temp/ccvrVlPh.s 			page 25


 1369 004b 0000      		.word	0
 1370 004d 0000      		.word	0
 1371 004f 0000      		.word	0
 1372 0051 0000      		.word	0
 1373 0053 0000      		.word	0
 1374 0055 0000      		.skip 2,0
 1375 0057 00        		.byte	0
 1376 0058 0000      		.word	gs(AvrUsartInit)
 1377 005a 0000      		.word	gs(AvrUsartDeinit)
 1378 005c 0000      		.word	gs(AvrUsartTxStart)
 1379 005e 0000      		.word	gs(AvrUsartRxStart)
 1380 0060 0000      		.word	gs(AvrUsartSetFlowControl)
 1381 0062 0000      		.word	gs(AvrUsartGetFlowControl)
 1382 0064 0000      		.word	gs(AvrUsartSetSpeed)
 1383 0066 0000      		.word	gs(AvrUsartGetSpeed)
 1384 0068 0000      		.word	gs(AvrUsartSetDataBits)
 1385 006a 0000      		.word	gs(AvrUsartGetDataBits)
 1386 006c 0000      		.word	gs(AvrUsartSetParity)
 1387 006e 0000      		.word	gs(AvrUsartGetParity)
 1388 0070 0000      		.word	gs(AvrUsartSetStopBits)
 1389 0072 0000      		.word	gs(AvrUsartGetStopBits)
 1390 0074 0000      		.word	gs(AvrUsartSetStatus)
 1391 0076 0000      		.word	gs(AvrUsartGetStatus)
 1392 0078 0000      		.word	gs(AvrUsartSetClockMode)
 1393 007a 0000      		.word	gs(AvrUsartGetClockMode)
 1394               		.lcomm rx_errors,1
 1395               		.lcomm flow_control,1
 1396               		.lcomm tx_aframe,1
GAS LISTING C:\Temp/ccvrVlPh.s 			page 26


DEFINED SYMBOLS
                            *ABS*:00000000 usart1avr.c
  C:\Temp/ccvrVlPh.s:2      *ABS*:0000003f __SREG__
  C:\Temp/ccvrVlPh.s:3      *ABS*:0000003e __SP_H__
  C:\Temp/ccvrVlPh.s:4      *ABS*:0000003d __SP_L__
  C:\Temp/ccvrVlPh.s:5      *ABS*:00000034 __CCP__
  C:\Temp/ccvrVlPh.s:6      *ABS*:00000000 __tmp_reg__
  C:\Temp/ccvrVlPh.s:7      *ABS*:00000001 __zero_reg__
  C:\Temp/ccvrVlPh.s:12     .text:00000000 AvrUsartTxEmpty
  C:\Temp/ccvrVlPh.s:1394   .bss:00000001 flow_control
  C:\Temp/ccvrVlPh.s:1395   .bss:00000002 tx_aframe
  C:\Temp/ccvrVlPh.s:143    .text:00000102 AvrUsartRxComplete
                             .bss:00000000 rx_errors
  C:\Temp/ccvrVlPh.s:281    .text:00000210 AvrUsartGetDataBits
  C:\Temp/ccvrVlPh.s:312    .text:00000244 AvrUsartGetParity
  C:\Temp/ccvrVlPh.s:331    .text:00000260 AvrUsartGetStopBits
  C:\Temp/ccvrVlPh.s:344    .text:00000270 AvrUsartGetStatus
  C:\Temp/ccvrVlPh.s:406    .text:000002d4 AvrUsartSetStatus
  C:\Temp/ccvrVlPh.s:523    .text:000003a2 AvrUsartGetClockMode
  C:\Temp/ccvrVlPh.s:555    .text:000003d2 AvrUsartGetFlowControl
  C:\Temp/ccvrVlPh.s:578    .text:000003f2 AvrUsartSetFlowControl
  C:\Temp/ccvrVlPh.s:663    .text:00000464 AvrUsartTxStart
  C:\Temp/ccvrVlPh.s:675    .text:00000470 AvrUsartRxStart
  C:\Temp/ccvrVlPh.s:716    .text:000004aa AvrUsartDisable
  C:\Temp/ccvrVlPh.s:763    .text:000004ea AvrUsartSetClockMode
  C:\Temp/ccvrVlPh.s:847    .text:00000580 AvrUsartSetStopBits
  C:\Temp/ccvrVlPh.s:906    .text:000005d4 AvrUsartSetParity
  C:\Temp/ccvrVlPh.s:986    .text:00000656 AvrUsartSetDataBits
  C:\Temp/ccvrVlPh.s:1090   .text:00000710 AvrUsartGetSpeed
  C:\Temp/ccvrVlPh.s:1170   .text:000007ac AvrUsartSetSpeed
  C:\Temp/ccvrVlPh.s:1246   .text:00000830 AvrUsartDeinit
  C:\Temp/ccvrVlPh.s:1269   .text:00000856 AvrUsartInit
  C:\Temp/ccvrVlPh.s:1340   .data:00000023 dcb_usart1
  C:\Temp/ccvrVlPh.s:1314   .data:00000000 devUsartAvr1

UNDEFINED SYMBOLS
__do_copy_data
__do_clear_bss
NutDelay
NutGetCpuClock
__mulsi3
__udivmodsi4
sig_UART1_RECV
NutRegisterIrqHandler
sig_UART1_DATA
UsartInit
UsartIOCtl
UsartRead
UsartWrite
UsartWrite_P
UsartOpen
UsartClose
UsartSize
