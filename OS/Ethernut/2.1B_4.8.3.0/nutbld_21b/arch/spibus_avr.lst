GAS LISTING C:\Temp/cckEJv96.s 			page 1


   1               		.file	"spibus_avr.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__  = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.global __do_copy_data
   9               		.global __do_clear_bss
  10               		.text
  11               	.global	AvrSpiSetup
  12               		.type	AvrSpiSetup, @function
  13               	AvrSpiSetup:
  14 0000 0F93      		push r16
  15 0002 1F93      		push r17
  16 0004 CF93      		push r28
  17 0006 DF93      		push r29
  18               	/* prologue: function */
  19               	/* frame size = 0 */
  20 0008 EC01      		movw r28,r24
  21 000a 0A81      		ldd r16,Y+2
  22 000c 1B81      		ldd r17,Y+3
  23 000e 8885      		ldd r24,Y+8
  24 0010 90E0      		ldi r25,lo8(0)
  25 0012 8370      		andi r24,lo8(3)
  26 0014 9070      		andi r25,hi8(3)
  27 0016 880F      		lsl r24
  28 0018 991F      		rol r25
  29 001a 880F      		lsl r24
  30 001c 991F      		rol r25
  31 001e 8065      		ori r24,lo8(80)
  32 0020 F801      		movw r30,r16
  33 0022 8083      		st Z,r24
  34 0024 0E94 0000 		call NutGetCpuClock
  35 0028 9B01      		movw r18,r22
  36 002a AC01      		movw r20,r24
  37 002c 8C81      		ldd r24,Y+4
  38 002e 9D81      		ldd r25,Y+5
  39 0030 AE81      		ldd r26,Y+6
  40 0032 BF81      		ldd r27,Y+7
  41 0034 60E0      		ldi r22,lo8(0)
  42               	.L3:
  43 0036 5695      		lsr r21
  44 0038 4795      		ror r20
  45 003a 3795      		ror r19
  46 003c 2795      		ror r18
  47 003e 8217      		cp r24,r18
  48 0040 9307      		cpc r25,r19
  49 0042 A407      		cpc r26,r20
  50 0044 B507      		cpc r27,r21
  51 0046 00F4      		brsh .L2
  52 0048 6F5F      		subi r22,lo8(-(1))
  53 004a 6730      		cpi r22,lo8(7)
  54 004c 01F4      		brne .L3
  55               	.L2:
  56 004e 962F      		mov r25,r22
  57 0050 9695      		lsr r25
GAS LISTING C:\Temp/cckEJv96.s 			page 2


  58 0052 F801      		movw r30,r16
  59 0054 8081      		ld r24,Z
  60 0056 892B      		or r24,r25
  61 0058 8083      		st Z,r24
  62 005a 6630      		cpi r22,lo8(6)
  63 005c 00F4      		brsh .L4
  64 005e 6095      		com r22
  65 0060 6170      		andi r22,lo8(1)
  66 0062 6183      		std Z+1,r22
  67               	.L4:
  68 0064 2C83      		std Y+4,r18
  69 0066 3D83      		std Y+5,r19
  70 0068 4E83      		std Y+6,r20
  71 006a 5F83      		std Y+7,r21
  72 006c 8885      		ldd r24,Y+8
  73 006e 9985      		ldd r25,Y+9
  74 0070 9F77      		andi r25,hi8(32767)
  75 0072 9987      		std Y+9,r25
  76 0074 8887      		std Y+8,r24
  77 0076 80E0      		ldi r24,lo8(0)
  78 0078 90E0      		ldi r25,hi8(0)
  79               	/* epilogue start */
  80 007a DF91      		pop r29
  81 007c CF91      		pop r28
  82 007e 1F91      		pop r17
  83 0080 0F91      		pop r16
  84 0082 0895      		ret
  85               		.size	AvrSpiSetup, .-AvrSpiSetup
GAS LISTING C:\Temp/cckEJv96.s 			page 3


DEFINED SYMBOLS
                            *ABS*:00000000 spibus_avr.c
  C:\Temp/cckEJv96.s:2      *ABS*:0000003f __SREG__
  C:\Temp/cckEJv96.s:3      *ABS*:0000003e __SP_H__
  C:\Temp/cckEJv96.s:4      *ABS*:0000003d __SP_L__
  C:\Temp/cckEJv96.s:5      *ABS*:00000034 __CCP__
  C:\Temp/cckEJv96.s:6      *ABS*:00000000 __tmp_reg__
  C:\Temp/cckEJv96.s:7      *ABS*:00000001 __zero_reg__
  C:\Temp/cckEJv96.s:13     .text:00000000 AvrSpiSetup

UNDEFINED SYMBOLS
__do_copy_data
__do_clear_bss
NutGetCpuClock
