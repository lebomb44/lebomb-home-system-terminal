GAS LISTING C:\Temp/ccNM8Dlh.s 			page 1


   1               		.file	"uartavr.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__  = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.global __do_copy_data
   9               		.global __do_clear_bss
  10               		.text
  11               		.type	TxComplete, @function
  12               	TxComplete:
  13               	/* prologue: function */
  14               	/* frame size = 0 */
  15 0000 FC01      		movw r30,r24
  16 0002 A785      		ldd r26,Z+15
  17 0004 B089      		ldd r27,Z+16
  18 0006 1896      		adiw r26,8
  19 0008 9C91      		ld r25,X
  20 000a 1897      		sbiw r26,8
  21 000c 1996      		adiw r26,9
  22 000e 8C91      		ld r24,X
  23 0010 1997      		sbiw r26,9
  24 0012 9817      		cp r25,r24
  25 0014 01F0      		breq .L2
  26 0016 8485      		ldd r24,Z+12
  27 0018 9585      		ldd r25,Z+13
  28 001a 892B      		or r24,r25
  29 001c 01F0      		breq .L3
  30 001e 1896      		adiw r26,8
  31 0020 8C91      		ld r24,X
  32 0022 1897      		sbiw r26,8
  33 0024 FD01      		movw r30,r26
  34 0026 E80F      		add r30,r24
  35 0028 F11D      		adc r31,__zero_reg__
  36 002a E45F      		subi r30,lo8(-(268))
  37 002c FE4F      		sbci r31,hi8(-(268))
  38 002e 8081      		ld r24,Z
  39 0030 8093 9C00 		sts 156,r24
  40 0034 00C0      		rjmp .L4
  41               	.L3:
  42 0036 1896      		adiw r26,8
  43 0038 8C91      		ld r24,X
  44 003a 1897      		sbiw r26,8
  45 003c FD01      		movw r30,r26
  46 003e E80F      		add r30,r24
  47 0040 F11D      		adc r31,__zero_reg__
  48 0042 E45F      		subi r30,lo8(-(268))
  49 0044 FE4F      		sbci r31,hi8(-(268))
  50 0046 8081      		ld r24,Z
  51 0048 8CB9      		out 44-32,r24
  52               	.L4:
  53 004a 1896      		adiw r26,8
  54 004c 8C91      		ld r24,X
  55 004e 1897      		sbiw r26,8
  56 0050 8F5F      		subi r24,lo8(-(1))
  57 0052 1896      		adiw r26,8
GAS LISTING C:\Temp/ccNM8Dlh.s 			page 2


  58 0054 8C93      		st X,r24
  59 0056 0895      		ret
  60               	.L2:
  61 0058 1A96      		adiw r26,10
  62 005a 1C92      		st X,__zero_reg__
  63 005c A189      		ldd r26,Z+17
  64 005e B289      		ldd r27,Z+18
  65 0060 1896      		adiw r26,8
  66 0062 ED91      		ld r30,X+
  67 0064 FC91      		ld r31,X
  68 0066 1997      		sbiw r26,8+1
  69 0068 3097      		sbiw r30,0
  70 006a 01F4      		brne .L6
  71 006c 8FEF      		ldi r24,lo8(-1)
  72 006e 9FEF      		ldi r25,hi8(-1)
  73 0070 1996      		adiw r26,8+1
  74 0072 9C93      		st X,r25
  75 0074 8E93      		st -X,r24
  76 0076 1897      		sbiw r26,8
  77 0078 0895      		ret
  78               	.L6:
  79 007a 8FEF      		ldi r24,hi8(-1)
  80 007c EF3F      		cpi r30,lo8(-1)
  81 007e F807      		cpc r31,r24
  82 0080 01F0      		breq .L7
  83 0082 8481      		ldd r24,Z+4
  84 0084 9581      		ldd r25,Z+5
  85 0086 0196      		adiw r24,1
  86 0088 9583      		std Z+5,r25
  87 008a 8483      		std Z+4,r24
  88               	.L7:
  89 008c 0895      		ret
  90               		.size	TxComplete, .-TxComplete
  91               		.type	RxComplete, @function
  92               	RxComplete:
  93 008e CF93      		push r28
  94 0090 DF93      		push r29
  95               	/* prologue: function */
  96               	/* frame size = 0 */
  97 0092 DC01      		movw r26,r24
  98 0094 1F96      		adiw r26,15
  99 0096 CD91      		ld r28,X+
 100 0098 DC91      		ld r29,X
 101 009a 5097      		sbiw r26,15+1
 102 009c 1C96      		adiw r26,12
 103 009e 8D91      		ld r24,X+
 104 00a0 9C91      		ld r25,X
 105 00a2 1D97      		sbiw r26,12+1
 106 00a4 892B      		or r24,r25
 107 00a6 01F0      		breq .L9
 108 00a8 8E81      		ldd r24,Y+6
 109 00aa 9091 9C00 		lds r25,156
 110 00ae 00C0      		rjmp .L14
 111               	.L9:
 112 00b0 8E81      		ldd r24,Y+6
 113 00b2 9CB1      		in r25,44-32
 114               	.L14:
GAS LISTING C:\Temp/ccNM8Dlh.s 			page 3


 115 00b4 FE01      		movw r30,r28
 116 00b6 E80F      		add r30,r24
 117 00b8 F11D      		adc r31,__zero_reg__
 118 00ba 9487      		std Z+12,r25
 119 00bc 9E81      		ldd r25,Y+6
 120 00be 8F81      		ldd r24,Y+7
 121 00c0 8917      		cp r24,r25
 122 00c2 01F4      		brne .L11
 123 00c4 5196      		adiw r26,17
 124 00c6 0D90      		ld __tmp_reg__,X+
 125 00c8 BC91      		ld r27,X
 126 00ca A02D      		mov r26,__tmp_reg__
 127 00cc 1A96      		adiw r26,10
 128 00ce ED91      		ld r30,X+
 129 00d0 FC91      		ld r31,X
 130 00d2 1B97      		sbiw r26,10+1
 131 00d4 3097      		sbiw r30,0
 132 00d6 01F4      		brne .L12
 133 00d8 8FEF      		ldi r24,lo8(-1)
 134 00da 9FEF      		ldi r25,hi8(-1)
 135 00dc 1B96      		adiw r26,10+1
 136 00de 9C93      		st X,r25
 137 00e0 8E93      		st -X,r24
 138 00e2 1A97      		sbiw r26,10
 139 00e4 00C0      		rjmp .L11
 140               	.L12:
 141 00e6 8FEF      		ldi r24,hi8(-1)
 142 00e8 EF3F      		cpi r30,lo8(-1)
 143 00ea F807      		cpc r31,r24
 144 00ec 01F0      		breq .L11
 145 00ee 8481      		ldd r24,Z+4
 146 00f0 9581      		ldd r25,Z+5
 147 00f2 0196      		adiw r24,1
 148 00f4 9583      		std Z+5,r25
 149 00f6 8483      		std Z+4,r24
 150               	.L11:
 151 00f8 8E81      		ldd r24,Y+6
 152 00fa 8F5F      		subi r24,lo8(-(1))
 153 00fc 8E83      		std Y+6,r24
 154               	/* epilogue start */
 155 00fe DF91      		pop r29
 156 0100 CF91      		pop r28
 157 0102 0895      		ret
 158               		.size	RxComplete, .-RxComplete
 159               	.global	UartAvrOutput
 160               		.type	UartAvrOutput, @function
 161               	UartAvrOutput:
 162               	/* prologue: function */
 163               	/* frame size = 0 */
 164 0104 FC01      		movw r30,r24
 165 0106 A785      		ldd r26,Z+15
 166 0108 B089      		ldd r27,Z+16
 167 010a 1A96      		adiw r26,10
 168 010c 8C91      		ld r24,X
 169 010e 1A97      		sbiw r26,10
 170 0110 8823      		tst r24
 171 0112 01F4      		brne .L16
GAS LISTING C:\Temp/ccNM8Dlh.s 			page 4


 172 0114 1896      		adiw r26,8
 173 0116 9C91      		ld r25,X
 174 0118 1897      		sbiw r26,8
 175 011a 1996      		adiw r26,9
 176 011c 8C91      		ld r24,X
 177 011e 1997      		sbiw r26,9
 178 0120 9817      		cp r25,r24
 179 0122 01F0      		breq .L16
 180 0124 81E0      		ldi r24,lo8(1)
 181 0126 1A96      		adiw r26,10
 182 0128 8C93      		st X,r24
 183 012a 1A97      		sbiw r26,10
 184 012c 8485      		ldd r24,Z+12
 185 012e 9585      		ldd r25,Z+13
 186 0130 892B      		or r24,r25
 187 0132 01F0      		breq .L17
 188 0134 1896      		adiw r26,8
 189 0136 8C91      		ld r24,X
 190 0138 1897      		sbiw r26,8
 191 013a FD01      		movw r30,r26
 192 013c E80F      		add r30,r24
 193 013e F11D      		adc r31,__zero_reg__
 194 0140 E45F      		subi r30,lo8(-(268))
 195 0142 FE4F      		sbci r31,hi8(-(268))
 196 0144 8081      		ld r24,Z
 197 0146 8093 9C00 		sts 156,r24
 198 014a 00C0      		rjmp .L18
 199               	.L17:
 200 014c 1896      		adiw r26,8
 201 014e 8C91      		ld r24,X
 202 0150 1897      		sbiw r26,8
 203 0152 FD01      		movw r30,r26
 204 0154 E80F      		add r30,r24
 205 0156 F11D      		adc r31,__zero_reg__
 206 0158 E45F      		subi r30,lo8(-(268))
 207 015a FE4F      		sbci r31,hi8(-(268))
 208 015c 8081      		ld r24,Z
 209 015e 8CB9      		out 44-32,r24
 210               	.L18:
 211 0160 1896      		adiw r26,8
 212 0162 8C91      		ld r24,X
 213 0164 1897      		sbiw r26,8
 214 0166 8F5F      		subi r24,lo8(-(1))
 215 0168 1896      		adiw r26,8
 216 016a 8C93      		st X,r24
 217               	.L16:
 218 016c 80E0      		ldi r24,lo8(0)
 219 016e 90E0      		ldi r25,hi8(0)
 220               	/* epilogue start */
 221 0170 0895      		ret
 222               		.size	UartAvrOutput, .-UartAvrOutput
 223               	.global	UartAvrSize
 224               		.type	UartAvrSize, @function
 225               	UartAvrSize:
 226               	/* prologue: function */
 227               	/* frame size = 0 */
 228 0172 DC01      		movw r26,r24
GAS LISTING C:\Temp/ccNM8Dlh.s 			page 5


 229 0174 1296      		adiw r26,2
 230 0176 ED91      		ld r30,X+
 231 0178 FC91      		ld r31,X
 232 017a 1397      		sbiw r26,2+1
 233 017c 0784      		ldd __tmp_reg__,Z+15
 234 017e F089      		ldd r31,Z+16
 235 0180 E02D      		mov r30,__tmp_reg__
 236 0182 6681      		ldd r22,Z+6
 237 0184 2781      		ldd r18,Z+7
 238 0186 621B      		sub r22,r18
 239 0188 70E0      		ldi r23,lo8(0)
 240 018a 80E0      		ldi r24,lo8(0)
 241 018c 90E0      		ldi r25,lo8(0)
 242               	/* epilogue start */
 243 018e 0895      		ret
 244               		.size	UartAvrSize, .-UartAvrSize
 245               	.global	UartAvrClose
 246               		.type	UartAvrClose, @function
 247               	UartAvrClose:
 248               	/* prologue: function */
 249               	/* frame size = 0 */
 250 0190 BC01      		movw r22,r24
 251 0192 80E0      		ldi r24,lo8(heapFreeList)
 252 0194 90E0      		ldi r25,hi8(heapFreeList)
 253 0196 0E94 0000 		call NutHeapRootFree
 254 019a 80E0      		ldi r24,lo8(0)
 255 019c 90E0      		ldi r25,hi8(0)
 256               	/* epilogue start */
 257 019e 0895      		ret
 258               		.size	UartAvrClose, .-UartAvrClose
 259               	.global	UartAvrOpen
 260               		.type	UartAvrOpen, @function
 261               	UartAvrOpen:
 262 01a0 EF92      		push r14
 263 01a2 FF92      		push r15
 264 01a4 0F93      		push r16
 265 01a6 1F93      		push r17
 266 01a8 CF93      		push r28
 267 01aa DF93      		push r29
 268               	/* prologue: function */
 269               	/* frame size = 0 */
 270 01ac 8C01      		movw r16,r24
 271 01ae 7A01      		movw r14,r20
 272 01b0 66E0      		ldi r22,lo8(6)
 273 01b2 70E0      		ldi r23,hi8(6)
 274 01b4 80E0      		ldi r24,lo8(heapFreeList)
 275 01b6 90E0      		ldi r25,hi8(heapFreeList)
 276 01b8 0E94 0000 		call NutHeapRootAlloc
 277 01bc FC01      		movw r30,r24
 278 01be BC01      		movw r22,r24
 279 01c0 0097      		sbiw r24,0
 280 01c2 01F4      		brne .L25
 281 01c4 6FEF      		ldi r22,lo8(-1)
 282 01c6 7FEF      		ldi r23,hi8(-1)
 283 01c8 00C0      		rjmp .L26
 284               	.L25:
 285 01ca E801      		movw r28,r16
GAS LISTING C:\Temp/ccNM8Dlh.s 			page 6


 286 01cc A989      		ldd r26,Y+17
 287 01ce BA89      		ldd r27,Y+18
 288 01d0 1C96      		adiw r26,12
 289 01d2 2D91      		ld r18,X+
 290 01d4 3D91      		ld r19,X+
 291 01d6 4D91      		ld r20,X+
 292 01d8 5C91      		ld r21,X
 293 01da 1F97      		sbiw r26,12+3
 294 01dc F7FE      		sbrs r15,7
 295 01de 00C0      		rjmp .L27
 296 01e0 4D7F      		andi r20,hlo8(-131073)
 297 01e2 00C0      		rjmp .L30
 298               	.L27:
 299 01e4 4260      		ori r20,hlo8(131072)
 300               	.L30:
 301 01e6 1C96      		adiw r26,12
 302 01e8 2D93      		st X+,r18
 303 01ea 3D93      		st X+,r19
 304 01ec 4D93      		st X+,r20
 305 01ee 5C93      		st X,r21
 306 01f0 1F97      		sbiw r26,12+3
 307 01f2 1182      		std Z+1,__zero_reg__
 308 01f4 1082      		st Z,__zero_reg__
 309 01f6 1383      		std Z+3,r17
 310 01f8 0283      		std Z+2,r16
 311 01fa 1582      		std Z+5,__zero_reg__
 312 01fc 1482      		std Z+4,__zero_reg__
 313               	.L26:
 314 01fe CB01      		movw r24,r22
 315               	/* epilogue start */
 316 0200 DF91      		pop r29
 317 0202 CF91      		pop r28
 318 0204 1F91      		pop r17
 319 0206 0F91      		pop r16
 320 0208 FF90      		pop r15
 321 020a EF90      		pop r14
 322 020c 0895      		ret
 323               		.size	UartAvrOpen, .-UartAvrOpen
 324               		.type	UartAvrDisable, @function
 325               	UartAvrDisable:
 326 020e CF93      		push r28
 327 0210 DF93      		push r29
 328               	/* prologue: function */
 329               	/* frame size = 0 */
 330 0212 EC01      		movw r28,r24
 331               	/* #APP */
 332               	 ;  335 "../../nut/arch/avr/dev/uartavr.c" 1
 333 0214 0FB6      		in  __tmp_reg__, __SREG__
 334 0216 F894      		cli
 335 0218 0F92      		push __tmp_reg__
 336               		
 337               	 ;  0 "" 2
 338               	/* #NOAPP */
 339 021a 0097      		sbiw r24,0
 340 021c 01F0      		breq .L32
 341 021e 8091 9A00 		lds r24,154
 342 0222 8F73      		andi r24,lo8(63)
GAS LISTING C:\Temp/ccNM8Dlh.s 			page 7


 343 0224 8093 9A00 		sts 154,r24
 344 0228 00C0      		rjmp .L33
 345               	.L32:
 346 022a 8AB1      		in r24,42-32
 347 022c 8F73      		andi r24,lo8(63)
 348 022e 8AB9      		out 42-32,r24
 349               	.L33:
 350               	/* #APP */
 351               	 ;  342 "../../nut/arch/avr/dev/uartavr.c" 1
 352 0230 0F90      		pop __tmp_reg__
 353 0232 0FBE      		out __SREG__, __tmp_reg__
 354               		
 355               	 ;  0 "" 2
 356               	/* #NOAPP */
 357 0234 8AE0      		ldi r24,lo8(10)
 358 0236 0E94 0000 		call NutDelay
 359 023a CD2B      		or r28,r29
 360 023c 01F0      		breq .L34
 361 023e 8091 9A00 		lds r24,154
 362 0242 877E      		andi r24,lo8(-25)
 363 0244 8093 9A00 		sts 154,r24
 364 0248 00C0      		rjmp .L36
 365               	.L34:
 366 024a 8AB1      		in r24,42-32
 367 024c 877E      		andi r24,lo8(-25)
 368 024e 8AB9      		out 42-32,r24
 369               	.L36:
 370               	/* epilogue start */
 371 0250 DF91      		pop r29
 372 0252 CF91      		pop r28
 373 0254 0895      		ret
 374               		.size	UartAvrDisable, .-UartAvrDisable
 375               	.global	UartAvrIOCtl
 376               		.type	UartAvrIOCtl, @function
 377               	UartAvrIOCtl:
 378 0256 8F92      		push r8
 379 0258 9F92      		push r9
 380 025a AF92      		push r10
 381 025c BF92      		push r11
 382 025e CF92      		push r12
 383 0260 DF92      		push r13
 384 0262 EF92      		push r14
 385 0264 FF92      		push r15
 386 0266 0F93      		push r16
 387 0268 1F93      		push r17
 388 026a CF93      		push r28
 389 026c DF93      		push r29
 390               	/* prologue: function */
 391               	/* frame size = 0 */
 392 026e DC01      		movw r26,r24
 393 0270 6A01      		movw r12,r20
 394 0272 EA01      		movw r28,r20
 395 0274 E880      		ld r14,Y
 396 0276 F980      		ldd r15,Y+1
 397 0278 0A81      		ldd r16,Y+2
 398 027a 1B81      		ldd r17,Y+3
 399 027c BE2C      		mov r11,r14
GAS LISTING C:\Temp/ccNM8Dlh.s 			page 8


 400 027e 0097      		sbiw r24,0
 401 0280 01F4      		brne .L38
 402 0282 A0E0      		ldi r26,lo8(devUart0)
 403 0284 B0E0      		ldi r27,hi8(devUart0)
 404               	.L38:
 405 0286 1C96      		adiw r26,12
 406 0288 AC90      		ld r10,X
 407 028a 1C97      		sbiw r26,12
 408 028c 5196      		adiw r26,17
 409 028e CD91      		ld r28,X+
 410 0290 DC91      		ld r29,X
 411 0292 5297      		sbiw r26,17+1
 412 0294 CB01      		movw r24,r22
 413 0296 8150      		subi r24,lo8(-(-257))
 414 0298 9140      		sbci r25,hi8(-(-257))
 415 029a 8431      		cpi r24,20
 416 029c 9105      		cpc r25,__zero_reg__
 417 029e 00F4      		brsh .L39
 418 02a0 8050      		subi r24,lo8(-(gs(.L59)))
 419 02a2 9040      		sbci r25,hi8(-(gs(.L59)))
 420 02a4 FC01      		movw r30,r24
 421 02a6 EE0F      		lsl r30
 422 02a8 FF1F      		rol r31
 423 02aa 0590      		lpm __tmp_reg__,Z+
 424 02ac F491      		lpm r31,Z
 425 02ae E02D      		mov r30,__tmp_reg__
 426 02b0 0994      		ijmp
 427               		.data
 428               		.section .progmem.gcc_sw_table, "a", @progbits
 429               		.p2align 1
 430               	.L59:
 431               		.data
 432               		.section .progmem.gcc_sw_table, "a", @progbits
 433               		.p2align 1
 434 0000 0000      		.word gs(.L40)
 435 0002 0000      		.word gs(.L41)
 436 0004 0000      		.word gs(.L42)
 437 0006 0000      		.word gs(.L43)
 438 0008 0000      		.word gs(.L44)
 439 000a 0000      		.word gs(.L45)
 440 000c 0000      		.word gs(.L46)
 441 000e 0000      		.word gs(.L47)
 442 0010 0000      		.word gs(.L39)
 443 0012 0000      		.word gs(.L48)
 444 0014 0000      		.word gs(.L49)
 445 0016 0000      		.word gs(.L50)
 446 0018 0000      		.word gs(.L51)
 447 001a 0000      		.word gs(.L52)
 448 001c 0000      		.word gs(.L55)
 449 001e 0000      		.word gs(.L54)
 450 0020 0000      		.word gs(.L55)
 451 0022 0000      		.word gs(.L56)
 452 0024 0000      		.word gs(.L57)
 453 0026 0000      		.word gs(.L58)
 454               		.text
 455               	.L39:
 456 02b2 2FEF      		ldi r18,lo8(-1)
GAS LISTING C:\Temp/ccNM8Dlh.s 			page 9


 457 02b4 3FEF      		ldi r19,hi8(-1)
 458 02b6 00C0      		rjmp .L60
 459               	.L40:
 460 02b8 8A2D      		mov r24,r10
 461 02ba 90E0      		ldi r25,lo8(0)
 462 02bc 0E94 0000 		call UartAvrDisable
 463 02c0 AA20      		tst r10
 464 02c2 01F0      		breq .L61
 465 02c4 8091 9B00 		lds r24,155
 466 02c8 81FF      		sbrs r24,1
 467 02ca 00C0      		rjmp .L64
 468 02cc 00C0      		rjmp .L106
 469               	.L61:
 470 02ce 599B      		sbis 43-32,1
 471 02d0 00C0      		rjmp .L64
 472               	.L106:
 473 02d2 92E0      		ldi r25,2
 474 02d4 EE0C      	1:	lsl r14
 475 02d6 FF1C      		rol r15
 476 02d8 001F      		rol r16
 477 02da 111F      		rol r17
 478 02dc 9A95      		dec r25
 479 02de 01F4      		brne 1b
 480 02e0 00C0      		rjmp .L63
 481               	.L64:
 482 02e2 83E0      		ldi r24,3
 483 02e4 EE0C      	1:	lsl r14
 484 02e6 FF1C      		rol r15
 485 02e8 001F      		rol r16
 486 02ea 111F      		rol r17
 487 02ec 8A95      		dec r24
 488 02ee 01F4      		brne 1b
 489               	.L63:
 490 02f0 0E94 0000 		call NutGetCpuClock
 491 02f4 A801      		movw r20,r16
 492 02f6 9701      		movw r18,r14
 493 02f8 0E94 0000 		call __udivmodsi4
 494 02fc 2F5F      		subi r18,lo8(-(1))
 495 02fe 3F4F      		sbci r19,hi8(-(1))
 496 0300 4F4F      		sbci r20,hlo8(-(1))
 497 0302 5F4F      		sbci r21,hhi8(-(1))
 498 0304 5695      		lsr r21
 499 0306 4795      		ror r20
 500 0308 3795      		ror r19
 501 030a 2795      		ror r18
 502 030c 2150      		subi r18,lo8(-(-1))
 503 030e 3040      		sbci r19,hi8(-(-1))
 504 0310 AA20      		tst r10
 505 0312 01F0      		breq .L65
 506 0314 2093 9900 		sts 153,r18
 507 0318 3093 9800 		sts 152,r19
 508 031c 00C0      		rjmp .L66
 509               	.L65:
 510 031e 29B9      		out 41-32,r18
 511 0320 3093 9000 		sts 144,r19
 512               	.L66:
 513               	/* #APP */
GAS LISTING C:\Temp/ccNM8Dlh.s 			page 10


 514               	 ;  317 "../../nut/arch/avr/dev/uartavr.c" 1
 515 0324 0FB6      		in  __tmp_reg__, __SREG__
 516 0326 F894      		cli
 517 0328 0F92      		push __tmp_reg__
 518               		
 519               	 ;  0 "" 2
 520               	/* #NOAPP */
 521 032a AA20      		tst r10
 522 032c 01F0      		breq .L67
 523 032e 88ED      		ldi r24,lo8(-40)
 524 0330 8093 9A00 		sts 154,r24
 525 0334 00C0      		rjmp .L68
 526               	.L67:
 527 0336 88ED      		ldi r24,lo8(-40)
 528 0338 8AB9      		out 42-32,r24
 529               	.L68:
 530               	/* #APP */
 531               	 ;  324 "../../nut/arch/avr/dev/uartavr.c" 1
 532 033a 0F90      		pop __tmp_reg__
 533 033c 0FBE      		out __SREG__, __tmp_reg__
 534               		
 535               	 ;  0 "" 2
 536               	/* #NOAPP */
 537 033e 00C0      		rjmp .L56
 538               	.L41:
 539 0340 AA20      		tst r10
 540 0342 01F0      		breq .L69
 541 0344 8091 9B00 		lds r24,155
 542 0348 81FD      		sbrc r24,1
 543 034a 00C0      		rjmp .L70
 544 034c A0E1      		ldi r26,lo8(16)
 545 034e 8A2E      		mov r8,r26
 546 0350 912C      		mov r9,__zero_reg__
 547 0352 A12C      		mov r10,__zero_reg__
 548 0354 B12C      		mov r11,__zero_reg__
 549 0356 00C0      		rjmp .L71
 550               	.L70:
 551 0358 F8E0      		ldi r31,lo8(8)
 552 035a 8F2E      		mov r8,r31
 553 035c 912C      		mov r9,__zero_reg__
 554 035e A12C      		mov r10,__zero_reg__
 555 0360 B12C      		mov r11,__zero_reg__
 556               	.L71:
 557 0362 8091 9800 		lds r24,152
 558 0366 9091 9900 		lds r25,153
 559 036a 00C0      		rjmp .L107
 560               	.L69:
 561 036c 5999      		sbic 43-32,1
 562 036e 00C0      		rjmp .L73
 563 0370 E0E1      		ldi r30,lo8(16)
 564 0372 8E2E      		mov r8,r30
 565 0374 912C      		mov r9,__zero_reg__
 566 0376 A12C      		mov r10,__zero_reg__
 567 0378 B12C      		mov r11,__zero_reg__
 568 037a 00C0      		rjmp .L74
 569               	.L73:
 570 037c 78E0      		ldi r23,lo8(8)
GAS LISTING C:\Temp/ccNM8Dlh.s 			page 11


 571 037e 872E      		mov r8,r23
 572 0380 912C      		mov r9,__zero_reg__
 573 0382 A12C      		mov r10,__zero_reg__
 574 0384 B12C      		mov r11,__zero_reg__
 575               	.L74:
 576 0386 8091 9000 		lds r24,144
 577 038a 99B1      		in r25,41-32
 578               	.L107:
 579 038c 382F      		mov r19,r24
 580 038e 20E0      		ldi r18,lo8(0)
 581 0390 C92F      		mov r28,r25
 582 0392 D0E0      		ldi r29,lo8(0)
 583 0394 C22B      		or r28,r18
 584 0396 D32B      		or r29,r19
 585 0398 0E94 0000 		call NutGetCpuClock
 586 039c 7B01      		movw r14,r22
 587 039e 8C01      		movw r16,r24
 588 03a0 2196      		adiw r28,1
 589 03a2 BE01      		movw r22,r28
 590 03a4 80E0      		ldi r24,lo8(0)
 591 03a6 90E0      		ldi r25,hi8(0)
 592 03a8 A501      		movw r20,r10
 593 03aa 9401      		movw r18,r8
 594 03ac 0E94 0000 		call __mulsi3
 595 03b0 9B01      		movw r18,r22
 596 03b2 AC01      		movw r20,r24
 597 03b4 C801      		movw r24,r16
 598 03b6 B701      		movw r22,r14
 599 03b8 0E94 0000 		call __udivmodsi4
 600 03bc E601      		movw r28,r12
 601 03be 2883      		st Y,r18
 602 03c0 3983      		std Y+1,r19
 603 03c2 4A83      		std Y+2,r20
 604 03c4 5B83      		std Y+3,r21
 605 03c6 00C0      		rjmp .L56
 606               	.L42:
 607 03c8 8A2D      		mov r24,r10
 608 03ca 90E0      		ldi r25,lo8(0)
 609 03cc 0E94 0000 		call UartAvrDisable
 610 03d0 8B2D      		mov r24,r11
 611 03d2 8550      		subi r24,lo8(-(-5))
 612 03d4 8430      		cpi r24,lo8(4)
 613 03d6 00F0      		brlo .+2
 614 03d8 00C0      		rjmp .L120
 615               	.L75:
 616 03da 982F      		mov r25,r24
 617 03dc 990F      		lsl r25
 618 03de AA20      		tst r10
 619 03e0 01F0      		breq .L77
 620 03e2 8091 9D00 		lds r24,157
 621 03e6 897F      		andi r24,lo8(-7)
 622 03e8 982B      		or r25,r24
 623 03ea 9093 9D00 		sts 157,r25
 624 03ee 8091 9A00 		lds r24,154
 625 03f2 8B7F      		andi r24,lo8(-5)
 626 03f4 8093 9A00 		sts 154,r24
 627 03f8 00C0      		rjmp .L109
GAS LISTING C:\Temp/ccNM8Dlh.s 			page 12


 628               	.L77:
 629 03fa 8091 9500 		lds r24,149
 630 03fe 897F      		andi r24,lo8(-7)
 631 0400 982B      		or r25,r24
 632 0402 9093 9500 		sts 149,r25
 633 0406 5298      		cbi 42-32,2
 634 0408 00C0      		rjmp .L109
 635               	.L43:
 636 040a AA20      		tst r10
 637 040c 01F0      		breq .L80
 638 040e 8091 9D00 		lds r24,157
 639 0412 90E0      		ldi r25,lo8(0)
 640 0414 8670      		andi r24,lo8(6)
 641 0416 9070      		andi r25,hi8(6)
 642 0418 9595      		asr r25
 643 041a 8795      		ror r24
 644 041c 0596      		adiw r24,5
 645 041e 00C0      		rjmp .L117
 646               	.L80:
 647 0420 8091 9500 		lds r24,149
 648 0424 90E0      		ldi r25,lo8(0)
 649 0426 8670      		andi r24,lo8(6)
 650 0428 9070      		andi r25,hi8(6)
 651 042a 9595      		asr r25
 652 042c 8795      		ror r24
 653 042e 0596      		adiw r24,5
 654 0430 00C0      		rjmp .L111
 655               	.L44:
 656 0432 8A2D      		mov r24,r10
 657 0434 90E0      		ldi r25,lo8(0)
 658 0436 0E94 0000 		call UartAvrDisable
 659 043a E2E0      		ldi r30,lo8(2)
 660 043c EB15      		cp r30,r11
 661 043e 00F0      		brlo .L120
 662 0440 F1E0      		ldi r31,lo8(1)
 663 0442 BF16      		cp r11,r31
 664 0444 01F4      		brne .L82
 665 0446 43E0      		ldi r20,lo8(3)
 666 0448 B42E      		mov r11,r20
 667               	.L82:
 668 044a 9B2D      		mov r25,r11
 669 044c 9295      		swap r25
 670 044e 907F      		andi r25,lo8(-16)
 671 0450 AA20      		tst r10
 672 0452 01F0      		breq .L83
 673 0454 8091 9D00 		lds r24,157
 674 0458 8F7C      		andi r24,lo8(-49)
 675 045a 892B      		or r24,r25
 676 045c 8093 9D00 		sts 157,r24
 677 0460 00C0      		rjmp .L84
 678               	.L83:
 679 0462 8091 9500 		lds r24,149
 680 0466 8F7C      		andi r24,lo8(-49)
 681 0468 892B      		or r24,r25
 682 046a 8093 9500 		sts 149,r24
 683               	.L84:
 684 046e 9923      		tst r25
GAS LISTING C:\Temp/ccNM8Dlh.s 			page 13


 685 0470 01F0      		breq .L109
 686 0472 00C0      		rjmp .L120
 687               	.L45:
 688 0474 AA20      		tst r10
 689 0476 01F0      		breq .L88
 690 0478 8091 9D00 		lds r24,157
 691 047c 00C0      		rjmp .L56
 692               	.L88:
 693 047e 8091 9500 		lds r24,149
 694 0482 00C0      		rjmp .L56
 695               	.L46:
 696 0484 8A2D      		mov r24,r10
 697 0486 90E0      		ldi r25,lo8(0)
 698 0488 0E94 0000 		call UartAvrDisable
 699 048c 8B2D      		mov r24,r11
 700 048e 8150      		subi r24,lo8(-(-1))
 701 0490 8230      		cpi r24,lo8(2)
 702 0492 00F0      		brlo .L89
 703               	.L120:
 704 0494 2FEF      		ldi r18,lo8(-1)
 705 0496 3FEF      		ldi r19,hi8(-1)
 706 0498 00C0      		rjmp .L90
 707               	.L89:
 708 049a 982F      		mov r25,r24
 709 049c 990F      		lsl r25
 710 049e 990F      		lsl r25
 711 04a0 990F      		lsl r25
 712 04a2 AA20      		tst r10
 713 04a4 01F0      		breq .L91
 714 04a6 8091 9D00 		lds r24,157
 715 04aa 877F      		andi r24,lo8(-9)
 716 04ac 982B      		or r25,r24
 717 04ae 9093 9D00 		sts 157,r25
 718 04b2 00C0      		rjmp .L109
 719               	.L91:
 720 04b4 8091 9500 		lds r24,149
 721 04b8 877F      		andi r24,lo8(-9)
 722 04ba 982B      		or r25,r24
 723 04bc 9093 9500 		sts 149,r25
 724               	.L109:
 725 04c0 20E0      		ldi r18,lo8(0)
 726 04c2 30E0      		ldi r19,hi8(0)
 727               	.L90:
 728               	/* #APP */
 729               	 ;  317 "../../nut/arch/avr/dev/uartavr.c" 1
 730 04c4 0FB6      		in  __tmp_reg__, __SREG__
 731 04c6 F894      		cli
 732 04c8 0F92      		push __tmp_reg__
 733               		
 734               	 ;  0 "" 2
 735               	/* #NOAPP */
 736 04ca AA20      		tst r10
 737 04cc 01F0      		breq .L92
 738 04ce 88ED      		ldi r24,lo8(-40)
 739 04d0 8093 9A00 		sts 154,r24
 740 04d4 00C0      		rjmp .L93
 741               	.L92:
GAS LISTING C:\Temp/ccNM8Dlh.s 			page 14


 742 04d6 88ED      		ldi r24,lo8(-40)
 743 04d8 8AB9      		out 42-32,r24
 744               	.L93:
 745               	/* #APP */
 746               	 ;  324 "../../nut/arch/avr/dev/uartavr.c" 1
 747 04da 0F90      		pop __tmp_reg__
 748 04dc 0FBE      		out __SREG__, __tmp_reg__
 749               		
 750               	 ;  0 "" 2
 751               	/* #NOAPP */
 752 04de 00C0      		rjmp .L60
 753               	.L47:
 754 04e0 AA20      		tst r10
 755 04e2 01F0      		breq .L94
 756 04e4 8091 9D00 		lds r24,157
 757 04e8 90E0      		ldi r25,lo8(0)
 758 04ea 8870      		andi r24,lo8(8)
 759 04ec 9070      		andi r25,hi8(8)
 760 04ee 33E0      		ldi r19,3
 761 04f0 9595      	1:	asr r25
 762 04f2 8795      		ror r24
 763 04f4 3A95      		dec r19
 764 04f6 01F4      		brne 1b
 765 04f8 0196      		adiw r24,1
 766               	.L111:
 767 04fa AA27      		clr r26
 768 04fc 97FD      		sbrc r25,7
 769 04fe A095      		com r26
 770 0500 BA2F      		mov r27,r26
 771               	.L113:
 772 0502 E601      		movw r28,r12
 773 0504 8883      		st Y,r24
 774 0506 9983      		std Y+1,r25
 775 0508 AA83      		std Y+2,r26
 776 050a BB83      		std Y+3,r27
 777 050c 00C0      		rjmp .L56
 778               	.L94:
 779 050e 8091 9500 		lds r24,149
 780 0512 90E0      		ldi r25,lo8(0)
 781 0514 8870      		andi r24,lo8(8)
 782 0516 9070      		andi r25,hi8(8)
 783 0518 23E0      		ldi r18,3
 784 051a 9595      	1:	asr r25
 785 051c 8795      		ror r24
 786 051e 2A95      		dec r18
 787 0520 01F4      		brne 1b
 788 0522 0196      		adiw r24,1
 789               	.L117:
 790 0524 AA27      		clr r26
 791 0526 97FD      		sbrc r25,7
 792 0528 A095      		com r26
 793 052a BA2F      		mov r27,r26
 794 052c 00C0      		rjmp .L114
 795               	.L48:
 796 052e 1F96      		adiw r26,15
 797 0530 ED91      		ld r30,X+
 798 0532 FC91      		ld r31,X
GAS LISTING C:\Temp/ccNM8Dlh.s 			page 15


 799 0534 5097      		sbiw r26,15+1
 800 0536 E601      		movw r28,r12
 801 0538 1882      		st Y,__zero_reg__
 802 053a 1982      		std Y+1,__zero_reg__
 803 053c 1A82      		std Y+2,__zero_reg__
 804 053e 1B82      		std Y+3,__zero_reg__
 805 0540 1C96      		adiw r26,12
 806 0542 8D91      		ld r24,X+
 807 0544 9C91      		ld r25,X
 808 0546 1D97      		sbiw r26,12+1
 809 0548 892B      		or r24,r25
 810 054a 01F0      		breq .L95
 811 054c 8091 9B00 		lds r24,155
 812 0550 00C0      		rjmp .L96
 813               	.L95:
 814 0552 8BB1      		in r24,43-32
 815               	.L96:
 816 0554 282F      		mov r18,r24
 817 0556 30E0      		ldi r19,lo8(0)
 818 0558 82FF      		sbrs r24,2
 819 055a 00C0      		rjmp .L97
 820 055c 81E0      		ldi r24,lo8(1)
 821 055e 90E0      		ldi r25,hi8(1)
 822 0560 A0E0      		ldi r26,hlo8(1)
 823 0562 B0E0      		ldi r27,hhi8(1)
 824 0564 E601      		movw r28,r12
 825 0566 8883      		st Y,r24
 826 0568 9983      		std Y+1,r25
 827 056a AA83      		std Y+2,r26
 828 056c BB83      		std Y+3,r27
 829               	.L97:
 830 056e 2370      		andi r18,lo8(3)
 831 0570 3070      		andi r19,hi8(3)
 832 0572 232B      		or r18,r19
 833 0574 01F0      		breq .L98
 834 0576 E601      		movw r28,r12
 835 0578 8881      		ld r24,Y
 836 057a 9981      		ldd r25,Y+1
 837 057c AA81      		ldd r26,Y+2
 838 057e BB81      		ldd r27,Y+3
 839 0580 8260      		ori r24,lo8(2)
 840 0582 8883      		st Y,r24
 841 0584 9983      		std Y+1,r25
 842 0586 AA83      		std Y+2,r26
 843 0588 BB83      		std Y+3,r27
 844               	.L98:
 845 058a 9085      		ldd r25,Z+8
 846 058c 8185      		ldd r24,Z+9
 847 058e 9817      		cp r25,r24
 848 0590 01F4      		brne .L99
 849 0592 E601      		movw r28,r12
 850 0594 8881      		ld r24,Y
 851 0596 9981      		ldd r25,Y+1
 852 0598 AA81      		ldd r26,Y+2
 853 059a BB81      		ldd r27,Y+3
 854 059c 8068      		ori r24,lo8(128)
 855 059e 8883      		st Y,r24
GAS LISTING C:\Temp/ccNM8Dlh.s 			page 16


 856 05a0 9983      		std Y+1,r25
 857 05a2 AA83      		std Y+2,r26
 858 05a4 BB83      		std Y+3,r27
 859               	.L99:
 860 05a6 9681      		ldd r25,Z+6
 861 05a8 8781      		ldd r24,Z+7
 862 05aa 8917      		cp r24,r25
 863 05ac 01F0      		breq .+2
 864 05ae 00C0      		rjmp .L56
 865 05b0 F601      		movw r30,r12
 866 05b2 8081      		ld r24,Z
 867 05b4 9181      		ldd r25,Z+1
 868 05b6 A281      		ldd r26,Z+2
 869 05b8 B381      		ldd r27,Z+3
 870 05ba 8064      		ori r24,lo8(64)
 871 05bc 00C0      		rjmp .L113
 872               	.L49:
 873 05be E882      		st Y,r14
 874 05c0 F982      		std Y+1,r15
 875 05c2 0A83      		std Y+2,r16
 876 05c4 1B83      		std Y+3,r17
 877 05c6 00C0      		rjmp .L56
 878               	.L50:
 879 05c8 8881      		ld r24,Y
 880 05ca 9981      		ldd r25,Y+1
 881 05cc AA81      		ldd r26,Y+2
 882 05ce BB81      		ldd r27,Y+3
 883               	.L114:
 884 05d0 F601      		movw r30,r12
 885 05d2 8083      		st Z,r24
 886 05d4 9183      		std Z+1,r25
 887 05d6 A283      		std Z+2,r26
 888 05d8 B383      		std Z+3,r27
 889 05da 00C0      		rjmp .L56
 890               	.L51:
 891 05dc EC82      		std Y+4,r14
 892 05de FD82      		std Y+5,r15
 893 05e0 0E83      		std Y+6,r16
 894 05e2 1F83      		std Y+7,r17
 895 05e4 00C0      		rjmp .L56
 896               	.L52:
 897 05e6 8C81      		ldd r24,Y+4
 898 05e8 9D81      		ldd r25,Y+5
 899 05ea AE81      		ldd r26,Y+6
 900 05ec BF81      		ldd r27,Y+7
 901 05ee 00C0      		rjmp .L113
 902               	.L54:
 903 05f0 8C85      		ldd r24,Y+12
 904 05f2 9D85      		ldd r25,Y+13
 905 05f4 AE85      		ldd r26,Y+14
 906 05f6 BF85      		ldd r27,Y+15
 907 05f8 A0FF      		sbrs r26,0
 908 05fa 00C0      		rjmp .L104
 909 05fc 00C0      		rjmp .L118
 910               	.L55:
 911 05fe 2C85      		ldd r18,Y+12
 912 0600 3D85      		ldd r19,Y+13
GAS LISTING C:\Temp/ccNM8Dlh.s 			page 17


 913 0602 4E85      		ldd r20,Y+14
 914 0604 5F85      		ldd r21,Y+15
 915 0606 BB20      		tst r11
 916 0608 01F0      		breq .L102
 917 060a 4160      		ori r20,hlo8(65536)
 918 060c 00C0      		rjmp .L112
 919               	.L102:
 920 060e 4E7F      		andi r20,hlo8(-65537)
 921 0610 00C0      		rjmp .L112
 922               	.L57:
 923 0612 2C85      		ldd r18,Y+12
 924 0614 3D85      		ldd r19,Y+13
 925 0616 4E85      		ldd r20,Y+14
 926 0618 5F85      		ldd r21,Y+15
 927 061a BB20      		tst r11
 928 061c 01F0      		breq .L103
 929 061e 4260      		ori r20,hlo8(131072)
 930 0620 00C0      		rjmp .L112
 931               	.L103:
 932 0622 4D7F      		andi r20,hlo8(-131073)
 933               	.L112:
 934 0624 2C87      		std Y+12,r18
 935 0626 3D87      		std Y+13,r19
 936 0628 4E87      		std Y+14,r20
 937 062a 5F87      		std Y+15,r21
 938 062c 00C0      		rjmp .L56
 939               	.L58:
 940 062e 8C85      		ldd r24,Y+12
 941 0630 9D85      		ldd r25,Y+13
 942 0632 AE85      		ldd r26,Y+14
 943 0634 BF85      		ldd r27,Y+15
 944 0636 A1FF      		sbrs r26,1
 945 0638 00C0      		rjmp .L104
 946               	.L118:
 947 063a 81E0      		ldi r24,lo8(1)
 948 063c 90E0      		ldi r25,hi8(1)
 949 063e A0E0      		ldi r26,hlo8(1)
 950 0640 B0E0      		ldi r27,hhi8(1)
 951 0642 00C0      		rjmp .L114
 952               	.L104:
 953 0644 E601      		movw r28,r12
 954 0646 1882      		st Y,__zero_reg__
 955 0648 1982      		std Y+1,__zero_reg__
 956 064a 1A82      		std Y+2,__zero_reg__
 957 064c 1B82      		std Y+3,__zero_reg__
 958               	.L56:
 959 064e 20E0      		ldi r18,lo8(0)
 960 0650 30E0      		ldi r19,hi8(0)
 961               	.L60:
 962 0652 C901      		movw r24,r18
 963               	/* epilogue start */
 964 0654 DF91      		pop r29
 965 0656 CF91      		pop r28
 966 0658 1F91      		pop r17
 967 065a 0F91      		pop r16
 968 065c FF90      		pop r15
 969 065e EF90      		pop r14
GAS LISTING C:\Temp/ccNM8Dlh.s 			page 18


 970 0660 DF90      		pop r13
 971 0662 CF90      		pop r12
 972 0664 BF90      		pop r11
 973 0666 AF90      		pop r10
 974 0668 9F90      		pop r9
 975 066a 8F90      		pop r8
 976 066c 0895      		ret
 977               		.size	UartAvrIOCtl, .-UartAvrIOCtl
 978               	.global	UartAvrInit
 979               		.type	UartAvrInit, @function
 980               	UartAvrInit:
 981 066e 0F93      		push r16
 982 0670 1F93      		push r17
 983 0672 DF93      		push r29
 984 0674 CF93      		push r28
 985 0676 00D0      		rcall .
 986 0678 00D0      		rcall .
 987 067a CDB7      		in r28,__SP_L__
 988 067c DEB7      		in r29,__SP_H__
 989               	/* prologue: function */
 990               	/* frame size = 4 */
 991 067e 8C01      		movw r16,r24
 992 0680 DC01      		movw r26,r24
 993 0682 1B96      		adiw r26,11
 994 0684 8C91      		ld r24,X
 995 0686 1B97      		sbiw r26,11
 996 0688 8230      		cpi r24,lo8(2)
 997 068a 01F0      		breq .+2
 998 068c 00C0      		rjmp .L123
 999 068e 1E96      		adiw r26,14
 1000 0690 8C91      		ld r24,X
 1001 0692 1E97      		sbiw r26,14
 1002 0694 8823      		tst r24
 1003 0696 01F0      		breq .+2
 1004 0698 00C0      		rjmp .L123
 1005 069a 1C96      		adiw r26,12
 1006 069c 8D91      		ld r24,X+
 1007 069e 9C91      		ld r25,X
 1008 06a0 1D97      		sbiw r26,12+1
 1009 06a2 0297      		sbiw r24,2
 1010 06a4 00F0      		brlo .+2
 1011 06a6 00C0      		rjmp .L123
 1012 06a8 1F96      		adiw r26,15
 1013 06aa ED91      		ld r30,X+
 1014 06ac FC91      		ld r31,X
 1015 06ae 5097      		sbiw r26,15+1
 1016 06b0 80E8      		ldi r24,lo8(9600)
 1017 06b2 95E2      		ldi r25,hi8(9600)
 1018 06b4 A0E0      		ldi r26,hlo8(9600)
 1019 06b6 B0E0      		ldi r27,hhi8(9600)
 1020 06b8 8983      		std Y+1,r24
 1021 06ba 9A83      		std Y+2,r25
 1022 06bc AB83      		std Y+3,r26
 1023 06be BC83      		std Y+4,r27
 1024 06c0 8CE0      		ldi r24,lo8(524)
 1025 06c2 92E0      		ldi r25,hi8(524)
 1026 06c4 DF01      		movw r26,r30
GAS LISTING C:\Temp/ccNM8Dlh.s 			page 19


 1027 06c6 9C01      		movw r18,r24
 1028 06c8 1D92      		st X+,__zero_reg__
 1029 06ca 2150      		subi r18,1
 1030 06cc 3040      		sbci r19,0
 1031 06ce 01F4      		brne .-8
 1032 06d0 80E0      		ldi r24,lo8(gs(UartAvrInput))
 1033 06d2 90E0      		ldi r25,hi8(gs(UartAvrInput))
 1034 06d4 9183      		std Z+1,r25
 1035 06d6 8083      		st Z,r24
 1036 06d8 80E0      		ldi r24,lo8(gs(UartAvrOutput))
 1037 06da 90E0      		ldi r25,hi8(gs(UartAvrOutput))
 1038 06dc 9383      		std Z+3,r25
 1039 06de 8283      		std Z+2,r24
 1040 06e0 80E0      		ldi r24,lo8(gs(UartAvrFlush))
 1041 06e2 90E0      		ldi r25,hi8(gs(UartAvrFlush))
 1042 06e4 9583      		std Z+5,r25
 1043 06e6 8483      		std Z+4,r24
 1044 06e8 D801      		movw r26,r16
 1045 06ea 5196      		adiw r26,17
 1046 06ec ED91      		ld r30,X+
 1047 06ee FC91      		ld r31,X
 1048 06f0 5297      		sbiw r26,17+1
 1049 06f2 80E1      		ldi r24,lo8(16)
 1050 06f4 DF01      		movw r26,r30
 1051 06f6 1D92      		st X+,__zero_reg__
 1052 06f8 8A95      	        dec r24
 1053 06fa 01F4      		brne .-6
 1054 06fc 80E0      		ldi r24,lo8(1048576)
 1055 06fe 90E0      		ldi r25,hi8(1048576)
 1056 0700 A0E1      		ldi r26,hlo8(1048576)
 1057 0702 B0E0      		ldi r27,hhi8(1048576)
 1058 0704 8487      		std Z+12,r24
 1059 0706 9587      		std Z+13,r25
 1060 0708 A687      		std Z+14,r26
 1061 070a B787      		std Z+15,r27
 1062 070c F801      		movw r30,r16
 1063 070e 8485      		ldd r24,Z+12
 1064 0710 9585      		ldd r25,Z+13
 1065 0712 892B      		or r24,r25
 1066 0714 01F0      		breq .L124
 1067 0716 A801      		movw r20,r16
 1068 0718 60E0      		ldi r22,lo8(gs(RxComplete))
 1069 071a 70E0      		ldi r23,hi8(gs(RxComplete))
 1070 071c 80E0      		ldi r24,lo8(sig_UART1_RECV)
 1071 071e 90E0      		ldi r25,hi8(sig_UART1_RECV)
 1072 0720 0E94 0000 		call NutRegisterIrqHandler
 1073 0724 892B      		or r24,r25
 1074 0726 01F4      		brne .L123
 1075 0728 A801      		movw r20,r16
 1076 072a 60E0      		ldi r22,lo8(gs(TxComplete))
 1077 072c 70E0      		ldi r23,hi8(gs(TxComplete))
 1078 072e 80E0      		ldi r24,lo8(sig_UART1_TRANS)
 1079 0730 90E0      		ldi r25,hi8(sig_UART1_TRANS)
 1080 0732 00C0      		rjmp .L128
 1081               	.L124:
 1082 0734 A801      		movw r20,r16
 1083 0736 60E0      		ldi r22,lo8(gs(RxComplete))
GAS LISTING C:\Temp/ccNM8Dlh.s 			page 20


 1084 0738 70E0      		ldi r23,hi8(gs(RxComplete))
 1085 073a 80E0      		ldi r24,lo8(sig_UART0_RECV)
 1086 073c 90E0      		ldi r25,hi8(sig_UART0_RECV)
 1087 073e 0E94 0000 		call NutRegisterIrqHandler
 1088 0742 892B      		or r24,r25
 1089 0744 01F4      		brne .L123
 1090 0746 A801      		movw r20,r16
 1091 0748 60E0      		ldi r22,lo8(gs(TxComplete))
 1092 074a 70E0      		ldi r23,hi8(gs(TxComplete))
 1093 074c 80E0      		ldi r24,lo8(sig_UART0_TRANS)
 1094 074e 90E0      		ldi r25,hi8(sig_UART0_TRANS)
 1095               	.L128:
 1096 0750 0E94 0000 		call NutRegisterIrqHandler
 1097 0754 892B      		or r24,r25
 1098 0756 01F4      		brne .L123
 1099 0758 AE01      		movw r20,r28
 1100 075a 4F5F      		subi r20,lo8(-(1))
 1101 075c 5F4F      		sbci r21,hi8(-(1))
 1102 075e 61E0      		ldi r22,lo8(257)
 1103 0760 71E0      		ldi r23,hi8(257)
 1104 0762 C801      		movw r24,r16
 1105 0764 0E94 0000 		call UartAvrIOCtl
 1106 0768 20E0      		ldi r18,lo8(0)
 1107 076a 30E0      		ldi r19,hi8(0)
 1108 076c 00C0      		rjmp .L126
 1109               	.L123:
 1110 076e 2FEF      		ldi r18,lo8(-1)
 1111 0770 3FEF      		ldi r19,hi8(-1)
 1112               	.L126:
 1113 0772 C901      		movw r24,r18
 1114               	/* epilogue start */
 1115 0774 0F90      		pop __tmp_reg__
 1116 0776 0F90      		pop __tmp_reg__
 1117 0778 0F90      		pop __tmp_reg__
 1118 077a 0F90      		pop __tmp_reg__
 1119 077c CF91      		pop r28
 1120 077e DF91      		pop r29
 1121 0780 1F91      		pop r17
 1122 0782 0F91      		pop r16
 1123 0784 0895      		ret
 1124               		.size	UartAvrInit, .-UartAvrInit
 1125               	.global	UartAvrFlush
 1126               		.type	UartAvrFlush, @function
 1127               	UartAvrFlush:
 1128 0786 0F93      		push r16
 1129 0788 1F93      		push r17
 1130 078a CF93      		push r28
 1131 078c DF93      		push r29
 1132               	/* prologue: function */
 1133               	/* frame size = 0 */
 1134 078e FC01      		movw r30,r24
 1135 0790 C785      		ldd r28,Z+15
 1136 0792 D089      		ldd r29,Z+16
 1137 0794 2189      		ldd r18,Z+17
 1138 0796 3289      		ldd r19,Z+18
 1139 0798 8A85      		ldd r24,Y+10
 1140 079a 8823      		tst r24
GAS LISTING C:\Temp/ccNM8Dlh.s 			page 21


 1141 079c 01F4      		brne .L130
 1142 079e 9885      		ldd r25,Y+8
 1143 07a0 8985      		ldd r24,Y+9
 1144 07a2 9817      		cp r25,r24
 1145 07a4 01F0      		breq .L130
 1146 07a6 81E0      		ldi r24,lo8(1)
 1147 07a8 8A87      		std Y+10,r24
 1148 07aa 8485      		ldd r24,Z+12
 1149 07ac 9585      		ldd r25,Z+13
 1150 07ae 892B      		or r24,r25
 1151 07b0 01F0      		breq .L131
 1152 07b2 8885      		ldd r24,Y+8
 1153 07b4 FE01      		movw r30,r28
 1154 07b6 E80F      		add r30,r24
 1155 07b8 F11D      		adc r31,__zero_reg__
 1156 07ba E45F      		subi r30,lo8(-(268))
 1157 07bc FE4F      		sbci r31,hi8(-(268))
 1158 07be 8081      		ld r24,Z
 1159 07c0 8093 9C00 		sts 156,r24
 1160 07c4 00C0      		rjmp .L132
 1161               	.L131:
 1162 07c6 8885      		ldd r24,Y+8
 1163 07c8 FE01      		movw r30,r28
 1164 07ca E80F      		add r30,r24
 1165 07cc F11D      		adc r31,__zero_reg__
 1166 07ce E45F      		subi r30,lo8(-(268))
 1167 07d0 FE4F      		sbci r31,hi8(-(268))
 1168 07d2 8081      		ld r24,Z
 1169 07d4 8CB9      		out 44-32,r24
 1170               	.L132:
 1171 07d6 8885      		ldd r24,Y+8
 1172 07d8 8F5F      		subi r24,lo8(-(1))
 1173 07da 8887      		std Y+8,r24
 1174               	.L130:
 1175               	/* #APP */
 1176               	 ;  274 "../../nut/arch/avr/dev/uartavr.c" 1
 1177 07dc 0FB6      		in  __tmp_reg__, __SREG__
 1178 07de F894      		cli
 1179 07e0 0F92      		push __tmp_reg__
 1180               		
 1181               	 ;  0 "" 2
 1182               	/* #NOAPP */
 1183 07e2 8901      		movw r16,r18
 1184 07e4 085F      		subi r16,lo8(-(8))
 1185 07e6 1F4F      		sbci r17,hi8(-(8))
 1186 07e8 00C0      		rjmp .L133
 1187               	.L134:
 1188 07ea 44E6      		ldi r20,lo8(100)
 1189 07ec 50E0      		ldi r21,hi8(100)
 1190 07ee 60E0      		ldi r22,hlo8(100)
 1191 07f0 70E0      		ldi r23,hhi8(100)
 1192 07f2 C801      		movw r24,r16
 1193 07f4 0E94 0000 		call NutEventWait
 1194               	.L133:
 1195 07f8 9885      		ldd r25,Y+8
 1196 07fa 8985      		ldd r24,Y+9
 1197 07fc 9817      		cp r25,r24
GAS LISTING C:\Temp/ccNM8Dlh.s 			page 22


 1198 07fe 01F4      		brne .L134
 1199               	/* #APP */
 1200               	 ;  277 "../../nut/arch/avr/dev/uartavr.c" 1
 1201 0800 0F90      		pop __tmp_reg__
 1202 0802 0FBE      		out __SREG__, __tmp_reg__
 1203               		
 1204               	 ;  0 "" 2
 1205               	/* #NOAPP */
 1206 0804 80E0      		ldi r24,lo8(0)
 1207 0806 90E0      		ldi r25,hi8(0)
 1208               	/* epilogue start */
 1209 0808 DF91      		pop r29
 1210 080a CF91      		pop r28
 1211 080c 1F91      		pop r17
 1212 080e 0F91      		pop r16
 1213 0810 0895      		ret
 1214               		.size	UartAvrFlush, .-UartAvrFlush
 1215               	.global	UartAvrPut
 1216               		.type	UartAvrPut, @function
 1217               	UartAvrPut:
 1218 0812 2F92      		push r2
 1219 0814 3F92      		push r3
 1220 0816 4F92      		push r4
 1221 0818 5F92      		push r5
 1222 081a 6F92      		push r6
 1223 081c 7F92      		push r7
 1224 081e 8F92      		push r8
 1225 0820 9F92      		push r9
 1226 0822 AF92      		push r10
 1227 0824 BF92      		push r11
 1228 0826 CF92      		push r12
 1229 0828 DF92      		push r13
 1230 082a EF92      		push r14
 1231 082c FF92      		push r15
 1232 082e 0F93      		push r16
 1233 0830 1F93      		push r17
 1234 0832 DF93      		push r29
 1235 0834 CF93      		push r28
 1236 0836 00D0      		rcall .
 1237 0838 CDB7      		in r28,__SP_L__
 1238 083a DEB7      		in r29,__SP_H__
 1239               	/* prologue: function */
 1240               	/* frame size = 2 */
 1241 083c 6C01      		movw r12,r24
 1242 083e FB01      		movw r30,r22
 1243 0840 3A01      		movw r6,r20
 1244 0842 4901      		movw r8,r18
 1245 0844 DC01      		movw r26,r24
 1246 0846 1F96      		adiw r26,15
 1247 0848 0D91      		ld r16,X+
 1248 084a 1C91      		ld r17,X
 1249 084c 5097      		sbiw r26,15+1
 1250 084e 5196      		adiw r26,17
 1251 0850 AD90      		ld r10,X+
 1252 0852 BC90      		ld r11,X
 1253 0854 5297      		sbiw r26,17+1
 1254 0856 D501      		movw r26,r10
GAS LISTING C:\Temp/ccNM8Dlh.s 			page 23


 1255 0858 1C96      		adiw r26,12
 1256 085a 2D91      		ld r18,X+
 1257 085c 3D91      		ld r19,X+
 1258 085e 4D91      		ld r20,X+
 1259 0860 5C91      		ld r21,X
 1260 0862 1F97      		sbiw r26,12+3
 1261 0864 6115      		cp r22,__zero_reg__
 1262 0866 7105      		cpc r23,__zero_reg__
 1263 0868 01F4      		brne .L137
 1264 086a 0E94 0000 		call UartAvrFlush
 1265 086e 2C01      		movw r4,r24
 1266 0870 00C0      		rjmp .L138
 1267               	.L137:
 1268 0872 1901      		movw r2,r18
 1269 0874 2A01      		movw r4,r20
 1270 0876 75E1      		ldi r23,21
 1271 0878 5694      	1:	lsr r5
 1272 087a 4794      		ror r4
 1273 087c 3794      		ror r3
 1274 087e 2794      		ror r2
 1275 0880 7A95      		dec r23
 1276 0882 01F4      		brne 1b
 1277 0884 B22D      		mov r27,r2
 1278 0886 B170      		andi r27,lo8(1)
 1279 0888 BA83      		std Y+2,r27
 1280 088a 61E1      		ldi r22,17
 1281 088c 5695      	1:	lsr r21
 1282 088e 4795      		ror r20
 1283 0890 3795      		ror r19
 1284 0892 2795      		ror r18
 1285 0894 6A95      		dec r22
 1286 0896 01F4      		brne 1b
 1287 0898 822F      		mov r24,r18
 1288 089a 8170      		andi r24,lo8(1)
 1289 089c 8983      		std Y+1,r24
 1290 089e 7F01      		movw r14,r30
 1291 08a0 4424      		clr r4
 1292 08a2 5524      		clr r5
 1293 08a4 00C0      		rjmp .L139
 1294               	.L148:
 1295 08a6 D801      		movw r26,r16
 1296 08a8 1896      		adiw r26,8
 1297 08aa 9C91      		ld r25,X
 1298 08ac 1897      		sbiw r26,8
 1299 08ae 1996      		adiw r26,9
 1300 08b0 8C91      		ld r24,X
 1301 08b2 8F5F      		subi r24,lo8(-(1))
 1302 08b4 8917      		cp r24,r25
 1303 08b6 01F4      		brne .L140
 1304 08b8 C601      		movw r24,r12
 1305 08ba 0E94 0000 		call UartAvrFlush
 1306 08be 892B      		or r24,r25
 1307 08c0 01F0      		breq .+2
 1308 08c2 00C0      		rjmp .L141
 1309               	.L140:
 1310 08c4 8114      		cp r8,__zero_reg__
 1311 08c6 9104      		cpc r9,__zero_reg__
GAS LISTING C:\Temp/ccNM8Dlh.s 			page 24


 1312 08c8 01F0      		breq .L142
 1313 08ca F701      		movw r30,r14
 1314               	/* #APP */
 1315               	 ;  799 "../../nut/arch/avr/dev/uartavr.c" 1
 1316 08cc 9491      		lpm r25, Z
 1317               		
 1318               	 ;  0 "" 2
 1319               	/* #NOAPP */
 1320 08ce 00C0      		rjmp .L143
 1321               	.L142:
 1322 08d0 D701      		movw r26,r14
 1323 08d2 9C91      		ld r25,X
 1324               	.L143:
 1325 08d4 B981      		ldd r27,Y+1
 1326 08d6 B130      		cpi r27,lo8(1)
 1327 08d8 01F4      		brne .L144
 1328 08da 9A30      		cpi r25,lo8(10)
 1329 08dc 01F4      		brne .L145
 1330 08de EA81      		ldd r30,Y+2
 1331 08e0 E130      		cpi r30,lo8(1)
 1332 08e2 01F4      		brne .L146
 1333 08e4 F2E0      		ldi r31,lo8(2)
 1334 08e6 FA83      		std Y+2,r31
 1335 08e8 F983      		std Y+1,r31
 1336 08ea 00C0      		rjmp .L151
 1337               	.L146:
 1338 08ec 82E0      		ldi r24,lo8(2)
 1339 08ee 8983      		std Y+1,r24
 1340               	.L151:
 1341 08f0 9DE0      		ldi r25,lo8(13)
 1342 08f2 00C0      		rjmp .L147
 1343               	.L144:
 1344 08f4 A981      		ldd r26,Y+1
 1345 08f6 A230      		cpi r26,lo8(2)
 1346 08f8 01F4      		brne .L145
 1347 08fa B1E0      		ldi r27,lo8(1)
 1348 08fc B983      		std Y+1,r27
 1349               	.L145:
 1350 08fe 0894      		sec
 1351 0900 E11C      		adc r14,__zero_reg__
 1352 0902 F11C      		adc r15,__zero_reg__
 1353 0904 0894      		sec
 1354 0906 411C      		adc r4,__zero_reg__
 1355 0908 511C      		adc r5,__zero_reg__
 1356               	.L147:
 1357 090a F801      		movw r30,r16
 1358 090c 8185      		ldd r24,Z+9
 1359 090e E80F      		add r30,r24
 1360 0910 F11D      		adc r31,__zero_reg__
 1361 0912 E45F      		subi r30,lo8(-(268))
 1362 0914 FE4F      		sbci r31,hi8(-(268))
 1363 0916 9083      		st Z,r25
 1364 0918 8F5F      		subi r24,lo8(-(1))
 1365 091a D801      		movw r26,r16
 1366 091c 1996      		adiw r26,9
 1367 091e 8C93      		st X,r24
 1368               	.L139:
GAS LISTING C:\Temp/ccNM8Dlh.s 			page 25


 1369 0920 4614      		cp r4,r6
 1370 0922 5704      		cpc r5,r7
 1371 0924 04F4      		brge .+2
 1372 0926 00C0      		rjmp .L148
 1373 0928 BA81      		ldd r27,Y+2
 1374 092a B230      		cpi r27,lo8(2)
 1375 092c 00F4      		brsh .L149
 1376 092e F501      		movw r30,r10
 1377 0930 8485      		ldd r24,Z+12
 1378 0932 9585      		ldd r25,Z+13
 1379 0934 A685      		ldd r26,Z+14
 1380 0936 B785      		ldd r27,Z+15
 1381 0938 A4FF      		sbrs r26,4
 1382 093a 00C0      		rjmp .L138
 1383               	.L149:
 1384 093c C601      		movw r24,r12
 1385 093e 0E94 0000 		call UartAvrFlush
 1386 0942 892B      		or r24,r25
 1387 0944 01F0      		breq .L138
 1388               	.L141:
 1389 0946 4424      		clr r4
 1390 0948 4A94      		dec r4
 1391 094a 542C      		mov r5,r4
 1392               	.L138:
 1393 094c C201      		movw r24,r4
 1394               	/* epilogue start */
 1395 094e 0F90      		pop __tmp_reg__
 1396 0950 0F90      		pop __tmp_reg__
 1397 0952 CF91      		pop r28
 1398 0954 DF91      		pop r29
 1399 0956 1F91      		pop r17
 1400 0958 0F91      		pop r16
 1401 095a FF90      		pop r15
 1402 095c EF90      		pop r14
 1403 095e DF90      		pop r13
 1404 0960 CF90      		pop r12
 1405 0962 BF90      		pop r11
 1406 0964 AF90      		pop r10
 1407 0966 9F90      		pop r9
 1408 0968 8F90      		pop r8
 1409 096a 7F90      		pop r7
 1410 096c 6F90      		pop r6
 1411 096e 5F90      		pop r5
 1412 0970 4F90      		pop r4
 1413 0972 3F90      		pop r3
 1414 0974 2F90      		pop r2
 1415 0976 0895      		ret
 1416               		.size	UartAvrPut, .-UartAvrPut
 1417               	.global	UartAvrWrite_P
 1418               		.type	UartAvrWrite_P, @function
 1419               	UartAvrWrite_P:
 1420               	/* prologue: function */
 1421               	/* frame size = 0 */
 1422 0978 21E0      		ldi r18,lo8(1)
 1423 097a 30E0      		ldi r19,hi8(1)
 1424 097c FC01      		movw r30,r24
 1425 097e 8281      		ldd r24,Z+2
GAS LISTING C:\Temp/ccNM8Dlh.s 			page 26


 1426 0980 9381      		ldd r25,Z+3
 1427 0982 0E94 0000 		call UartAvrPut
 1428               	/* epilogue start */
 1429 0986 0895      		ret
 1430               		.size	UartAvrWrite_P, .-UartAvrWrite_P
 1431               	.global	UartAvrWrite
 1432               		.type	UartAvrWrite, @function
 1433               	UartAvrWrite:
 1434               	/* prologue: function */
 1435               	/* frame size = 0 */
 1436 0988 20E0      		ldi r18,lo8(0)
 1437 098a 30E0      		ldi r19,hi8(0)
 1438 098c FC01      		movw r30,r24
 1439 098e 8281      		ldd r24,Z+2
 1440 0990 9381      		ldd r25,Z+3
 1441 0992 0E94 0000 		call UartAvrPut
 1442               	/* epilogue start */
 1443 0996 0895      		ret
 1444               		.size	UartAvrWrite, .-UartAvrWrite
 1445               	.global	UartAvrInput
 1446               		.type	UartAvrInput, @function
 1447               	UartAvrInput:
 1448 0998 EF92      		push r14
 1449 099a FF92      		push r15
 1450 099c 0F93      		push r16
 1451 099e 1F93      		push r17
 1452 09a0 CF93      		push r28
 1453 09a2 DF93      		push r29
 1454               	/* prologue: function */
 1455               	/* frame size = 0 */
 1456 09a4 FC01      		movw r30,r24
 1457 09a6 C785      		ldd r28,Z+15
 1458 09a8 D089      		ldd r29,Z+16
 1459 09aa 0189      		ldd r16,Z+17
 1460 09ac 1289      		ldd r17,Z+18
 1461               	/* #APP */
 1462               	 ;  189 "../../nut/arch/avr/dev/uartavr.c" 1
 1463 09ae 0FB6      		in  __tmp_reg__, __SREG__
 1464 09b0 F894      		cli
 1465 09b2 0F92      		push __tmp_reg__
 1466               		
 1467               	 ;  0 "" 2
 1468               	/* #NOAPP */
 1469 09b4 9E81      		ldd r25,Y+6
 1470               	/* #APP */
 1471               	 ;  191 "../../nut/arch/avr/dev/uartavr.c" 1
 1472 09b6 0F90      		pop __tmp_reg__
 1473 09b8 0FBE      		out __SREG__, __tmp_reg__
 1474               		
 1475               	 ;  0 "" 2
 1476               	/* #NOAPP */
 1477 09ba 8F81      		ldd r24,Y+7
 1478 09bc 8917      		cp r24,r25
 1479 09be 01F0      		breq .L157
 1480 09c0 20E0      		ldi r18,lo8(0)
 1481 09c2 30E0      		ldi r19,hi8(0)
 1482 09c4 00C0      		rjmp .L158
GAS LISTING C:\Temp/ccNM8Dlh.s 			page 27


 1483               	.L157:
 1484 09c6 EAE0      		ldi r30,lo8(10)
 1485 09c8 EE2E      		mov r14,r30
 1486 09ca F12C      		mov r15,__zero_reg__
 1487 09cc E00E      		add r14,r16
 1488 09ce F11E      		adc r15,r17
 1489               	.L159:
 1490 09d0 F801      		movw r30,r16
 1491 09d2 4081      		ld r20,Z
 1492 09d4 5181      		ldd r21,Z+1
 1493 09d6 6281      		ldd r22,Z+2
 1494 09d8 7381      		ldd r23,Z+3
 1495 09da C701      		movw r24,r14
 1496 09dc 0E94 0000 		call NutEventWait
 1497 09e0 9C01      		movw r18,r24
 1498               	/* #APP */
 1499               	 ;  209 "../../nut/arch/avr/dev/uartavr.c" 1
 1500 09e2 0FB6      		in  __tmp_reg__, __SREG__
 1501 09e4 F894      		cli
 1502 09e6 0F92      		push __tmp_reg__
 1503               		
 1504               	 ;  0 "" 2
 1505               	/* #NOAPP */
 1506 09e8 9F81      		ldd r25,Y+7
 1507 09ea 8E81      		ldd r24,Y+6
 1508               	/* #APP */
 1509               	 ;  211 "../../nut/arch/avr/dev/uartavr.c" 1
 1510 09ec 0F90      		pop __tmp_reg__
 1511 09ee 0FBE      		out __SREG__, __tmp_reg__
 1512               		
 1513               	 ;  0 "" 2
 1514               	/* #NOAPP */
 1515 09f0 2115      		cp r18,__zero_reg__
 1516 09f2 3105      		cpc r19,__zero_reg__
 1517 09f4 01F4      		brne .L158
 1518 09f6 9817      		cp r25,r24
 1519 09f8 01F0      		breq .L159
 1520               	.L158:
 1521 09fa C901      		movw r24,r18
 1522               	/* epilogue start */
 1523 09fc DF91      		pop r29
 1524 09fe CF91      		pop r28
 1525 0a00 1F91      		pop r17
 1526 0a02 0F91      		pop r16
 1527 0a04 FF90      		pop r15
 1528 0a06 EF90      		pop r14
 1529 0a08 0895      		ret
 1530               		.size	UartAvrInput, .-UartAvrInput
 1531               	.global	UartAvrRead
 1532               		.type	UartAvrRead, @function
 1533               	UartAvrRead:
 1534 0a0a 5F92      		push r5
 1535 0a0c 6F92      		push r6
 1536 0a0e 7F92      		push r7
 1537 0a10 8F92      		push r8
 1538 0a12 9F92      		push r9
 1539 0a14 AF92      		push r10
GAS LISTING C:\Temp/ccNM8Dlh.s 			page 28


 1540 0a16 BF92      		push r11
 1541 0a18 CF92      		push r12
 1542 0a1a DF92      		push r13
 1543 0a1c EF92      		push r14
 1544 0a1e FF92      		push r15
 1545 0a20 0F93      		push r16
 1546 0a22 1F93      		push r17
 1547 0a24 CF93      		push r28
 1548 0a26 DF93      		push r29
 1549               	/* prologue: function */
 1550               	/* frame size = 0 */
 1551 0a28 3A01      		movw r6,r20
 1552 0a2a DC01      		movw r26,r24
 1553 0a2c 1296      		adiw r26,2
 1554 0a2e 8D90      		ld r8,X+
 1555 0a30 9C90      		ld r9,X
 1556 0a32 1397      		sbiw r26,2+1
 1557 0a34 F401      		movw r30,r8
 1558 0a36 C785      		ldd r28,Z+15
 1559 0a38 D089      		ldd r29,Z+16
 1560 0a3a 0188      		ldd __tmp_reg__,Z+17
 1561 0a3c F289      		ldd r31,Z+18
 1562 0a3e E02D      		mov r30,__tmp_reg__
 1563 0a40 C484      		ldd r12,Z+12
 1564 0a42 D584      		ldd r13,Z+13
 1565 0a44 E684      		ldd r14,Z+14
 1566 0a46 F784      		ldd r15,Z+15
 1567 0a48 80E0      		ldi r24,lo8(131072)
 1568 0a4a 90E0      		ldi r25,hi8(131072)
 1569 0a4c A2E0      		ldi r26,hlo8(131072)
 1570 0a4e B0E0      		ldi r27,hhi8(131072)
 1571 0a50 C822      		and r12,r24
 1572 0a52 D922      		and r13,r25
 1573 0a54 EA22      		and r14,r26
 1574 0a56 FB22      		and r15,r27
 1575 0a58 6115      		cp r22,__zero_reg__
 1576 0a5a 7105      		cpc r23,__zero_reg__
 1577 0a5c 01F0      		breq .L163
 1578 0a5e 5B01      		movw r10,r22
 1579 0a60 00E0      		ldi r16,lo8(0)
 1580 0a62 10E0      		ldi r17,hi8(0)
 1581 0a64 FAE0      		ldi r31,lo8(10)
 1582 0a66 5F2E      		mov r5,r31
 1583 0a68 00C0      		rjmp .L176
 1584               	.L163:
 1585 0a6a 8E81      		ldd r24,Y+6
 1586 0a6c 8F83      		std Y+7,r24
 1587 0a6e 00E0      		ldi r16,lo8(0)
 1588 0a70 10E0      		ldi r17,hi8(0)
 1589 0a72 00C0      		rjmp .L165
 1590               	.L172:
 1591 0a74 9E81      		ldd r25,Y+6
 1592 0a76 8F81      		ldd r24,Y+7
 1593 0a78 8917      		cp r24,r25
 1594 0a7a 01F4      		brne .L166
 1595 0a7c 0115      		cp r16,__zero_reg__
 1596 0a7e 1105      		cpc r17,__zero_reg__
GAS LISTING C:\Temp/ccNM8Dlh.s 			page 29


 1597 0a80 01F0      		breq .L177
 1598 0a82 00C0      		rjmp .L165
 1599               	.L168:
 1600 0a84 C401      		movw r24,r8
 1601 0a86 0E94 0000 		call UartAvrInput
 1602 0a8a 892B      		or r24,r25
 1603 0a8c 01F4      		brne .L165
 1604               	.L177:
 1605 0a8e 9E81      		ldd r25,Y+6
 1606 0a90 8F81      		ldd r24,Y+7
 1607 0a92 8917      		cp r24,r25
 1608 0a94 01F0      		breq .L168
 1609               	.L166:
 1610 0a96 8F81      		ldd r24,Y+7
 1611 0a98 FE01      		movw r30,r28
 1612 0a9a E80F      		add r30,r24
 1613 0a9c F11D      		adc r31,__zero_reg__
 1614 0a9e 9485      		ldd r25,Z+12
 1615 0aa0 8F5F      		subi r24,lo8(-(1))
 1616 0aa2 8F83      		std Y+7,r24
 1617 0aa4 C114      		cp r12,__zero_reg__
 1618 0aa6 D104      		cpc r13,__zero_reg__
 1619 0aa8 E104      		cpc r14,__zero_reg__
 1620 0aaa F104      		cpc r15,__zero_reg__
 1621 0aac 01F0      		breq .L169
 1622 0aae 9D30      		cpi r25,lo8(13)
 1623 0ab0 01F0      		breq .L170
 1624 0ab2 9A30      		cpi r25,lo8(10)
 1625 0ab4 01F4      		brne .L169
 1626               	.L170:
 1627 0ab6 8B85      		ldd r24,Y+11
 1628 0ab8 8823      		tst r24
 1629 0aba 01F0      		breq .L171
 1630 0abc 8917      		cp r24,r25
 1631 0abe 01F4      		brne .L176
 1632               	.L171:
 1633 0ac0 9B87      		std Y+11,r25
 1634 0ac2 D501      		movw r26,r10
 1635 0ac4 5D92      		st X+,r5
 1636 0ac6 5D01      		movw r10,r26
 1637 0ac8 00C0      		rjmp .L178
 1638               	.L169:
 1639 0aca 1B86      		std Y+11,__zero_reg__
 1640 0acc F501      		movw r30,r10
 1641 0ace 9193      		st Z+,r25
 1642 0ad0 5F01      		movw r10,r30
 1643               	.L178:
 1644 0ad2 0F5F      		subi r16,lo8(-(1))
 1645 0ad4 1F4F      		sbci r17,hi8(-(1))
 1646               	.L176:
 1647 0ad6 0615      		cp r16,r6
 1648 0ad8 1705      		cpc r17,r7
 1649 0ada 04F0      		brlt .L172
 1650               	.L165:
 1651 0adc C801      		movw r24,r16
 1652               	/* epilogue start */
 1653 0ade DF91      		pop r29
GAS LISTING C:\Temp/ccNM8Dlh.s 			page 30


 1654 0ae0 CF91      		pop r28
 1655 0ae2 1F91      		pop r17
 1656 0ae4 0F91      		pop r16
 1657 0ae6 FF90      		pop r15
 1658 0ae8 EF90      		pop r14
 1659 0aea DF90      		pop r13
 1660 0aec CF90      		pop r12
 1661 0aee BF90      		pop r11
 1662 0af0 AF90      		pop r10
 1663 0af2 9F90      		pop r9
 1664 0af4 8F90      		pop r8
 1665 0af6 7F90      		pop r7
 1666 0af8 6F90      		pop r6
 1667 0afa 5F90      		pop r5
 1668 0afc 0895      		ret
 1669               		.size	UartAvrRead, .-UartAvrRead
GAS LISTING C:\Temp/ccNM8Dlh.s 			page 31


DEFINED SYMBOLS
                            *ABS*:00000000 uartavr.c
  C:\Temp/ccNM8Dlh.s:2      *ABS*:0000003f __SREG__
  C:\Temp/ccNM8Dlh.s:3      *ABS*:0000003e __SP_H__
  C:\Temp/ccNM8Dlh.s:4      *ABS*:0000003d __SP_L__
  C:\Temp/ccNM8Dlh.s:5      *ABS*:00000034 __CCP__
  C:\Temp/ccNM8Dlh.s:6      *ABS*:00000000 __tmp_reg__
  C:\Temp/ccNM8Dlh.s:7      *ABS*:00000001 __zero_reg__
  C:\Temp/ccNM8Dlh.s:12     .text:00000000 TxComplete
  C:\Temp/ccNM8Dlh.s:92     .text:0000008e RxComplete
  C:\Temp/ccNM8Dlh.s:161    .text:00000104 UartAvrOutput
  C:\Temp/ccNM8Dlh.s:225    .text:00000172 UartAvrSize
  C:\Temp/ccNM8Dlh.s:247    .text:00000190 UartAvrClose
  C:\Temp/ccNM8Dlh.s:261    .text:000001a0 UartAvrOpen
  C:\Temp/ccNM8Dlh.s:325    .text:0000020e UartAvrDisable
  C:\Temp/ccNM8Dlh.s:377    .text:00000256 UartAvrIOCtl
  C:\Temp/ccNM8Dlh.s:980    .text:0000066e UartAvrInit
  C:\Temp/ccNM8Dlh.s:1447   .text:00000998 UartAvrInput
  C:\Temp/ccNM8Dlh.s:1127   .text:00000786 UartAvrFlush
  C:\Temp/ccNM8Dlh.s:1217   .text:00000812 UartAvrPut
  C:\Temp/ccNM8Dlh.s:1419   .text:00000978 UartAvrWrite_P
  C:\Temp/ccNM8Dlh.s:1433   .text:00000988 UartAvrWrite
  C:\Temp/ccNM8Dlh.s:1533   .text:00000a0a UartAvrRead

UNDEFINED SYMBOLS
__do_copy_data
__do_clear_bss
heapFreeList
NutHeapRootFree
NutHeapRootAlloc
NutDelay
devUart0
NutGetCpuClock
__udivmodsi4
__mulsi3
sig_UART1_RECV
NutRegisterIrqHandler
sig_UART1_TRANS
sig_UART0_RECV
sig_UART0_TRANS
NutEventWait
