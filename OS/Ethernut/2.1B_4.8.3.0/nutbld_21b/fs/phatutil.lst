GAS LISTING C:\Temp/cceE7vim.s 			page 1


   1               		.file	"phatutil.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__  = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.global __do_copy_data
   9               		.global __do_clear_bss
  10               		.text
  11               	.global	MakeVisibleName
  12               		.type	MakeVisibleName, @function
  13               	MakeVisibleName:
  14 0000 CF93      		push r28
  15 0002 DF93      		push r29
  16               	/* prologue: function */
  17               	/* frame size = 0 */
  18 0004 EC01      		movw r28,r24
  19 0006 FB01      		movw r30,r22
  20 0008 8881      		ld r24,Y
  21 000a 9B01      		movw r18,r22
  22 000c 2F5F      		subi r18,lo8(-(1))
  23 000e 3F4F      		sbci r19,hi8(-(1))
  24 0010 8530      		cpi r24,lo8(5)
  25 0012 01F4      		brne .L13
  26 0014 85EE      		ldi r24,lo8(-27)
  27               	.L13:
  28 0016 8083      		st Z,r24
  29 0018 D901      		movw r26,r18
  30 001a 81E0      		ldi r24,lo8(1)
  31 001c 90E0      		ldi r25,hi8(1)
  32 001e 00C0      		rjmp .L3
  33               	.L6:
  34 0020 ED93      		st X+,r30
  35 0022 0196      		adiw r24,1
  36 0024 8830      		cpi r24,8
  37 0026 9105      		cpc r25,__zero_reg__
  38 0028 01F4      		brne .L3
  39               	.L7:
  40 002a FE01      		movw r30,r28
  41 002c 28E0      		ldi r18,lo8(8)
  42 002e 30E0      		ldi r19,hi8(8)
  43 0030 9EE2      		ldi r25,lo8(46)
  44 0032 00C0      		rjmp .L5
  45               	.L3:
  46 0034 FE01      		movw r30,r28
  47 0036 E80F      		add r30,r24
  48 0038 F91F      		adc r31,r25
  49 003a E081      		ld r30,Z
  50 003c E032      		cpi r30,lo8(32)
  51 003e 01F4      		brne .L6
  52 0040 00C0      		rjmp .L7
  53               	.L10:
  54 0042 2830      		cpi r18,8
  55 0044 3105      		cpc r19,__zero_reg__
  56 0046 01F4      		brne .L8
  57 0048 9D93      		st X+,r25
GAS LISTING C:\Temp/cceE7vim.s 			page 2


  58               	.L8:
  59 004a 8085      		ldd r24,Z+8
  60 004c 8D93      		st X+,r24
  61 004e 2F5F      		subi r18,lo8(-(1))
  62 0050 3F4F      		sbci r19,hi8(-(1))
  63 0052 3196      		adiw r30,1
  64 0054 2B30      		cpi r18,11
  65 0056 3105      		cpc r19,__zero_reg__
  66 0058 01F0      		breq .L9
  67               	.L5:
  68 005a 8085      		ldd r24,Z+8
  69 005c 8032      		cpi r24,lo8(32)
  70 005e 01F4      		brne .L10
  71               	.L9:
  72 0060 1C92      		st X,__zero_reg__
  73               	/* epilogue start */
  74 0062 DF91      		pop r29
  75 0064 CF91      		pop r28
  76 0066 0895      		ret
  77               		.size	MakeVisibleName, .-MakeVisibleName
  78               	.global	IsFixedRootDir
  79               		.type	IsFixedRootDir, @function
  80               	IsFixedRootDir:
  81               	/* prologue: function */
  82               	/* frame size = 0 */
  83 0068 DC01      		movw r26,r24
  84 006a 1296      		adiw r26,2
  85 006c ED91      		ld r30,X+
  86 006e FC91      		ld r31,X
  87 0070 1397      		sbiw r26,2+1
  88 0072 0188      		ldd __tmp_reg__,Z+17
  89 0074 F289      		ldd r31,Z+18
  90 0076 E02D      		mov r30,__tmp_reg__
  91 0078 8081      		ld r24,Z
  92 007a 9181      		ldd r25,Z+1
  93 007c 8097      		sbiw r24,32
  94 007e 01F0      		breq .L15
  95 0080 1496      		adiw r26,4
  96 0082 ED91      		ld r30,X+
  97 0084 FC91      		ld r31,X
  98 0086 1597      		sbiw r26,4+1
  99 0088 80AD      		ldd r24,Z+56
 100 008a 91AD      		ldd r25,Z+57
 101 008c A2AD      		ldd r26,Z+58
 102 008e B3AD      		ldd r27,Z+59
 103 0090 0097      		sbiw r24,0
 104 0092 A105      		cpc r26,__zero_reg__
 105 0094 B105      		cpc r27,__zero_reg__
 106 0096 01F4      		brne .L15
 107 0098 84A5      		ldd r24,Z+44
 108 009a 95A5      		ldd r25,Z+45
 109 009c 892B      		or r24,r25
 110 009e 01F4      		brne .L15
 111 00a0 20E0      		ldi r18,lo8(0)
 112 00a2 30E0      		ldi r19,hi8(0)
 113 00a4 82A9      		ldd r24,Z+50
 114 00a6 93A9      		ldd r25,Z+51
GAS LISTING C:\Temp/cceE7vim.s 			page 3


 115 00a8 892B      		or r24,r25
 116 00aa 01F4      		brne .L17
 117 00ac 21E0      		ldi r18,lo8(1)
 118 00ae 30E0      		ldi r19,hi8(1)
 119 00b0 00C0      		rjmp .L17
 120               	.L15:
 121 00b2 20E0      		ldi r18,lo8(0)
 122 00b4 30E0      		ldi r19,hi8(0)
 123               	.L17:
 124 00b6 C901      		movw r24,r18
 125               	/* epilogue start */
 126 00b8 0895      		ret
 127               		.size	IsFixedRootDir, .-IsFixedRootDir
 128               	.global	PhatFilePosRewind
 129               		.type	PhatFilePosRewind, @function
 130               	PhatFilePosRewind:
 131               	/* prologue: function */
 132               	/* frame size = 0 */
 133 00ba FC01      		movw r30,r24
 134 00bc 1082      		st Z,__zero_reg__
 135 00be 1182      		std Z+1,__zero_reg__
 136 00c0 1282      		std Z+2,__zero_reg__
 137 00c2 1382      		std Z+3,__zero_reg__
 138 00c4 84A5      		ldd r24,Z+44
 139 00c6 95A5      		ldd r25,Z+45
 140 00c8 A0E0      		ldi r26,lo8(0)
 141 00ca B0E0      		ldi r27,hi8(0)
 142 00cc DC01      		movw r26,r24
 143 00ce 9927      		clr r25
 144 00d0 8827      		clr r24
 145 00d2 22A9      		ldd r18,Z+50
 146 00d4 33A9      		ldd r19,Z+51
 147 00d6 40E0      		ldi r20,lo8(0)
 148 00d8 50E0      		ldi r21,hi8(0)
 149 00da 820F      		add r24,r18
 150 00dc 931F      		adc r25,r19
 151 00de A41F      		adc r26,r20
 152 00e0 B51F      		adc r27,r21
 153 00e2 8483      		std Z+4,r24
 154 00e4 9583      		std Z+5,r25
 155 00e6 A683      		std Z+6,r26
 156 00e8 B783      		std Z+7,r27
 157 00ea 1086      		std Z+8,__zero_reg__
 158 00ec 1186      		std Z+9,__zero_reg__
 159 00ee 1286      		std Z+10,__zero_reg__
 160 00f0 1386      		std Z+11,__zero_reg__
 161 00f2 1486      		std Z+12,__zero_reg__
 162 00f4 1586      		std Z+13,__zero_reg__
 163 00f6 1686      		std Z+14,__zero_reg__
 164 00f8 1786      		std Z+15,__zero_reg__
 165               	/* epilogue start */
 166 00fa 0895      		ret
 167               		.size	PhatFilePosRewind, .-PhatFilePosRewind
 168               	.global	PhatFilePosSet
 169               		.type	PhatFilePosSet, @function
 170               	PhatFilePosSet:
 171 00fc 2F92      		push r2
GAS LISTING C:\Temp/cceE7vim.s 			page 4


 172 00fe 3F92      		push r3
 173 0100 4F92      		push r4
 174 0102 5F92      		push r5
 175 0104 6F92      		push r6
 176 0106 7F92      		push r7
 177 0108 8F92      		push r8
 178 010a 9F92      		push r9
 179 010c AF92      		push r10
 180 010e BF92      		push r11
 181 0110 CF92      		push r12
 182 0112 DF92      		push r13
 183 0114 EF92      		push r14
 184 0116 FF92      		push r15
 185 0118 0F93      		push r16
 186 011a 1F93      		push r17
 187 011c DF93      		push r29
 188 011e CF93      		push r28
 189 0120 CDB7      		in r28,__SP_L__
 190 0122 DEB7      		in r29,__SP_H__
 191 0124 2897      		sbiw r28,8
 192 0126 0FB6      		in __tmp_reg__,__SREG__
 193 0128 F894      		cli
 194 012a DEBF      		out __SP_H__,r29
 195 012c 0FBE      		out __SREG__,__tmp_reg__
 196 012e CDBF      		out __SP_L__,r28
 197               	/* prologue: function */
 198               	/* frame size = 8 */
 199 0130 9887      		std Y+8,r25
 200 0132 8F83      		std Y+7,r24
 201 0134 2A01      		movw r4,r20
 202 0136 3B01      		movw r6,r22
 203 0138 DC01      		movw r26,r24
 204 013a 1496      		adiw r26,4
 205 013c CD90      		ld r12,X+
 206 013e DC90      		ld r13,X
 207 0140 1597      		sbiw r26,4+1
 208 0142 1296      		adiw r26,2
 209 0144 ED91      		ld r30,X+
 210 0146 FC91      		ld r31,X
 211 0148 1397      		sbiw r26,2+1
 212 014a FE83      		std Y+6,r31
 213 014c ED83      		std Y+5,r30
 214 014e 2188      		ldd r2,Z+17
 215 0150 3288      		ldd r3,Z+18
 216 0152 4115      		cp r20,__zero_reg__
 217 0154 5105      		cpc r21,__zero_reg__
 218 0156 6105      		cpc r22,__zero_reg__
 219 0158 7105      		cpc r23,__zero_reg__
 220 015a 01F4      		brne .L22
 221 015c D601      		movw r26,r12
 222 015e 1D92      		st X+,__zero_reg__
 223 0160 1D92      		st X+,__zero_reg__
 224 0162 1D92      		st X+,__zero_reg__
 225 0164 1C92      		st X,__zero_reg__
 226 0166 1397      		sbiw r26,3
 227 0168 9C96      		adiw r26,44
 228 016a 8D91      		ld r24,X+
GAS LISTING C:\Temp/cceE7vim.s 			page 5


 229 016c 9C91      		ld r25,X
 230 016e 9D97      		sbiw r26,44+1
 231 0170 A0E0      		ldi r26,lo8(0)
 232 0172 B0E0      		ldi r27,hi8(0)
 233 0174 DC01      		movw r26,r24
 234 0176 9927      		clr r25
 235 0178 8827      		clr r24
 236 017a F601      		movw r30,r12
 237 017c 22A9      		ldd r18,Z+50
 238 017e 33A9      		ldd r19,Z+51
 239 0180 40E0      		ldi r20,lo8(0)
 240 0182 50E0      		ldi r21,hi8(0)
 241 0184 820F      		add r24,r18
 242 0186 931F      		adc r25,r19
 243 0188 A41F      		adc r26,r20
 244 018a B51F      		adc r27,r21
 245 018c 8483      		std Z+4,r24
 246 018e 9583      		std Z+5,r25
 247 0190 A683      		std Z+6,r26
 248 0192 B783      		std Z+7,r27
 249 0194 D601      		movw r26,r12
 250 0196 1896      		adiw r26,8
 251 0198 1D92      		st X+,__zero_reg__
 252 019a 1D92      		st X+,__zero_reg__
 253 019c 1D92      		st X+,__zero_reg__
 254 019e 1C92      		st X,__zero_reg__
 255 01a0 1B97      		sbiw r26,8+3
 256 01a2 1486      		std Z+12,__zero_reg__
 257 01a4 1586      		std Z+13,__zero_reg__
 258 01a6 1686      		std Z+14,__zero_reg__
 259 01a8 1786      		std Z+15,__zero_reg__
 260 01aa 00C0      		rjmp .L44
 261               	.L22:
 262 01ac D601      		movw r26,r12
 263 01ae 9396      		adiw r26,35
 264 01b0 8C91      		ld r24,X
 265 01b2 9397      		sbiw r26,35
 266 01b4 84FD      		sbrc r24,4
 267 01b6 00C0      		rjmp .L24
 268 01b8 D496      		adiw r26,52
 269 01ba 8D91      		ld r24,X+
 270 01bc 9D91      		ld r25,X+
 271 01be 0D90      		ld __tmp_reg__,X+
 272 01c0 BC91      		ld r27,X
 273 01c2 A02D      		mov r26,__tmp_reg__
 274 01c4 8417      		cp r24,r20
 275 01c6 9507      		cpc r25,r21
 276 01c8 A607      		cpc r26,r22
 277 01ca B707      		cpc r27,r23
 278 01cc 00F4      		brsh .+2
 279 01ce 00C0      		rjmp .L25
 280               	.L24:
 281 01d0 F601      		movw r30,r12
 282 01d2 8081      		ld r24,Z
 283 01d4 9181      		ldd r25,Z+1
 284 01d6 A281      		ldd r26,Z+2
 285 01d8 B381      		ldd r27,Z+3
GAS LISTING C:\Temp/cceE7vim.s 			page 6


 286 01da 4816      		cp r4,r24
 287 01dc 5906      		cpc r5,r25
 288 01de 6A06      		cpc r6,r26
 289 01e0 7B06      		cpc r7,r27
 290 01e2 00F4      		brsh .L26
 291 01e4 D601      		movw r26,r12
 292 01e6 1D92      		st X+,__zero_reg__
 293 01e8 1D92      		st X+,__zero_reg__
 294 01ea 1D92      		st X+,__zero_reg__
 295 01ec 1C92      		st X,__zero_reg__
 296 01ee 1397      		sbiw r26,3
 297 01f0 9C96      		adiw r26,44
 298 01f2 8D91      		ld r24,X+
 299 01f4 9C91      		ld r25,X
 300 01f6 9D97      		sbiw r26,44+1
 301 01f8 A0E0      		ldi r26,lo8(0)
 302 01fa B0E0      		ldi r27,hi8(0)
 303 01fc DC01      		movw r26,r24
 304 01fe 9927      		clr r25
 305 0200 8827      		clr r24
 306 0202 22A9      		ldd r18,Z+50
 307 0204 33A9      		ldd r19,Z+51
 308 0206 40E0      		ldi r20,lo8(0)
 309 0208 50E0      		ldi r21,hi8(0)
 310 020a 820F      		add r24,r18
 311 020c 931F      		adc r25,r19
 312 020e A41F      		adc r26,r20
 313 0210 B51F      		adc r27,r21
 314 0212 8483      		std Z+4,r24
 315 0214 9583      		std Z+5,r25
 316 0216 A683      		std Z+6,r26
 317 0218 B783      		std Z+7,r27
 318 021a D601      		movw r26,r12
 319 021c 1896      		adiw r26,8
 320 021e 1D92      		st X+,__zero_reg__
 321 0220 1D92      		st X+,__zero_reg__
 322 0222 1D92      		st X+,__zero_reg__
 323 0224 1C92      		st X,__zero_reg__
 324 0226 1B97      		sbiw r26,8+3
 325 0228 1486      		std Z+12,__zero_reg__
 326 022a 1586      		std Z+13,__zero_reg__
 327 022c 1686      		std Z+14,__zero_reg__
 328 022e 1786      		std Z+15,__zero_reg__
 329 0230 5301      		movw r10,r6
 330 0232 4201      		movw r8,r4
 331 0234 00C0      		rjmp .L42
 332               	.L26:
 333 0236 5301      		movw r10,r6
 334 0238 4201      		movw r8,r4
 335 023a 881A      		sub r8,r24
 336 023c 990A      		sbc r9,r25
 337 023e AA0A      		sbc r10,r26
 338 0240 BB0A      		sbc r11,r27
 339               	.L42:
 340 0242 D101      		movw r26,r2
 341 0244 5696      		adiw r26,22
 342 0246 8D91      		ld r24,X+
GAS LISTING C:\Temp/cceE7vim.s 			page 7


 343 0248 9C91      		ld r25,X
 344 024a 5797      		sbiw r26,22+1
 345 024c A0E0      		ldi r26,lo8(0)
 346 024e B0E0      		ldi r27,hi8(0)
 347 0250 F601      		movw r30,r12
 348 0252 2485      		ldd r18,Z+12
 349 0254 3585      		ldd r19,Z+13
 350 0256 4685      		ldd r20,Z+14
 351 0258 5785      		ldd r21,Z+15
 352 025a 2817      		cp r18,r24
 353 025c 3907      		cpc r19,r25
 354 025e 4A07      		cpc r20,r26
 355 0260 5B07      		cpc r21,r27
 356 0262 00F4      		brsh .+2
 357 0264 00C0      		rjmp .L28
 358 0266 AF81      		ldd r26,Y+7
 359 0268 B885      		ldd r27,Y+8
 360 026a 1296      		adiw r26,2
 361 026c ED91      		ld r30,X+
 362 026e FC91      		ld r31,X
 363 0270 1397      		sbiw r26,2+1
 364 0272 0188      		ldd __tmp_reg__,Z+17
 365 0274 F289      		ldd r31,Z+18
 366 0276 E02D      		mov r30,__tmp_reg__
 367 0278 8081      		ld r24,Z
 368 027a 9181      		ldd r25,Z+1
 369 027c 8097      		sbiw r24,32
 370 027e 01F0      		breq .L29
 371 0280 1496      		adiw r26,4
 372 0282 ED91      		ld r30,X+
 373 0284 FC91      		ld r31,X
 374 0286 1597      		sbiw r26,4+1
 375 0288 80AD      		ldd r24,Z+56
 376 028a 91AD      		ldd r25,Z+57
 377 028c A2AD      		ldd r26,Z+58
 378 028e B3AD      		ldd r27,Z+59
 379 0290 0097      		sbiw r24,0
 380 0292 A105      		cpc r26,__zero_reg__
 381 0294 B105      		cpc r27,__zero_reg__
 382 0296 01F4      		brne .L29
 383 0298 84A5      		ldd r24,Z+44
 384 029a 95A5      		ldd r25,Z+45
 385 029c 892B      		or r24,r25
 386 029e 01F4      		brne .L29
 387 02a0 82A9      		ldd r24,Z+50
 388 02a2 93A9      		ldd r25,Z+51
 389 02a4 892B      		or r24,r25
 390 02a6 01F4      		brne .+2
 391 02a8 00C0      		rjmp .L30
 392               	.L29:
 393 02aa F601      		movw r30,r12
 394 02ac 2085      		ldd r18,Z+8
 395 02ae 3185      		ldd r19,Z+9
 396 02b0 4285      		ldd r20,Z+10
 397 02b2 5385      		ldd r21,Z+11
 398 02b4 2F5F      		subi r18,lo8(-(1))
 399 02b6 3F4F      		sbci r19,hi8(-(1))
GAS LISTING C:\Temp/cceE7vim.s 			page 8


 400 02b8 4F4F      		sbci r20,hlo8(-(1))
 401 02ba 5F4F      		sbci r21,hhi8(-(1))
 402 02bc D101      		movw r26,r2
 403 02be 5896      		adiw r26,24
 404 02c0 8D91      		ld r24,X+
 405 02c2 9C91      		ld r25,X
 406 02c4 5997      		sbiw r26,24+1
 407 02c6 A0E0      		ldi r26,lo8(0)
 408 02c8 B0E0      		ldi r27,hi8(0)
 409 02ca 2817      		cp r18,r24
 410 02cc 3907      		cpc r19,r25
 411 02ce 4A07      		cpc r20,r26
 412 02d0 5B07      		cpc r21,r27
 413 02d2 00F4      		brsh .L31
 414 02d4 00C0      		rjmp .L45
 415               	.L43:
 416 02d6 F601      		movw r30,r12
 417 02d8 2087      		std Z+8,r18
 418 02da 3187      		std Z+9,r19
 419 02dc 4287      		std Z+10,r20
 420 02de 5387      		std Z+11,r21
 421 02e0 00C0      		rjmp .L33
 422               	.L31:
 423 02e2 D101      		movw r26,r2
 424 02e4 8D91      		ld r24,X+
 425 02e6 9C91      		ld r25,X
 426 02e8 8032      		cpi r24,32
 427 02ea 9105      		cpc r25,__zero_reg__
 428 02ec 01F4      		brne .L34
 429 02ee F601      		movw r30,r12
 430 02f0 4481      		ldd r20,Z+4
 431 02f2 5581      		ldd r21,Z+5
 432 02f4 6681      		ldd r22,Z+6
 433 02f6 7781      		ldd r23,Z+7
 434 02f8 9E01      		movw r18,r28
 435 02fa 2F5F      		subi r18,lo8(-(1))
 436 02fc 3F4F      		sbci r19,hi8(-(1))
 437 02fe 8D81      		ldd r24,Y+5
 438 0300 9E81      		ldd r25,Y+6
 439 0302 0E94 0000 		call Phat32GetClusterLink
 440 0306 892B      		or r24,r25
 441 0308 01F0      		breq .+2
 442 030a 00C0      		rjmp .L35
 443 030c 8981      		ldd r24,Y+1
 444 030e 9A81      		ldd r25,Y+2
 445 0310 AB81      		ldd r26,Y+3
 446 0312 BC81      		ldd r27,Y+4
 447 0314 885F      		subi r24,lo8(268435448)
 448 0316 9F4F      		sbci r25,hi8(268435448)
 449 0318 AF4F      		sbci r26,hlo8(268435448)
 450 031a BF40      		sbci r27,hhi8(268435448)
 451 031c 00F0      		brlo .L36
 452 031e 00C0      		rjmp .L35
 453               	.L34:
 454 0320 D601      		movw r26,r12
 455 0322 1496      		adiw r26,4
 456 0324 4D91      		ld r20,X+
GAS LISTING C:\Temp/cceE7vim.s 			page 9


 457 0326 5D91      		ld r21,X+
 458 0328 6D91      		ld r22,X+
 459 032a 7C91      		ld r23,X
 460 032c 1797      		sbiw r26,4+3
 461 032e 4097      		sbiw r24,16
 462 0330 01F4      		brne .L37
 463 0332 9E01      		movw r18,r28
 464 0334 2F5F      		subi r18,lo8(-(1))
 465 0336 3F4F      		sbci r19,hi8(-(1))
 466 0338 8D81      		ldd r24,Y+5
 467 033a 9E81      		ldd r25,Y+6
 468 033c 0E94 0000 		call Phat16GetClusterLink
 469 0340 892B      		or r24,r25
 470 0342 01F0      		breq .+2
 471 0344 00C0      		rjmp .L35
 472 0346 8981      		ldd r24,Y+1
 473 0348 9A81      		ldd r25,Y+2
 474 034a AB81      		ldd r26,Y+3
 475 034c BC81      		ldd r27,Y+4
 476 034e 885F      		subi r24,lo8(65528)
 477 0350 9F4F      		sbci r25,hi8(65528)
 478 0352 A040      		sbci r26,hlo8(65528)
 479 0354 B040      		sbci r27,hhi8(65528)
 480 0356 00F0      		brlo .L36
 481 0358 00C0      		rjmp .L35
 482               	.L37:
 483 035a 9E01      		movw r18,r28
 484 035c 2F5F      		subi r18,lo8(-(1))
 485 035e 3F4F      		sbci r19,hi8(-(1))
 486 0360 8D81      		ldd r24,Y+5
 487 0362 9E81      		ldd r25,Y+6
 488 0364 0E94 0000 		call Phat12GetClusterLink
 489 0368 892B      		or r24,r25
 490 036a 01F0      		breq .+2
 491 036c 00C0      		rjmp .L35
 492 036e 8981      		ldd r24,Y+1
 493 0370 9A81      		ldd r25,Y+2
 494 0372 AB81      		ldd r26,Y+3
 495 0374 BC81      		ldd r27,Y+4
 496 0376 885F      		subi r24,lo8(4088)
 497 0378 9F40      		sbci r25,hi8(4088)
 498 037a A040      		sbci r26,hlo8(4088)
 499 037c B040      		sbci r27,hhi8(4088)
 500 037e 00F0      		brlo .+2
 501 0380 00C0      		rjmp .L35
 502               	.L36:
 503 0382 D601      		movw r26,r12
 504 0384 1896      		adiw r26,8
 505 0386 1D92      		st X+,__zero_reg__
 506 0388 1D92      		st X+,__zero_reg__
 507 038a 1D92      		st X+,__zero_reg__
 508 038c 1C92      		st X,__zero_reg__
 509 038e 1B97      		sbiw r26,8+3
 510 0390 1496      		adiw r26,4
 511 0392 8D91      		ld r24,X+
 512 0394 9D91      		ld r25,X+
 513 0396 0D90      		ld __tmp_reg__,X+
GAS LISTING C:\Temp/cceE7vim.s 			page 10


 514 0398 BC91      		ld r27,X
 515 039a A02D      		mov r26,__tmp_reg__
 516 039c F601      		movw r30,r12
 517 039e 808B      		std Z+16,r24
 518 03a0 918B      		std Z+17,r25
 519 03a2 A28B      		std Z+18,r26
 520 03a4 B38B      		std Z+19,r27
 521 03a6 8981      		ldd r24,Y+1
 522 03a8 9A81      		ldd r25,Y+2
 523 03aa AB81      		ldd r26,Y+3
 524 03ac BC81      		ldd r27,Y+4
 525 03ae 8483      		std Z+4,r24
 526 03b0 9583      		std Z+5,r25
 527 03b2 A683      		std Z+6,r26
 528 03b4 B783      		std Z+7,r27
 529 03b6 00C0      		rjmp .L33
 530               	.L45:
 531 03b8 D601      		movw r26,r12
 532 03ba 1896      		adiw r26,8
 533 03bc 2D93      		st X+,r18
 534 03be 3D93      		st X+,r19
 535 03c0 4D93      		st X+,r20
 536 03c2 5C93      		st X,r21
 537 03c4 1B97      		sbiw r26,8+3
 538               	.L33:
 539 03c6 F601      		movw r30,r12
 540 03c8 1486      		std Z+12,__zero_reg__
 541 03ca 1586      		std Z+13,__zero_reg__
 542 03cc 1686      		std Z+14,__zero_reg__
 543 03ce 1786      		std Z+15,__zero_reg__
 544               	.L28:
 545 03d0 8114      		cp r8,__zero_reg__
 546 03d2 9104      		cpc r9,__zero_reg__
 547 03d4 A104      		cpc r10,__zero_reg__
 548 03d6 B104      		cpc r11,__zero_reg__
 549 03d8 01F0      		breq .L35
 550 03da D601      		movw r26,r12
 551 03dc 1C96      		adiw r26,12
 552 03de ED90      		ld r14,X+
 553 03e0 FD90      		ld r15,X+
 554 03e2 0D91      		ld r16,X+
 555 03e4 1C91      		ld r17,X
 556 03e6 1F97      		sbiw r26,12+3
 557 03e8 F101      		movw r30,r2
 558 03ea 8689      		ldd r24,Z+22
 559 03ec 9789      		ldd r25,Z+23
 560 03ee A0E0      		ldi r26,lo8(0)
 561 03f0 B0E0      		ldi r27,hi8(0)
 562 03f2 8E19      		sub r24,r14
 563 03f4 9F09      		sbc r25,r15
 564 03f6 A00B      		sbc r26,r16
 565 03f8 B10B      		sbc r27,r17
 566 03fa A501      		movw r20,r10
 567 03fc 9401      		movw r18,r8
 568 03fe 8815      		cp r24,r8
 569 0400 9905      		cpc r25,r9
 570 0402 AA05      		cpc r26,r10
GAS LISTING C:\Temp/cceE7vim.s 			page 11


 571 0404 BB05      		cpc r27,r11
 572 0406 00F4      		brsh .L38
 573 0408 9C01      		movw r18,r24
 574 040a AD01      		movw r20,r26
 575               	.L38:
 576 040c E20E      		add r14,r18
 577 040e F31E      		adc r15,r19
 578 0410 041F      		adc r16,r20
 579 0412 151F      		adc r17,r21
 580 0414 D601      		movw r26,r12
 581 0416 1C96      		adiw r26,12
 582 0418 ED92      		st X+,r14
 583 041a FD92      		st X+,r15
 584 041c 0D93      		st X+,r16
 585 041e 1C93      		st X,r17
 586 0420 1F97      		sbiw r26,12+3
 587 0422 8D91      		ld r24,X+
 588 0424 9D91      		ld r25,X+
 589 0426 0D90      		ld __tmp_reg__,X+
 590 0428 BC91      		ld r27,X
 591 042a A02D      		mov r26,__tmp_reg__
 592 042c 820F      		add r24,r18
 593 042e 931F      		adc r25,r19
 594 0430 A41F      		adc r26,r20
 595 0432 B51F      		adc r27,r21
 596 0434 F601      		movw r30,r12
 597 0436 8083      		st Z,r24
 598 0438 9183      		std Z+1,r25
 599 043a A283      		std Z+2,r26
 600 043c B383      		std Z+3,r27
 601 043e 821A      		sub r8,r18
 602 0440 930A      		sbc r9,r19
 603 0442 A40A      		sbc r10,r20
 604 0444 B50A      		sbc r11,r21
 605 0446 00C0      		rjmp .L42
 606               	.L35:
 607 0448 F601      		movw r30,r12
 608 044a 8081      		ld r24,Z
 609 044c 9181      		ldd r25,Z+1
 610 044e A281      		ldd r26,Z+2
 611 0450 B381      		ldd r27,Z+3
 612 0452 8415      		cp r24,r4
 613 0454 9505      		cpc r25,r5
 614 0456 A605      		cpc r26,r6
 615 0458 B705      		cpc r27,r7
 616 045a 01F4      		brne .L25
 617               	.L44:
 618 045c 20E0      		ldi r18,lo8(0)
 619 045e 30E0      		ldi r19,hi8(0)
 620 0460 00C0      		rjmp .L23
 621               	.L25:
 622 0462 2FEF      		ldi r18,lo8(-1)
 623 0464 3FEF      		ldi r19,hi8(-1)
 624               	.L23:
 625 0466 C901      		movw r24,r18
 626               	/* epilogue start */
 627 0468 2896      		adiw r28,8
GAS LISTING C:\Temp/cceE7vim.s 			page 12


 628 046a 0FB6      		in __tmp_reg__,__SREG__
 629 046c F894      		cli
 630 046e DEBF      		out __SP_H__,r29
 631 0470 0FBE      		out __SREG__,__tmp_reg__
 632 0472 CDBF      		out __SP_L__,r28
 633 0474 CF91      		pop r28
 634 0476 DF91      		pop r29
 635 0478 1F91      		pop r17
 636 047a 0F91      		pop r16
 637 047c FF90      		pop r15
 638 047e EF90      		pop r14
 639 0480 DF90      		pop r13
 640 0482 CF90      		pop r12
 641 0484 BF90      		pop r11
 642 0486 AF90      		pop r10
 643 0488 9F90      		pop r9
 644 048a 8F90      		pop r8
 645 048c 7F90      		pop r7
 646 048e 6F90      		pop r6
 647 0490 5F90      		pop r5
 648 0492 4F90      		pop r4
 649 0494 3F90      		pop r3
 650 0496 2F90      		pop r2
 651 0498 0895      		ret
 652               	.L30:
 653 049a D601      		movw r26,r12
 654 049c 1896      		adiw r26,8
 655 049e 2D91      		ld r18,X+
 656 04a0 3D91      		ld r19,X+
 657 04a2 4D91      		ld r20,X+
 658 04a4 5C91      		ld r21,X
 659 04a6 1B97      		sbiw r26,8+3
 660 04a8 2F5F      		subi r18,lo8(-(1))
 661 04aa 3F4F      		sbci r19,hi8(-(1))
 662 04ac 4F4F      		sbci r20,hlo8(-(1))
 663 04ae 5F4F      		sbci r21,hhi8(-(1))
 664 04b0 F101      		movw r30,r2
 665 04b2 86A1      		ldd r24,Z+38
 666 04b4 97A1      		ldd r25,Z+39
 667 04b6 A0E0      		ldi r26,lo8(0)
 668 04b8 B0E0      		ldi r27,hi8(0)
 669 04ba 2817      		cp r18,r24
 670 04bc 3907      		cpc r19,r25
 671 04be 4A07      		cpc r20,r26
 672 04c0 5B07      		cpc r21,r27
 673 04c2 00F4      		brsh .+2
 674 04c4 00C0      		rjmp .L43
 675 04c6 00C0      		rjmp .L35
 676               		.size	PhatFilePosSet, .-PhatFilePosSet
 677               	.global	GetParentPath
 678               		.type	GetParentPath, @function
 679               	GetParentPath:
 680 04c8 EF92      		push r14
 681 04ca FF92      		push r15
 682 04cc 0F93      		push r16
 683 04ce 1F93      		push r17
 684 04d0 CF93      		push r28
GAS LISTING C:\Temp/cceE7vim.s 			page 13


 685 04d2 DF93      		push r29
 686               	/* prologue: function */
 687               	/* frame size = 0 */
 688 04d4 F82E      		mov r15,r24
 689 04d6 E92E      		mov r14,r25
 690 04d8 EB01      		movw r28,r22
 691 04da 6FE2      		ldi r22,lo8(47)
 692 04dc 70E0      		ldi r23,hi8(47)
 693 04de 0E94 0000 		call strrchr
 694 04e2 9983      		std Y+1,r25
 695 04e4 8883      		st Y,r24
 696 04e6 0097      		sbiw r24,0
 697 04e8 01F4      		brne .L47
 698 04ea 86E1      		ldi r24,lo8(22)
 699 04ec 90E0      		ldi r25,hi8(22)
 700 04ee 9093 0000 		sts (errno)+1,r25
 701 04f2 8093 0000 		sts errno,r24
 702 04f6 00E0      		ldi r16,lo8(0)
 703 04f8 10E0      		ldi r17,hi8(0)
 704 04fa 00C0      		rjmp .L48
 705               	.L47:
 706 04fc 0196      		adiw r24,1
 707 04fe 9983      		std Y+1,r25
 708 0500 8883      		st Y,r24
 709 0502 EF2D      		mov r30,r15
 710 0504 FE2D      		mov r31,r14
 711 0506 EF01      		movw r28,r30
 712 0508 0990      		ld __tmp_reg__,Y+
 713 050a 0020      		tst __tmp_reg__
 714 050c 01F4      		brne .-6
 715 050e 2197      		sbiw r28,1
 716 0510 CE1B      		sub r28,r30
 717 0512 DF0B      		sbc r29,r31
 718 0514 FC01      		movw r30,r24
 719 0516 0190      		ld __tmp_reg__,Z+
 720 0518 0020      		tst __tmp_reg__
 721 051a 01F4      		brne .-6
 722 051c 3197      		sbiw r30,1
 723 051e E81B      		sub r30,r24
 724 0520 F90B      		sbc r31,r25
 725 0522 CE1B      		sub r28,r30
 726 0524 DF0B      		sbc r29,r31
 727 0526 C230      		cpi r28,2
 728 0528 D105      		cpc r29,__zero_reg__
 729 052a 04F4      		brge .L49
 730 052c C2E0      		ldi r28,lo8(2)
 731 052e D0E0      		ldi r29,hi8(2)
 732               	.L49:
 733 0530 CE01      		movw r24,r28
 734 0532 0E94 0000 		call malloc
 735 0536 8C01      		movw r16,r24
 736 0538 0097      		sbiw r24,0
 737 053a 01F0      		breq .L48
 738 053c CE01      		movw r24,r28
 739 053e 0197      		sbiw r24,1
 740 0540 AC01      		movw r20,r24
 741 0542 6F2D      		mov r22,r15
GAS LISTING C:\Temp/cceE7vim.s 			page 14


 742 0544 7E2D      		mov r23,r14
 743 0546 C801      		movw r24,r16
 744 0548 0E94 0000 		call memcpy
 745 054c C00F      		add r28,r16
 746 054e D11F      		adc r29,r17
 747 0550 2197      		sbiw r28,1
 748 0552 1882      		st Y,__zero_reg__
 749               	.L48:
 750 0554 C801      		movw r24,r16
 751               	/* epilogue start */
 752 0556 DF91      		pop r29
 753 0558 CF91      		pop r28
 754 055a 1F91      		pop r17
 755 055c 0F91      		pop r16
 756 055e FF90      		pop r15
 757 0560 EF90      		pop r14
 758 0562 0895      		ret
 759               		.size	GetParentPath, .-GetParentPath
 760               		.data
 761               	.LC0:
 762 0000 222B 2C2E 		.string	"\"+,./:;<=>[\\]^"
 762      2F3A 3B3C 
 762      3D3E 5B5C 
 762      5D5E 00
 763               		.text
 764               	.global	MakePhatName
 765               		.type	MakePhatName, @function
 766               	MakePhatName:
 767 0564 8F92      		push r8
 768 0566 9F92      		push r9
 769 0568 AF92      		push r10
 770 056a BF92      		push r11
 771 056c CF92      		push r12
 772 056e DF92      		push r13
 773 0570 EF92      		push r14
 774 0572 FF92      		push r15
 775 0574 0F93      		push r16
 776 0576 1F93      		push r17
 777 0578 CF93      		push r28
 778 057a DF93      		push r29
 779               	/* prologue: function */
 780               	/* frame size = 0 */
 781 057c EC01      		movw r28,r24
 782 057e 6B01      		movw r12,r22
 783 0580 4BE0      		ldi r20,lo8(11)
 784 0582 50E0      		ldi r21,hi8(11)
 785 0584 60E2      		ldi r22,lo8(32)
 786 0586 70E0      		ldi r23,hi8(32)
 787 0588 C601      		movw r24,r12
 788 058a 0E94 0000 		call memset
 789 058e 20E0      		ldi r18,lo8(0)
 790 0590 30E0      		ldi r19,hi8(0)
 791 0592 00C0      		rjmp .L53
 792               	.L54:
 793 0594 2F5F      		subi r18,lo8(-(1))
 794 0596 3F4F      		sbci r19,hi8(-(1))
 795               	.L53:
GAS LISTING C:\Temp/cceE7vim.s 			page 15


 796 0598 FE01      		movw r30,r28
 797 059a E20F      		add r30,r18
 798 059c F31F      		adc r31,r19
 799 059e E081      		ld r30,Z
 800 05a0 EE32      		cpi r30,lo8(46)
 801 05a2 01F0      		breq .L54
 802 05a4 EE23      		tst r30
 803 05a6 01F4      		brne .L55
 804 05a8 C901      		movw r24,r18
 805 05aa 0197      		sbiw r24,1
 806 05ac 0297      		sbiw r24,2
 807 05ae 00F4      		brsh .L55
 808 05b0 00C0      		rjmp .L80
 809               	.L57:
 810 05b2 F601      		movw r30,r12
 811 05b4 8193      		st Z+,r24
 812 05b6 6F01      		movw r12,r30
 813 05b8 00C0      		rjmp .L76
 814               	.L80:
 815 05ba 8EE2      		ldi r24,lo8(46)
 816               	.L76:
 817 05bc 2150      		subi r18,lo8(-(-1))
 818 05be 3040      		sbci r19,hi8(-(-1))
 819 05c0 FFEF      		ldi r31,hi8(-1)
 820 05c2 2F3F      		cpi r18,lo8(-1)
 821 05c4 3F07      		cpc r19,r31
 822 05c6 01F4      		brne .L57
 823 05c8 C0E0      		ldi r28,lo8(0)
 824 05ca D0E0      		ldi r29,hi8(0)
 825 05cc 00C0      		rjmp .L58
 826               	.L55:
 827 05ce 8991      		ld r24,Y+
 828 05d0 853E      		cpi r24,lo8(-27)
 829 05d2 01F4      		brne .L59
 830 05d4 85E0      		ldi r24,lo8(5)
 831               	.L77:
 832 05d6 F601      		movw r30,r12
 833 05d8 8083      		st Z,r24
 834 05da 01E0      		ldi r16,lo8(1)
 835 05dc 10E0      		ldi r17,hi8(1)
 836 05de 00C0      		rjmp .L60
 837               	.L59:
 838 05e0 9927      		clr r25
 839 05e2 87FD      		sbrc r24,7
 840 05e4 9095      		com r25
 841 05e6 0E94 0000 		call toupper
 842 05ea 00C0      		rjmp .L77
 843               	.L63:
 844 05ec 9927      		clr r25
 845 05ee 87FD      		sbrc r24,7
 846 05f0 9095      		com r25
 847 05f2 0E94 0000 		call toupper
 848 05f6 F601      		movw r30,r12
 849 05f8 E00F      		add r30,r16
 850 05fa F11F      		adc r31,r17
 851 05fc 8083      		st Z,r24
 852 05fe 0F5F      		subi r16,lo8(-(1))
GAS LISTING C:\Temp/cceE7vim.s 			page 16


 853 0600 1F4F      		sbci r17,hi8(-(1))
 854 0602 2196      		adiw r28,1
 855 0604 0830      		cpi r16,8
 856 0606 1105      		cpc r17,__zero_reg__
 857 0608 01F0      		breq .L62
 858               	.L60:
 859 060a 8881      		ld r24,Y
 860 060c 8823      		tst r24
 861 060e 01F0      		breq .L62
 862 0610 8E32      		cpi r24,lo8(46)
 863 0612 01F4      		brne .L63
 864               	.L62:
 865 0614 8881      		ld r24,Y
 866 0616 8823      		tst r24
 867 0618 01F4      		brne .L64
 868               	.L70:
 869 061a 8601      		movw r16,r12
 870 061c C0E0      		ldi r28,lo8(0)
 871 061e D0E0      		ldi r29,hi8(0)
 872 0620 CC24      		clr r12
 873 0622 DD24      		clr r13
 874 0624 6BE0      		ldi r22,lo8(11)
 875 0626 862E      		mov r8,r22
 876 0628 912C      		mov r9,__zero_reg__
 877 062a 58E0      		ldi r21,lo8(8)
 878 062c A52E      		mov r10,r21
 879 062e B12C      		mov r11,__zero_reg__
 880 0630 00C0      		rjmp .L65
 881               	.L64:
 882 0632 8E32      		cpi r24,lo8(46)
 883 0634 01F0      		breq .+2
 884 0636 00C0      		rjmp .L66
 885 0638 8E01      		movw r16,r28
 886 063a 0F5F      		subi r16,lo8(-(1))
 887 063c 1F4F      		sbci r17,hi8(-(1))
 888 063e 7601      		movw r14,r12
 889 0640 2496      		adiw r28,4
 890 0642 00C0      		rjmp .L67
 891               	.L69:
 892 0644 9927      		clr r25
 893 0646 87FD      		sbrc r24,7
 894 0648 9095      		com r25
 895 064a 0E94 0000 		call toupper
 896 064e F701      		movw r30,r14
 897 0650 8087      		std Z+8,r24
 898 0652 0F5F      		subi r16,lo8(-(1))
 899 0654 1F4F      		sbci r17,hi8(-(1))
 900 0656 0894      		sec
 901 0658 E11C      		adc r14,__zero_reg__
 902 065a F11C      		adc r15,__zero_reg__
 903 065c 0C17      		cp r16,r28
 904 065e 1D07      		cpc r17,r29
 905 0660 01F0      		breq .L68
 906               	.L67:
 907 0662 F801      		movw r30,r16
 908 0664 8081      		ld r24,Z
 909 0666 8823      		tst r24
GAS LISTING C:\Temp/cceE7vim.s 			page 17


 910 0668 01F4      		brne .L69
 911               	.L68:
 912 066a F801      		movw r30,r16
 913 066c 8081      		ld r24,Z
 914 066e 8823      		tst r24
 915 0670 01F0      		breq .L70
 916 0672 00C0      		rjmp .L66
 917               	.L65:
 918 0674 F801      		movw r30,r16
 919 0676 F080      		ld r15,Z
 920 0678 FFE1      		ldi r31,lo8(31)
 921 067a FF15      		cp r31,r15
 922 067c 00F4      		brsh .L66
 923 067e 6F2D      		mov r22,r15
 924 0680 70E0      		ldi r23,lo8(0)
 925 0682 80E0      		ldi r24,lo8(.LC0)
 926 0684 90E0      		ldi r25,hi8(.LC0)
 927 0686 0E94 0000 		call strchr
 928 068a 0097      		sbiw r24,0
 929 068c 01F4      		brne .L66
 930 068e 8FE3      		ldi r24,lo8(63)
 931 0690 F816      		cp r15,r24
 932 0692 01F0      		breq .L78
 933               	.L71:
 934 0694 9AE2      		ldi r25,lo8(42)
 935 0696 F916      		cp r15,r25
 936 0698 01F4      		brne .L72
 937 069a E8E0      		ldi r30,lo8(8)
 938 069c CE16      		cp r12,r30
 939 069e D104      		cpc r13,__zero_reg__
 940 06a0 04F4      		brge .L73
 941 06a2 C501      		movw r24,r10
 942 06a4 00C0      		rjmp .L79
 943               	.L73:
 944 06a6 C401      		movw r24,r8
 945               	.L79:
 946 06a8 8C19      		sub r24,r12
 947 06aa 9D09      		sbc r25,r13
 948 06ac AC01      		movw r20,r24
 949 06ae 6FE3      		ldi r22,lo8(63)
 950 06b0 70E0      		ldi r23,hi8(63)
 951 06b2 C801      		movw r24,r16
 952 06b4 0E94 0000 		call memset
 953               	.L78:
 954 06b8 C1E0      		ldi r28,lo8(1)
 955 06ba D0E0      		ldi r29,hi8(1)
 956               	.L72:
 957 06bc 0894      		sec
 958 06be C11C      		adc r12,__zero_reg__
 959 06c0 D11C      		adc r13,__zero_reg__
 960 06c2 0F5F      		subi r16,lo8(-(1))
 961 06c4 1F4F      		sbci r17,hi8(-(1))
 962 06c6 FBE0      		ldi r31,lo8(11)
 963 06c8 CF16      		cp r12,r31
 964 06ca D104      		cpc r13,__zero_reg__
 965 06cc 01F4      		brne .L65
 966 06ce 00C0      		rjmp .L58
GAS LISTING C:\Temp/cceE7vim.s 			page 18


 967               	.L66:
 968 06d0 CFEF      		ldi r28,lo8(-1)
 969 06d2 DFEF      		ldi r29,hi8(-1)
 970               	.L58:
 971 06d4 CE01      		movw r24,r28
 972               	/* epilogue start */
 973 06d6 DF91      		pop r29
 974 06d8 CF91      		pop r28
 975 06da 1F91      		pop r17
 976 06dc 0F91      		pop r16
 977 06de FF90      		pop r15
 978 06e0 EF90      		pop r14
 979 06e2 DF90      		pop r13
 980 06e4 CF90      		pop r12
 981 06e6 BF90      		pop r11
 982 06e8 AF90      		pop r10
 983 06ea 9F90      		pop r9
 984 06ec 8F90      		pop r8
 985 06ee 0895      		ret
 986               		.size	MakePhatName, .-MakePhatName
 987               	.global	GetDosTimeStamp
 988               		.type	GetDosTimeStamp, @function
 989               	GetDosTimeStamp:
 990 06f0 CF92      		push r12
 991 06f2 DF92      		push r13
 992 06f4 EF92      		push r14
 993 06f6 FF92      		push r15
 994 06f8 0F93      		push r16
 995 06fa 1F93      		push r17
 996 06fc DF93      		push r29
 997 06fe CF93      		push r28
 998 0700 00D0      		rcall .
 999 0702 00D0      		rcall .
 1000 0704 CDB7      		in r28,__SP_L__
 1001 0706 DEB7      		in r29,__SP_H__
 1002               	/* prologue: function */
 1003               	/* frame size = 4 */
 1004 0708 6C01      		movw r12,r24
 1005 070a 7B01      		movw r14,r22
 1006 070c 8E01      		movw r16,r28
 1007 070e 0F5F      		subi r16,lo8(-(1))
 1008 0710 1F4F      		sbci r17,hi8(-(1))
 1009 0712 C801      		movw r24,r16
 1010 0714 0E94 0000 		call time
 1011 0718 C801      		movw r24,r16
 1012 071a 0E94 0000 		call localtime
 1013 071e FC01      		movw r30,r24
 1014 0720 E114      		cp r14,__zero_reg__
 1015 0722 F104      		cpc r15,__zero_reg__
 1016 0724 01F0      		breq .L82
 1017 0726 8085      		ldd r24,Z+8
 1018 0728 9185      		ldd r25,Z+9
 1019 072a 0196      		adiw r24,1
 1020 072c B5E0      		ldi r27,5
 1021 072e 880F      	1:	lsl r24
 1022 0730 991F      		rol r25
 1023 0732 BA95      		dec r27
GAS LISTING C:\Temp/cceE7vim.s 			page 19


 1024 0734 01F4      		brne 1b
 1025 0736 2285      		ldd r18,Z+10
 1026 0738 3385      		ldd r19,Z+11
 1027 073a 2055      		subi r18,lo8(-(-80))
 1028 073c 3040      		sbci r19,hi8(-(-80))
 1029 073e 322F      		mov r19,r18
 1030 0740 2227      		clr r18
 1031 0742 330F      		lsl r19
 1032 0744 822B      		or r24,r18
 1033 0746 932B      		or r25,r19
 1034 0748 2681      		ldd r18,Z+6
 1035 074a 3781      		ldd r19,Z+7
 1036 074c 822B      		or r24,r18
 1037 074e 932B      		or r25,r19
 1038 0750 D701      		movw r26,r14
 1039 0752 8D93      		st X+,r24
 1040 0754 9C93      		st X,r25
 1041               	.L82:
 1042 0756 C114      		cp r12,__zero_reg__
 1043 0758 D104      		cpc r13,__zero_reg__
 1044 075a 01F0      		breq .L84
 1045 075c 2281      		ldd r18,Z+2
 1046 075e 3381      		ldd r19,Z+3
 1047 0760 75E0      		ldi r23,5
 1048 0762 220F      	1:	lsl r18
 1049 0764 331F      		rol r19
 1050 0766 7A95      		dec r23
 1051 0768 01F4      		brne 1b
 1052 076a 8081      		ld r24,Z
 1053 076c 9181      		ldd r25,Z+1
 1054 076e 62E0      		ldi r22,lo8(2)
 1055 0770 70E0      		ldi r23,hi8(2)
 1056 0772 0E94 0000 		call __divmodhi4
 1057 0776 262B      		or r18,r22
 1058 0778 372B      		or r19,r23
 1059 077a 4481      		ldd r20,Z+4
 1060 077c 942F      		mov r25,r20
 1061 077e 990F      		lsl r25
 1062 0780 990F      		lsl r25
 1063 0782 990F      		lsl r25
 1064 0784 80E0      		ldi r24,lo8(0)
 1065 0786 282B      		or r18,r24
 1066 0788 392B      		or r19,r25
 1067 078a F601      		movw r30,r12
 1068 078c 3183      		std Z+1,r19
 1069 078e 2083      		st Z,r18
 1070               	.L84:
 1071               	/* epilogue start */
 1072 0790 0F90      		pop __tmp_reg__
 1073 0792 0F90      		pop __tmp_reg__
 1074 0794 0F90      		pop __tmp_reg__
 1075 0796 0F90      		pop __tmp_reg__
 1076 0798 CF91      		pop r28
 1077 079a DF91      		pop r29
 1078 079c 1F91      		pop r17
 1079 079e 0F91      		pop r16
 1080 07a0 FF90      		pop r15
GAS LISTING C:\Temp/cceE7vim.s 			page 20


 1081 07a2 EF90      		pop r14
 1082 07a4 DF90      		pop r13
 1083 07a6 CF90      		pop r12
 1084 07a8 0895      		ret
 1085               		.size	GetDosTimeStamp, .-GetDosTimeStamp
GAS LISTING C:\Temp/cceE7vim.s 			page 21


DEFINED SYMBOLS
                            *ABS*:00000000 phatutil.c
  C:\Temp/cceE7vim.s:2      *ABS*:0000003f __SREG__
  C:\Temp/cceE7vim.s:3      *ABS*:0000003e __SP_H__
  C:\Temp/cceE7vim.s:4      *ABS*:0000003d __SP_L__
  C:\Temp/cceE7vim.s:5      *ABS*:00000034 __CCP__
  C:\Temp/cceE7vim.s:6      *ABS*:00000000 __tmp_reg__
  C:\Temp/cceE7vim.s:7      *ABS*:00000001 __zero_reg__
  C:\Temp/cceE7vim.s:13     .text:00000000 MakeVisibleName
  C:\Temp/cceE7vim.s:80     .text:00000068 IsFixedRootDir
  C:\Temp/cceE7vim.s:130    .text:000000ba PhatFilePosRewind
  C:\Temp/cceE7vim.s:170    .text:000000fc PhatFilePosSet
  C:\Temp/cceE7vim.s:679    .text:000004c8 GetParentPath
  C:\Temp/cceE7vim.s:766    .text:00000564 MakePhatName
  C:\Temp/cceE7vim.s:989    .text:000006f0 GetDosTimeStamp

UNDEFINED SYMBOLS
__do_copy_data
__do_clear_bss
Phat32GetClusterLink
Phat16GetClusterLink
Phat12GetClusterLink
strrchr
errno
malloc
memcpy
memset
toupper
strchr
time
localtime
__divmodhi4
