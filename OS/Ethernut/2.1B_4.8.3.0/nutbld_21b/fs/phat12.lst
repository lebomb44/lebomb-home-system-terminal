GAS LISTING C:\Temp/ccRwwlG2.s 			page 1


   1               		.file	"phat12.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__  = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.global __do_copy_data
   9               		.global __do_clear_bss
  10               		.text
  11               	.global	Phat12SetClusterLink
  12               		.type	Phat12SetClusterLink, @function
  13               	Phat12SetClusterLink:
  14 0000 2F92      		push r2
  15 0002 3F92      		push r3
  16 0004 4F92      		push r4
  17 0006 5F92      		push r5
  18 0008 6F92      		push r6
  19 000a 7F92      		push r7
  20 000c 8F92      		push r8
  21 000e 9F92      		push r9
  22 0010 AF92      		push r10
  23 0012 BF92      		push r11
  24 0014 CF92      		push r12
  25 0016 DF92      		push r13
  26 0018 EF92      		push r14
  27 001a FF92      		push r15
  28 001c 0F93      		push r16
  29 001e 1F93      		push r17
  30 0020 DF93      		push r29
  31 0022 CF93      		push r28
  32 0024 CDB7      		in r28,__SP_L__
  33 0026 DEB7      		in r29,__SP_H__
  34 0028 6E97      		sbiw r28,30
  35 002a 0FB6      		in __tmp_reg__,__SREG__
  36 002c F894      		cli
  37 002e DEBF      		out __SP_H__,r29
  38 0030 0FBE      		out __SREG__,__tmp_reg__
  39 0032 CDBF      		out __SP_L__,r28
  40               	/* prologue: function */
  41               	/* frame size = 30 */
  42 0034 9C87      		std Y+12,r25
  43 0036 8B87      		std Y+11,r24
  44 0038 0D87      		std Y+13,r16
  45 003a 1E87      		std Y+14,r17
  46 003c 2F87      		std Y+15,r18
  47 003e 388B      		std Y+16,r19
  48 0040 DC01      		movw r26,r24
  49 0042 5196      		adiw r26,17
  50 0044 8D90      		ld r8,X+
  51 0046 9C90      		ld r9,X
  52 0048 5297      		sbiw r26,17+1
  53 004a DB01      		movw r26,r22
  54 004c CA01      		movw r24,r20
  55 004e B695      		lsr r27
  56 0050 A795      		ror r26
  57 0052 9795      		ror r25
GAS LISTING C:\Temp/ccRwwlG2.s 			page 2


  58 0054 8795      		ror r24
  59 0056 840F      		add r24,r20
  60 0058 951F      		adc r25,r21
  61 005a A61F      		adc r26,r22
  62 005c B71F      		adc r27,r23
  63 005e 8983      		std Y+1,r24
  64 0060 9A83      		std Y+2,r25
  65 0062 AB83      		std Y+3,r26
  66 0064 BC83      		std Y+4,r27
  67 0066 1401      		movw r2,r8
  68 0068 DA01      		movw r26,r20
  69 006a A170      		andi r26,lo8(1)
  70 006c B070      		andi r27,hi8(1)
  71 006e BA8B      		std Y+18,r27
  72 0070 A98B      		std Y+17,r26
  73 0072 F401      		movw r30,r8
  74 0074 3896      		adiw r30,8
  75 0076 FC8B      		std Y+20,r31
  76 0078 EB8B      		std Y+19,r30
  77 007a 00C0      		rjmp .L2
  78               	.L11:
  79 007c D401      		movw r26,r8
  80 007e 5696      		adiw r26,22
  81 0080 8D91      		ld r24,X+
  82 0082 9C91      		ld r25,X
  83 0084 5797      		sbiw r26,22+1
  84 0086 5C01      		movw r10,r24
  85 0088 CC24      		clr r12
  86 008a DD24      		clr r13
  87 008c 6981      		ldd r22,Y+1
  88 008e 7A81      		ldd r23,Y+2
  89 0090 8B81      		ldd r24,Y+3
  90 0092 9C81      		ldd r25,Y+4
  91 0094 A601      		movw r20,r12
  92 0096 9501      		movw r18,r10
  93 0098 0E94 0000 		call __udivmodsi4
  94 009c 2901      		movw r4,r18
  95 009e 3A01      		movw r6,r20
  96 00a0 4E0C      		add r4,r14
  97 00a2 5F1C      		adc r5,r15
  98 00a4 601E      		adc r6,r16
  99 00a6 711E      		adc r7,r17
 100 00a8 B301      		movw r22,r6
 101 00aa A201      		movw r20,r4
 102 00ac 8B85      		ldd r24,Y+11
 103 00ae 9C85      		ldd r25,Y+12
 104 00b0 0E94 0000 		call PhatSectorLoad
 105 00b4 9E8B      		std Y+22,r25
 106 00b6 8D8B      		std Y+21,r24
 107 00b8 97FD      		sbrc r25,7
 108 00ba 00C0      		rjmp .L3
 109 00bc 6981      		ldd r22,Y+1
 110 00be 7A81      		ldd r23,Y+2
 111 00c0 8B81      		ldd r24,Y+3
 112 00c2 9C81      		ldd r25,Y+4
 113 00c4 A601      		movw r20,r12
 114 00c6 9501      		movw r18,r10
GAS LISTING C:\Temp/ccRwwlG2.s 			page 3


 115 00c8 0E94 0000 		call __udivmodsi4
 116 00cc 7B01      		movw r14,r22
 117 00ce 8C01      		movw r16,r24
 118 00d0 ED89      		ldd r30,Y+21
 119 00d2 FE89      		ldd r31,Y+22
 120 00d4 B3E0      		ldi r27,3
 121 00d6 EE0F      	1:	lsl r30
 122 00d8 FF1F      		rol r31
 123 00da BA95      		dec r27
 124 00dc 01F4      		brne 1b
 125 00de E80D      		add r30,r8
 126 00e0 F91D      		adc r31,r9
 127 00e2 2285      		ldd r18,Z+10
 128 00e4 3385      		ldd r19,Z+11
 129 00e6 7A87      		std Y+10,r23
 130 00e8 6987      		std Y+9,r22
 131 00ea FB01      		movw r30,r22
 132 00ec E20F      		add r30,r18
 133 00ee F31F      		adc r31,r19
 134 00f0 8081      		ld r24,Z
 135 00f2 A82E      		mov r10,r24
 136 00f4 BB24      		clr r11
 137 00f6 CC24      		clr r12
 138 00f8 DD24      		clr r13
 139 00fa B801      		movw r22,r16
 140 00fc A701      		movw r20,r14
 141 00fe 4F5F      		subi r20,lo8(-(1))
 142 0100 5F4F      		sbci r21,hi8(-(1))
 143 0102 6F4F      		sbci r22,hlo8(-(1))
 144 0104 7F4F      		sbci r23,hhi8(-(1))
 145 0106 4D83      		std Y+5,r20
 146 0108 5E83      		std Y+6,r21
 147 010a 6F83      		std Y+7,r22
 148 010c 7887      		std Y+8,r23
 149 010e D401      		movw r26,r8
 150 0110 5696      		adiw r26,22
 151 0112 8D91      		ld r24,X+
 152 0114 9C91      		ld r25,X
 153 0116 5797      		sbiw r26,22+1
 154 0118 A0E0      		ldi r26,lo8(0)
 155 011a B0E0      		ldi r27,hi8(0)
 156 011c 4817      		cp r20,r24
 157 011e 5907      		cpc r21,r25
 158 0120 6A07      		cpc r22,r26
 159 0122 7B07      		cpc r23,r27
 160 0124 00F4      		brsh .L4
 161 0126 8181      		ldd r24,Z+1
 162 0128 00C0      		rjmp .L14
 163               	.L4:
 164 012a B301      		movw r22,r6
 165 012c A201      		movw r20,r4
 166 012e 4F5F      		subi r20,lo8(-(1))
 167 0130 5F4F      		sbci r21,hi8(-(1))
 168 0132 6F4F      		sbci r22,hlo8(-(1))
 169 0134 7F4F      		sbci r23,hhi8(-(1))
 170 0136 8B85      		ldd r24,Y+11
 171 0138 9C85      		ldd r25,Y+12
GAS LISTING C:\Temp/ccRwwlG2.s 			page 4


 172 013a 0E94 0000 		call PhatSectorLoad
 173 013e 9E8B      		std Y+22,r25
 174 0140 8D8B      		std Y+21,r24
 175 0142 97FD      		sbrc r25,7
 176 0144 00C0      		rjmp .L3
 177 0146 FC01      		movw r30,r24
 178 0148 A3E0      		ldi r26,3
 179 014a EE0F      	1:	lsl r30
 180 014c FF1F      		rol r31
 181 014e AA95      		dec r26
 182 0150 01F4      		brne 1b
 183 0152 E80D      		add r30,r8
 184 0154 F91D      		adc r31,r9
 185 0156 0284      		ldd __tmp_reg__,Z+10
 186 0158 F385      		ldd r31,Z+11
 187 015a E02D      		mov r30,__tmp_reg__
 188 015c 8081      		ld r24,Z
 189               	.L14:
 190 015e 90E0      		ldi r25,lo8(0)
 191 0160 A0E0      		ldi r26,lo8(0)
 192 0162 B0E0      		ldi r27,hi8(0)
 193 0164 BA2F      		mov r27,r26
 194 0166 A92F      		mov r26,r25
 195 0168 982F      		mov r25,r24
 196 016a 8827      		clr r24
 197 016c 8A0D      		add r24,r10
 198 016e 9B1D      		adc r25,r11
 199 0170 AC1D      		adc r26,r12
 200 0172 BD1D      		adc r27,r13
 201 0174 2D85      		ldd r18,Y+13
 202 0176 3E85      		ldd r19,Y+14
 203 0178 4F85      		ldd r20,Y+15
 204 017a 5889      		ldd r21,Y+16
 205 017c 3F70      		andi r19,hi8(4095)
 206 017e 4070      		andi r20,hlo8(4095)
 207 0180 5070      		andi r21,hhi8(4095)
 208 0182 2D87      		std Y+13,r18
 209 0184 3E87      		std Y+14,r19
 210 0186 4F87      		std Y+15,r20
 211 0188 588B      		std Y+16,r21
 212 018a 4989      		ldd r20,Y+17
 213 018c 5A89      		ldd r21,Y+18
 214 018e 452B      		or r20,r21
 215 0190 01F0      		breq .L6
 216 0192 8F70      		andi r24,lo8(15)
 217 0194 9070      		andi r25,hi8(15)
 218 0196 A070      		andi r26,hlo8(15)
 219 0198 B070      		andi r27,hhi8(15)
 220 019a 2D85      		ldd r18,Y+13
 221 019c 3E85      		ldd r19,Y+14
 222 019e 4F85      		ldd r20,Y+15
 223 01a0 5889      		ldd r21,Y+16
 224 01a2 64E0      		ldi r22,4
 225 01a4 220F      	1:	lsl r18
 226 01a6 331F      		rol r19
 227 01a8 441F      		rol r20
 228 01aa 551F      		rol r21
GAS LISTING C:\Temp/ccRwwlG2.s 			page 5


 229 01ac 6A95      		dec r22
 230 01ae 01F4      		brne 1b
 231 01b0 2D87      		std Y+13,r18
 232 01b2 3E87      		std Y+14,r19
 233 01b4 4F87      		std Y+15,r20
 234 01b6 588B      		std Y+16,r21
 235 01b8 00C0      		rjmp .L7
 236               	.L6:
 237 01ba 8070      		andi r24,lo8(61440)
 238 01bc 907F      		andi r25,hi8(61440)
 239 01be A070      		andi r26,hlo8(61440)
 240 01c0 B070      		andi r27,hhi8(61440)
 241               	.L7:
 242 01c2 AD84      		ldd r10,Y+13
 243 01c4 BE84      		ldd r11,Y+14
 244 01c6 CF84      		ldd r12,Y+15
 245 01c8 D888      		ldd r13,Y+16
 246 01ca A82A      		or r10,r24
 247 01cc B92A      		or r11,r25
 248 01ce CA2A      		or r12,r26
 249 01d0 DB2A      		or r13,r27
 250 01d2 D401      		movw r26,r8
 251 01d4 5696      		adiw r26,22
 252 01d6 8D91      		ld r24,X+
 253 01d8 9C91      		ld r25,X
 254 01da 5797      		sbiw r26,22+1
 255 01dc 9C01      		movw r18,r24
 256 01de 40E0      		ldi r20,lo8(0)
 257 01e0 50E0      		ldi r21,hi8(0)
 258 01e2 2F8B      		std Y+23,r18
 259 01e4 388F      		std Y+24,r19
 260 01e6 498F      		std Y+25,r20
 261 01e8 5A8F      		std Y+26,r21
 262 01ea ED89      		ldd r30,Y+21
 263 01ec FE89      		ldd r31,Y+22
 264 01ee 43E0      		ldi r20,3
 265 01f0 EE0F      	1:	lsl r30
 266 01f2 FF1F      		rol r31
 267 01f4 4A95      		dec r20
 268 01f6 01F4      		brne 1b
 269 01f8 7727      		clr r23
 270 01fa 6D2D      		mov r22,r13
 271 01fc 5C2D      		mov r21,r12
 272 01fe 4B2D      		mov r20,r11
 273 0200 4B8F      		std Y+27,r20
 274 0202 5C8F      		std Y+28,r21
 275 0204 6D8F      		std Y+29,r22
 276 0206 7E8F      		std Y+30,r23
 277 0208 6D81      		ldd r22,Y+5
 278 020a 7E81      		ldd r23,Y+6
 279 020c 8F81      		ldd r24,Y+7
 280 020e 9885      		ldd r25,Y+8
 281 0210 2F89      		ldd r18,Y+23
 282 0212 388D      		ldd r19,Y+24
 283 0214 498D      		ldd r20,Y+25
 284 0216 5A8D      		ldd r21,Y+26
 285 0218 6217      		cp r22,r18
GAS LISTING C:\Temp/ccRwwlG2.s 			page 6


 286 021a 7307      		cpc r23,r19
 287 021c 8407      		cpc r24,r20
 288 021e 9507      		cpc r25,r21
 289 0220 00F4      		brsh .L8
 290 0222 E80D      		add r30,r8
 291 0224 F91D      		adc r31,r9
 292 0226 0284      		ldd __tmp_reg__,Z+10
 293 0228 F385      		ldd r31,Z+11
 294 022a E02D      		mov r30,__tmp_reg__
 295 022c EE0D      		add r30,r14
 296 022e FF1D      		adc r31,r15
 297 0230 3B8D      		ldd r19,Y+27
 298 0232 3183      		std Z+1,r19
 299 0234 00C0      		rjmp .L9
 300               	.L8:
 301 0236 E80D      		add r30,r8
 302 0238 F91D      		adc r31,r9
 303 023a 0284      		ldd __tmp_reg__,Z+10
 304 023c F385      		ldd r31,Z+11
 305 023e E02D      		mov r30,__tmp_reg__
 306 0240 4B8D      		ldd r20,Y+27
 307 0242 4083      		st Z,r20
 308 0244 6D89      		ldd r22,Y+21
 309 0246 7E89      		ldd r23,Y+22
 310 0248 6E5F      		subi r22,lo8(-(2))
 311 024a 7F4F      		sbci r23,hi8(-(2))
 312 024c 23E0      		ldi r18,3
 313 024e 660F      	1:	lsl r22
 314 0250 771F      		rol r23
 315 0252 2A95      		dec r18
 316 0254 01F4      		brne 1b
 317 0256 680D      		add r22,r8
 318 0258 791D      		adc r23,r9
 319 025a E1E0      		ldi r30,lo8(1)
 320 025c F0E0      		ldi r31,hi8(1)
 321 025e DB01      		movw r26,r22
 322 0260 ED93      		st X+,r30
 323 0262 FC93      		st X,r31
 324 0264 B301      		movw r22,r6
 325 0266 A201      		movw r20,r4
 326 0268 8B85      		ldd r24,Y+11
 327 026a 9C85      		ldd r25,Y+12
 328 026c 0E94 0000 		call PhatSectorLoad
 329 0270 9E8B      		std Y+22,r25
 330 0272 8D8B      		std Y+21,r24
 331 0274 97FD      		sbrc r25,7
 332 0276 00C0      		rjmp .L3
 333               	.L9:
 334 0278 ED89      		ldd r30,Y+21
 335 027a FE89      		ldd r31,Y+22
 336 027c 93E0      		ldi r25,3
 337 027e EE0F      	1:	lsl r30
 338 0280 FF1F      		rol r31
 339 0282 9A95      		dec r25
 340 0284 01F4      		brne 1b
 341 0286 E80D      		add r30,r8
 342 0288 F91D      		adc r31,r9
GAS LISTING C:\Temp/ccRwwlG2.s 			page 7


 343 028a 0284      		ldd __tmp_reg__,Z+10
 344 028c F385      		ldd r31,Z+11
 345 028e E02D      		mov r30,__tmp_reg__
 346 0290 2985      		ldd r18,Y+9
 347 0292 3A85      		ldd r19,Y+10
 348 0294 E20F      		add r30,r18
 349 0296 F31F      		adc r31,r19
 350 0298 A082      		st Z,r10
 351 029a 4D89      		ldd r20,Y+21
 352 029c 5E89      		ldd r21,Y+22
 353 029e 4E5F      		subi r20,lo8(-(2))
 354 02a0 5F4F      		sbci r21,hi8(-(2))
 355 02a2 83E0      		ldi r24,3
 356 02a4 440F      	1:	lsl r20
 357 02a6 551F      		rol r21
 358 02a8 8A95      		dec r24
 359 02aa 01F4      		brne 1b
 360 02ac 480D      		add r20,r8
 361 02ae 591D      		adc r21,r9
 362 02b0 E1E0      		ldi r30,lo8(1)
 363 02b2 F0E0      		ldi r31,hi8(1)
 364 02b4 DA01      		movw r26,r20
 365 02b6 ED93      		st X+,r30
 366 02b8 FC93      		st X,r31
 367 02ba 24E0      		ldi r18,lo8(4)
 368 02bc 30E0      		ldi r19,hi8(4)
 369 02be 220E      		add r2,r18
 370 02c0 331E      		adc r3,r19
 371 02c2 4B89      		ldd r20,Y+19
 372 02c4 5C89      		ldd r21,Y+20
 373 02c6 2416      		cp r2,r20
 374 02c8 3506      		cpc r3,r21
 375 02ca 01F0      		breq .L10
 376               	.L2:
 377 02cc D101      		movw r26,r2
 378 02ce 5E96      		adiw r26,30
 379 02d0 ED90      		ld r14,X+
 380 02d2 FD90      		ld r15,X+
 381 02d4 0D91      		ld r16,X+
 382 02d6 1C91      		ld r17,X
 383 02d8 9197      		sbiw r26,30+3
 384 02da E114      		cp r14,__zero_reg__
 385 02dc F104      		cpc r15,__zero_reg__
 386 02de 0105      		cpc r16,__zero_reg__
 387 02e0 1105      		cpc r17,__zero_reg__
 388 02e2 01F0      		breq .+2
 389 02e4 00C0      		rjmp .L11
 390 02e6 00C0      		rjmp .L10
 391               	.L3:
 392 02e8 2FEF      		ldi r18,lo8(-1)
 393 02ea 3FEF      		ldi r19,hi8(-1)
 394 02ec 00C0      		rjmp .L12
 395               	.L10:
 396 02ee 20E0      		ldi r18,lo8(0)
 397 02f0 30E0      		ldi r19,hi8(0)
 398               	.L12:
 399 02f2 C901      		movw r24,r18
GAS LISTING C:\Temp/ccRwwlG2.s 			page 8


 400               	/* epilogue start */
 401 02f4 6E96      		adiw r28,30
 402 02f6 0FB6      		in __tmp_reg__,__SREG__
 403 02f8 F894      		cli
 404 02fa DEBF      		out __SP_H__,r29
 405 02fc 0FBE      		out __SREG__,__tmp_reg__
 406 02fe CDBF      		out __SP_L__,r28
 407 0300 CF91      		pop r28
 408 0302 DF91      		pop r29
 409 0304 1F91      		pop r17
 410 0306 0F91      		pop r16
 411 0308 FF90      		pop r15
 412 030a EF90      		pop r14
 413 030c DF90      		pop r13
 414 030e CF90      		pop r12
 415 0310 BF90      		pop r11
 416 0312 AF90      		pop r10
 417 0314 9F90      		pop r9
 418 0316 8F90      		pop r8
 419 0318 7F90      		pop r7
 420 031a 6F90      		pop r6
 421 031c 5F90      		pop r5
 422 031e 4F90      		pop r4
 423 0320 3F90      		pop r3
 424 0322 2F90      		pop r2
 425 0324 0895      		ret
 426               		.size	Phat12SetClusterLink, .-Phat12SetClusterLink
 427               	.global	Phat12GetClusterLink
 428               		.type	Phat12GetClusterLink, @function
 429               	Phat12GetClusterLink:
 430 0326 2F92      		push r2
 431 0328 3F92      		push r3
 432 032a 4F92      		push r4
 433 032c 5F92      		push r5
 434 032e 6F92      		push r6
 435 0330 7F92      		push r7
 436 0332 8F92      		push r8
 437 0334 9F92      		push r9
 438 0336 AF92      		push r10
 439 0338 BF92      		push r11
 440 033a CF92      		push r12
 441 033c DF92      		push r13
 442 033e EF92      		push r14
 443 0340 FF92      		push r15
 444 0342 0F93      		push r16
 445 0344 1F93      		push r17
 446 0346 DF93      		push r29
 447 0348 CF93      		push r28
 448 034a CDB7      		in r28,__SP_L__
 449 034c DEB7      		in r29,__SP_H__
 450 034e 2897      		sbiw r28,8
 451 0350 0FB6      		in __tmp_reg__,__SREG__
 452 0352 F894      		cli
 453 0354 DEBF      		out __SP_H__,r29
 454 0356 0FBE      		out __SREG__,__tmp_reg__
 455 0358 CDBF      		out __SP_L__,r28
 456               	/* prologue: function */
GAS LISTING C:\Temp/ccRwwlG2.s 			page 9


 457               	/* frame size = 8 */
 458 035a 1C01      		movw r2,r24
 459 035c 4983      		std Y+1,r20
 460 035e 5A83      		std Y+2,r21
 461 0360 6B83      		std Y+3,r22
 462 0362 7C83      		std Y+4,r23
 463 0364 3E83      		std Y+6,r19
 464 0366 2D83      		std Y+5,r18
 465 0368 DC01      		movw r26,r24
 466 036a 5196      		adiw r26,17
 467 036c 8C91      		ld r24,X
 468 036e 5197      		sbiw r26,17
 469 0370 5296      		adiw r26,18
 470 0372 9C91      		ld r25,X
 471 0374 483F      		cpi r20,lo8(4088)
 472 0376 BFE0      		ldi r27,hi8(4088)
 473 0378 5B07      		cpc r21,r27
 474 037a B0E0      		ldi r27,hlo8(4088)
 475 037c 6B07      		cpc r22,r27
 476 037e B0E0      		ldi r27,hhi8(4088)
 477 0380 7B07      		cpc r23,r27
 478 0382 00F0      		brlo .+2
 479 0384 00C0      		rjmp .L16
 480 0386 4C01      		movw r8,r24
 481 0388 7A01      		movw r14,r20
 482 038a 8B01      		movw r16,r22
 483 038c 1695      		lsr r17
 484 038e 0795      		ror r16
 485 0390 F794      		ror r15
 486 0392 E794      		ror r14
 487 0394 9A01      		movw r18,r20
 488 0396 AB01      		movw r20,r22
 489 0398 E20E      		add r14,r18
 490 039a F31E      		adc r15,r19
 491 039c 041F      		adc r16,r20
 492 039e 151F      		adc r17,r21
 493 03a0 D401      		movw r26,r8
 494 03a2 5696      		adiw r26,22
 495 03a4 8D91      		ld r24,X+
 496 03a6 9C91      		ld r25,X
 497 03a8 5797      		sbiw r26,22+1
 498 03aa 2C01      		movw r4,r24
 499 03ac 6624      		clr r6
 500 03ae 7724      		clr r7
 501 03b0 C801      		movw r24,r16
 502 03b2 B701      		movw r22,r14
 503 03b4 A301      		movw r20,r6
 504 03b6 9201      		movw r18,r4
 505 03b8 0E94 0000 		call __udivmodsi4
 506 03bc 5901      		movw r10,r18
 507 03be 6A01      		movw r12,r20
 508 03c0 F401      		movw r30,r8
 509 03c2 868D      		ldd r24,Z+30
 510 03c4 978D      		ldd r25,Z+31
 511 03c6 A0A1      		ldd r26,Z+32
 512 03c8 B1A1      		ldd r27,Z+33
 513 03ca A80E      		add r10,r24
GAS LISTING C:\Temp/ccRwwlG2.s 			page 10


 514 03cc B91E      		adc r11,r25
 515 03ce CA1E      		adc r12,r26
 516 03d0 DB1E      		adc r13,r27
 517 03d2 B601      		movw r22,r12
 518 03d4 A501      		movw r20,r10
 519 03d6 C101      		movw r24,r2
 520 03d8 0E94 0000 		call PhatSectorLoad
 521 03dc 9887      		std Y+8,r25
 522 03de 8F83      		std Y+7,r24
 523 03e0 97FD      		sbrc r25,7
 524 03e2 00C0      		rjmp .L16
 525 03e4 C801      		movw r24,r16
 526 03e6 B701      		movw r22,r14
 527 03e8 A301      		movw r20,r6
 528 03ea 9201      		movw r18,r4
 529 03ec 0E94 0000 		call __udivmodsi4
 530 03f0 9B01      		movw r18,r22
 531 03f2 AC01      		movw r20,r24
 532 03f4 EF81      		ldd r30,Y+7
 533 03f6 F885      		ldd r31,Y+8
 534 03f8 63E0      		ldi r22,3
 535 03fa EE0F      	1:	lsl r30
 536 03fc FF1F      		rol r31
 537 03fe 6A95      		dec r22
 538 0400 01F4      		brne 1b
 539 0402 E80D      		add r30,r8
 540 0404 F91D      		adc r31,r9
 541 0406 0284      		ldd __tmp_reg__,Z+10
 542 0408 F385      		ldd r31,Z+11
 543 040a E02D      		mov r30,__tmp_reg__
 544 040c E20F      		add r30,r18
 545 040e F31F      		adc r31,r19
 546 0410 8081      		ld r24,Z
 547 0412 90E0      		ldi r25,lo8(0)
 548 0414 A0E0      		ldi r26,lo8(0)
 549 0416 B0E0      		ldi r27,hi8(0)
 550 0418 ED81      		ldd r30,Y+5
 551 041a FE81      		ldd r31,Y+6
 552 041c 8083      		st Z,r24
 553 041e 9183      		std Z+1,r25
 554 0420 A283      		std Z+2,r26
 555 0422 B383      		std Z+3,r27
 556 0424 2F5F      		subi r18,lo8(-(1))
 557 0426 3F4F      		sbci r19,hi8(-(1))
 558 0428 4F4F      		sbci r20,hlo8(-(1))
 559 042a 5F4F      		sbci r21,hhi8(-(1))
 560 042c D401      		movw r26,r8
 561 042e 5696      		adiw r26,22
 562 0430 8D91      		ld r24,X+
 563 0432 9C91      		ld r25,X
 564 0434 5797      		sbiw r26,22+1
 565 0436 A0E0      		ldi r26,lo8(0)
 566 0438 B0E0      		ldi r27,hi8(0)
 567 043a 2817      		cp r18,r24
 568 043c 3907      		cpc r19,r25
 569 043e 4A07      		cpc r20,r26
 570 0440 5B07      		cpc r21,r27
GAS LISTING C:\Temp/ccRwwlG2.s 			page 11


 571 0442 00F0      		brlo .L17
 572 0444 0894      		sec
 573 0446 A11C      		adc r10,__zero_reg__
 574 0448 B11C      		adc r11,__zero_reg__
 575 044a C11C      		adc r12,__zero_reg__
 576 044c D11C      		adc r13,__zero_reg__
 577 044e B601      		movw r22,r12
 578 0450 A501      		movw r20,r10
 579 0452 C101      		movw r24,r2
 580 0454 0E94 0000 		call PhatSectorLoad
 581 0458 9887      		std Y+8,r25
 582 045a 8F83      		std Y+7,r24
 583 045c 97FD      		sbrc r25,7
 584 045e 00C0      		rjmp .L16
 585 0460 20E0      		ldi r18,lo8(0)
 586 0462 30E0      		ldi r19,hi8(0)
 587 0464 40E0      		ldi r20,hlo8(0)
 588 0466 50E0      		ldi r21,hhi8(0)
 589               	.L17:
 590 0468 EF81      		ldd r30,Y+7
 591 046a F885      		ldd r31,Y+8
 592 046c 43E0      		ldi r20,3
 593 046e EE0F      	1:	lsl r30
 594 0470 FF1F      		rol r31
 595 0472 4A95      		dec r20
 596 0474 01F4      		brne 1b
 597 0476 8E0E      		add r8,r30
 598 0478 9F1E      		adc r9,r31
 599 047a D401      		movw r26,r8
 600 047c 1A96      		adiw r26,10
 601 047e ED91      		ld r30,X+
 602 0480 FC91      		ld r31,X
 603 0482 1B97      		sbiw r26,10+1
 604 0484 E20F      		add r30,r18
 605 0486 F31F      		adc r31,r19
 606 0488 8081      		ld r24,Z
 607 048a 90E0      		ldi r25,lo8(0)
 608 048c A0E0      		ldi r26,lo8(0)
 609 048e B0E0      		ldi r27,hi8(0)
 610 0490 2227      		clr r18
 611 0492 382F      		mov r19,r24
 612 0494 492F      		mov r20,r25
 613 0496 5A2F      		mov r21,r26
 614 0498 ED81      		ldd r30,Y+5
 615 049a FE81      		ldd r31,Y+6
 616 049c 8081      		ld r24,Z
 617 049e 9181      		ldd r25,Z+1
 618 04a0 A281      		ldd r26,Z+2
 619 04a2 B381      		ldd r27,Z+3
 620 04a4 280F      		add r18,r24
 621 04a6 391F      		adc r19,r25
 622 04a8 4A1F      		adc r20,r26
 623 04aa 5B1F      		adc r21,r27
 624 04ac 2083      		st Z,r18
 625 04ae 3183      		std Z+1,r19
 626 04b0 4283      		std Z+2,r20
 627 04b2 5383      		std Z+3,r21
GAS LISTING C:\Temp/ccRwwlG2.s 			page 12


 628 04b4 8981      		ldd r24,Y+1
 629 04b6 9A81      		ldd r25,Y+2
 630 04b8 8170      		andi r24,lo8(1)
 631 04ba 9070      		andi r25,hi8(1)
 632 04bc 892B      		or r24,r25
 633 04be 01F0      		breq .L18
 634 04c0 04E0      		ldi r16,4
 635 04c2 5695      	1:	lsr r21
 636 04c4 4795      		ror r20
 637 04c6 3795      		ror r19
 638 04c8 2795      		ror r18
 639 04ca 0A95      		dec r16
 640 04cc 01F4      		brne 1b
 641 04ce 2083      		st Z,r18
 642 04d0 3183      		std Z+1,r19
 643 04d2 4283      		std Z+2,r20
 644 04d4 5383      		std Z+3,r21
 645               	.L18:
 646 04d6 ED81      		ldd r30,Y+5
 647 04d8 FE81      		ldd r31,Y+6
 648 04da 8081      		ld r24,Z
 649 04dc 9181      		ldd r25,Z+1
 650 04de A281      		ldd r26,Z+2
 651 04e0 B381      		ldd r27,Z+3
 652 04e2 9F70      		andi r25,hi8(4095)
 653 04e4 A070      		andi r26,hlo8(4095)
 654 04e6 B070      		andi r27,hhi8(4095)
 655 04e8 8083      		st Z,r24
 656 04ea 9183      		std Z+1,r25
 657 04ec A283      		std Z+2,r26
 658 04ee B383      		std Z+3,r27
 659 04f0 20E0      		ldi r18,lo8(0)
 660 04f2 30E0      		ldi r19,hi8(0)
 661 04f4 00C0      		rjmp .L19
 662               	.L16:
 663 04f6 2FEF      		ldi r18,lo8(-1)
 664 04f8 3FEF      		ldi r19,hi8(-1)
 665               	.L19:
 666 04fa C901      		movw r24,r18
 667               	/* epilogue start */
 668 04fc 2896      		adiw r28,8
 669 04fe 0FB6      		in __tmp_reg__,__SREG__
 670 0500 F894      		cli
 671 0502 DEBF      		out __SP_H__,r29
 672 0504 0FBE      		out __SREG__,__tmp_reg__
 673 0506 CDBF      		out __SP_L__,r28
 674 0508 CF91      		pop r28
 675 050a DF91      		pop r29
 676 050c 1F91      		pop r17
 677 050e 0F91      		pop r16
 678 0510 FF90      		pop r15
 679 0512 EF90      		pop r14
 680 0514 DF90      		pop r13
 681 0516 CF90      		pop r12
 682 0518 BF90      		pop r11
 683 051a AF90      		pop r10
 684 051c 9F90      		pop r9
GAS LISTING C:\Temp/ccRwwlG2.s 			page 13


 685 051e 8F90      		pop r8
 686 0520 7F90      		pop r7
 687 0522 6F90      		pop r6
 688 0524 5F90      		pop r5
 689 0526 4F90      		pop r4
 690 0528 3F90      		pop r3
 691 052a 2F90      		pop r2
 692 052c 0895      		ret
 693               		.size	Phat12GetClusterLink, .-Phat12GetClusterLink
 694               	.global	Phat12ReleaseChain
 695               		.type	Phat12ReleaseChain, @function
 696               	Phat12ReleaseChain:
 697 052e 6F92      		push r6
 698 0530 7F92      		push r7
 699 0532 8F92      		push r8
 700 0534 9F92      		push r9
 701 0536 AF92      		push r10
 702 0538 BF92      		push r11
 703 053a CF92      		push r12
 704 053c DF92      		push r13
 705 053e EF92      		push r14
 706 0540 FF92      		push r15
 707 0542 0F93      		push r16
 708 0544 1F93      		push r17
 709 0546 DF93      		push r29
 710 0548 CF93      		push r28
 711 054a 00D0      		rcall .
 712 054c 00D0      		rcall .
 713 054e CDB7      		in r28,__SP_L__
 714 0550 DEB7      		in r29,__SP_H__
 715               	/* prologue: function */
 716               	/* frame size = 4 */
 717 0552 5C01      		movw r10,r24
 718 0554 6A01      		movw r12,r20
 719 0556 7B01      		movw r14,r22
 720 0558 FC01      		movw r30,r24
 721 055a 8188      		ldd r8,Z+17
 722 055c 9288      		ldd r9,Z+18
 723 055e 3E01      		movw r6,r28
 724 0560 0894      		sec
 725 0562 611C      		adc r6,__zero_reg__
 726 0564 711C      		adc r7,__zero_reg__
 727 0566 00C0      		rjmp .L22
 728               	.L25:
 729 0568 9301      		movw r18,r6
 730 056a B701      		movw r22,r14
 731 056c A601      		movw r20,r12
 732 056e C501      		movw r24,r10
 733 0570 0E94 0000 		call Phat12GetClusterLink
 734 0574 892B      		or r24,r25
 735 0576 01F4      		brne .L23
 736 0578 8981      		ldd r24,Y+1
 737 057a 9A81      		ldd r25,Y+2
 738 057c AB81      		ldd r26,Y+3
 739 057e BC81      		ldd r27,Y+4
 740 0580 0297      		sbiw r24,2
 741 0582 A105      		cpc r26,__zero_reg__
GAS LISTING C:\Temp/ccRwwlG2.s 			page 14


 742 0584 B105      		cpc r27,__zero_reg__
 743 0586 00F0      		brlo .L24
 744 0588 00E0      		ldi r16,lo8(0)
 745 058a 10E0      		ldi r17,hi8(0)
 746 058c 20E0      		ldi r18,hlo8(0)
 747 058e 30E0      		ldi r19,hhi8(0)
 748 0590 B701      		movw r22,r14
 749 0592 A601      		movw r20,r12
 750 0594 C501      		movw r24,r10
 751 0596 0E94 0000 		call Phat12SetClusterLink
 752 059a 892B      		or r24,r25
 753 059c 01F4      		brne .L23
 754 059e F401      		movw r30,r8
 755 05a0 8281      		ldd r24,Z+2
 756 05a2 9381      		ldd r25,Z+3
 757 05a4 A481      		ldd r26,Z+4
 758 05a6 B581      		ldd r27,Z+5
 759 05a8 0196      		adiw r24,1
 760 05aa A11D      		adc r26,__zero_reg__
 761 05ac B11D      		adc r27,__zero_reg__
 762 05ae 8283      		std Z+2,r24
 763 05b0 9383      		std Z+3,r25
 764 05b2 A483      		std Z+4,r26
 765 05b4 B583      		std Z+5,r27
 766 05b6 C980      		ldd r12,Y+1
 767 05b8 DA80      		ldd r13,Y+2
 768 05ba EB80      		ldd r14,Y+3
 769 05bc FC80      		ldd r15,Y+4
 770               	.L22:
 771 05be F8EF      		ldi r31,lo8(4088)
 772 05c0 CF16      		cp r12,r31
 773 05c2 FFE0      		ldi r31,hi8(4088)
 774 05c4 DF06      		cpc r13,r31
 775 05c6 F0E0      		ldi r31,hlo8(4088)
 776 05c8 EF06      		cpc r14,r31
 777 05ca F0E0      		ldi r31,hhi8(4088)
 778 05cc FF06      		cpc r15,r31
 779 05ce 00F0      		brlo .L25
 780 05d0 00C0      		rjmp .L24
 781               	.L23:
 782 05d2 2FEF      		ldi r18,lo8(-1)
 783 05d4 3FEF      		ldi r19,hi8(-1)
 784 05d6 00C0      		rjmp .L26
 785               	.L24:
 786 05d8 20E0      		ldi r18,lo8(0)
 787 05da 30E0      		ldi r19,hi8(0)
 788               	.L26:
 789 05dc C901      		movw r24,r18
 790               	/* epilogue start */
 791 05de 0F90      		pop __tmp_reg__
 792 05e0 0F90      		pop __tmp_reg__
 793 05e2 0F90      		pop __tmp_reg__
 794 05e4 0F90      		pop __tmp_reg__
 795 05e6 CF91      		pop r28
 796 05e8 DF91      		pop r29
 797 05ea 1F91      		pop r17
 798 05ec 0F91      		pop r16
GAS LISTING C:\Temp/ccRwwlG2.s 			page 15


 799 05ee FF90      		pop r15
 800 05f0 EF90      		pop r14
 801 05f2 DF90      		pop r13
 802 05f4 CF90      		pop r12
 803 05f6 BF90      		pop r11
 804 05f8 AF90      		pop r10
 805 05fa 9F90      		pop r9
 806 05fc 8F90      		pop r8
 807 05fe 7F90      		pop r7
 808 0600 6F90      		pop r6
 809 0602 0895      		ret
 810               		.size	Phat12ReleaseChain, .-Phat12ReleaseChain
GAS LISTING C:\Temp/ccRwwlG2.s 			page 16


DEFINED SYMBOLS
                            *ABS*:00000000 phat12.c
  C:\Temp/ccRwwlG2.s:2      *ABS*:0000003f __SREG__
  C:\Temp/ccRwwlG2.s:3      *ABS*:0000003e __SP_H__
  C:\Temp/ccRwwlG2.s:4      *ABS*:0000003d __SP_L__
  C:\Temp/ccRwwlG2.s:5      *ABS*:00000034 __CCP__
  C:\Temp/ccRwwlG2.s:6      *ABS*:00000000 __tmp_reg__
  C:\Temp/ccRwwlG2.s:7      *ABS*:00000001 __zero_reg__
  C:\Temp/ccRwwlG2.s:13     .text:00000000 Phat12SetClusterLink
  C:\Temp/ccRwwlG2.s:429    .text:00000326 Phat12GetClusterLink
  C:\Temp/ccRwwlG2.s:696    .text:0000052e Phat12ReleaseChain

UNDEFINED SYMBOLS
__do_copy_data
__do_clear_bss
__udivmodsi4
PhatSectorLoad
