GAS LISTING C:\Temp/ccwsmnZi.s 			page 1


   1               		.file	"base64_encode.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__  = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.global __do_copy_data
   9               		.global __do_clear_bss
  10               		.text
  11               	.global	NutEncodeBase64
  12               		.type	NutEncodeBase64, @function
  13               	NutEncodeBase64:
  14 0000 2F92      		push r2
  15 0002 3F92      		push r3
  16 0004 4F92      		push r4
  17 0006 5F92      		push r5
  18 0008 6F92      		push r6
  19 000a 7F92      		push r7
  20 000c 8F92      		push r8
  21 000e 9F92      		push r9
  22 0010 AF92      		push r10
  23 0012 BF92      		push r11
  24 0014 CF92      		push r12
  25 0016 DF92      		push r13
  26 0018 EF92      		push r14
  27 001a FF92      		push r15
  28 001c 0F93      		push r16
  29 001e 1F93      		push r17
  30 0020 CF93      		push r28
  31 0022 DF93      		push r29
  32               	/* prologue: function */
  33               	/* frame size = 0 */
  34 0024 2C01      		movw r4,r24
  35 0026 DC01      		movw r26,r24
  36 0028 0D90      		ld __tmp_reg__,X+
  37 002a 0020      		tst __tmp_reg__
  38 002c 01F4      		brne .-6
  39 002e 3D01      		movw r6,r26
  40 0030 0894      		sec
  41 0032 6108      		sbc r6,__zero_reg__
  42 0034 7108      		sbc r7,__zero_reg__
  43 0036 681A      		sub r6,r24
  44 0038 790A      		sbc r7,r25
  45 003a C301      		movw r24,r6
  46 003c 0196      		adiw r24,1
  47 003e 880F      		lsl r24
  48 0040 991F      		rol r25
  49 0042 880F      		lsl r24
  50 0044 991F      		rol r25
  51 0046 63E0      		ldi r22,lo8(3)
  52 0048 70E0      		ldi r23,hi8(3)
  53 004a 0E94 0000 		call __udivmodhi4
  54 004e FB01      		movw r30,r22
  55 0050 CB01      		movw r24,r22
  56 0052 63E0      		ldi r22,lo8(3)
  57 0054 70E0      		ldi r23,hi8(3)
GAS LISTING C:\Temp/ccwsmnZi.s 			page 2


  58 0056 0E94 0000 		call __udivmodhi4
  59 005a 9C01      		movw r18,r24
  60 005c 2E0F      		add r18,r30
  61 005e 3F1F      		adc r19,r31
  62 0060 C901      		movw r24,r18
  63 0062 68E4      		ldi r22,lo8(72)
  64 0064 70E0      		ldi r23,hi8(72)
  65 0066 0E94 0000 		call __udivmodhi4
  66 006a 660F      		lsl r22
  67 006c 771F      		rol r23
  68 006e 2E5F      		subi r18,lo8(-(2))
  69 0070 3F4F      		sbci r19,hi8(-(2))
  70 0072 620F      		add r22,r18
  71 0074 731F      		adc r23,r19
  72 0076 80E0      		ldi r24,lo8(heapFreeList)
  73 0078 90E0      		ldi r25,hi8(heapFreeList)
  74 007a 0E94 0000 		call NutHeapRootAlloc
  75 007e BC01      		movw r22,r24
  76 0080 0097      		sbiw r24,0
  77 0082 01F4      		brne .+2
  78 0084 00C0      		rjmp .L2
  79 0086 8824      		clr r8
  80 0088 9924      		clr r9
  81 008a CC24      		clr r12
  82 008c DD24      		clr r13
  83 008e 20E0      		ldi r18,lo8(0)
  84 0090 30E0      		ldi r19,hi8(0)
  85 0092 40E0      		ldi r20,hlo8(0)
  86 0094 50E0      		ldi r21,hhi8(0)
  87 0096 AA24      		clr r10
  88 0098 BB24      		clr r11
  89 009a C0E0      		ldi r28,lo8(0)
  90 009c D0E0      		ldi r29,hi8(0)
  91 009e BDE0      		ldi r27,lo8(13)
  92 00a0 2B2E      		mov r2,r27
  93 00a2 AAE0      		ldi r26,lo8(10)
  94 00a4 3A2E      		mov r3,r26
  95 00a6 00C0      		rjmp .L3
  96               	.L7:
  97 00a8 F201      		movw r30,r4
  98 00aa E80D      		add r30,r8
  99 00ac F91D      		adc r31,r9
 100 00ae 8081      		ld r24,Z
 101 00b0 E82E      		mov r14,r24
 102 00b2 FF24      		clr r15
 103 00b4 E7FC      		sbrc r14,7
 104 00b6 F094      		com r15
 105 00b8 0F2D      		mov r16,r15
 106 00ba 1F2D      		mov r17,r15
 107 00bc E20E      		add r14,r18
 108 00be F31E      		adc r15,r19
 109 00c0 041F      		adc r16,r20
 110 00c2 151F      		adc r17,r21
 111 00c4 2196      		adiw r28,1
 112 00c6 C330      		cpi r28,3
 113 00c8 D105      		cpc r29,__zero_reg__
 114 00ca 01F0      		breq .+2
GAS LISTING C:\Temp/ccwsmnZi.s 			page 3


 115 00cc 00C0      		rjmp .L4
 116 00ce D801      		movw r26,r16
 117 00d0 C701      		movw r24,r14
 118 00d2 F2E1      		ldi r31,18
 119 00d4 B595      	1:	asr r27
 120 00d6 A795      		ror r26
 121 00d8 9795      		ror r25
 122 00da 8795      		ror r24
 123 00dc FA95      		dec r31
 124 00de 01F4      		brne 1b
 125 00e0 FC01      		movw r30,r24
 126 00e2 EF73      		andi r30,lo8(63)
 127 00e4 F070      		andi r31,hi8(63)
 128 00e6 E050      		subi r30,lo8(-(base64etab))
 129 00e8 F040      		sbci r31,hi8(-(base64etab))
 130               	/* #APP */
 131               	 ;  116 "../../nut/gorp/base64/base64_encode.c" 1
 132 00ea 8491      		lpm r24, Z
 133               		
 134               	 ;  0 "" 2
 135               	/* #NOAPP */
 136 00ec FB01      		movw r30,r22
 137 00ee EC0D      		add r30,r12
 138 00f0 FD1D      		adc r31,r13
 139 00f2 8083      		st Z,r24
 140 00f4 C601      		movw r24,r12
 141 00f6 0196      		adiw r24,1
 142 00f8 A801      		movw r20,r16
 143 00fa 9701      		movw r18,r14
 144 00fc ECE0      		ldi r30,12
 145 00fe 5595      	1:	asr r21
 146 0100 4795      		ror r20
 147 0102 3795      		ror r19
 148 0104 2795      		ror r18
 149 0106 EA95      		dec r30
 150 0108 01F4      		brne 1b
 151 010a F901      		movw r30,r18
 152 010c EF73      		andi r30,lo8(63)
 153 010e F070      		andi r31,hi8(63)
 154 0110 E050      		subi r30,lo8(-(base64etab))
 155 0112 F040      		sbci r31,hi8(-(base64etab))
 156               	/* #APP */
 157               	 ;  117 "../../nut/gorp/base64/base64_encode.c" 1
 158 0114 2491      		lpm r18, Z
 159               		
 160               	 ;  0 "" 2
 161               	/* #NOAPP */
 162 0116 FB01      		movw r30,r22
 163 0118 E80F      		add r30,r24
 164 011a F91F      		adc r31,r25
 165 011c 2083      		st Z,r18
 166 011e 0196      		adiw r24,1
 167 0120 A801      		movw r20,r16
 168 0122 9701      		movw r18,r14
 169 0124 16E0      		ldi r17,6
 170 0126 5595      	1:	asr r21
 171 0128 4795      		ror r20
GAS LISTING C:\Temp/ccwsmnZi.s 			page 4


 172 012a 3795      		ror r19
 173 012c 2795      		ror r18
 174 012e 1A95      		dec r17
 175 0130 01F4      		brne 1b
 176 0132 F901      		movw r30,r18
 177 0134 EF73      		andi r30,lo8(63)
 178 0136 F070      		andi r31,hi8(63)
 179 0138 E050      		subi r30,lo8(-(base64etab))
 180 013a F040      		sbci r31,hi8(-(base64etab))
 181               	/* #APP */
 182               	 ;  118 "../../nut/gorp/base64/base64_encode.c" 1
 183 013c 2491      		lpm r18, Z
 184               		
 185               	 ;  0 "" 2
 186               	/* #NOAPP */
 187 013e FB01      		movw r30,r22
 188 0140 E80F      		add r30,r24
 189 0142 F91F      		adc r31,r25
 190 0144 2083      		st Z,r18
 191 0146 0196      		adiw r24,1
 192 0148 F701      		movw r30,r14
 193 014a EF73      		andi r30,lo8(63)
 194 014c F070      		andi r31,hi8(63)
 195 014e E050      		subi r30,lo8(-(base64etab))
 196 0150 F040      		sbci r31,hi8(-(base64etab))
 197               	/* #APP */
 198               	 ;  119 "../../nut/gorp/base64/base64_encode.c" 1
 199 0152 E491      		lpm r30, Z
 200               		
 201               	 ;  0 "" 2
 202               	/* #NOAPP */
 203 0154 DB01      		movw r26,r22
 204 0156 A80F      		add r26,r24
 205 0158 B91F      		adc r27,r25
 206 015a EC93      		st X,r30
 207 015c 6C01      		movw r12,r24
 208 015e 0894      		sec
 209 0160 C11C      		adc r12,__zero_reg__
 210 0162 D11C      		adc r13,__zero_reg__
 211 0164 84E0      		ldi r24,lo8(4)
 212 0166 90E0      		ldi r25,hi8(4)
 213 0168 A80E      		add r10,r24
 214 016a B91E      		adc r11,r25
 215 016c 98E4      		ldi r25,lo8(72)
 216 016e A916      		cp r10,r25
 217 0170 B104      		cpc r11,__zero_reg__
 218 0172 01F0      		breq .L5
 219 0174 20E0      		ldi r18,lo8(0)
 220 0176 30E0      		ldi r19,hi8(0)
 221 0178 40E0      		ldi r20,hlo8(0)
 222 017a 50E0      		ldi r21,hhi8(0)
 223 017c 00C0      		rjmp .L10
 224               	.L5:
 225 017e FB01      		movw r30,r22
 226 0180 EC0D      		add r30,r12
 227 0182 FD1D      		adc r31,r13
 228 0184 2082      		st Z,r2
GAS LISTING C:\Temp/ccwsmnZi.s 			page 5


 229 0186 C601      		movw r24,r12
 230 0188 0196      		adiw r24,1
 231 018a FB01      		movw r30,r22
 232 018c E80F      		add r30,r24
 233 018e F91F      		adc r31,r25
 234 0190 3082      		st Z,r3
 235 0192 6C01      		movw r12,r24
 236 0194 0894      		sec
 237 0196 C11C      		adc r12,__zero_reg__
 238 0198 D11C      		adc r13,__zero_reg__
 239 019a 20E0      		ldi r18,lo8(0)
 240 019c 30E0      		ldi r19,hi8(0)
 241 019e 40E0      		ldi r20,hlo8(0)
 242 01a0 50E0      		ldi r21,hhi8(0)
 243 01a2 AA24      		clr r10
 244 01a4 BB24      		clr r11
 245               	.L10:
 246 01a6 C0E0      		ldi r28,lo8(0)
 247 01a8 D0E0      		ldi r29,hi8(0)
 248 01aa 00C0      		rjmp .L6
 249               	.L4:
 250 01ac 502F      		mov r21,r16
 251 01ae 4F2D      		mov r20,r15
 252 01b0 3E2D      		mov r19,r14
 253 01b2 2227      		clr r18
 254               	.L6:
 255 01b4 0894      		sec
 256 01b6 811C      		adc r8,__zero_reg__
 257 01b8 911C      		adc r9,__zero_reg__
 258               	.L3:
 259 01ba 8614      		cp r8,r6
 260 01bc 9704      		cpc r9,r7
 261 01be 00F4      		brsh .+2
 262 01c0 00C0      		rjmp .L7
 263 01c2 2097      		sbiw r28,0
 264 01c4 01F4      		brne .+2
 265 01c6 00C0      		rjmp .L2
 266 01c8 82E0      		ldi r24,lo8(2)
 267 01ca 90E0      		ldi r25,hi8(2)
 268 01cc 8C1B      		sub r24,r28
 269 01ce 9D0B      		sbc r25,r29
 270 01d0 A3E0      		ldi r26,3
 271 01d2 880F      	1:	lsl r24
 272 01d4 991F      		rol r25
 273 01d6 AA95      		dec r26
 274 01d8 01F4      		brne 1b
 275 01da 7901      		movw r14,r18
 276 01dc 8A01      		movw r16,r20
 277 01de 00C0      		rjmp 2f
 278 01e0 EE0C      	1:	lsl r14
 279 01e2 FF1C      		rol r15
 280 01e4 001F      		rol r16
 281 01e6 111F      		rol r17
 282 01e8 8A95      	2:	dec r24
 283 01ea 02F4      		brpl 1b
 284 01ec D801      		movw r26,r16
 285 01ee C701      		movw r24,r14
GAS LISTING C:\Temp/ccwsmnZi.s 			page 6


 286 01f0 F2E1      		ldi r31,18
 287 01f2 B595      	1:	asr r27
 288 01f4 A795      		ror r26
 289 01f6 9795      		ror r25
 290 01f8 8795      		ror r24
 291 01fa FA95      		dec r31
 292 01fc 01F4      		brne 1b
 293 01fe FC01      		movw r30,r24
 294 0200 E050      		subi r30,lo8(-(base64etab))
 295 0202 F040      		sbci r31,hi8(-(base64etab))
 296               	/* #APP */
 297               	 ;  135 "../../nut/gorp/base64/base64_encode.c" 1
 298 0204 8491      		lpm r24, Z
 299               		
 300               	 ;  0 "" 2
 301               	/* #NOAPP */
 302 0206 FB01      		movw r30,r22
 303 0208 EC0D      		add r30,r12
 304 020a FD1D      		adc r31,r13
 305 020c 8083      		st Z,r24
 306 020e C601      		movw r24,r12
 307 0210 0196      		adiw r24,1
 308 0212 A801      		movw r20,r16
 309 0214 9701      		movw r18,r14
 310 0216 ECE0      		ldi r30,12
 311 0218 5595      	1:	asr r21
 312 021a 4795      		ror r20
 313 021c 3795      		ror r19
 314 021e 2795      		ror r18
 315 0220 EA95      		dec r30
 316 0222 01F4      		brne 1b
 317 0224 F901      		movw r30,r18
 318 0226 EF73      		andi r30,lo8(63)
 319 0228 F070      		andi r31,hi8(63)
 320 022a E050      		subi r30,lo8(-(base64etab))
 321 022c F040      		sbci r31,hi8(-(base64etab))
 322               	/* #APP */
 323               	 ;  136 "../../nut/gorp/base64/base64_encode.c" 1
 324 022e 2491      		lpm r18, Z
 325               		
 326               	 ;  0 "" 2
 327               	/* #NOAPP */
 328 0230 FB01      		movw r30,r22
 329 0232 E80F      		add r30,r24
 330 0234 F91F      		adc r31,r25
 331 0236 2083      		st Z,r18
 332 0238 DC01      		movw r26,r24
 333 023a 1196      		adiw r26,1
 334 023c A60F      		add r26,r22
 335 023e B71F      		adc r27,r23
 336 0240 2197      		sbiw r28,1
 337 0242 01F4      		brne .L8
 338 0244 8DE3      		ldi r24,lo8(61)
 339 0246 8C93      		st X,r24
 340 0248 00C0      		rjmp .L11
 341               	.L8:
 342 024a 86E0      		ldi r24,6
GAS LISTING C:\Temp/ccwsmnZi.s 			page 7


 343 024c 1595      	1:	asr r17
 344 024e 0795      		ror r16
 345 0250 F794      		ror r15
 346 0252 E794      		ror r14
 347 0254 8A95      		dec r24
 348 0256 01F4      		brne 1b
 349 0258 F701      		movw r30,r14
 350 025a EF73      		andi r30,lo8(63)
 351 025c F070      		andi r31,hi8(63)
 352 025e E050      		subi r30,lo8(-(base64etab))
 353 0260 F040      		sbci r31,hi8(-(base64etab))
 354               	/* #APP */
 355               	 ;  141 "../../nut/gorp/base64/base64_encode.c" 1
 356 0262 E491      		lpm r30, Z
 357               		
 358               	 ;  0 "" 2
 359               	/* #NOAPP */
 360 0264 EC93      		st X,r30
 361 0266 8DE3      		ldi r24,lo8(61)
 362               	.L11:
 363 0268 1196      		adiw r26,1
 364 026a 8C93      		st X,r24
 365               	.L2:
 366 026c CB01      		movw r24,r22
 367               	/* epilogue start */
 368 026e DF91      		pop r29
 369 0270 CF91      		pop r28
 370 0272 1F91      		pop r17
 371 0274 0F91      		pop r16
 372 0276 FF90      		pop r15
 373 0278 EF90      		pop r14
 374 027a DF90      		pop r13
 375 027c CF90      		pop r12
 376 027e BF90      		pop r11
 377 0280 AF90      		pop r10
 378 0282 9F90      		pop r9
 379 0284 8F90      		pop r8
 380 0286 7F90      		pop r7
 381 0288 6F90      		pop r6
 382 028a 5F90      		pop r5
 383 028c 4F90      		pop r4
 384 028e 3F90      		pop r3
 385 0290 2F90      		pop r2
 386 0292 0895      		ret
 387               		.size	NutEncodeBase64, .-NutEncodeBase64
 388               		.section	.progmem.data,"a",@progbits
 389               		.type	base64etab, @object
 390               		.size	base64etab, 64
 391               	base64etab:
 392 0000 4142 4344 		.ascii	"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz01234567"
 392      4546 4748 
 392      494A 4B4C 
 392      4D4E 4F50 
 392      5152 5354 
 393 003c 3839 2B2F 		.ascii	"89+/"
GAS LISTING C:\Temp/ccwsmnZi.s 			page 8


DEFINED SYMBOLS
                            *ABS*:00000000 base64_encode.c
  C:\Temp/ccwsmnZi.s:2      *ABS*:0000003f __SREG__
  C:\Temp/ccwsmnZi.s:3      *ABS*:0000003e __SP_H__
  C:\Temp/ccwsmnZi.s:4      *ABS*:0000003d __SP_L__
  C:\Temp/ccwsmnZi.s:5      *ABS*:00000034 __CCP__
  C:\Temp/ccwsmnZi.s:6      *ABS*:00000000 __tmp_reg__
  C:\Temp/ccwsmnZi.s:7      *ABS*:00000001 __zero_reg__
  C:\Temp/ccwsmnZi.s:13     .text:00000000 NutEncodeBase64
  C:\Temp/ccwsmnZi.s:391    .progmem.data:00000000 base64etab

UNDEFINED SYMBOLS
__do_copy_data
__do_clear_bss
__udivmodhi4
heapFreeList
NutHeapRootAlloc
