GAS LISTING C:\Temp/ccqKJ8uy.s 			page 1


   1               		.file	"ipin.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__  = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.global __do_copy_data
   9               		.global __do_clear_bss
  10               		.text
  11               	.global	NutIpSetInputFilter
  12               		.type	NutIpSetInputFilter, @function
  13               	NutIpSetInputFilter:
  14               	/* prologue: function */
  15               	/* frame size = 0 */
  16 0000 9093 0000 		sts (NutIpFilter)+1,r25
  17 0004 8093 0000 		sts NutIpFilter,r24
  18               	/* epilogue start */
  19 0008 0895      		ret
  20               		.size	NutIpSetInputFilter, .-NutIpSetInputFilter
  21               	.global	NutIpInput
  22               		.type	NutIpInput, @function
  23               	NutIpInput:
  24 000a AF92      		push r10
  25 000c BF92      		push r11
  26 000e DF92      		push r13
  27 0010 EF92      		push r14
  28 0012 FF92      		push r15
  29 0014 0F93      		push r16
  30 0016 1F93      		push r17
  31 0018 CF93      		push r28
  32 001a DF93      		push r29
  33               	/* prologue: function */
  34               	/* frame size = 0 */
  35 001c 5C01      		movw r10,r24
  36 001e EB01      		movw r28,r22
  37 0020 0F81      		ldd r16,Y+7
  38 0022 1885      		ldd r17,Y+8
  39 0024 D801      		movw r26,r16
  40 0026 8C91      		ld r24,X
  41 0028 807F      		andi r24,lo8(-16)
  42 002a 8034      		cpi r24,lo8(64)
  43 002c 01F0      		breq .+2
  44 002e 00C0      		rjmp .L27
  45 0030 1696      		adiw r26,6
  46 0032 8D91      		ld r24,X+
  47 0034 9C91      		ld r25,X
  48 0036 1797      		sbiw r26,6+1
  49               	/* #APP */
  50               	 ;  295 "../../nut/include/sys/types.h" 1
  51 0038 082E      		mov __tmp_reg__, r24
  52 003a 892F      		mov r24, r25
  53 003c 902D      		mov r25, __tmp_reg__
  54               		
  55               	 ;  0 "" 2
  56               	/* #NOAPP */
  57 003e 9F73      		andi r25,hi8(16383)
GAS LISTING C:\Temp/ccqKJ8uy.s 			page 2


  58 0040 892B      		or r24,r25
  59 0042 01F0      		breq .+2
  60 0044 00C0      		rjmp .L27
  61 0046 E091 0000 		lds r30,NutIpFilter
  62 004a F091 0000 		lds r31,(NutIpFilter)+1
  63 004e 3097      		sbiw r30,0
  64 0050 01F0      		breq .L5
  65 0052 1C96      		adiw r26,12
  66 0054 6D91      		ld r22,X+
  67 0056 7D91      		ld r23,X+
  68 0058 8D91      		ld r24,X+
  69 005a 9C91      		ld r25,X
  70 005c 1F97      		sbiw r26,12+3
  71 005e 0995      		icall
  72 0060 892B      		or r24,r25
  73 0062 01F0      		breq .+2
  74 0064 00C0      		rjmp .L27
  75               	.L5:
  76 0066 F801      		movw r30,r16
  77 0068 6081      		ld r22,Z
  78 006a 6F70      		andi r22,lo8(15)
  79 006c 660F      		lsl r22
  80 006e 660F      		lsl r22
  81 0070 6431      		cpi r22,lo8(20)
  82 0072 00F4      		brsh .+2
  83 0074 00C0      		rjmp .L27
  84 0076 E62E      		mov r14,r22
  85 0078 FF24      		clr r15
  86 007a 8985      		ldd r24,Y+9
  87 007c 9A85      		ldd r25,Y+10
  88 007e 8E15      		cp r24,r14
  89 0080 9F05      		cpc r25,r15
  90 0082 04F4      		brge .+2
  91 0084 00C0      		rjmp .L27
  92               	.L8:
  93 0086 D801      		movw r26,r16
  94 0088 5096      		adiw r26,16
  95 008a 2D91      		ld r18,X+
  96 008c 3D91      		ld r19,X+
  97 008e 4D91      		ld r20,X+
  98 0090 5C91      		ld r21,X
  99 0092 5397      		sbiw r26,16+3
 100 0094 F501      		movw r30,r10
 101 0096 8785      		ldd r24,Z+15
 102 0098 9089      		ldd r25,Z+16
 103 009a 2F3F      		cpi r18,lo8(-1)
 104 009c FFEF      		ldi r31,hi8(-1)
 105 009e 3F07      		cpc r19,r31
 106 00a0 FFEF      		ldi r31,hlo8(-1)
 107 00a2 4F07      		cpc r20,r31
 108 00a4 FFEF      		ldi r31,hhi8(-1)
 109 00a6 5F07      		cpc r21,r31
 110 00a8 01F4      		brne .+2
 111 00aa 00C0      		rjmp .L9
 112 00ac FC01      		movw r30,r24
 113 00ae 8385      		ldd r24,Z+11
 114 00b0 9485      		ldd r25,Z+12
GAS LISTING C:\Temp/ccqKJ8uy.s 			page 3


 115 00b2 A585      		ldd r26,Z+13
 116 00b4 B685      		ldd r27,Z+14
 117 00b6 0097      		sbiw r24,0
 118 00b8 A105      		cpc r26,__zero_reg__
 119 00ba B105      		cpc r27,__zero_reg__
 120 00bc 01F0      		breq .L10
 121 00be 8389      		ldd r24,Z+19
 122 00c0 9489      		ldd r25,Z+20
 123 00c2 A589      		ldd r26,Z+21
 124 00c4 B689      		ldd r27,Z+22
 125 00c6 8F3F      		cpi r24,lo8(-1)
 126 00c8 7FEF      		ldi r23,hi8(-1)
 127 00ca 9707      		cpc r25,r23
 128 00cc 7FEF      		ldi r23,hlo8(-1)
 129 00ce A707      		cpc r26,r23
 130 00d0 7FEF      		ldi r23,hhi8(-1)
 131 00d2 B707      		cpc r27,r23
 132 00d4 01F0      		breq .L10
 133 00d6 822B      		or r24,r18
 134 00d8 932B      		or r25,r19
 135 00da A42B      		or r26,r20
 136 00dc B52B      		or r27,r21
 137 00de 8F5F      		subi r24,lo8(-1)
 138 00e0 9F4F      		sbci r25,hi8(-1)
 139 00e2 AF4F      		sbci r26,hlo8(-1)
 140 00e4 BF4F      		sbci r27,hhi8(-1)
 141 00e6 01F0      		breq .L9
 142               	.L10:
 143 00e8 DA01      		movw r26,r20
 144 00ea C901      		movw r24,r18
 145 00ec 807F      		andi r24,lo8(240)
 146 00ee 9070      		andi r25,hi8(240)
 147 00f0 A070      		andi r26,hlo8(240)
 148 00f2 B070      		andi r27,hhi8(240)
 149 00f4 803E      		cpi r24,lo8(224)
 150 00f6 9105      		cpc r25,__zero_reg__
 151 00f8 A105      		cpc r26,__zero_reg__
 152 00fa B105      		cpc r27,__zero_reg__
 153 00fc 01F4      		brne .L11
 154 00fe 058C      		ldd __tmp_reg__,Z+29
 155 0100 F68D      		ldd r31,Z+30
 156 0102 E02D      		mov r30,__tmp_reg__
 157 0104 00C0      		rjmp .L12
 158               	.L15:
 159 0106 8085      		ldd r24,Z+8
 160 0108 9185      		ldd r25,Z+9
 161 010a A285      		ldd r26,Z+10
 162 010c B385      		ldd r27,Z+11
 163 010e 2817      		cp r18,r24
 164 0110 3907      		cpc r19,r25
 165 0112 4A07      		cpc r20,r26
 166 0114 5B07      		cpc r21,r27
 167 0116 01F4      		brne .L13
 168 0118 82E0      		ldi r24,lo8(2)
 169 011a D82E      		mov r13,r24
 170 011c 00C0      		rjmp .L14
 171               	.L13:
GAS LISTING C:\Temp/ccqKJ8uy.s 			page 4


 172 011e 0190      		ld __tmp_reg__,Z+
 173 0120 F081      		ld r31,Z
 174 0122 E02D      		mov r30,__tmp_reg__
 175               	.L12:
 176 0124 3097      		sbiw r30,0
 177 0126 01F4      		brne .L15
 178 0128 00C0      		rjmp .L27
 179               	.L11:
 180 012a 8A81      		ldd r24,Y+2
 181 012c 8860      		ori r24,lo8(8)
 182 012e 8A83      		std Y+2,r24
 183 0130 8385      		ldd r24,Z+11
 184 0132 9485      		ldd r25,Z+12
 185 0134 A585      		ldd r26,Z+13
 186 0136 B685      		ldd r27,Z+14
 187 0138 0097      		sbiw r24,0
 188 013a A105      		cpc r26,__zero_reg__
 189 013c B105      		cpc r27,__zero_reg__
 190 013e 01F0      		breq .L17
 191 0140 2115      		cp r18,__zero_reg__
 192 0142 3105      		cpc r19,__zero_reg__
 193 0144 4105      		cpc r20,__zero_reg__
 194 0146 5105      		cpc r21,__zero_reg__
 195 0148 01F4      		brne .+2
 196 014a 00C0      		rjmp .L27
 197 014c 2817      		cp r18,r24
 198 014e 3907      		cpc r19,r25
 199 0150 4A07      		cpc r20,r26
 200 0152 5B07      		cpc r21,r27
 201 0154 01F0      		breq .+2
 202 0156 00C0      		rjmp .L27
 203 0158 00C0      		rjmp .L17
 204               	.L9:
 205 015a DD24      		clr r13
 206 015c D394      		inc r13
 207 015e 00C0      		rjmp .L14
 208               	.L17:
 209 0160 DD24      		clr r13
 210               	.L14:
 211 0162 D801      		movw r26,r16
 212 0164 1296      		adiw r26,2
 213 0166 2D91      		ld r18,X+
 214 0168 3C91      		ld r19,X
 215 016a 1397      		sbiw r26,2+1
 216               	/* #APP */
 217               	 ;  295 "../../nut/include/sys/types.h" 1
 218 016c 022E      		mov __tmp_reg__, r18
 219 016e 232F      		mov r18, r19
 220 0170 302D      		mov r19, __tmp_reg__
 221               		
 222               	 ;  0 "" 2
 223               	/* #NOAPP */
 224 0172 3E87      		std Y+14,r19
 225 0174 2D87      		std Y+13,r18
 226 0176 2E15      		cp r18,r14
 227 0178 3F05      		cpc r19,r15
 228 017a 04F0      		brlt .L27
GAS LISTING C:\Temp/ccqKJ8uy.s 			page 5


 229 017c 8985      		ldd r24,Y+9
 230 017e 9A85      		ldd r25,Y+10
 231 0180 8217      		cp r24,r18
 232 0182 9307      		cpc r25,r19
 233 0184 04F0      		brlt .L27
 234               	.L20:
 235 0186 FA86      		std Y+10,r15
 236 0188 E986      		std Y+9,r14
 237 018a C901      		movw r24,r18
 238 018c 8E19      		sub r24,r14
 239 018e 9F09      		sbc r25,r15
 240 0190 9E87      		std Y+14,r25
 241 0192 8D87      		std Y+13,r24
 242 0194 892B      		or r24,r25
 243 0196 01F0      		breq .L21
 244 0198 C801      		movw r24,r16
 245 019a 860F      		add r24,r22
 246 019c 911D      		adc r25,__zero_reg__
 247 019e 9C87      		std Y+12,r25
 248 01a0 8B87      		std Y+11,r24
 249               	.L21:
 250 01a2 E091 0000 		lds r30,ip_demux
 251 01a6 F091 0000 		lds r31,(ip_demux)+1
 252 01aa 3097      		sbiw r30,0
 253 01ac 01F0      		breq .L22
 254 01ae BE01      		movw r22,r28
 255 01b0 C501      		movw r24,r10
 256 01b2 0995      		icall
 257 01b4 892B      		or r24,r25
 258 01b6 01F0      		breq .L26
 259               	.L22:
 260 01b8 F801      		movw r30,r16
 261 01ba 8185      		ldd r24,Z+9
 262 01bc 8130      		cpi r24,lo8(1)
 263 01be 01F4      		brne .L28
 264 01c0 BE01      		movw r22,r28
 265 01c2 C501      		movw r24,r10
 266 01c4 0E94 0000 		call NutIcmpInput
 267 01c8 00C0      		rjmp .L26
 268               	.L28:
 269 01ca DD20      		tst r13
 270 01cc 01F4      		brne .L27
 271 01ce 8E01      		movw r16,r28
 272 01d0 20E0      		ldi r18,lo8(0)
 273 01d2 30E0      		ldi r19,hi8(0)
 274 01d4 40E0      		ldi r20,hlo8(0)
 275 01d6 50E0      		ldi r21,hhi8(0)
 276 01d8 62E0      		ldi r22,lo8(2)
 277 01da 83E0      		ldi r24,lo8(3)
 278 01dc 0E94 0000 		call NutIcmpResponse
 279 01e0 892B      		or r24,r25
 280 01e2 01F4      		brne .L26
 281               	.L27:
 282 01e4 CE01      		movw r24,r28
 283 01e6 0E94 0000 		call NutNetBufFree
 284               	.L26:
 285               	/* epilogue start */
GAS LISTING C:\Temp/ccqKJ8uy.s 			page 6


 286 01ea DF91      		pop r29
 287 01ec CF91      		pop r28
 288 01ee 1F91      		pop r17
 289 01f0 0F91      		pop r16
 290 01f2 FF90      		pop r15
 291 01f4 EF90      		pop r14
 292 01f6 DF90      		pop r13
 293 01f8 BF90      		pop r11
 294 01fa AF90      		pop r10
 295 01fc 0895      		ret
 296               		.size	NutIpInput, .-NutIpInput
 297               		.lcomm NutIpFilter,2
 298               		.comm ip_demux,2,1
GAS LISTING C:\Temp/ccqKJ8uy.s 			page 7


DEFINED SYMBOLS
                            *ABS*:00000000 ipin.c
  C:\Temp/ccqKJ8uy.s:2      *ABS*:0000003f __SREG__
  C:\Temp/ccqKJ8uy.s:3      *ABS*:0000003e __SP_H__
  C:\Temp/ccqKJ8uy.s:4      *ABS*:0000003d __SP_L__
  C:\Temp/ccqKJ8uy.s:5      *ABS*:00000034 __CCP__
  C:\Temp/ccqKJ8uy.s:6      *ABS*:00000000 __tmp_reg__
  C:\Temp/ccqKJ8uy.s:7      *ABS*:00000001 __zero_reg__
  C:\Temp/ccqKJ8uy.s:13     .text:00000000 NutIpSetInputFilter
                             .bss:00000000 NutIpFilter
  C:\Temp/ccqKJ8uy.s:23     .text:0000000a NutIpInput
                            *COM*:00000002 ip_demux

UNDEFINED SYMBOLS
__do_copy_data
__do_clear_bss
NutIcmpInput
NutIcmpResponse
NutNetBufFree
