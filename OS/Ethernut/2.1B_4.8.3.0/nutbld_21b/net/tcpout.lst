GAS LISTING C:\Temp/ccy7wlG2.s 			page 1


   1               		.file	"tcpout.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__  = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.global __do_copy_data
   9               		.global __do_clear_bss
  10               		.text
  11               	.global	NutTcpReject
  12               		.type	NutTcpReject, @function
  13               	NutTcpReject:
  14 0000 AF92      		push r10
  15 0002 BF92      		push r11
  16 0004 CF92      		push r12
  17 0006 DF92      		push r13
  18 0008 EF92      		push r14
  19 000a FF92      		push r15
  20 000c 0F93      		push r16
  21 000e CF93      		push r28
  22 0010 DF93      		push r29
  23               	/* prologue: function */
  24               	/* frame size = 0 */
  25 0012 5C01      		movw r10,r24
  26 0014 FC01      		movw r30,r24
  27 0016 6781      		ldd r22,Z+7
  28 0018 7085      		ldd r23,Z+8
  29 001a C385      		ldd r28,Z+11
  30 001c D485      		ldd r29,Z+12
  31 001e 8D85      		ldd r24,Y+13
  32 0020 82FD      		sbrc r24,2
  33 0022 00C0      		rjmp .L9
  34               	.L2:
  35 0024 F501      		movw r30,r10
  36 0026 128A      		std Z+18,__zero_reg__
  37 0028 118A      		std Z+17,__zero_reg__
  38 002a 84E1      		ldi r24,lo8(20)
  39 002c 90E0      		ldi r25,hi8(20)
  40 002e 9687      		std Z+14,r25
  41 0030 8587      		std Z+13,r24
  42 0032 2881      		ld r18,Y
  43 0034 3981      		ldd r19,Y+1
  44 0036 8A81      		ldd r24,Y+2
  45 0038 9B81      		ldd r25,Y+3
  46 003a 9983      		std Y+1,r25
  47 003c 8883      		st Y,r24
  48 003e 3B83      		std Y+3,r19
  49 0040 2A83      		std Y+2,r18
  50 0042 8D85      		ldd r24,Y+13
  51 0044 84FF      		sbrs r24,4
  52 0046 00C0      		rjmp .L4
  53 0048 84E0      		ldi r24,lo8(4)
  54 004a 8D87      		std Y+13,r24
  55 004c 8885      		ldd r24,Y+8
  56 004e 9985      		ldd r25,Y+9
  57 0050 AA85      		ldd r26,Y+10
GAS LISTING C:\Temp/ccy7wlG2.s 			page 2


  58 0052 BB85      		ldd r27,Y+11
  59 0054 8C83      		std Y+4,r24
  60 0056 9D83      		std Y+5,r25
  61 0058 AE83      		std Y+6,r26
  62 005a BF83      		std Y+7,r27
  63 005c 1886      		std Y+8,__zero_reg__
  64 005e 1986      		std Y+9,__zero_reg__
  65 0060 1A86      		std Y+10,__zero_reg__
  66 0062 1B86      		std Y+11,__zero_reg__
  67 0064 00C0      		rjmp .L5
  68               	.L4:
  69 0066 2C81      		ldd r18,Y+4
  70 0068 3D81      		ldd r19,Y+5
  71 006a 4E81      		ldd r20,Y+6
  72 006c 5F81      		ldd r21,Y+7
  73 006e 81FF      		sbrs r24,1
  74 0070 00C0      		rjmp .L6
  75               	/* #APP */
  76               	 ;  305 "../../nut/include/sys/types.h" 1
  77 0072 022E      		mov __tmp_reg__, r18
  78 0074 252F      		mov r18, r21
  79 0076 502D      		mov r21, __tmp_reg__
  80 0078 032E      		mov __tmp_reg__, r19
  81 007a 342F      		mov r19, r20
  82 007c 402D      		mov r20, __tmp_reg__
  83               		
  84               	 ;  0 "" 2
  85               	/* #NOAPP */
  86 007e 2F5F      		subi r18,lo8(-(1))
  87 0080 3F4F      		sbci r19,hi8(-(1))
  88 0082 4F4F      		sbci r20,hlo8(-(1))
  89 0084 5F4F      		sbci r21,hhi8(-(1))
  90               	/* #APP */
  91               	 ;  305 "../../nut/include/sys/types.h" 1
  92 0086 022E      		mov __tmp_reg__, r18
  93 0088 252F      		mov r18, r21
  94 008a 502D      		mov r21, __tmp_reg__
  95 008c 032E      		mov __tmp_reg__, r19
  96 008e 342F      		mov r19, r20
  97 0090 402D      		mov r20, __tmp_reg__
  98               		
  99               	 ;  0 "" 2
 100               	/* #NOAPP */
 101               	.L6:
 102 0092 2887      		std Y+8,r18
 103 0094 3987      		std Y+9,r19
 104 0096 4A87      		std Y+10,r20
 105 0098 5B87      		std Y+11,r21
 106 009a 1C82      		std Y+4,__zero_reg__
 107 009c 1D82      		std Y+5,__zero_reg__
 108 009e 1E82      		std Y+6,__zero_reg__
 109 00a0 1F82      		std Y+7,__zero_reg__
 110 00a2 84E1      		ldi r24,lo8(20)
 111 00a4 8D87      		std Y+13,r24
 112               	.L5:
 113 00a6 6B01      		movw r12,r22
 114 00a8 80E5      		ldi r24,lo8(80)
GAS LISTING C:\Temp/ccy7wlG2.s 			page 3


 115 00aa 8C87      		std Y+12,r24
 116 00ac 1F86      		std Y+15,__zero_reg__
 117 00ae 1E86      		std Y+14,__zero_reg__
 118 00b0 1B8A      		std Y+19,__zero_reg__
 119 00b2 1A8A      		std Y+18,__zero_reg__
 120 00b4 198A      		std Y+17,__zero_reg__
 121 00b6 188A      		std Y+16,__zero_reg__
 122 00b8 F501      		movw r30,r10
 123 00ba E584      		ldd r14,Z+13
 124 00bc F684      		ldd r15,Z+14
 125               	/* #APP */
 126               	 ;  295 "../../nut/include/sys/types.h" 1
 127 00be 0E2C      		mov __tmp_reg__, r14
 128 00c0 EF2C      		mov r14, r15
 129 00c2 F02C      		mov r15, __tmp_reg__
 130               		
 131               	 ;  0 "" 2
 132               	/* #NOAPP */
 133 00c4 FB01      		movw r30,r22
 134 00c6 2485      		ldd r18,Z+12
 135 00c8 3585      		ldd r19,Z+13
 136 00ca 4685      		ldd r20,Z+14
 137 00cc 5785      		ldd r21,Z+15
 138 00ce 6089      		ldd r22,Z+16
 139 00d0 7189      		ldd r23,Z+17
 140 00d2 8289      		ldd r24,Z+18
 141 00d4 9389      		ldd r25,Z+19
 142 00d6 06E0      		ldi r16,lo8(6)
 143 00d8 0E94 0000 		call NutIpPseudoChkSumPartial
 144 00dc DC01      		movw r26,r24
 145 00de CB01      		movw r24,r22
 146 00e0 F501      		movw r30,r10
 147 00e2 4585      		ldd r20,Z+13
 148 00e4 5685      		ldd r21,Z+14
 149 00e6 BE01      		movw r22,r28
 150 00e8 0E94 0000 		call NutIpChkSum
 151 00ec 998B      		std Y+17,r25
 152 00ee 888B      		std Y+16,r24
 153 00f0 F601      		movw r30,r12
 154 00f2 4485      		ldd r20,Z+12
 155 00f4 5585      		ldd r21,Z+13
 156 00f6 6685      		ldd r22,Z+14
 157 00f8 7785      		ldd r23,Z+15
 158 00fa 9501      		movw r18,r10
 159 00fc 86E0      		ldi r24,lo8(6)
 160 00fe 0E94 0000 		call NutIpOutput
 161 0102 892B      		or r24,r25
 162 0104 01F4      		brne .L3
 163               	.L9:
 164 0106 C501      		movw r24,r10
 165 0108 0E94 0000 		call NutNetBufFree
 166               	.L3:
 167 010c 80E0      		ldi r24,lo8(0)
 168 010e 90E0      		ldi r25,hi8(0)
 169               	/* epilogue start */
 170 0110 DF91      		pop r29
 171 0112 CF91      		pop r28
GAS LISTING C:\Temp/ccy7wlG2.s 			page 4


 172 0114 0F91      		pop r16
 173 0116 FF90      		pop r15
 174 0118 EF90      		pop r14
 175 011a DF90      		pop r13
 176 011c CF90      		pop r12
 177 011e BF90      		pop r11
 178 0120 AF90      		pop r10
 179 0122 0895      		ret
 180               		.size	NutTcpReject, .-NutTcpReject
 181               	.global	NutTcpOutput
 182               		.type	NutTcpOutput, @function
 183               	NutTcpOutput:
 184 0124 6F92      		push r6
 185 0126 7F92      		push r7
 186 0128 8F92      		push r8
 187 012a 9F92      		push r9
 188 012c AF92      		push r10
 189 012e BF92      		push r11
 190 0130 CF92      		push r12
 191 0132 DF92      		push r13
 192 0134 EF92      		push r14
 193 0136 FF92      		push r15
 194 0138 0F93      		push r16
 195 013a DF93      		push r29
 196 013c CF93      		push r28
 197 013e 00D0      		rcall .
 198 0140 CDB7      		in r28,__SP_L__
 199 0142 DEB7      		in r29,__SP_H__
 200               	/* prologue: function */
 201               	/* frame size = 2 */
 202 0144 6C01      		movw r12,r24
 203 0146 F62E      		mov r15,r22
 204 0148 E72E      		mov r14,r23
 205 014a 3A01      		movw r6,r20
 206 014c 4115      		cp r20,__zero_reg__
 207 014e 5105      		cpc r21,__zero_reg__
 208 0150 01F4      		brne .L11
 209 0152 DC01      		movw r26,r24
 210 0154 9096      		adiw r26,32
 211 0156 8C91      		ld r24,X
 212 0158 8B70      		andi r24,lo8(11)
 213 015a 01F4      		brne .+2
 214 015c 00C0      		rjmp .L34
 215               	.L11:
 216 015e F601      		movw r30,r12
 217 0160 80A1      		ldd r24,Z+32
 218 0162 81FF      		sbrs r24,1
 219 0164 00C0      		rjmp .L13
 220 0166 08E1      		ldi r16,lo8(24)
 221 0168 00C0      		rjmp .L14
 222               	.L13:
 223 016a 04E1      		ldi r16,lo8(20)
 224               	.L14:
 225 016c 402F      		mov r20,r16
 226 016e 50E0      		ldi r21,lo8(0)
 227 0170 60E4      		ldi r22,lo8(64)
 228 0172 80E0      		ldi r24,lo8(0)
GAS LISTING C:\Temp/ccy7wlG2.s 			page 5


 229 0174 90E0      		ldi r25,hi8(0)
 230 0176 0E94 0000 		call NutNetBufAlloc
 231 017a 4C01      		movw r8,r24
 232 017c 0097      		sbiw r24,0
 233 017e 01F4      		brne .L15
 234 0180 20E6      		ldi r18,lo8(96)
 235 0182 30E0      		ldi r19,hi8(96)
 236 0184 C20E      		add r12,r18
 237 0186 D31E      		adc r13,r19
 238 0188 00C0      		rjmp .L36
 239               	.L15:
 240 018a FC01      		movw r30,r24
 241 018c A384      		ldd r10,Z+11
 242 018e B484      		ldd r11,Z+12
 243 0190 D601      		movw r26,r12
 244 0192 5896      		adiw r26,24
 245 0194 8D91      		ld r24,X+
 246 0196 9C91      		ld r25,X
 247 0198 5997      		sbiw r26,24+1
 248 019a F501      		movw r30,r10
 249 019c 9183      		std Z+1,r25
 250 019e 8083      		st Z,r24
 251 01a0 5E96      		adiw r26,30
 252 01a2 8D91      		ld r24,X+
 253 01a4 9C91      		ld r25,X
 254 01a6 5F97      		sbiw r26,30+1
 255 01a8 9383      		std Z+3,r25
 256 01aa 8283      		std Z+2,r24
 257 01ac 000F      		lsl r16
 258 01ae 000F      		lsl r16
 259 01b0 0487      		std Z+12,r16
 260 01b2 9096      		adiw r26,32
 261 01b4 3C91      		ld r19,X
 262 01b6 9097      		sbiw r26,32
 263 01b8 232F      		mov r18,r19
 264 01ba 277F      		andi r18,lo8(-9)
 265 01bc 9096      		adiw r26,32
 266 01be 2C93      		st X,r18
 267 01c0 9097      		sbiw r26,32
 268 01c2 9996      		adiw r26,41
 269 01c4 8D91      		ld r24,X+
 270 01c6 9D91      		ld r25,X+
 271 01c8 0D90      		ld __tmp_reg__,X+
 272 01ca BC91      		ld r27,X
 273 01cc A02D      		mov r26,__tmp_reg__
 274               	/* #APP */
 275               	 ;  305 "../../nut/include/sys/types.h" 1
 276 01ce 082E      		mov __tmp_reg__, r24
 277 01d0 8B2F      		mov r24, r27
 278 01d2 B02D      		mov r27, __tmp_reg__
 279 01d4 092E      		mov __tmp_reg__, r25
 280 01d6 9A2F      		mov r25, r26
 281 01d8 A02D      		mov r26, __tmp_reg__
 282               		
 283               	 ;  0 "" 2
 284               	/* #NOAPP */
 285 01da 8483      		std Z+4,r24
GAS LISTING C:\Temp/ccy7wlG2.s 			page 6


 286 01dc 9583      		std Z+5,r25
 287 01de A683      		std Z+6,r26
 288 01e0 B783      		std Z+7,r27
 289 01e2 24FF      		sbrs r18,4
 290 01e4 00C0      		rjmp .L16
 291 01e6 80E1      		ldi r24,lo8(16)
 292 01e8 8587      		std Z+13,r24
 293 01ea 377E      		andi r19,lo8(-25)
 294 01ec D601      		movw r26,r12
 295 01ee 9096      		adiw r26,32
 296 01f0 3C93      		st X,r19
 297 01f2 E0E4      		ldi r30,lo8(64)
 298 01f4 F0E0      		ldi r31,hi8(64)
 299 01f6 CE0E      		add r12,r30
 300 01f8 DF1E      		adc r13,r31
 301 01fa F601      		movw r30,r12
 302 01fc 8081      		ld r24,Z
 303 01fe 9181      		ldd r25,Z+1
 304 0200 A281      		ldd r26,Z+2
 305 0202 B381      		ldd r27,Z+3
 306 0204 20EC      		ldi r18,lo8(-64)
 307 0206 3FEF      		ldi r19,hi8(-64)
 308 0208 C20E      		add r12,r18
 309 020a D31E      		adc r13,r19
 310               	/* #APP */
 311               	 ;  305 "../../nut/include/sys/types.h" 1
 312 020c 082E      		mov __tmp_reg__, r24
 313 020e 8B2F      		mov r24, r27
 314 0210 B02D      		mov r27, __tmp_reg__
 315 0212 092E      		mov __tmp_reg__, r25
 316 0214 9A2F      		mov r25, r26
 317 0216 A02D      		mov r26, __tmp_reg__
 318               		
 319               	 ;  0 "" 2
 320               	/* #NOAPP */
 321 0218 F501      		movw r30,r10
 322 021a 8087      		std Z+8,r24
 323 021c 9187      		std Z+9,r25
 324 021e A287      		std Z+10,r26
 325 0220 B387      		std Z+11,r27
 326 0222 00C0      		rjmp .L17
 327               	.L16:
 328 0224 D501      		movw r26,r10
 329 0226 1D96      		adiw r26,13
 330 0228 1C92      		st X,__zero_reg__
 331 022a F501      		movw r30,r10
 332 022c 1086      		std Z+8,__zero_reg__
 333 022e 1186      		std Z+9,__zero_reg__
 334 0230 1286      		std Z+10,__zero_reg__
 335 0232 1386      		std Z+11,__zero_reg__
 336               	.L17:
 337 0234 D601      		movw r26,r12
 338 0236 9096      		adiw r26,32
 339 0238 2C91      		ld r18,X
 340 023a 21FF      		sbrs r18,1
 341 023c 00C0      		rjmp .L18
 342 023e E2E5      		ldi r30,lo8(82)
GAS LISTING C:\Temp/ccy7wlG2.s 			page 7


 343 0240 F0E0      		ldi r31,hi8(82)
 344 0242 CE0E      		add r12,r30
 345 0244 DF1E      		adc r13,r31
 346 0246 D601      		movw r26,r12
 347 0248 8D91      		ld r24,X+
 348 024a 9C91      		ld r25,X
 349 024c EEEA      		ldi r30,lo8(-82)
 350 024e FFEF      		ldi r31,hi8(-82)
 351 0250 CE0E      		add r12,r30
 352 0252 DF1E      		adc r13,r31
 353               	/* #APP */
 354               	 ;  295 "../../nut/include/sys/types.h" 1
 355 0254 082E      		mov __tmp_reg__, r24
 356 0256 892F      		mov r24, r25
 357 0258 902D      		mov r25, __tmp_reg__
 358               		
 359               	 ;  0 "" 2
 360               	/* #NOAPP */
 361 025a 9A83      		std Y+2,r25
 362 025c 8983      		std Y+1,r24
 363 025e D501      		movw r26,r10
 364 0260 1D96      		adiw r26,13
 365 0262 8C91      		ld r24,X
 366 0264 1D97      		sbiw r26,13
 367 0266 8260      		ori r24,lo8(2)
 368 0268 1D96      		adiw r26,13
 369 026a 8C93      		st X,r24
 370 026c 2D7F      		andi r18,lo8(-3)
 371 026e F601      		movw r30,r12
 372 0270 20A3      		std Z+32,r18
 373 0272 81A5      		ldd r24,Z+41
 374 0274 92A5      		ldd r25,Z+42
 375 0276 A3A5      		ldd r26,Z+43
 376 0278 B4A5      		ldd r27,Z+44
 377 027a 0196      		adiw r24,1
 378 027c A11D      		adc r26,__zero_reg__
 379 027e B11D      		adc r27,__zero_reg__
 380 0280 81A7      		std Z+41,r24
 381 0282 92A7      		std Z+42,r25
 382 0284 A3A7      		std Z+43,r26
 383 0286 B4A7      		std Z+44,r27
 384 0288 82E0      		ldi r24,lo8(2)
 385 028a D501      		movw r26,r10
 386 028c 5496      		adiw r26,20
 387 028e 8C93      		st X,r24
 388 0290 5497      		sbiw r26,20
 389 0292 84E0      		ldi r24,lo8(4)
 390 0294 5596      		adiw r26,21
 391 0296 8C93      		st X,r24
 392 0298 5597      		sbiw r26,21
 393 029a 8981      		ldd r24,Y+1
 394 029c 5696      		adiw r26,22
 395 029e 8C93      		st X,r24
 396 02a0 5697      		sbiw r26,22
 397 02a2 8A81      		ldd r24,Y+2
 398 02a4 5796      		adiw r26,23
 399 02a6 8C93      		st X,r24
GAS LISTING C:\Temp/ccy7wlG2.s 			page 8


 400 02a8 00C0      		rjmp .L19
 401               	.L18:
 402 02aa 6114      		cp r6,__zero_reg__
 403 02ac 7104      		cpc r7,__zero_reg__
 404 02ae 01F0      		breq .L20
 405 02b0 A301      		movw r20,r6
 406 02b2 60E8      		ldi r22,lo8(-128)
 407 02b4 C401      		movw r24,r8
 408 02b6 0E94 0000 		call NutNetBufAlloc
 409 02ba 4C01      		movw r8,r24
 410 02bc 0097      		sbiw r24,0
 411 02be 01F4      		brne .L21
 412 02c0 E0E6      		ldi r30,lo8(96)
 413 02c2 F0E0      		ldi r31,hi8(96)
 414 02c4 CE0E      		add r12,r30
 415 02c6 DF1E      		adc r13,r31
 416               	.L36:
 417 02c8 87E3      		ldi r24,lo8(55)
 418 02ca 90E0      		ldi r25,hi8(55)
 419 02cc D601      		movw r26,r12
 420 02ce 8D93      		st X+,r24
 421 02d0 9C93      		st X,r25
 422 02d2 00C0      		rjmp .L35
 423               	.L21:
 424 02d4 A301      		movw r20,r6
 425 02d6 6F2D      		mov r22,r15
 426 02d8 7E2D      		mov r23,r14
 427 02da FC01      		movw r30,r24
 428 02dc 8785      		ldd r24,Z+15
 429 02de 9089      		ldd r25,Z+16
 430 02e0 0E94 0000 		call memcpy
 431 02e4 C301      		movw r24,r6
 432 02e6 A0E0      		ldi r26,lo8(0)
 433 02e8 B0E0      		ldi r27,hi8(0)
 434 02ea F601      		movw r30,r12
 435 02ec 21A5      		ldd r18,Z+41
 436 02ee 32A5      		ldd r19,Z+42
 437 02f0 43A5      		ldd r20,Z+43
 438 02f2 54A5      		ldd r21,Z+44
 439 02f4 280F      		add r18,r24
 440 02f6 391F      		adc r19,r25
 441 02f8 4A1F      		adc r20,r26
 442 02fa 5B1F      		adc r21,r27
 443 02fc D601      		movw r26,r12
 444 02fe 9996      		adiw r26,41
 445 0300 2D93      		st X+,r18
 446 0302 3D93      		st X+,r19
 447 0304 4D93      		st X+,r20
 448 0306 5C93      		st X,r21
 449 0308 9C97      		sbiw r26,41+3
 450 030a F501      		movw r30,r10
 451 030c 8585      		ldd r24,Z+13
 452 030e 8860      		ori r24,lo8(8)
 453 0310 8587      		std Z+13,r24
 454 0312 00C0      		rjmp .L19
 455               	.L20:
 456 0314 20FF      		sbrs r18,0
GAS LISTING C:\Temp/ccy7wlG2.s 			page 9


 457 0316 00C0      		rjmp .L19
 458 0318 D501      		movw r26,r10
 459 031a 1D96      		adiw r26,13
 460 031c 8C91      		ld r24,X
 461 031e 1D97      		sbiw r26,13
 462 0320 8160      		ori r24,lo8(1)
 463 0322 1D96      		adiw r26,13
 464 0324 8C93      		st X,r24
 465 0326 2E7F      		andi r18,lo8(-2)
 466 0328 F601      		movw r30,r12
 467 032a 20A3      		std Z+32,r18
 468 032c 81A5      		ldd r24,Z+41
 469 032e 92A5      		ldd r25,Z+42
 470 0330 A3A5      		ldd r26,Z+43
 471 0332 B4A5      		ldd r27,Z+44
 472 0334 0196      		adiw r24,1
 473 0336 A11D      		adc r26,__zero_reg__
 474 0338 B11D      		adc r27,__zero_reg__
 475 033a 81A7      		std Z+41,r24
 476 033c 92A7      		std Z+42,r25
 477 033e A3A7      		std Z+43,r26
 478 0340 B4A7      		std Z+44,r27
 479               	.L19:
 480 0342 24E4      		ldi r18,lo8(68)
 481 0344 30E0      		ldi r19,hi8(68)
 482 0346 C20E      		add r12,r18
 483 0348 D31E      		adc r13,r19
 484 034a D601      		movw r26,r12
 485 034c 2D91      		ld r18,X+
 486 034e 3C91      		ld r19,X
 487 0350 EEE0      		ldi r30,lo8(14)
 488 0352 F0E0      		ldi r31,hi8(14)
 489 0354 CE0E      		add r12,r30
 490 0356 DF1E      		adc r13,r31
 491 0358 D601      		movw r26,r12
 492 035a 8D91      		ld r24,X+
 493 035c 9C91      		ld r25,X
 494 035e EEEA      		ldi r30,lo8(-82)
 495 0360 FFEF      		ldi r31,hi8(-82)
 496 0362 CE0E      		add r12,r30
 497 0364 DF1E      		adc r13,r31
 498 0366 2817      		cp r18,r24
 499 0368 3907      		cpc r19,r25
 500 036a 00F4      		brsh .L23
 501 036c D501      		movw r26,r10
 502 036e 1F96      		adiw r26,14+1
 503 0370 1C92      		st X,__zero_reg__
 504 0372 1E92      		st -X,__zero_reg__
 505 0374 1E97      		sbiw r26,14
 506 0376 00C0      		rjmp .L24
 507               	.L23:
 508               	/* #APP */
 509               	 ;  295 "../../nut/include/sys/types.h" 1
 510 0378 022E      		mov __tmp_reg__, r18
 511 037a 232F      		mov r18, r19
 512 037c 302D      		mov r19, __tmp_reg__
 513               		
GAS LISTING C:\Temp/ccy7wlG2.s 			page 10


 514               	 ;  0 "" 2
 515               	/* #NOAPP */
 516 037e F501      		movw r30,r10
 517 0380 3787      		std Z+15,r19
 518 0382 2687      		std Z+14,r18
 519               	.L24:
 520 0384 D501      		movw r26,r10
 521 0386 5196      		adiw r26,16+1
 522 0388 1C92      		st X,__zero_reg__
 523 038a 1E92      		st -X,__zero_reg__
 524 038c 5097      		sbiw r26,16
 525 038e 5396      		adiw r26,18+1
 526 0390 1C92      		st X,__zero_reg__
 527 0392 1E92      		st -X,__zero_reg__
 528 0394 5297      		sbiw r26,18
 529 0396 F401      		movw r30,r8
 530 0398 E188      		ldd r14,Z+17
 531 039a F288      		ldd r15,Z+18
 532 039c 8585      		ldd r24,Z+13
 533 039e 9685      		ldd r25,Z+14
 534 03a0 E80E      		add r14,r24
 535 03a2 F91E      		adc r15,r25
 536               	/* #APP */
 537               	 ;  295 "../../nut/include/sys/types.h" 1
 538 03a4 0E2C      		mov __tmp_reg__, r14
 539 03a6 EF2C      		mov r14, r15
 540 03a8 F02C      		mov r15, __tmp_reg__
 541               		
 542               	 ;  0 "" 2
 543               	/* #NOAPP */
 544 03aa D601      		movw r26,r12
 545 03ac 5A96      		adiw r26,26
 546 03ae 2D91      		ld r18,X+
 547 03b0 3D91      		ld r19,X+
 548 03b2 4D91      		ld r20,X+
 549 03b4 5C91      		ld r21,X
 550 03b6 5D97      		sbiw r26,26+3
 551 03b8 5496      		adiw r26,20
 552 03ba 6D91      		ld r22,X+
 553 03bc 7D91      		ld r23,X+
 554 03be 8D91      		ld r24,X+
 555 03c0 9C91      		ld r25,X
 556 03c2 5797      		sbiw r26,20+3
 557 03c4 06E0      		ldi r16,lo8(6)
 558 03c6 0E94 0000 		call NutIpPseudoChkSumPartial
 559 03ca DC01      		movw r26,r24
 560 03cc CB01      		movw r24,r22
 561 03ce F401      		movw r30,r8
 562 03d0 4585      		ldd r20,Z+13
 563 03d2 5685      		ldd r21,Z+14
 564 03d4 B501      		movw r22,r10
 565 03d6 0E94 0000 		call NutIpChkSumPartial
 566 03da D401      		movw r26,r8
 567 03dc 5196      		adiw r26,17
 568 03de 4D91      		ld r20,X+
 569 03e0 5C91      		ld r21,X
 570 03e2 5297      		sbiw r26,17+1
GAS LISTING C:\Temp/ccy7wlG2.s 			page 11


 571 03e4 1F96      		adiw r26,15
 572 03e6 6D91      		ld r22,X+
 573 03e8 7C91      		ld r23,X
 574 03ea 5097      		sbiw r26,15+1
 575 03ec 0E94 0000 		call NutIpChkSum
 576 03f0 F501      		movw r30,r10
 577 03f2 918B      		std Z+17,r25
 578 03f4 808B      		std Z+16,r24
 579 03f6 6728      		or r6,r7
 580 03f8 01F4      		brne .L25
 581 03fa 8585      		ldd r24,Z+13
 582 03fc 90E0      		ldi r25,lo8(0)
 583 03fe 8370      		andi r24,lo8(3)
 584 0400 9070      		andi r25,hi8(3)
 585 0402 892B      		or r24,r25
 586 0404 01F4      		brne .L25
 587 0406 F82C      		mov r15,r8
 588 0408 092D      		mov r16,r9
 589 040a 00C0      		rjmp .L26
 590               	.L25:
 591 040c D401      		movw r26,r8
 592 040e 1D92      		st X+,__zero_reg__
 593 0410 1C92      		st X,__zero_reg__
 594 0412 D601      		movw r26,r12
 595 0414 D896      		adiw r26,56
 596 0416 ED91      		ld r30,X+
 597 0418 FC91      		ld r31,X
 598 041a D997      		sbiw r26,56+1
 599 041c 3097      		sbiw r30,0
 600 041e 01F4      		brne .L32
 601 0420 D996      		adiw r26,56+1
 602 0422 9C92      		st X,r9
 603 0424 8E92      		st -X,r8
 604 0426 D897      		sbiw r26,56
 605 0428 0E94 0000 		call NutGetMillis
 606 042c EEE5      		ldi r30,lo8(94)
 607 042e F0E0      		ldi r31,hi8(94)
 608 0430 CE0E      		add r12,r30
 609 0432 DF1E      		adc r13,r31
 610 0434 6160      		ori r22,lo8(1)
 611 0436 D601      		movw r26,r12
 612 0438 6D93      		st X+,r22
 613 043a 7C93      		st X,r23
 614 043c E2EA      		ldi r30,lo8(-94)
 615 043e FFEF      		ldi r31,hi8(-94)
 616 0440 CE0E      		add r12,r30
 617 0442 DF1E      		adc r13,r31
 618 0444 00C0      		rjmp .L28
 619               	.L32:
 620 0446 CF01      		movw r24,r30
 621 0448 0190      		ld __tmp_reg__,Z+
 622 044a F081      		ld r31,Z
 623 044c E02D      		mov r30,__tmp_reg__
 624 044e 3097      		sbiw r30,0
 625 0450 01F4      		brne .L32
 626 0452 FC01      		movw r30,r24
 627 0454 9182      		std Z+1,r9
GAS LISTING C:\Temp/ccy7wlG2.s 			page 12


 628 0456 8082      		st Z,r8
 629               	.L28:
 630 0458 9601      		movw r18,r12
 631 045a 2C5A      		subi r18,lo8(-(84))
 632 045c 3F4F      		sbci r19,hi8(-(84))
 633 045e F901      		movw r30,r18
 634 0460 8081      		ld r24,Z
 635 0462 9181      		ldd r25,Z+1
 636 0464 A281      		ldd r26,Z+2
 637 0466 B381      		ldd r27,Z+3
 638 0468 0097      		sbiw r24,0
 639 046a A105      		cpc r26,__zero_reg__
 640 046c B105      		cpc r27,__zero_reg__
 641 046e 01F4      		brne .L29
 642 0470 F501      		movw r30,r10
 643 0472 8481      		ldd r24,Z+4
 644 0474 9581      		ldd r25,Z+5
 645 0476 A681      		ldd r26,Z+6
 646 0478 B781      		ldd r27,Z+7
 647               	/* #APP */
 648               	 ;  305 "../../nut/include/sys/types.h" 1
 649 047a 082E      		mov __tmp_reg__, r24
 650 047c 8B2F      		mov r24, r27
 651 047e B02D      		mov r27, __tmp_reg__
 652 0480 092E      		mov __tmp_reg__, r25
 653 0482 9A2F      		mov r25, r26
 654 0484 A02D      		mov r26, __tmp_reg__
 655               		
 656               	 ;  0 "" 2
 657               	/* #NOAPP */
 658 0486 F901      		movw r30,r18
 659 0488 8083      		st Z,r24
 660 048a 9183      		std Z+1,r25
 661 048c A283      		std Z+2,r26
 662 048e B383      		std Z+3,r27
 663               	.L29:
 664 0490 C401      		movw r24,r8
 665 0492 0E94 0000 		call NutNetBufClone
 666 0496 F82E      		mov r15,r24
 667 0498 092F      		mov r16,r25
 668               	.L26:
 669 049a D601      		movw r26,r12
 670 049c 5A96      		adiw r26,26
 671 049e 4D91      		ld r20,X+
 672 04a0 5D91      		ld r21,X+
 673 04a2 6D91      		ld r22,X+
 674 04a4 7C91      		ld r23,X
 675 04a6 5D97      		sbiw r26,26+3
 676 04a8 2F2D      		mov r18,r15
 677 04aa 302F      		mov r19,r16
 678 04ac 86E0      		ldi r24,lo8(6)
 679 04ae 0E94 0000 		call NutIpOutput
 680 04b2 892B      		or r24,r25
 681 04b4 01F0      		breq .L30
 682               	.L35:
 683 04b6 2FEF      		ldi r18,lo8(-1)
 684 04b8 3FEF      		ldi r19,hi8(-1)
GAS LISTING C:\Temp/ccy7wlG2.s 			page 13


 685 04ba 00C0      		rjmp .L12
 686               	.L30:
 687 04bc 8F2D      		mov r24,r15
 688 04be 902F      		mov r25,r16
 689 04c0 0E94 0000 		call NutNetBufFree
 690               	.L34:
 691 04c4 20E0      		ldi r18,lo8(0)
 692 04c6 30E0      		ldi r19,hi8(0)
 693               	.L12:
 694 04c8 C901      		movw r24,r18
 695               	/* epilogue start */
 696 04ca 0F90      		pop __tmp_reg__
 697 04cc 0F90      		pop __tmp_reg__
 698 04ce CF91      		pop r28
 699 04d0 DF91      		pop r29
 700 04d2 0F91      		pop r16
 701 04d4 FF90      		pop r15
 702 04d6 EF90      		pop r14
 703 04d8 DF90      		pop r13
 704 04da CF90      		pop r12
 705 04dc BF90      		pop r11
 706 04de AF90      		pop r10
 707 04e0 9F90      		pop r9
 708 04e2 8F90      		pop r8
 709 04e4 7F90      		pop r7
 710 04e6 6F90      		pop r6
 711 04e8 0895      		ret
 712               		.size	NutTcpOutput, .-NutTcpOutput
GAS LISTING C:\Temp/ccy7wlG2.s 			page 14


DEFINED SYMBOLS
                            *ABS*:00000000 tcpout.c
  C:\Temp/ccy7wlG2.s:2      *ABS*:0000003f __SREG__
  C:\Temp/ccy7wlG2.s:3      *ABS*:0000003e __SP_H__
  C:\Temp/ccy7wlG2.s:4      *ABS*:0000003d __SP_L__
  C:\Temp/ccy7wlG2.s:5      *ABS*:00000034 __CCP__
  C:\Temp/ccy7wlG2.s:6      *ABS*:00000000 __tmp_reg__
  C:\Temp/ccy7wlG2.s:7      *ABS*:00000001 __zero_reg__
  C:\Temp/ccy7wlG2.s:13     .text:00000000 NutTcpReject
  C:\Temp/ccy7wlG2.s:183    .text:00000124 NutTcpOutput

UNDEFINED SYMBOLS
__do_copy_data
__do_clear_bss
NutIpPseudoChkSumPartial
NutIpChkSum
NutIpOutput
NutNetBufFree
NutNetBufAlloc
memcpy
NutIpChkSumPartial
NutGetMillis
NutNetBufClone
