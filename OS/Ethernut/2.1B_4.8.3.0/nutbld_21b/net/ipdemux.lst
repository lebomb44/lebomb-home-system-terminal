GAS LISTING C:\Temp/cc2P9aDR.s 			page 1


   1               		.file	"ipdemux.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__  = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.global __do_copy_data
   9               		.global __do_clear_bss
  10               		.text
  11               		.type	NutIpDemux, @function
  12               	NutIpDemux:
  13 0000 DF92      		push r13
  14 0002 EF92      		push r14
  15 0004 FF92      		push r15
  16 0006 0F93      		push r16
  17 0008 1F93      		push r17
  18 000a CF93      		push r28
  19 000c DF93      		push r29
  20               	/* prologue: function */
  21               	/* frame size = 0 */
  22 000e 7C01      		movw r14,r24
  23 0010 8B01      		movw r16,r22
  24 0012 DB01      		movw r26,r22
  25 0014 1796      		adiw r26,7
  26 0016 ED91      		ld r30,X+
  27 0018 FC91      		ld r31,X
  28 001a 1897      		sbiw r26,7+1
  29 001c D184      		ldd r13,Z+9
  30 001e C091 0000 		lds r28,in_prots
  31 0022 D091 0000 		lds r29,(in_prots)+1
  32 0026 00C0      		rjmp .L2
  33               	.L5:
  34 0028 8A81      		ldd r24,Y+2
  35 002a D816      		cp r13,r24
  36 002c 01F4      		brne .L3
  37 002e EB81      		ldd r30,Y+3
  38 0030 FC81      		ldd r31,Y+4
  39 0032 3097      		sbiw r30,0
  40 0034 01F0      		breq .L3
  41 0036 B801      		movw r22,r16
  42 0038 C701      		movw r24,r14
  43 003a 0995      		icall
  44 003c 892B      		or r24,r25
  45 003e 01F4      		brne .L3
  46 0040 20E0      		ldi r18,lo8(0)
  47 0042 30E0      		ldi r19,hi8(0)
  48 0044 00C0      		rjmp .L4
  49               	.L3:
  50 0046 0990      		ld __tmp_reg__,Y+
  51 0048 D881      		ld r29,Y
  52 004a C02D      		mov r28,__tmp_reg__
  53               	.L2:
  54 004c 2097      		sbiw r28,0
  55 004e 01F4      		brne .L5
  56 0050 2FEF      		ldi r18,lo8(-1)
  57 0052 3FEF      		ldi r19,hi8(-1)
GAS LISTING C:\Temp/cc2P9aDR.s 			page 2


  58               	.L4:
  59 0054 C901      		movw r24,r18
  60               	/* epilogue start */
  61 0056 DF91      		pop r29
  62 0058 CF91      		pop r28
  63 005a 1F91      		pop r17
  64 005c 0F91      		pop r16
  65 005e FF90      		pop r15
  66 0060 EF90      		pop r14
  67 0062 DF90      		pop r13
  68 0064 0895      		ret
  69               		.size	NutIpDemux, .-NutIpDemux
  70               	.global	NutRegisterIpHandler
  71               		.type	NutRegisterIpHandler, @function
  72               	NutRegisterIpHandler:
  73 0066 1F93      		push r17
  74 0068 CF93      		push r28
  75 006a DF93      		push r29
  76               	/* prologue: function */
  77               	/* frame size = 0 */
  78 006c 182F      		mov r17,r24
  79 006e EB01      		movw r28,r22
  80 0070 A091 0000 		lds r26,in_prots
  81 0074 B091 0000 		lds r27,(in_prots)+1
  82 0078 00C0      		rjmp .L8
  83               	.L10:
  84 007a 1296      		adiw r26,2
  85 007c 8C91      		ld r24,X
  86 007e 1297      		sbiw r26,2
  87 0080 8117      		cp r24,r17
  88 0082 01F0      		breq .L9
  89 0084 0D90      		ld __tmp_reg__,X+
  90 0086 BC91      		ld r27,X
  91 0088 A02D      		mov r26,__tmp_reg__
  92               	.L8:
  93 008a 1097      		sbiw r26,0
  94 008c 01F4      		brne .L10
  95 008e 00C0      		rjmp .L17
  96               	.L13:
  97 0090 1283      		std Z+2,r17
  98 0092 8091 0000 		lds r24,in_prots
  99 0096 9091 0000 		lds r25,(in_prots)+1
 100 009a 0097      		sbiw r24,0
 101 009c 01F4      		brne .L12
 102 009e B093 0000 		sts (in_prots)+1,r27
 103 00a2 A093 0000 		sts in_prots,r26
 104 00a6 80E0      		ldi r24,lo8(gs(NutIpDemux))
 105 00a8 90E0      		ldi r25,hi8(gs(NutIpDemux))
 106 00aa 9093 0000 		sts (ip_demux)+1,r25
 107 00ae 8093 0000 		sts ip_demux,r24
 108 00b2 00C0      		rjmp .L9
 109               	.L12:
 110 00b4 1196      		adiw r26,1
 111 00b6 9C93      		st X,r25
 112 00b8 8E93      		st -X,r24
 113 00ba B093 0000 		sts (in_prots)+1,r27
 114 00be A093 0000 		sts in_prots,r26
GAS LISTING C:\Temp/cc2P9aDR.s 			page 3


 115               	.L9:
 116 00c2 1496      		adiw r26,3+1
 117 00c4 DC93      		st X,r29
 118 00c6 CE93      		st -X,r28
 119 00c8 1397      		sbiw r26,3
 120 00ca 20E0      		ldi r18,lo8(0)
 121 00cc 30E0      		ldi r19,hi8(0)
 122               	.L14:
 123 00ce C901      		movw r24,r18
 124               	/* epilogue start */
 125 00d0 DF91      		pop r29
 126 00d2 CF91      		pop r28
 127 00d4 1F91      		pop r17
 128 00d6 0895      		ret
 129               	.L17:
 130 00d8 65E0      		ldi r22,lo8(5)
 131 00da 70E0      		ldi r23,hi8(5)
 132 00dc 81E0      		ldi r24,lo8(1)
 133 00de 90E0      		ldi r25,hi8(1)
 134 00e0 0E94 0000 		call calloc
 135 00e4 FC01      		movw r30,r24
 136 00e6 DC01      		movw r26,r24
 137 00e8 0097      		sbiw r24,0
 138 00ea 01F4      		brne .L13
 139 00ec 2FEF      		ldi r18,lo8(-1)
 140 00ee 3FEF      		ldi r19,hi8(-1)
 141 00f0 00C0      		rjmp .L14
 142               		.size	NutRegisterIpHandler, .-NutRegisterIpHandler
 143               		.lcomm in_prots,2
GAS LISTING C:\Temp/cc2P9aDR.s 			page 4


DEFINED SYMBOLS
                            *ABS*:00000000 ipdemux.c
  C:\Temp/cc2P9aDR.s:2      *ABS*:0000003f __SREG__
  C:\Temp/cc2P9aDR.s:3      *ABS*:0000003e __SP_H__
  C:\Temp/cc2P9aDR.s:4      *ABS*:0000003d __SP_L__
  C:\Temp/cc2P9aDR.s:5      *ABS*:00000034 __CCP__
  C:\Temp/cc2P9aDR.s:6      *ABS*:00000000 __tmp_reg__
  C:\Temp/cc2P9aDR.s:7      *ABS*:00000001 __zero_reg__
  C:\Temp/cc2P9aDR.s:12     .text:00000000 NutIpDemux
                             .bss:00000000 in_prots
  C:\Temp/cc2P9aDR.s:72     .text:00000066 NutRegisterIpHandler

UNDEFINED SYMBOLS
__do_copy_data
__do_clear_bss
ip_demux
calloc
