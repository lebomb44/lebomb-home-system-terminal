GAS LISTING C:\Temp/ccuFkIeF.s 			page 1


   1               		.file	"asp.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__  = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.global __do_copy_data
   9               		.global __do_clear_bss
  10               		.text
  11               	.global	NutRegisterAspCallback
  12               		.type	NutRegisterAspCallback, @function
  13               	NutRegisterAspCallback:
  14               	/* prologue: function */
  15               	/* frame size = 0 */
  16 0000 9C01      		movw r18,r24
  17 0002 8091 0000 		lds r24,asp_callback
  18 0006 9091 0000 		lds r25,(asp_callback)+1
  19 000a 892B      		or r24,r25
  20 000c 01F0      		breq .L2
  21 000e 2FEF      		ldi r18,lo8(-1)
  22 0010 3FEF      		ldi r19,hi8(-1)
  23 0012 00C0      		rjmp .L3
  24               	.L2:
  25 0014 3093 0000 		sts (asp_callback)+1,r19
  26 0018 2093 0000 		sts asp_callback,r18
  27 001c 20E0      		ldi r18,lo8(0)
  28 001e 30E0      		ldi r19,hi8(0)
  29               	.L3:
  30 0020 C901      		movw r24,r18
  31               	/* epilogue start */
  32 0022 0895      		ret
  33               		.size	NutRegisterAspCallback, .-NutRegisterAspCallback
  34               		.data
  35               	.LC0:
  36 0000 2E61 7370 		.string	".asp"
  36      00
  37               		.text
  38               	.global	NutRegisterAsp
  39               		.type	NutRegisterAsp, @function
  40               	NutRegisterAsp:
  41               	/* prologue: function */
  42               	/* frame size = 0 */
  43 0024 60E0      		ldi r22,lo8(gs(NutHttpProcessAsp))
  44 0026 70E0      		ldi r23,hi8(gs(NutHttpProcessAsp))
  45 0028 80E0      		ldi r24,lo8(.LC0)
  46 002a 90E0      		ldi r25,hi8(.LC0)
  47 002c 0E94 0000 		call NutSetMimeHandler
  48               	/* epilogue start */
  49 0030 0895      		ret
  50               		.size	NutRegisterAsp, .-NutRegisterAsp
  51               		.data
  52               	.LC1:
  53 0005 6E75 745F 		.string	"nut_version"
  53      7665 7273 
  53      696F 6E00 
  54               	.LC2:
GAS LISTING C:\Temp/ccuFkIeF.s 			page 2


  55 0011 6E75 745F 		.string	"nut_mac_addr"
  55      6D61 635F 
  55      6164 6472 
  55      00
  56               	.LC3:
  57 001e 2530 3258 		.string	"%02X:%02X:%02X:%02X:%02X:%02X"
  57      3A25 3032 
  57      583A 2530 
  57      3258 3A25 
  57      3032 583A 
  58               	.LC4:
  59 003c 6E75 745F 		.string	"nut_ip_addr"
  59      6970 5F61 
  59      6464 7200 
  60               	.LC5:
  61 0048 6E75 745F 		.string	"nut_ip_mask"
  61      6970 5F6D 
  61      6173 6B00 
  62               	.LC6:
  63 0054 6E75 745F 		.string	"nut_gateway"
  63      6761 7465 
  63      7761 7900 
  64               		.text
  65               	.global	NutHttpProcessAsp
  66               		.type	NutHttpProcessAsp, @function
  67               	NutHttpProcessAsp:
  68 0032 2F92      		push r2
  69 0034 3F92      		push r3
  70 0036 4F92      		push r4
  71 0038 5F92      		push r5
  72 003a 6F92      		push r6
  73 003c 7F92      		push r7
  74 003e 8F92      		push r8
  75 0040 9F92      		push r9
  76 0042 AF92      		push r10
  77 0044 BF92      		push r11
  78 0046 CF92      		push r12
  79 0048 DF92      		push r13
  80 004a EF92      		push r14
  81 004c FF92      		push r15
  82 004e 0F93      		push r16
  83 0050 1F93      		push r17
  84 0052 DF93      		push r29
  85 0054 CF93      		push r28
  86 0056 CDB7      		in r28,__SP_L__
  87 0058 DEB7      		in r29,__SP_H__
  88 005a 2897      		sbiw r28,8
  89 005c 0FB6      		in __tmp_reg__,__SREG__
  90 005e F894      		cli
  91 0060 DEBF      		out __SP_H__,r29
  92 0062 0FBE      		out __SREG__,__tmp_reg__
  93 0064 CDBF      		out __SP_L__,r28
  94               	/* prologue: function */
  95               	/* frame size = 8 */
  96 0066 4C01      		movw r8,r24
  97 0068 7E83      		std Y+6,r23
  98 006a 6D83      		std Y+5,r22
GAS LISTING C:\Temp/ccuFkIeF.s 			page 3


  99 006c CB01      		movw r24,r22
 100 006e 0E94 0000 		call _filelength
 101 0072 1B01      		movw r2,r22
 102 0074 2C01      		movw r4,r24
 103 0076 80E4      		ldi r24,lo8(64)
 104 0078 90E0      		ldi r25,hi8(64)
 105 007a 0E94 0000 		call malloc
 106 007e 7C01      		movw r14,r24
 107 0080 80E0      		ldi r24,lo8(256)
 108 0082 91E0      		ldi r25,hi8(256)
 109 0084 0E94 0000 		call malloc
 110 0088 3C01      		movw r6,r24
 111 008a 81E0      		ldi r24,lo8(257)
 112 008c 91E0      		ldi r25,hi8(257)
 113 008e 0E94 0000 		call malloc
 114 0092 6C01      		movw r12,r24
 115 0094 6114      		cp r6,__zero_reg__
 116 0096 7104      		cpc r7,__zero_reg__
 117 0098 01F4      		brne .+2
 118 009a 00C0      		rjmp .L8
 119 009c 0097      		sbiw r24,0
 120 009e 01F4      		brne .+2
 121 00a0 00C0      		rjmp .L9
 122 00a2 E114      		cp r14,__zero_reg__
 123 00a4 F104      		cpc r15,__zero_reg__
 124 00a6 01F4      		brne .+2
 125 00a8 00C0      		rjmp .L9
 126 00aa 20E0      		ldi r18,lo8(256)
 127 00ac 31E0      		ldi r19,hi8(256)
 128 00ae 3A83      		std Y+2,r19
 129 00b0 2983      		std Y+1,r18
 130 00b2 10E0      		ldi r17,lo8(0)
 131 00b4 1886      		std Y+8,__zero_reg__
 132 00b6 1F82      		std Y+7,__zero_reg__
 133 00b8 00E0      		ldi r16,lo8(0)
 134 00ba 00C0      		rjmp .L10
 135               	.L31:
 136 00bc 3FEF      		ldi r19,lo8(255)
 137 00be 2316      		cp r2,r19
 138 00c0 3104      		cpc r3,__zero_reg__
 139 00c2 4104      		cpc r4,__zero_reg__
 140 00c4 5104      		cpc r5,__zero_reg__
 141 00c6 01F0      		breq .+2
 142 00c8 04F4      		brge .L11
 143 00ca 3A82      		std Y+2,r3
 144 00cc 2982      		std Y+1,r2
 145               	.L11:
 146 00ce 4981      		ldd r20,Y+1
 147 00d0 5A81      		ldd r21,Y+2
 148 00d2 B301      		movw r22,r6
 149 00d4 8D81      		ldd r24,Y+5
 150 00d6 9E81      		ldd r25,Y+6
 151 00d8 0E94 0000 		call _read
 152 00dc 9C83      		std Y+4,r25
 153 00de 8B83      		std Y+3,r24
 154 00e0 AA24      		clr r10
 155 00e2 BB24      		clr r11
GAS LISTING C:\Temp/ccuFkIeF.s 			page 4


 156 00e4 00C0      		rjmp .L12
 157               	.L28:
 158 00e6 F301      		movw r30,r6
 159 00e8 EA0D      		add r30,r10
 160 00ea FB1D      		adc r31,r11
 161 00ec 8081      		ld r24,Z
 162 00ee 1130      		cpi r17,lo8(1)
 163 00f0 01F0      		breq .L15
 164 00f2 1130      		cpi r17,lo8(1)
 165 00f4 00F0      		brlo .L14
 166 00f6 1230      		cpi r17,lo8(2)
 167 00f8 01F0      		breq .+2
 168 00fa 00C0      		rjmp .L13
 169 00fc 00C0      		rjmp .L39
 170               	.L14:
 171 00fe 10E0      		ldi r17,lo8(0)
 172 0100 8C33      		cpi r24,lo8(60)
 173 0102 01F4      		brne .L17
 174 0104 11E0      		ldi r17,lo8(1)
 175               	.L17:
 176 0106 EF81      		ldd r30,Y+7
 177 0108 F885      		ldd r31,Y+8
 178 010a EC0D      		add r30,r12
 179 010c FD1D      		adc r31,r13
 180 010e 8083      		st Z,r24
 181 0110 8F81      		ldd r24,Y+7
 182 0112 9885      		ldd r25,Y+8
 183 0114 0196      		adiw r24,1
 184 0116 9887      		std Y+8,r25
 185 0118 8F83      		std Y+7,r24
 186 011a 00C0      		rjmp .L13
 187               	.L15:
 188 011c 8532      		cpi r24,lo8(37)
 189 011e 01F4      		brne .L18
 190 0120 EF81      		ldd r30,Y+7
 191 0122 F885      		ldd r31,Y+8
 192 0124 3097      		sbiw r30,0
 193 0126 01F4      		brne .+2
 194 0128 00C0      		rjmp .L19
 195 012a 3197      		sbiw r30,1
 196 012c F887      		std Y+8,r31
 197 012e EF83      		std Y+7,r30
 198 0130 3097      		sbiw r30,0
 199 0132 01F4      		brne .+2
 200 0134 00C0      		rjmp .L19
 201 0136 9401      		movw r18,r8
 202 0138 AF01      		movw r20,r30
 203 013a 61E0      		ldi r22,lo8(1)
 204 013c 70E0      		ldi r23,hi8(1)
 205 013e C601      		movw r24,r12
 206 0140 0E94 0000 		call fwrite
 207 0144 12E0      		ldi r17,lo8(2)
 208 0146 1886      		std Y+8,__zero_reg__
 209 0148 1F82      		std Y+7,__zero_reg__
 210 014a 00C0      		rjmp .L13
 211               	.L18:
 212 014c EF81      		ldd r30,Y+7
GAS LISTING C:\Temp/ccuFkIeF.s 			page 5


 213 014e F885      		ldd r31,Y+8
 214 0150 EC0D      		add r30,r12
 215 0152 FD1D      		adc r31,r13
 216 0154 8083      		st Z,r24
 217 0156 2F81      		ldd r18,Y+7
 218 0158 3885      		ldd r19,Y+8
 219 015a 2F5F      		subi r18,lo8(-(1))
 220 015c 3F4F      		sbci r19,hi8(-(1))
 221 015e 3887      		std Y+8,r19
 222 0160 2F83      		std Y+7,r18
 223 0162 10E0      		ldi r17,lo8(0)
 224 0164 00C0      		rjmp .L13
 225               	.L39:
 226 0166 8E33      		cpi r24,lo8(62)
 227 0168 01F0      		breq .+2
 228 016a 00C0      		rjmp .L20
 229 016c F701      		movw r30,r14
 230 016e E00F      		add r30,r16
 231 0170 F11D      		adc r31,__zero_reg__
 232 0172 1082      		st Z,__zero_reg__
 233 0174 60E0      		ldi r22,lo8(.LC1)
 234 0176 70E0      		ldi r23,hi8(.LC1)
 235 0178 C701      		movw r24,r14
 236 017a 0E94 0000 		call strstr
 237 017e 0097      		sbiw r24,0
 238 0180 01F0      		breq .L21
 239 0182 0E94 0000 		call NutVersionString
 240 0186 00C0      		rjmp .L37
 241               	.L21:
 242 0188 60E0      		ldi r22,lo8(.LC2)
 243 018a 70E0      		ldi r23,hi8(.LC2)
 244 018c C701      		movw r24,r14
 245 018e 0E94 0000 		call strstr
 246 0192 0097      		sbiw r24,0
 247 0194 01F0      		breq .L22
 248 0196 8091 0000 		lds r24,confnet+15
 249 019a 90E0      		ldi r25,lo8(0)
 250 019c 9F93      		push r25
 251 019e 8F93      		push r24
 252 01a0 8091 0000 		lds r24,confnet+14
 253 01a4 90E0      		ldi r25,lo8(0)
 254 01a6 9F93      		push r25
 255 01a8 8F93      		push r24
 256 01aa 8091 0000 		lds r24,confnet+13
 257 01ae 90E0      		ldi r25,lo8(0)
 258 01b0 9F93      		push r25
 259 01b2 8F93      		push r24
 260 01b4 8091 0000 		lds r24,confnet+12
 261 01b8 90E0      		ldi r25,lo8(0)
 262 01ba 9F93      		push r25
 263 01bc 8F93      		push r24
 264 01be 8091 0000 		lds r24,confnet+11
 265 01c2 90E0      		ldi r25,lo8(0)
 266 01c4 9F93      		push r25
 267 01c6 8F93      		push r24
 268 01c8 8091 0000 		lds r24,confnet+10
 269 01cc 90E0      		ldi r25,lo8(0)
GAS LISTING C:\Temp/ccuFkIeF.s 			page 6


 270 01ce 9F93      		push r25
 271 01d0 8F93      		push r24
 272 01d2 80E0      		ldi r24,lo8(.LC3)
 273 01d4 90E0      		ldi r25,hi8(.LC3)
 274 01d6 9F93      		push r25
 275 01d8 8F93      		push r24
 276 01da 9F92      		push r9
 277 01dc 8F92      		push r8
 278 01de 0E94 0000 		call fprintf
 279 01e2 10E0      		ldi r17,lo8(0)
 280 01e4 00E0      		ldi r16,lo8(0)
 281 01e6 EDB7      		in r30,__SP_L__
 282 01e8 FEB7      		in r31,__SP_H__
 283 01ea 7096      		adiw r30,16
 284 01ec 0FB6      		in __tmp_reg__,__SREG__
 285 01ee F894      		cli
 286 01f0 FEBF      		out __SP_H__,r31
 287 01f2 0FBE      		out __SREG__,__tmp_reg__
 288 01f4 EDBF      		out __SP_L__,r30
 289 01f6 00C0      		rjmp .L13
 290               	.L22:
 291 01f8 60E0      		ldi r22,lo8(.LC4)
 292 01fa 70E0      		ldi r23,hi8(.LC4)
 293 01fc C701      		movw r24,r14
 294 01fe 0E94 0000 		call strstr
 295 0202 0097      		sbiw r24,0
 296 0204 01F0      		breq .L23
 297 0206 6091 0000 		lds r22,confnet+16
 298 020a 7091 0000 		lds r23,(confnet+16)+1
 299 020e 8091 0000 		lds r24,(confnet+16)+2
 300 0212 9091 0000 		lds r25,(confnet+16)+3
 301 0216 00C0      		rjmp .L38
 302               	.L23:
 303 0218 60E0      		ldi r22,lo8(.LC5)
 304 021a 70E0      		ldi r23,hi8(.LC5)
 305 021c C701      		movw r24,r14
 306 021e 0E94 0000 		call strstr
 307 0222 0097      		sbiw r24,0
 308 0224 01F0      		breq .L24
 309 0226 6091 0000 		lds r22,confnet+20
 310 022a 7091 0000 		lds r23,(confnet+20)+1
 311 022e 8091 0000 		lds r24,(confnet+20)+2
 312 0232 9091 0000 		lds r25,(confnet+20)+3
 313 0236 00C0      		rjmp .L38
 314               	.L24:
 315 0238 60E0      		ldi r22,lo8(.LC6)
 316 023a 70E0      		ldi r23,hi8(.LC6)
 317 023c C701      		movw r24,r14
 318 023e 0E94 0000 		call strstr
 319 0242 0097      		sbiw r24,0
 320 0244 01F0      		breq .L25
 321 0246 6091 0000 		lds r22,confnet+24
 322 024a 7091 0000 		lds r23,(confnet+24)+1
 323 024e 8091 0000 		lds r24,(confnet+24)+2
 324 0252 9091 0000 		lds r25,(confnet+24)+3
 325               	.L38:
 326 0256 0E94 0000 		call inet_ntoa
GAS LISTING C:\Temp/ccuFkIeF.s 			page 7


 327               	.L37:
 328 025a B401      		movw r22,r8
 329 025c 0E94 0000 		call fputs
 330 0260 00C0      		rjmp .L35
 331               	.L25:
 332 0262 E091 0000 		lds r30,asp_callback
 333 0266 F091 0000 		lds r31,(asp_callback)+1
 334 026a 3097      		sbiw r30,0
 335 026c 01F0      		breq .L35
 336               	.L26:
 337 026e B401      		movw r22,r8
 338 0270 C701      		movw r24,r14
 339 0272 0995      		icall
 340               	.L35:
 341 0274 10E0      		ldi r17,lo8(0)
 342               	.L36:
 343 0276 00E0      		ldi r16,lo8(0)
 344 0278 00C0      		rjmp .L13
 345               	.L20:
 346 027a 8532      		cpi r24,lo8(37)
 347 027c 01F4      		brne .L27
 348 027e 80E0      		ldi r24,lo8(0)
 349               	.L27:
 350 0280 F701      		movw r30,r14
 351 0282 E00F      		add r30,r16
 352 0284 F11D      		adc r31,__zero_reg__
 353 0286 8083      		st Z,r24
 354 0288 0F5F      		subi r16,lo8(-(1))
 355 028a 0034      		cpi r16,lo8(64)
 356 028c 00F0      		brlo .L13
 357 028e 00C0      		rjmp .L36
 358               	.L19:
 359 0290 12E0      		ldi r17,lo8(2)
 360               	.L13:
 361 0292 0894      		sec
 362 0294 A11C      		adc r10,__zero_reg__
 363 0296 B11C      		adc r11,__zero_reg__
 364               	.L12:
 365 0298 2B81      		ldd r18,Y+3
 366 029a 3C81      		ldd r19,Y+4
 367 029c A216      		cp r10,r18
 368 029e B306      		cpc r11,r19
 369 02a0 04F4      		brge .+2
 370 02a2 00C0      		rjmp .L28
 371 02a4 8F81      		ldd r24,Y+7
 372 02a6 9885      		ldd r25,Y+8
 373 02a8 0097      		sbiw r24,0
 374 02aa 01F0      		breq .L29
 375 02ac FC01      		movw r30,r24
 376 02ae EC0D      		add r30,r12
 377 02b0 FD1D      		adc r31,r13
 378 02b2 3197      		sbiw r30,1
 379 02b4 B080      		ld r11,Z
 380 02b6 9CE3      		ldi r25,lo8(60)
 381 02b8 B916      		cp r11,r25
 382 02ba 01F4      		brne .L30
 383 02bc EF81      		ldd r30,Y+7
GAS LISTING C:\Temp/ccuFkIeF.s 			page 8


 384 02be F885      		ldd r31,Y+8
 385 02c0 3197      		sbiw r30,1
 386 02c2 9401      		movw r18,r8
 387 02c4 AF01      		movw r20,r30
 388 02c6 61E0      		ldi r22,lo8(1)
 389 02c8 70E0      		ldi r23,hi8(1)
 390 02ca C601      		movw r24,r12
 391 02cc 0E94 0000 		call fwrite
 392 02d0 F601      		movw r30,r12
 393 02d2 B082      		st Z,r11
 394 02d4 21E0      		ldi r18,lo8(1)
 395 02d6 30E0      		ldi r19,hi8(1)
 396 02d8 3887      		std Y+8,r19
 397 02da 2F83      		std Y+7,r18
 398 02dc 00C0      		rjmp .L29
 399               	.L30:
 400 02de 9401      		movw r18,r8
 401 02e0 4F81      		ldd r20,Y+7
 402 02e2 5885      		ldd r21,Y+8
 403 02e4 61E0      		ldi r22,lo8(1)
 404 02e6 70E0      		ldi r23,hi8(1)
 405 02e8 C601      		movw r24,r12
 406 02ea 0E94 0000 		call fwrite
 407 02ee 1886      		std Y+8,__zero_reg__
 408 02f0 1F82      		std Y+7,__zero_reg__
 409               	.L29:
 410 02f2 EB81      		ldd r30,Y+3
 411 02f4 FC81      		ldd r31,Y+4
 412 02f6 CF01      		movw r24,r30
 413 02f8 AA27      		clr r26
 414 02fa 97FD      		sbrc r25,7
 415 02fc A095      		com r26
 416 02fe BA2F      		mov r27,r26
 417 0300 281A      		sub r2,r24
 418 0302 390A      		sbc r3,r25
 419 0304 4A0A      		sbc r4,r26
 420 0306 5B0A      		sbc r5,r27
 421               	.L10:
 422 0308 2114      		cp r2,__zero_reg__
 423 030a 3104      		cpc r3,__zero_reg__
 424 030c 4104      		cpc r4,__zero_reg__
 425 030e 5104      		cpc r5,__zero_reg__
 426 0310 01F0      		breq .+2
 427 0312 00C0      		rjmp .L31
 428 0314 00C0      		rjmp .L9
 429               	.L8:
 430 0316 C114      		cp r12,__zero_reg__
 431 0318 D104      		cpc r13,__zero_reg__
 432 031a 01F0      		breq .L32
 433 031c C601      		movw r24,r12
 434 031e 0E94 0000 		call free
 435               	.L32:
 436 0322 E114      		cp r14,__zero_reg__
 437 0324 F104      		cpc r15,__zero_reg__
 438 0326 01F0      		breq .L34
 439 0328 C701      		movw r24,r14
 440 032a 0E94 0000 		call free
GAS LISTING C:\Temp/ccuFkIeF.s 			page 9


 441 032e 00C0      		rjmp .L34
 442               	.L9:
 443 0330 C301      		movw r24,r6
 444 0332 0E94 0000 		call free
 445 0336 00C0      		rjmp .L8
 446               	.L34:
 447               	/* epilogue start */
 448 0338 2896      		adiw r28,8
 449 033a 0FB6      		in __tmp_reg__,__SREG__
 450 033c F894      		cli
 451 033e DEBF      		out __SP_H__,r29
 452 0340 0FBE      		out __SREG__,__tmp_reg__
 453 0342 CDBF      		out __SP_L__,r28
 454 0344 CF91      		pop r28
 455 0346 DF91      		pop r29
 456 0348 1F91      		pop r17
 457 034a 0F91      		pop r16
 458 034c FF90      		pop r15
 459 034e EF90      		pop r14
 460 0350 DF90      		pop r13
 461 0352 CF90      		pop r12
 462 0354 BF90      		pop r11
 463 0356 AF90      		pop r10
 464 0358 9F90      		pop r9
 465 035a 8F90      		pop r8
 466 035c 7F90      		pop r7
 467 035e 6F90      		pop r6
 468 0360 5F90      		pop r5
 469 0362 4F90      		pop r4
 470 0364 3F90      		pop r3
 471 0366 2F90      		pop r2
 472 0368 0895      		ret
 473               		.size	NutHttpProcessAsp, .-NutHttpProcessAsp
 474               		.lcomm asp_callback,2
GAS LISTING C:\Temp/ccuFkIeF.s 			page 10


DEFINED SYMBOLS
                            *ABS*:00000000 asp.c
  C:\Temp/ccuFkIeF.s:2      *ABS*:0000003f __SREG__
  C:\Temp/ccuFkIeF.s:3      *ABS*:0000003e __SP_H__
  C:\Temp/ccuFkIeF.s:4      *ABS*:0000003d __SP_L__
  C:\Temp/ccuFkIeF.s:5      *ABS*:00000034 __CCP__
  C:\Temp/ccuFkIeF.s:6      *ABS*:00000000 __tmp_reg__
  C:\Temp/ccuFkIeF.s:7      *ABS*:00000001 __zero_reg__
  C:\Temp/ccuFkIeF.s:13     .text:00000000 NutRegisterAspCallback
                             .bss:00000000 asp_callback
  C:\Temp/ccuFkIeF.s:40     .text:00000024 NutRegisterAsp
  C:\Temp/ccuFkIeF.s:67     .text:00000032 NutHttpProcessAsp

UNDEFINED SYMBOLS
__do_copy_data
__do_clear_bss
NutSetMimeHandler
_filelength
malloc
_read
fwrite
strstr
NutVersionString
confnet
fprintf
inet_ntoa
fputs
free
