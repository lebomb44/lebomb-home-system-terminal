GAS LISTING C:\Temp/ccOEf121.s 			page 1


   1               		.file	"wins.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__  = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.global __do_copy_data
   9               		.global __do_clear_bss
  10               		.text
  11               	.global	NutWinsNameQuery
  12               		.type	NutWinsNameQuery, @function
  13               	NutWinsNameQuery:
  14 0000 2F92      		push r2
  15 0002 3F92      		push r3
  16 0004 4F92      		push r4
  17 0006 5F92      		push r5
  18 0008 6F92      		push r6
  19 000a 7F92      		push r7
  20 000c 8F92      		push r8
  21 000e 9F92      		push r9
  22 0010 AF92      		push r10
  23 0012 BF92      		push r11
  24 0014 CF92      		push r12
  25 0016 DF92      		push r13
  26 0018 EF92      		push r14
  27 001a FF92      		push r15
  28 001c 0F93      		push r16
  29 001e 1F93      		push r17
  30 0020 DF93      		push r29
  31 0022 CF93      		push r28
  32 0024 CDB7      		in r28,__SP_L__
  33 0026 DEB7      		in r29,__SP_H__
  34 0028 2C97      		sbiw r28,12
  35 002a 0FB6      		in __tmp_reg__,__SREG__
  36 002c F894      		cli
  37 002e DEBF      		out __SP_H__,r29
  38 0030 0FBE      		out __SREG__,__tmp_reg__
  39 0032 CDBF      		out __SP_L__,r28
  40               	/* prologue: function */
  41               	/* frame size = 12 */
  42 0034 6C01      		movw r12,r24
  43 0036 4987      		std Y+9,r20
  44 0038 5A87      		std Y+10,r21
  45 003a 6B87      		std Y+11,r22
  46 003c 7C87      		std Y+12,r23
  47 003e FC01      		movw r30,r24
  48 0040 0190      		ld __tmp_reg__,Z+
  49 0042 0020      		tst __tmp_reg__
  50 0044 01F4      		brne .-6
  51 0046 3197      		sbiw r30,1
  52 0048 E81B      		sub r30,r24
  53 004a F90B      		sbc r31,r25
  54 004c 7097      		sbiw r30,16
  55 004e 00F0      		brlo .+2
  56 0050 00C0      		rjmp .L2
  57 0052 6EE3      		ldi r22,lo8(62)
GAS LISTING C:\Temp/ccOEf121.s 			page 2


  58 0054 70E0      		ldi r23,hi8(62)
  59 0056 81E0      		ldi r24,lo8(1)
  60 0058 90E0      		ldi r25,hi8(1)
  61 005a 0E94 0000 		call calloc
  62 005e 5C01      		movw r10,r24
  63 0060 0097      		sbiw r24,0
  64 0062 01F4      		brne .+2
  65 0064 00C0      		rjmp .L2
  66 0066 61E0      		ldi r22,lo8(1)
  67 0068 70E0      		ldi r23,hi8(1)
  68 006a 81E2      		ldi r24,lo8(33)
  69 006c 90E0      		ldi r25,hi8(33)
  70 006e 0E94 0000 		call calloc
  71 0072 182F      		mov r17,r24
  72 0074 092F      		mov r16,r25
  73 0076 882E      		mov r8,r24
  74 0078 992E      		mov r9,r25
  75 007a 8114      		cp r8,__zero_reg__
  76 007c 9104      		cpc r9,__zero_reg__
  77 007e 01F4      		brne .+2
  78 0080 00C0      		rjmp .L3
  79 0082 89E8      		ldi r24,lo8(137)
  80 0084 90E0      		ldi r25,hi8(137)
  81 0086 0E94 0000 		call NutUdpCreateSocket
  82 008a 3C01      		movw r6,r24
  83 008c 0097      		sbiw r24,0
  84 008e 01F4      		brne .L17
  85 0090 00C0      		rjmp .L3
  86               	.L11:
  87 0092 C401      		movw r24,r8
  88 0094 0E94 0000 		call free
  89 0098 00C0      		rjmp .L2
  90               	.L17:
  91 009a 812F      		mov r24,r17
  92 009c 902F      		mov r25,r16
  93 009e 9C01      		movw r18,r24
  94 00a0 7901      		movw r14,r18
  95 00a2 00E0      		ldi r16,lo8(0)
  96 00a4 10E0      		ldi r17,hi8(0)
  97               	.L9:
  98 00a6 F601      		movw r30,r12
  99 00a8 0190      		ld __tmp_reg__,Z+
 100 00aa 0020      		tst __tmp_reg__
 101 00ac 01F4      		brne .-6
 102 00ae 3197      		sbiw r30,1
 103 00b0 EC19      		sub r30,r12
 104 00b2 FD09      		sbc r31,r13
 105 00b4 0E17      		cp r16,r30
 106 00b6 1F07      		cpc r17,r31
 107 00b8 00F0      		brlo .L5
 108 00ba 80E2      		ldi r24,lo8(32)
 109 00bc 90E0      		ldi r25,hi8(32)
 110 00be 00C0      		rjmp .L6
 111               	.L5:
 112 00c0 F601      		movw r30,r12
 113 00c2 E00F      		add r30,r16
 114 00c4 F11F      		adc r31,r17
GAS LISTING C:\Temp/ccOEf121.s 			page 3


 115 00c6 8081      		ld r24,Z
 116 00c8 9927      		clr r25
 117 00ca 87FD      		sbrc r24,7
 118 00cc 9095      		com r25
 119               	.L6:
 120 00ce 0E94 0000 		call toupper
 121 00d2 0F30      		cpi r16,15
 122 00d4 1105      		cpc r17,__zero_reg__
 123 00d6 01F4      		brne .L7
 124 00d8 90E0      		ldi r25,lo8(0)
 125 00da 00C0      		rjmp .L8
 126               	.L7:
 127 00dc 982F      		mov r25,r24
 128               	.L8:
 129 00de 892F      		mov r24,r25
 130 00e0 8295      		swap r24
 131 00e2 8F70      		andi r24,lo8(15)
 132 00e4 8F5B      		subi r24,lo8(-(65))
 133 00e6 D701      		movw r26,r14
 134 00e8 8C93      		st X,r24
 135 00ea 9F70      		andi r25,lo8(15)
 136 00ec 9F5B      		subi r25,lo8(-(65))
 137 00ee 1196      		adiw r26,1
 138 00f0 9C93      		st X,r25
 139 00f2 0F5F      		subi r16,lo8(-(1))
 140 00f4 1F4F      		sbci r17,hi8(-(1))
 141 00f6 E2E0      		ldi r30,lo8(2)
 142 00f8 F0E0      		ldi r31,hi8(2)
 143 00fa EE0E      		add r14,r30
 144 00fc FF1E      		adc r15,r31
 145 00fe 0031      		cpi r16,16
 146 0100 1105      		cpc r17,__zero_reg__
 147 0102 01F4      		brne .L9
 148 0104 D401      		movw r26,r8
 149 0106 9096      		adiw r26,32
 150 0108 1C92      		st X,__zero_reg__
 151 010a F501      		movw r30,r10
 152 010c 3D96      		adiw r30,13
 153 010e F887      		std Y+8,r31
 154 0110 EF83      		std Y+7,r30
 155 0112 9CE3      		ldi r25,lo8(60)
 156 0114 292E      		mov r2,r25
 157 0116 312C      		mov r3,__zero_reg__
 158 0118 412C      		mov r4,__zero_reg__
 159 011a 512C      		mov r5,__zero_reg__
 160               	.L16:
 161 011c CC24      		clr r12
 162 011e DD24      		clr r13
 163 0120 7601      		movw r14,r12
 164 0122 0EE3      		ldi r16,lo8(62)
 165 0124 10E0      		ldi r17,hi8(62)
 166 0126 9501      		movw r18,r10
 167 0128 AE01      		movw r20,r28
 168 012a 4F5F      		subi r20,lo8(-(1))
 169 012c 5F4F      		sbci r21,hi8(-(1))
 170 012e BE01      		movw r22,r28
 171 0130 6D5F      		subi r22,lo8(-(3))
GAS LISTING C:\Temp/ccOEf121.s 			page 4


 172 0132 7F4F      		sbci r23,hi8(-(3))
 173 0134 C301      		movw r24,r6
 174 0136 0E94 0000 		call NutUdpReceiveFrom
 175 013a D501      		movw r26,r10
 176 013c 1296      		adiw r26,2
 177 013e 8D91      		ld r24,X+
 178 0140 9C91      		ld r25,X
 179 0142 1397      		sbiw r26,2+1
 180               	/* #APP */
 181               	 ;  295 "../../nut/include/sys/types.h" 1
 182 0144 082E      		mov __tmp_reg__, r24
 183 0146 892F      		mov r24, r25
 184 0148 902D      		mov r25, __tmp_reg__
 185               		
 186               	 ;  0 "" 2
 187               	/* #NOAPP */
 188 014a 8070      		andi r24,lo8(-2048)
 189 014c 987F      		andi r25,hi8(-2048)
 190 014e 892B      		or r24,r25
 191 0150 01F4      		brne .L16
 192 0152 F501      		movw r30,r10
 193 0154 8481      		ldd r24,Z+4
 194 0156 9581      		ldd r25,Z+5
 195               	/* #APP */
 196               	 ;  295 "../../nut/include/sys/types.h" 1
 197 0158 082E      		mov __tmp_reg__, r24
 198 015a 892F      		mov r24, r25
 199 015c 902D      		mov r25, __tmp_reg__
 200               		
 201               	 ;  0 "" 2
 202               	/* #NOAPP */
 203 015e 0197      		sbiw r24,1
 204 0160 01F4      		brne .L16
 205 0162 1C96      		adiw r26,12
 206 0164 8C91      		ld r24,X
 207 0166 1C97      		sbiw r26,12
 208 0168 8032      		cpi r24,lo8(32)
 209 016a 01F4      		brne .L16
 210 016c 9E96      		adiw r26,46
 211 016e 8D91      		ld r24,X+
 212 0170 9C91      		ld r25,X
 213 0172 9F97      		sbiw r26,46+1
 214               	/* #APP */
 215               	 ;  295 "../../nut/include/sys/types.h" 1
 216 0174 082E      		mov __tmp_reg__, r24
 217 0176 892F      		mov r24, r25
 218 0178 902D      		mov r25, __tmp_reg__
 219               		
 220               	 ;  0 "" 2
 221               	/* #NOAPP */
 222 017a 8097      		sbiw r24,32
 223 017c 01F0      		breq .+2
 224 017e 00C0      		rjmp .L16
 225 0180 00A9      		ldd r16,Z+48
 226 0182 11A9      		ldd r17,Z+49
 227               	/* #APP */
 228               	 ;  295 "../../nut/include/sys/types.h" 1
GAS LISTING C:\Temp/ccOEf121.s 			page 5


 229 0184 002E      		mov __tmp_reg__, r16
 230 0186 012F      		mov r16, r17
 231 0188 102D      		mov r17, __tmp_reg__
 232               		
 233               	 ;  0 "" 2
 234               	/* #NOAPP */
 235 018a 0130      		cpi r16,1
 236 018c 1105      		cpc r17,__zero_reg__
 237 018e 01F0      		breq .+2
 238 0190 00C0      		rjmp .L16
 239 0192 B401      		movw r22,r8
 240 0194 8F81      		ldd r24,Y+7
 241 0196 9885      		ldd r25,Y+8
 242 0198 0E94 0000 		call strcmp
 243 019c 0097      		sbiw r24,0
 244 019e 01F0      		breq .+2
 245 01a0 00C0      		rjmp .L16
 246 01a2 80E8      		ldi r24,lo8(-31360)
 247 01a4 95E8      		ldi r25,hi8(-31360)
 248               	/* #APP */
 249               	 ;  295 "../../nut/include/sys/types.h" 1
 250 01a6 082E      		mov __tmp_reg__, r24
 251 01a8 892F      		mov r24, r25
 252 01aa 902D      		mov r25, __tmp_reg__
 253               		
 254               	 ;  0 "" 2
 255               	/* #NOAPP */
 256 01ac D501      		movw r26,r10
 257 01ae 1396      		adiw r26,2+1
 258 01b0 9C93      		st X,r25
 259 01b2 8E93      		st -X,r24
 260 01b4 1297      		sbiw r26,2
 261               	/* #APP */
 262               	 ;  295 "../../nut/include/sys/types.h" 1
 263 01b6 002E      		mov __tmp_reg__, r16
 264 01b8 012F      		mov r16, r17
 265 01ba 102D      		mov r17, __tmp_reg__
 266               		
 267               	 ;  0 "" 2
 268               	/* #NOAPP */
 269 01bc F501      		movw r30,r10
 270 01be 1783      		std Z+7,r17
 271 01c0 0683      		std Z+6,r16
 272 01c2 D201      		movw r26,r4
 273 01c4 C101      		movw r24,r2
 274               	/* #APP */
 275               	 ;  305 "../../nut/include/sys/types.h" 1
 276 01c6 082E      		mov __tmp_reg__, r24
 277 01c8 8B2F      		mov r24, r27
 278 01ca B02D      		mov r27, __tmp_reg__
 279 01cc 092E      		mov __tmp_reg__, r25
 280 01ce 9A2F      		mov r25, r26
 281 01d0 A02D      		mov r26, __tmp_reg__
 282               		
 283               	 ;  0 "" 2
 284               	/* #NOAPP */
 285 01d2 82AB      		std Z+50,r24
GAS LISTING C:\Temp/ccOEf121.s 			page 6


 286 01d4 93AB      		std Z+51,r25
 287 01d6 A4AB      		std Z+52,r26
 288 01d8 B5AB      		std Z+53,r27
 289 01da 86E0      		ldi r24,lo8(6)
 290 01dc 90E0      		ldi r25,hi8(6)
 291               	/* #APP */
 292               	 ;  295 "../../nut/include/sys/types.h" 1
 293 01de 082E      		mov __tmp_reg__, r24
 294 01e0 892F      		mov r24, r25
 295 01e2 902D      		mov r25, __tmp_reg__
 296               		
 297               	 ;  0 "" 2
 298               	/* #NOAPP */
 299 01e4 D501      		movw r26,r10
 300 01e6 D796      		adiw r26,54+1
 301 01e8 9C93      		st X,r25
 302 01ea 8E93      		st -X,r24
 303 01ec D697      		sbiw r26,54
 304 01ee 1596      		adiw r26,4+1
 305 01f0 1C92      		st X,__zero_reg__
 306 01f2 1E92      		st -X,__zero_reg__
 307 01f4 1497      		sbiw r26,4
 308 01f6 D996      		adiw r26,57
 309 01f8 1C92      		st X,__zero_reg__
 310 01fa D997      		sbiw r26,57
 311 01fc D896      		adiw r26,56
 312 01fe 1C92      		st X,__zero_reg__
 313 0200 8985      		ldd r24,Y+9
 314 0202 9A85      		ldd r25,Y+10
 315 0204 AB85      		ldd r26,Y+11
 316 0206 BC85      		ldd r27,Y+12
 317 0208 82AF      		std Z+58,r24
 318 020a 93AF      		std Z+59,r25
 319 020c A4AF      		std Z+60,r26
 320 020e B5AF      		std Z+61,r27
 321 0210 4B81      		ldd r20,Y+3
 322 0212 5C81      		ldd r21,Y+4
 323 0214 6D81      		ldd r22,Y+5
 324 0216 7E81      		ldd r23,Y+6
 325 0218 8EE3      		ldi r24,lo8(62)
 326 021a E82E      		mov r14,r24
 327 021c F12C      		mov r15,__zero_reg__
 328 021e 8501      		movw r16,r10
 329 0220 29E8      		ldi r18,lo8(137)
 330 0222 30E0      		ldi r19,hi8(137)
 331 0224 C301      		movw r24,r6
 332 0226 0E94 0000 		call NutUdpSendTo
 333 022a D501      		movw r26,r10
 334 022c EEE3      		ldi r30,lo8(62)
 335 022e 1D92      		st X+,__zero_reg__
 336 0230 EA95      	        dec r30
 337 0232 01F4      		brne .-6
 338 0234 00C0      		rjmp .L16
 339               	.L2:
 340 0236 8FEF      		ldi r24,lo8(-1)
 341 0238 9FEF      		ldi r25,hi8(-1)
 342               	/* epilogue start */
GAS LISTING C:\Temp/ccOEf121.s 			page 7


 343 023a 2C96      		adiw r28,12
 344 023c 0FB6      		in __tmp_reg__,__SREG__
 345 023e F894      		cli
 346 0240 DEBF      		out __SP_H__,r29
 347 0242 0FBE      		out __SREG__,__tmp_reg__
 348 0244 CDBF      		out __SP_L__,r28
 349 0246 CF91      		pop r28
 350 0248 DF91      		pop r29
 351 024a 1F91      		pop r17
 352 024c 0F91      		pop r16
 353 024e FF90      		pop r15
 354 0250 EF90      		pop r14
 355 0252 DF90      		pop r13
 356 0254 CF90      		pop r12
 357 0256 BF90      		pop r11
 358 0258 AF90      		pop r10
 359 025a 9F90      		pop r9
 360 025c 8F90      		pop r8
 361 025e 7F90      		pop r7
 362 0260 6F90      		pop r6
 363 0262 5F90      		pop r5
 364 0264 4F90      		pop r4
 365 0266 3F90      		pop r3
 366 0268 2F90      		pop r2
 367 026a 0895      		ret
 368               	.L3:
 369 026c C501      		movw r24,r10
 370 026e 0E94 0000 		call free
 371 0272 8114      		cp r8,__zero_reg__
 372 0274 9104      		cpc r9,__zero_reg__
 373 0276 01F0      		breq .+2
 374 0278 00C0      		rjmp .L11
 375 027a 00C0      		rjmp .L2
 376               		.size	NutWinsNameQuery, .-NutWinsNameQuery
GAS LISTING C:\Temp/ccOEf121.s 			page 8


DEFINED SYMBOLS
                            *ABS*:00000000 wins.c
  C:\Temp/ccOEf121.s:2      *ABS*:0000003f __SREG__
  C:\Temp/ccOEf121.s:3      *ABS*:0000003e __SP_H__
  C:\Temp/ccOEf121.s:4      *ABS*:0000003d __SP_L__
  C:\Temp/ccOEf121.s:5      *ABS*:00000034 __CCP__
  C:\Temp/ccOEf121.s:6      *ABS*:00000000 __tmp_reg__
  C:\Temp/ccOEf121.s:7      *ABS*:00000001 __zero_reg__
  C:\Temp/ccOEf121.s:13     .text:00000000 NutWinsNameQuery

UNDEFINED SYMBOLS
__do_copy_data
__do_clear_bss
calloc
NutUdpCreateSocket
free
toupper
NutUdpReceiveFrom
strcmp
NutUdpSendTo
