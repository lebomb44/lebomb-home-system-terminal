<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Nut/OS: Event Management</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  <td id="projectlogo"><img alt="Logo" src="nutos_logo.png"/></td>
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Nut/OS
   &#160;<span id="projectnumber">4.10.3</span>
   </div>
   <div id="projectbrief">API Reference</div>
  </td>
  
  
  
   
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
   
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('group__xg_event.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Defines</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Event Management</div>  </div>
<div class="ingroups"><a class="el" href="group__xg_nut_o_s.html">Nut/OS API</a></div></div>
<div class="contents">

<p>Thread synchronization support.  
<a href="#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for Event Management:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group__xg_event.png" border="0" alt="" usemap="#group____xg__event"/>
<map name="group____xg__event" id="group____xg__event">
<area shape="rect" id="node1" href="group__xg_nut_o_s.html" title="Operating System API." alt="" coords="5,5,88,30"/></map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_event.html#ga65e5b23d1a8f35862480021738a7ecbc">SIGNALED</a>&#160;&#160;&#160;((void *)-1)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Signaled state definition.  <a href="#ga65e5b23d1a8f35862480021738a7ecbc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_event.html#gaee7b86caed1918238b71ffbff86e1eb7">NUT_WAIT_INFINITE</a>&#160;&#160;&#160;0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Infinite waiting time definition.  <a href="#gaee7b86caed1918238b71ffbff86e1eb7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_event.html#gac52b53066d7486072b4e1ace5b4c6f3b">NutEventPostFromIrq</a>(qp)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Post an event to a specified queue from interrupt context.  <a href="#gac52b53066d7486072b4e1ace5b4c6f3b"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_event.html#gaaa944c4484d068bdacd8220b7e081302">NutEventTimeout</a> (<a class="el" href="nut__types_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> timer, void *arg)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Timer callback in case of event timeout.  <a href="#gaaa944c4484d068bdacd8220b7e081302"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_event.html#ga79af18e0842286182af7c5b647526ce5">NutEventWait</a> (volatile <a class="el" href="nut__types_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> *qhp, <a class="el" href="stdint_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a> ms)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait for an event in a specified queue.  <a href="#ga79af18e0842286182af7c5b647526ce5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_event.html#gac836d5fc78018d8d079cc9d21a2383b9">NutEventWaitNext</a> (volatile <a class="el" href="nut__types_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> *qhp, <a class="el" href="stdint_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a> ms)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait for a new event in a specified queue.  <a href="#gac836d5fc78018d8d079cc9d21a2383b9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_event.html#ga129d2de44ddf083f252d0754fc45d9d3">NutEventPostAsync</a> (volatile <a class="el" href="nut__types_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> *qhp)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Asynchronously post an event to a specified queue.  <a href="#ga129d2de44ddf083f252d0754fc45d9d3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_event.html#gad519c6b1469621d2b3909fe58d1ac40b">NutEventPost</a> (volatile <a class="el" href="nut__types_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> *qhp)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Post an event to a specified queue.  <a href="#gad519c6b1469621d2b3909fe58d1ac40b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_event.html#ga21d9c3cc7ae2c9bddfb130b54b081076">NutEventBroadcastAsync</a> (volatile <a class="el" href="nut__types_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> *qhp)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Asynchronously broadcast an event to a specified queue.  <a href="#ga21d9c3cc7ae2c9bddfb130b54b081076"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_event.html#ga575628f89864beb575a161f10f3de62c">NutEventBroadcast</a> (volatile <a class="el" href="nut__types_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> *qhp)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Broadcast an event to a specified queue.  <a href="#ga575628f89864beb575a161f10f3de62c"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<p>Thread synchronization support. </p>
<p>Threads may wait for events from other threads or interrupts or may post or broadcast events to other threads.</p>
<p>Waiting threads line up in priority ordered queues, so more than one thread may wait for the same event. A waiting queue is a simple linked list of waiting threads.</p>
<p>Events are posted to a waiting queue, moving the <a class="el" href="group__xg_thread.html#xrThread">thread</a> from waiting (sleeping) state to ready-to-run state. A running thread may also broadcast an event to a specified queue, waking up all threads on that queue.</p>
<p>Usually a woken up thread takes over the CPU, if it's priority is equal or higher than the currently running thread. However, events can be posted asynchronously, in which case the posting thread continues to run.</p>
<p>Interrupt can also post events, but have to use the specific function <a class="el" href="group__xg_event.html#gac52b53066d7486072b4e1ace5b4c6f3b" title="Post an event to a specified queue from interrupt context.">NutEventPostFromIrq()</a>. </p>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="ga65e5b23d1a8f35862480021738a7ecbc"></a><!-- doxytag: member="event.h::SIGNALED" ref="ga65e5b23d1a8f35862480021738a7ecbc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SIGNALED&#160;&#160;&#160;((void *)-1)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Signaled state definition. </p>
<p>The root of an event queue is set to this value if an event is posted to an empty queue. As this may happen during interrupts, the root of an event queue must be considered volatile.</p>
<p>Timer handles in the THREADINFO structure are set to this value if a timeout occured while waiting for an event. </p>

<p>Definition at line <a class="el" href="event_8h_source.html#l00120">120</a> of file <a class="el" href="event_8h_source.html">event.h</a>.</p>

<p>Referenced by <a class="el" href="osdebug_8c_source.html#l00157">NutDumpThreadList()</a>, <a class="el" href="osdebug_8c_source.html#l00118">NutDumpThreadQueue()</a>, <a class="el" href="event_8c_source.html#l00486">NutEventBroadcastAsync()</a>, <a class="el" href="event_8c_source.html#l00384">NutEventPostAsync()</a>, <a class="el" href="event_8c_source.html#l00196">NutEventTimeout()</a>, <a class="el" href="event_8c_source.html#l00271">NutEventWait()</a>, <a class="el" href="event_8c_source.html#l00350">NutEventWaitNext()</a>, <a class="el" href="semaphore_8c_source.html#l00141">NutSemDestroy()</a>, <a class="el" href="thread_8c_source.html#l00287">NutThreadAddPriQueue()</a>, <a class="el" href="thread_8c_source.html#l00339">NutThreadRemoveQueue()</a>, <a class="el" href="thread_8c_source.html#l00380">NutThreadResume()</a>, <a class="el" href="twif_8c_source.html#l00535">TwMasterTransact()</a>, <a class="el" href="twif_8c_source.html#l00653">TwSlaveListen()</a>, and <a class="el" href="twif_8c_source.html#l00727">TwSlaveRespond()</a>.</p>

</div>
</div>
<a class="anchor" id="gaee7b86caed1918238b71ffbff86e1eb7"></a><!-- doxytag: member="event.h::NUT_WAIT_INFINITE" ref="gaee7b86caed1918238b71ffbff86e1eb7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NUT_WAIT_INFINITE&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Infinite waiting time definition. </p>
<p>Applications should use this value to disable timeout monitoring while waiting for an event. </p>

<p>Definition at line <a class="el" href="event_8h_source.html#l00128">128</a> of file <a class="el" href="event_8h_source.html">event.h</a>.</p>

<p>Referenced by <a class="el" href="spi__node__at45d_8c_source.html#l00080">At45dNodeLock()</a>, <a class="el" href="spi__node__at45d_8c_source.html#l00179">At45dNodeStatus()</a>, <a class="el" href="spibus0at91_8c_source.html#l00284">At91SpiBus0Deselect()</a>, <a class="el" href="spibus0at91_8c_source.html#l00350">At91SpiBus0Transfer()</a>, <a class="el" href="atcan_8c_source.html#l00578">AtCanOutput()</a>, <a class="el" href="spibus0_8c_source.html#l00329">Avr32SpiBus0Deselect()</a>, <a class="el" href="spibus0_8c_source.html#l00389">Avr32SpiBus0Transfer()</a>, <a class="el" href="spibus1_8c_source.html#l00311">Avr32SpiBus1Deselect()</a>, <a class="el" href="spibus1_8c_source.html#l00371">Avr32SpiBus1Transfer()</a>, <a class="el" href="spibus0avr_8c_source.html#l00477">AvrSpiBus0Deselect()</a>, <a class="el" href="spibus0avr_8c_source.html#l00255">AvrSpiBus0Transfer()</a>, <a class="el" href="sja1000_8c_source.html#l00576">CAN_Tx()</a>, <a class="el" href="cy2239x_8c_source.html#l00199">Cy2239xGetDivider()</a>, <a class="el" href="cy2239x_8c_source.html#l00506">Cy2239xGetFreq()</a>, <a class="el" href="cy2239x_8c_source.html#l00124">Cy2239xGetPll()</a>, <a class="el" href="cy2239x_8c_source.html#l00328">Cy2239xPllEnable()</a>, <a class="el" href="cy2239x_8c_source.html#l00383">Cy2239xPllGetFreq()</a>, <a class="el" href="cy2239x_8c_source.html#l00440">Cy2239xPllSetFreq()</a>, <a class="el" href="cy2239x_8c_source.html#l00262">Cy2239xSetDivider()</a>, <a class="el" href="cy2239x_8c_source.html#l00159">Cy2239xSetPll()</a>, <a class="el" href="ds1307rtc_8c_source.html#l00199">DS1307RamWrite()</a>, <a class="el" href="ds1307rtc_8c_source.html#l00089">DS1307RtcReadRegs()</a>, <a class="el" href="ds1307rtc_8c_source.html#l00110">DS1307RtcWrite()</a>, <a class="el" href="hxcodec_8c_source.html#l00266">FeederThread()</a>, <a class="el" href="condition_8c_source.html#l00129">NutConditionWait()</a>, <a class="el" href="dhcpc_8c_source.html#l01451">NutDhcpClient()</a>, <a class="el" href="mutex_8c_source.html#l00096">NutMutexLock()</a>, <a class="el" href="pcf8563_8c_source.html#l00083">PcfRtcReadRegs()</a>, <a class="el" href="pcf8563_8c_source.html#l00106">PcfRtcWrite()</a>, <a class="el" href="perci_8c_source.html#l00305">PerCiWrite()</a>, <a class="el" href="usartsc16is752_8c_source.html#l00374">Sc16is752UsartInterruptProcessing()</a>, <a class="el" href="upnp_8c_source.html#l00342">SSDPTask()</a>, <a class="el" href="keys_8c_source.html#l00166">sys_key()</a>, <a class="el" href="led_8c_source.html#l00165">sys_led()</a>, <a class="el" href="x12rtc_8c_source.html#l00469">X12EepromRead()</a>, <a class="el" href="x12rtc_8c_source.html#l00494">X12EepromWrite()</a>, <a class="el" href="x12rtc_8c_source.html#l00180">X12RtcReadRegs()</a>, and <a class="el" href="x12rtc_8c_source.html#l00213">X12RtcWrite()</a>.</p>

</div>
</div>
<a class="anchor" id="gac52b53066d7486072b4e1ace5b4c6f3b"></a><!-- doxytag: member="event.h::NutEventPostFromIrq" ref="gac52b53066d7486072b4e1ace5b4c6f3b" args="(qp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NutEventPostFromIrq</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">qp</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment">{                                   \
    if (*qp == 0) {                 \
        *qp = <a class="code" href="group__xg_event.html#ga65e5b23d1a8f35862480021738a7ecbc" title="Signaled state definition.">SIGNALED</a>;             \
    }                               \
    else <span class="keywordflow">if</span> (*qp != <a class="code" href="group__xg_event.html#ga65e5b23d1a8f35862480021738a7ecbc" title="Signaled state definition.">SIGNALED</a>) {     \
        NUTTHREADINFO *tp = (<a class="code" href="struct___n_u_t_t_h_r_e_a_d_i_n_f_o.html" title="Thread information structure.">NUTTHREADINFO</a> *)(*qp);    \
        tp-&gt;td_qpec++;              \
    }                               \
}
</pre></div>
<p>Post an event to a specified queue from interrupt context. </p>
<p>Wake up the thread with the highest priority waiting on the specified queue. This function is explicitly provided for IRQ handlers to wakeup waiting user threads.</p>
<p>Internally a counter is used to keep track of the posted events. This counter will be examined when the currently running thread is ready to release the CPU.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>When calling this function, interrupt routines will change the root of an empty event queue to SIGNALED.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">qp</td><td>Identifies the queue an event is posted to. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="event_8h_source.html#l00147">147</a> of file <a class="el" href="event_8h_source.html">event.h</a>.</p>

<p>Referenced by <a class="el" href="spibus0at91_8c_source.html#l00314">At91SpiBus0Interrupt()</a>, <a class="el" href="spibus0_8c_source.html#l00353">Avr32SpiBus0Interrupt()</a>, <a class="el" href="spibus1_8c_source.html#l00335">Avr32SpiBus1Interrupt()</a>, and <a class="el" href="irsony_8c_source.html#l00114">SIG_INTERRUPT4()</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="gaaa944c4484d068bdacd8220b7e081302"></a><!-- doxytag: member="event.c::NutEventTimeout" ref="gaaa944c4484d068bdacd8220b7e081302" args="(HANDLE timer, void *arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void NutEventTimeout </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="nut__types_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>&#160;</td>
          <td class="paramname"><em>timer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Timer callback in case of event timeout. </p>
<p>Applications should not call this function. It is provided as a global to enable debugging code inspecting the callbacks in the timer list.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">timer</td><td>Handle of the elapsed timeout timer. </td></tr>
    <tr><td class="paramname">arg</td><td>Handle of an event queue. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="event_8c_source.html#l00196">196</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>

<p>References <a class="el" href="nutdebug_8h_source.html#l00047">NUTASSERT</a>, <a class="el" href="arch_2arm_2atom_8h_source.html#l00136">NutEnterCritical</a>, <a class="el" href="arch_2arm_2atom_8h_source.html#l00147">NutExitCritical</a>, <a class="el" href="thread_8c_source.html#l00287">NutThreadAddPriQueue()</a>, <a class="el" href="thread_8c_source.html#l00273">runQueue</a>, <a class="el" href="event_8h_source.html#l00120">SIGNALED</a>, <a class="el" href="thread_8h_source.html#l00175">_NUTTHREADINFO::td_qnxt</a>, <a class="el" href="thread_8h_source.html#l00176">_NUTTHREADINFO::td_qpec</a>, <a class="el" href="thread_8h_source.html#l00178">_NUTTHREADINFO::td_state</a>, <a class="el" href="thread_8h_source.html#l00182">_NUTTHREADINFO::td_timer</a>, and <a class="el" href="thread_8h_source.html#l00200">TDS_READY</a>.</p>

<p>Referenced by <a class="el" href="osdebug_8c_source.html#l00208">NutDumpTimerList()</a>, and <a class="el" href="event_8c_source.html#l00271">NutEventWait()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__xg_event_gaaa944c4484d068bdacd8220b7e081302_cgraph.png" border="0" usemap="#group__xg_event_gaaa944c4484d068bdacd8220b7e081302_cgraph" alt=""/></div>
<map name="group__xg_event_gaaa944c4484d068bdacd8220b7e081302_cgraph" id="group__xg_event_gaaa944c4484d068bdacd8220b7e081302_cgraph">
<area shape="rect" id="node3" href="group__xg_thread.html#ga4d2458fb9ec9d926a6f87706b19e7e06" title="Add a thread to a prioritiy ordered queue." alt="" coords="171,5,325,30"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga79af18e0842286182af7c5b647526ce5"></a><!-- doxytag: member="event.c::NutEventWait" ref="ga79af18e0842286182af7c5b647526ce5" args="(volatile HANDLE *qhp, uint32_t ms)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NutEventWait </td>
          <td>(</td>
          <td class="paramtype">volatile <a class="el" href="nut__types_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> *&#160;</td>
          <td class="paramname"><em>qhp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a>&#160;</td>
          <td class="paramname"><em>ms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Wait for an event in a specified queue. </p>
<p>Give up the CPU until another thread or an interrupt routine posts an event to this queue or until a time-out occurs, whichever comes first.</p>
<p>If previously an event had been posted to this queue without any thread waiting, then the thread will not wait for a new event, but may still pass CPU control, if another thread with equal or higher priority is ready to run.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">qhp</td><td>Identifies the queue to wait on. </td></tr>
    <tr><td class="paramname">ms</td><td>Maximum wait time in milliseconds. To disable timeout, set this parameter to NUT_WAIT_INFINITE.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if event received, -1 on timeout.</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Timeout is limited to the granularity of the system timer. </dd></dl>

<p>Definition at line <a class="el" href="event_8c_source.html#l00271">271</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>

<p>References <a class="el" href="nutdebug_8h_source.html#l00047">NUTASSERT</a>, <a class="el" href="arch_2arm_2atom_8h_source.html#l00136">NutEnterCritical</a>, <a class="el" href="event_8c_source.html#l00196">NutEventTimeout()</a>, <a class="el" href="arch_2arm_2atom_8h_source.html#l00147">NutExitCritical</a>, <a class="el" href="thread_8c_source.html#l00287">NutThreadAddPriQueue()</a>, <a class="el" href="thread_8c_source.html#l00339">NutThreadRemoveQueue()</a>, <a class="el" href="thread_8c_source.html#l00380">NutThreadResume()</a>, <a class="el" href="thread_8c_source.html#l00466">NutThreadYield()</a>, <a class="el" href="timer_8c_source.html#l00602">NutTimerStart()</a>, <a class="el" href="thread_8c_source.html#l00246">runningThread</a>, <a class="el" href="thread_8c_source.html#l00273">runQueue</a>, <a class="el" href="event_8h_source.html#l00120">SIGNALED</a>, <a class="el" href="thread_8h_source.html#l00178">_NUTTHREADINFO::td_state</a>, <a class="el" href="thread_8h_source.html#l00182">_NUTTHREADINFO::td_timer</a>, <a class="el" href="thread_8h_source.html#l00201">TDS_SLEEP</a>, <a class="el" href="sys_2timer_8h_source.html#l00151">TM_ONESHOT</a>, <a class="el" href="tracer_8h_source.html#l00274">TRACE_ADD_ITEM</a>, and <a class="el" href="tracer_8h_source.html#l00079">TRACE_TAG_THREAD_WAIT</a>.</p>

<p>Referenced by <a class="el" href="at91__ahdlc_8c_source.html#l00981">AhdlcAt91Read()</a>, <a class="el" href="ahdlcavr_8c_source.html#l01335">AhdlcAvrRead()</a>, <a class="el" href="at91__ahdlc_8c_source.html#l00374">AhdlcRx()</a>, <a class="el" href="spi__node__at45d_8c_source.html#l00080">At45dNodeLock()</a>, <a class="el" href="spibus0at91_8c_source.html#l00233">At91SpiBus0Select()</a>, <a class="el" href="spibus0at91_8c_source.html#l00350">At91SpiBus0Transfer()</a>, <a class="el" href="at91__spi_8c_source.html#l00617">At91SpiTransfer2()</a>, <a class="el" href="atcan_8c_source.html#l00600">AtCanInput()</a>, <a class="el" href="atcan_8c_source.html#l00578">AtCanOutput()</a>, <a class="el" href="spibus0_8c_source.html#l00276">Avr32SpiBus0Select()</a>, <a class="el" href="spibus0_8c_source.html#l00389">Avr32SpiBus0Transfer()</a>, <a class="el" href="spibus1_8c_source.html#l00258">Avr32SpiBus1Select()</a>, <a class="el" href="spibus1_8c_source.html#l00371">Avr32SpiBus1Transfer()</a>, <a class="el" href="arch_2avr32_2dev_2spibus_8c_source.html#l00294">Avr32SpiBusWait()</a>, <a class="el" href="spibus0avr_8c_source.html#l00405">AvrSpiBus0Select()</a>, <a class="el" href="spibus0avr_8c_source.html#l00255">AvrSpiBus0Transfer()</a>, <a class="el" href="sja1000_8c_source.html#l00576">CAN_Tx()</a>, <a class="el" href="dm9000_8c_source.html#l00928">DmOutput()</a>, <a class="el" href="at91__emac_8c_source.html#l00875">EmacOutput()</a>, <a class="el" href="at91__emac_8c_source.html#l00787">EmacRxThread()</a>, <a class="el" href="fat_8c_source.html#l00433">FATLock()</a>, <a class="el" href="hxcodec_8c_source.html#l00266">FeederThread()</a>, <a class="el" href="spibus0gpio_8c_source.html#l00364">GpioSpiBus0Select()</a>, <a class="el" href="events_8c_source.html#l00080">High()</a>, <a class="el" href="ide_8c_source.html#l00227">IDELock()</a>, <a class="el" href="lanc111_8c_source.html#l01283">LancOutput()</a>, <a class="el" href="events_8c_source.html#l00101">Low()</a>, <a class="el" href="events_8c_source.html#l00121">main()</a>, <a class="el" href="mmcard_8c_source.html#l00968">MmCardIOCtl()</a>, <a class="el" href="nicrtl_8c_source.html#l01287">NicRx()</a>, <a class="el" href="ax88796_8c_source.html#l00792">NicRxAsix()</a>, <a class="el" href="lanc111_8c_source.html#l01210">NicRxLanc()</a>, <a class="el" href="spibus__npl_8c_source.html#l00150">NplSpiBusSelect()</a>, <a class="el" href="arpcache_8c_source.html#l00448">NutArpCacheQuery()</a>, <a class="el" href="condition_8c_source.html#l00166">NutConditionTimedWait()</a>, <a class="el" href="condition_8c_source.html#l00129">NutConditionWait()</a>, <a class="el" href="dhcpc_8c_source.html#l01451">NutDhcpClient()</a>, <a class="el" href="event_8c_source.html#l00350">NutEventWaitNext()</a>, <a class="el" href="ir_8c_source.html#l00066">NutIrGet()</a>, <a class="el" href="msg_8c_source.html#l00345">NutMsgQGetMessage()</a>, <a class="el" href="ifconfig_8c_source.html#l00311">NutNetIfConfig2()</a>, <a class="el" href="tcpsock_8c_source.html#l00762">NutTcpReceive()</a>, <a class="el" href="tcpsock_8c_source.html#l00692">NutTcpSend()</a>, <a class="el" href="tcpsm_8c_source.html#l01671">NutTcpSm()</a>, <a class="el" href="tcpsm_8c_source.html#l00847">NutTcpStateActiveOpenEvent()</a>, <a class="el" href="tcpsm_8c_source.html#l00803">NutTcpStatePassiveOpenEvent()</a>, <a class="el" href="udpsock_8c_source.html#l00282">NutUdpReceiveFrom()</a>, <a class="el" href="perci_8c_source.html#l00305">PerCiWrite()</a>, <a class="el" href="phatio_8c_source.html#l00169">PhatSectorLoad()</a>, <a class="el" href="wlandrv_8c_source.html#l01087">RxThread()</a>, <a class="el" href="usartsc16is752_8c_source.html#l00374">Sc16is752UsartInterruptProcessing()</a>, <a class="el" href="sja1000_8c_source.html#l00308">SJAInput()</a>, <a class="el" href="keys_8c_source.html#l00166">sys_key()</a>, <a class="el" href="led_8c_source.html#l00165">sys_led()</a>, <a class="el" href="timers_8c_source.html#l00088">TimerEvent1()</a>, <a class="el" href="timers_8c_source.html#l00100">TimerEvent2()</a>, <a class="el" href="timers_8c_source.html#l00112">TimerEvent3()</a>, <a class="el" href="timers_8c_source.html#l00124">TimerEvent4()</a>, <a class="el" href="tlv320dac_8c_source.html#l00419">Tlv320DacFlush()</a>, <a class="el" href="tlv320dac_8c_source.html#l00440">Tlv320DacWrite()</a>, <a class="el" href="at91__twi_8c_source.html#l00276">TwMasterRegRead()</a>, <a class="el" href="at91__twi_8c_source.html#l00350">TwMasterRegWrite()</a>, <a class="el" href="at91__twi_8c_source.html#l00180">TwMasterTransact()</a>, <a class="el" href="twif_8c_source.html#l00653">TwSlaveListen()</a>, <a class="el" href="twif_8c_source.html#l00727">TwSlaveRespond()</a>, <a class="el" href="uartavr_8c_source.html#l00260">UartAvrFlush()</a>, <a class="el" href="uartavr_8c_source.html#l00182">UartAvrInput()</a>, <a class="el" href="dev_2usart_8c_source.html#l00198">UsartRead()</a>, <a class="el" href="spi__vscodec_8c_source.html#l00746">VsCodecRead()</a>, <a class="el" href="spi__vscodec_8c_source.html#l00085">VsCodecWaitReady()</a>, and <a class="el" href="spi__vscodec_8c_source.html#l00809">VsCodecWrite()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__xg_event_ga79af18e0842286182af7c5b647526ce5_cgraph.png" border="0" usemap="#group__xg_event_ga79af18e0842286182af7c5b647526ce5_cgraph" alt=""/></div>
<map name="group__xg_event_ga79af18e0842286182af7c5b647526ce5_cgraph" id="group__xg_event_ga79af18e0842286182af7c5b647526ce5_cgraph">
<area shape="rect" id="node3" href="group__xg_event.html#gaaa944c4484d068bdacd8220b7e081302" title="Timer callback in case of event timeout." alt="" coords="150,6,266,31"/><area shape="rect" id="node5" href="group__xg_thread.html#ga4d2458fb9ec9d926a6f87706b19e7e06" title="Add a thread to a prioritiy ordered queue." alt="" coords="739,95,893,121"/><area shape="rect" id="node8" href="group__xg_thread.html#gae45ebad9f604755d5c5ba8adaf9e4f89" title="Remove a thread from a specified queue." alt="" coords="315,107,477,133"/><area shape="rect" id="node10" href="group__xg_thread.html#gaabfac60c4d51b57c2dc422d09a69df5b" title="Continue with the highest priority thread, which is ready to run." alt="" coords="332,209,460,234"/><area shape="rect" id="node26" href="group__xg_thread.html#ga075836f9a2596c5983b7ba88420afd11" title="Give up the CPU." alt="" coords="155,158,261,183"/><area shape="rect" id="node31" href="group__xg_timer.html#ga91b42f5fd833e1b72c27b3bfb0ed0af7" title="Start a system timer." alt="" coords="159,345,257,370"/><area shape="rect" id="node12" href="group__xg_event.html#ga129d2de44ddf083f252d0754fc45d9d3" title="Asynchronously post an event to a specified queue." alt="" coords="544,183,672,209"/><area shape="rect" id="node19" href="group__xg_timer.html#gaf719e88403b4ccc78f071ce5c85a5a71" title="Process elapsed timers." alt="" coords="525,282,691,307"/><area shape="rect" id="node24" href="group__xg_nut_arch_arm_os_context.html#gad63408e1c4ef1c03d9f979ad2d31b7e0" title="Switch to another thread." alt="" coords="550,233,666,258"/><area shape="rect" id="node14" href="group__xg_timer.html#gafb23f6965312663a72d41fefc574dc00" title="Stop a specified timer." alt="" coords="767,206,865,231"/><area shape="rect" id="node16" href="group__xg_timer.html#ga681ca3c989be2bdeb5f0cc97e11d6e06" title="Insert a new timer in the global timer list." alt="" coords="947,281,1051,306"/><area shape="rect" id="node21" href="group__xg_timer.html#ga940f66286dcf28b8280e41b605064446" title="Return the number of system timer ticks." alt="" coords="759,331,873,357"/><area shape="rect" id="node33" href="group__xg_timer.html#gaf104e0c3660b2a77bd0d7b00c4fd741c" title="Start a system timer." alt="" coords="333,345,459,370"/><area shape="rect" id="node39" href="group__xg_nut_arch_arm_os_timer_at91.html#gabb52a4e7f513a7c586898065e0a0c81a" title="Calculate system ticks for a given number of milliseconds." alt="" coords="324,419,468,445"/><area shape="rect" id="node35" href="group__xg_timer.html#ga1e47b683a996583386ebef7e7c92501e" title="Create a new system timer." alt="" coords="553,331,663,357"/><area shape="rect" id="node41" href="group__xg_nut_arch_arm_os_timer_at91.html#ga2724f52da15ed45123a32c1ed7e148f0" title="Return the number of system ticks per second." alt="" coords="551,433,665,458"/><area shape="rect" id="node43" href="group__xg_timer.html#ga784a7f52b5167c777149fd1d874c99f0" title="Return the CPU clock frequency." alt="" coords="759,433,873,458"/><area shape="rect" id="node45" href="group__xg_nut_arch_arm_os_timer_gba.html#ga7d11c53224db0028ad4838f8b9df9872" title="Return the CPU clock in Hertz." alt="" coords="941,433,1056,458"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gac836d5fc78018d8d079cc9d21a2383b9"></a><!-- doxytag: member="event.c::NutEventWaitNext" ref="gac836d5fc78018d8d079cc9d21a2383b9" args="(volatile HANDLE *qhp, uint32_t ms)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NutEventWaitNext </td>
          <td>(</td>
          <td class="paramtype">volatile <a class="el" href="nut__types_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> *&#160;</td>
          <td class="paramname"><em>qhp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a>&#160;</td>
          <td class="paramname"><em>ms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Wait for a new event in a specified queue. </p>
<p>Give up the CPU until another thread or an interrupt routine posts an event to this queue or until a time-out occurs, whichever comes first.</p>
<p>This call is similar to <a class="el" href="group__xg_event.html#ga79af18e0842286182af7c5b647526ce5" title="Wait for an event in a specified queue.">NutEventWait()</a>, but will ignore the SIGNALED state of the queue. This way, previously posted events to an empty queue are not considered.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">qhp</td><td>Identifies the queue to wait on. </td></tr>
    <tr><td class="paramname">ms</td><td>Maximum wait time in milliseconds. To disable timeout, set this parameter to NUT_WAIT_INFINITE.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if event received, -1 on timeout.</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Timeout is limited to the granularity of the system timer. </dd></dl>

<p>Definition at line <a class="el" href="event_8c_source.html#l00350">350</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>

<p>References <a class="el" href="nutdebug_8h_source.html#l00047">NUTASSERT</a>, <a class="el" href="arch_2arm_2atom_8h_source.html#l00136">NutEnterCritical</a>, <a class="el" href="event_8c_source.html#l00271">NutEventWait()</a>, <a class="el" href="arch_2arm_2atom_8h_source.html#l00147">NutExitCritical</a>, and <a class="el" href="event_8h_source.html#l00120">SIGNALED</a>.</p>

<p>Referenced by <a class="el" href="tlc16c550_8c_source.html#l00365">AceFlush()</a>, <a class="el" href="tlc16c550_8c_source.html#l00305">AceInput()</a>, <a class="el" href="ide_8c_source.html#l01120">CFChange()</a>, and <a class="el" href="mutex_8c_source.html#l00096">NutMutexLock()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__xg_event_gac836d5fc78018d8d079cc9d21a2383b9_cgraph.png" border="0" usemap="#group__xg_event_gac836d5fc78018d8d079cc9d21a2383b9_cgraph" alt=""/></div>
<map name="group__xg_event_gac836d5fc78018d8d079cc9d21a2383b9_cgraph" id="group__xg_event_gac836d5fc78018d8d079cc9d21a2383b9_cgraph">
<area shape="rect" id="node3" href="group__xg_event.html#ga79af18e0842286182af7c5b647526ce5" title="Wait for an event in a specified queue." alt="" coords="174,133,269,158"/><area shape="rect" id="node5" href="group__xg_thread.html#ga075836f9a2596c5983b7ba88420afd11" title="Give up the CPU." alt="" coords="323,158,429,183"/><area shape="rect" id="node7" href="group__xg_thread.html#gae45ebad9f604755d5c5ba8adaf9e4f89" title="Remove a thread from a specified queue." alt="" coords="483,107,645,133"/><area shape="rect" id="node9" href="group__xg_thread.html#ga4d2458fb9ec9d926a6f87706b19e7e06" title="Add a thread to a prioritiy ordered queue." alt="" coords="907,95,1061,121"/><area shape="rect" id="node11" href="group__xg_thread.html#gaabfac60c4d51b57c2dc422d09a69df5b" title="Continue with the highest priority thread, which is ready to run." alt="" coords="500,209,628,234"/><area shape="rect" id="node29" href="group__xg_timer.html#ga91b42f5fd833e1b72c27b3bfb0ed0af7" title="Start a system timer." alt="" coords="327,345,425,370"/><area shape="rect" id="node45" href="group__xg_event.html#gaaa944c4484d068bdacd8220b7e081302" title="Timer callback in case of event timeout." alt="" coords="318,6,434,31"/><area shape="rect" id="node13" href="group__xg_event.html#ga129d2de44ddf083f252d0754fc45d9d3" title="Asynchronously post an event to a specified queue." alt="" coords="712,183,840,209"/><area shape="rect" id="node20" href="group__xg_timer.html#gaf719e88403b4ccc78f071ce5c85a5a71" title="Process elapsed timers." alt="" coords="693,282,859,307"/><area shape="rect" id="node25" href="group__xg_nut_arch_arm_os_context.html#gad63408e1c4ef1c03d9f979ad2d31b7e0" title="Switch to another thread." alt="" coords="718,233,834,258"/><area shape="rect" id="node15" href="group__xg_timer.html#gafb23f6965312663a72d41fefc574dc00" title="Stop a specified timer." alt="" coords="935,206,1033,231"/><area shape="rect" id="node17" href="group__xg_timer.html#ga681ca3c989be2bdeb5f0cc97e11d6e06" title="Insert a new timer in the global timer list." alt="" coords="1115,281,1219,306"/><area shape="rect" id="node22" href="group__xg_timer.html#ga940f66286dcf28b8280e41b605064446" title="Return the number of system timer ticks." alt="" coords="927,331,1041,357"/><area shape="rect" id="node31" href="group__xg_timer.html#gaf104e0c3660b2a77bd0d7b00c4fd741c" title="Start a system timer." alt="" coords="501,345,627,370"/><area shape="rect" id="node37" href="group__xg_nut_arch_arm_os_timer_at91.html#gabb52a4e7f513a7c586898065e0a0c81a" title="Calculate system ticks for a given number of milliseconds." alt="" coords="492,419,636,445"/><area shape="rect" id="node33" href="group__xg_timer.html#ga1e47b683a996583386ebef7e7c92501e" title="Create a new system timer." alt="" coords="721,331,831,357"/><area shape="rect" id="node39" href="group__xg_nut_arch_arm_os_timer_at91.html#ga2724f52da15ed45123a32c1ed7e148f0" title="Return the number of system ticks per second." alt="" coords="719,433,833,458"/><area shape="rect" id="node41" href="group__xg_timer.html#ga784a7f52b5167c777149fd1d874c99f0" title="Return the CPU clock frequency." alt="" coords="927,433,1041,458"/><area shape="rect" id="node43" href="group__xg_nut_arch_arm_os_timer_gba.html#ga7d11c53224db0028ad4838f8b9df9872" title="Return the CPU clock in Hertz." alt="" coords="1109,433,1224,458"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga129d2de44ddf083f252d0754fc45d9d3"></a><!-- doxytag: member="event.c::NutEventPostAsync" ref="ga129d2de44ddf083f252d0754fc45d9d3" args="(volatile HANDLE *qhp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NutEventPostAsync </td>
          <td>(</td>
          <td class="paramtype">volatile <a class="el" href="nut__types_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> *&#160;</td>
          <td class="paramname"><em>qhp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Asynchronously post an event to a specified queue. </p>
<p>Wake up the thread with the highest priority waiting on the specified queue. But even if the priority of the woken thread is higher than the current thread's priority, the current one continues running.</p>
<p>If no thread is waiting, then the queue will be set to the SIGNALED state.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Interrupts must not call this function but use <a class="el" href="group__xg_event.html#gac52b53066d7486072b4e1ace5b4c6f3b" title="Post an event to a specified queue from interrupt context.">NutEventPostFromIrq()</a> to post events to specific queues.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">qhp</td><td>Identifies the queue an event is posted to.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The number of threads woken up, either 0 or 1. </dd></dl>

<p>Definition at line <a class="el" href="event_8c_source.html#l00384">384</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>

<p>References <a class="el" href="nutdebug_8h_source.html#l00047">NUTASSERT</a>, <a class="el" href="arch_2arm_2atom_8h_source.html#l00136">NutEnterCritical</a>, <a class="el" href="arch_2arm_2atom_8h_source.html#l00147">NutExitCritical</a>, <a class="el" href="thread_8c_source.html#l00287">NutThreadAddPriQueue()</a>, <a class="el" href="timer_8c_source.html#l00665">NutTimerStop()</a>, <a class="el" href="thread_8c_source.html#l00273">runQueue</a>, <a class="el" href="event_8h_source.html#l00120">SIGNALED</a>, <a class="el" href="thread_8h_source.html#l00175">_NUTTHREADINFO::td_qnxt</a>, <a class="el" href="thread_8h_source.html#l00176">_NUTTHREADINFO::td_qpec</a>, <a class="el" href="thread_8h_source.html#l00178">_NUTTHREADINFO::td_state</a>, <a class="el" href="thread_8h_source.html#l00182">_NUTTHREADINFO::td_timer</a>, and <a class="el" href="thread_8h_source.html#l00200">TDS_READY</a>.</p>

<p>Referenced by <a class="el" href="tlc16c550_8c_source.html#l00484">AceIOCtl()</a>, <a class="el" href="keys_8c_source.html#l00155">KeyTimerCb()</a>, <a class="el" href="event_8c_source.html#l00486">NutEventBroadcastAsync()</a>, <a class="el" href="event_8c_source.html#l00454">NutEventPost()</a>, <a class="el" href="msg_8c_source.html#l00345">NutMsgQGetMessage()</a>, <a class="el" href="msg_8c_source.html#l00157">NutMsgQPost()</a>, <a class="el" href="thread_8c_source.html#l00380">NutThreadResume()</a>, <a class="el" href="phatio_8c_source.html#l00169">PhatSectorLoad()</a>, <a class="el" href="sja1000_8c_source.html#l00284">SJAOutput()</a>, and <a class="el" href="timers_8c_source.html#l00083">TimerCallback()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__xg_event_ga129d2de44ddf083f252d0754fc45d9d3_cgraph.png" border="0" usemap="#group__xg_event_ga129d2de44ddf083f252d0754fc45d9d3_cgraph" alt=""/></div>
<map name="group__xg_event_ga129d2de44ddf083f252d0754fc45d9d3_cgraph" id="group__xg_event_ga129d2de44ddf083f252d0754fc45d9d3_cgraph">
<area shape="rect" id="node3" href="group__xg_thread.html#ga4d2458fb9ec9d926a6f87706b19e7e06" title="Add a thread to a prioritiy ordered queue." alt="" coords="182,5,335,30"/><area shape="rect" id="node5" href="group__xg_timer.html#gafb23f6965312663a72d41fefc574dc00" title="Stop a specified timer." alt="" coords="209,54,308,79"/><area shape="rect" id="node7" href="group__xg_timer.html#ga681ca3c989be2bdeb5f0cc97e11d6e06" title="Insert a new timer in the global timer list." alt="" coords="384,54,488,79"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gad519c6b1469621d2b3909fe58d1ac40b"></a><!-- doxytag: member="event.c::NutEventPost" ref="gad519c6b1469621d2b3909fe58d1ac40b" args="(volatile HANDLE *qhp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NutEventPost </td>
          <td>(</td>
          <td class="paramtype">volatile <a class="el" href="nut__types_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> *&#160;</td>
          <td class="paramname"><em>qhp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Post an event to a specified queue. </p>
<p>Wake up the thread with the highest priority waiting on this queue. If the priority of the waiting thread is higher or equal than the current thread's priority, then the current thread is stopped and CPU control is passed to the waiting thread.</p>
<p>If no thread is waiting, the queue will be set to the signaled state.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Interrupts must not call this function but use <a class="el" href="group__xg_event.html#gac52b53066d7486072b4e1ace5b4c6f3b" title="Post an event to a specified queue from interrupt context.">NutEventPostFromIrq()</a> to post events to specific queues.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">qhp</td><td>Identifies the queue an event is posted to.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The number of threads woken up, either 0 or 1. </dd></dl>

<p>Definition at line <a class="el" href="event_8c_source.html#l00454">454</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>

<p>References <a class="el" href="event_8c_source.html#l00384">NutEventPostAsync()</a>, and <a class="el" href="thread_8c_source.html#l00466">NutThreadYield()</a>.</p>

<p>Referenced by <a class="el" href="at91__ahdlc_8c_source.html#l00730">AhdlcAt91IOCtl()</a>, <a class="el" href="ahdlcavr_8c_source.html#l00941">AhdlcAvrIOCtl()</a>, <a class="el" href="spi__node__at45d_8c_source.html#l00087">At45dNodeUnlock()</a>, <a class="el" href="spibus0at91_8c_source.html#l00284">At91SpiBus0Deselect()</a>, <a class="el" href="spibus0at91_8c_source.html#l00233">At91SpiBus0Select()</a>, <a class="el" href="spibus0_8c_source.html#l00329">Avr32SpiBus0Deselect()</a>, <a class="el" href="spibus0_8c_source.html#l00276">Avr32SpiBus0Select()</a>, <a class="el" href="spibus1_8c_source.html#l00311">Avr32SpiBus1Deselect()</a>, <a class="el" href="spibus1_8c_source.html#l00258">Avr32SpiBus1Select()</a>, <a class="el" href="spibus0avr_8c_source.html#l00477">AvrSpiBus0Deselect()</a>, <a class="el" href="spibus0avr_8c_source.html#l00405">AvrSpiBus0Select()</a>, <a class="el" href="dm9000_8c_source.html#l00928">DmOutput()</a>, <a class="el" href="at91__emac_8c_source.html#l00875">EmacOutput()</a>, <a class="el" href="at91__emac_8c_source.html#l00787">EmacRxThread()</a>, <a class="el" href="fat_8c_source.html#l00441">FATFree()</a>, <a class="el" href="fat_8c_source.html#l00449">FATSemaInit()</a>, <a class="el" href="hxcodec_8c_source.html#l00266">FeederThread()</a>, <a class="el" href="spibus0gpio_8c_source.html#l00411">GpioSpiBus0Deselect()</a>, <a class="el" href="spibus0gpio_8c_source.html#l00364">GpioSpiBus0Select()</a>, <a class="el" href="events_8c_source.html#l00080">High()</a>, <a class="el" href="ide_8c_source.html#l00235">IDEFree()</a>, <a class="el" href="ide_8c_source.html#l00243">IDESemaInit()</a>, <a class="el" href="pppsm_8c_source.html#l00434">IpcpClose()</a>, <a class="el" href="pppsm_8c_source.html#l00511">IpcpLowerDown()</a>, <a class="el" href="ipcpin_8c_source.html#l00258">IpcpRxConfAck()</a>, <a class="el" href="ipcpin_8c_source.html#l00104">IpcpRxConfReq()</a>, <a class="el" href="lanc111_8c_source.html#l01283">LancOutput()</a>, <a class="el" href="events_8c_source.html#l00101">Low()</a>, <a class="el" href="events_8c_source.html#l00121">main()</a>, <a class="el" href="mmcard_8c_source.html#l00968">MmCardIOCtl()</a>, <a class="el" href="lanc111_8c_source.html#l01210">NicRxLanc()</a>, <a class="el" href="spibus__npl_8c_source.html#l00186">NplSpiBusDeselect()</a>, <a class="el" href="spibus__npl_8c_source.html#l00150">NplSpiBusSelect()</a>, <a class="el" href="condition_8c_source.html#l00192">NutConditionSignal()</a>, <a class="el" href="mutex_8c_source.html#l00130">NutMutexUnlock()</a>, <a class="el" href="dev_2spibus_8c_source.html#l00072">NutRegisterSpiDevice()</a>, <a class="el" href="semaphore_8c_source.html#l00109">NutSemPost()</a>, <a class="el" href="tcpsm_8c_source.html#l01786">NutTcpStateMachine()</a>, <a class="el" href="udpin_8c_source.html#l00158">NutUdpInput()</a>, <a class="el" href="udpsock_8c_source.html#l00530">NutUdpSetSocketError()</a>, <a class="el" href="perci_8c_source.html#l00202">PerCiOpen()</a>, <a class="el" href="perci_8c_source.html#l00305">PerCiWrite()</a>, <a class="el" href="phatvol_8c_source.html#l00186">PhatVolMount()</a>, <a class="el" href="rawfs_8c_source.html#l00529">RawFsMount()</a>, <a class="el" href="keys_8c_source.html#l00166">sys_key()</a>, <a class="el" href="at91__twi_8c_source.html#l00508">TwInit()</a>, <a class="el" href="at91__twi_8c_source.html#l00276">TwMasterRegRead()</a>, <a class="el" href="at91__twi_8c_source.html#l00350">TwMasterRegWrite()</a>, <a class="el" href="at91__twi_8c_source.html#l00180">TwMasterTransact()</a>, <a class="el" href="uflashfs_8c_source.html#l01842">UFlashAttach()</a>, <a class="el" href="uflashfs_8c_source.html#l01905">UFlashFormat()</a>, <a class="el" href="spi__vscodec_8c_source.html#l00577">VsCodecIOCtl()</a>, <a class="el" href="spi__vscodec_8c_source.html#l00746">VsCodecRead()</a>, <a class="el" href="spi__vscodec_8c_source.html#l00809">VsCodecWrite()</a>, and <a class="el" href="wlandrv_8c_source.html#l01434">wlandrv_Attach()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__xg_event_gad519c6b1469621d2b3909fe58d1ac40b_cgraph.png" border="0" usemap="#group__xg_event_gad519c6b1469621d2b3909fe58d1ac40b_cgraph" alt=""/></div>
<map name="group__xg_event_gad519c6b1469621d2b3909fe58d1ac40b_cgraph" id="group__xg_event_gad519c6b1469621d2b3909fe58d1ac40b_cgraph">
<area shape="rect" id="node3" href="group__xg_event.html#ga129d2de44ddf083f252d0754fc45d9d3" title="Asynchronously post an event to a specified queue." alt="" coords="533,5,661,30"/><area shape="rect" id="node11" href="group__xg_thread.html#ga075836f9a2596c5983b7ba88420afd11" title="Give up the CPU." alt="" coords="149,81,256,106"/><area shape="rect" id="node5" href="group__xg_timer.html#gafb23f6965312663a72d41fefc574dc00" title="Stop a specified timer." alt="" coords="756,5,855,30"/><area shape="rect" id="node9" href="group__xg_thread.html#ga4d2458fb9ec9d926a6f87706b19e7e06" title="Add a thread to a prioritiy ordered queue." alt="" coords="729,54,882,79"/><area shape="rect" id="node7" href="group__xg_timer.html#ga681ca3c989be2bdeb5f0cc97e11d6e06" title="Insert a new timer in the global timer list." alt="" coords="931,55,1035,81"/><area shape="rect" id="node13" href="group__xg_thread.html#gae45ebad9f604755d5c5ba8adaf9e4f89" title="Remove a thread from a specified queue." alt="" coords="304,155,467,181"/><area shape="rect" id="node16" href="group__xg_thread.html#gaabfac60c4d51b57c2dc422d09a69df5b" title="Continue with the highest priority thread, which is ready to run." alt="" coords="321,106,449,131"/><area shape="rect" id="node19" href="group__xg_timer.html#gaf719e88403b4ccc78f071ce5c85a5a71" title="Process elapsed timers." alt="" coords="515,106,680,131"/><area shape="rect" id="node24" href="group__xg_nut_arch_arm_os_context.html#gad63408e1c4ef1c03d9f979ad2d31b7e0" title="Switch to another thread." alt="" coords="539,155,655,181"/><area shape="rect" id="node21" href="group__xg_timer.html#ga940f66286dcf28b8280e41b605064446" title="Return the number of system timer ticks." alt="" coords="748,155,863,181"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga21d9c3cc7ae2c9bddfb130b54b081076"></a><!-- doxytag: member="event.c::NutEventBroadcastAsync" ref="ga21d9c3cc7ae2c9bddfb130b54b081076" args="(volatile HANDLE *qhp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NutEventBroadcastAsync </td>
          <td>(</td>
          <td class="paramtype">volatile <a class="el" href="nut__types_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> *&#160;</td>
          <td class="paramname"><em>qhp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Asynchronously broadcast an event to a specified queue. </p>
<p>Wake up all threads waiting on this queue. But even if the priority of any woken thread is higher than the current thread's priority, the current one continues running.</p>
<p>In opposite to <a class="el" href="group__xg_event.html#ga129d2de44ddf083f252d0754fc45d9d3" title="Asynchronously post an event to a specified queue.">NutEventPostAsync()</a>, the queue will be cleared in any case, even if it is in signaled state. Applications may use this call to make sure, that a queue is cleared before initiating some event triggering action.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">qhp</td><td>Identifies the queue an event is broadcasted to.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The number of threads woken up. </dd></dl>

<p>Definition at line <a class="el" href="event_8c_source.html#l00486">486</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>

<p>References <a class="el" href="nutdebug_8h_source.html#l00047">NUTASSERT</a>, <a class="el" href="arch_2arm_2atom_8h_source.html#l00136">NutEnterCritical</a>, <a class="el" href="event_8c_source.html#l00384">NutEventPostAsync()</a>, <a class="el" href="arch_2arm_2atom_8h_source.html#l00147">NutExitCritical</a>, and <a class="el" href="event_8h_source.html#l00120">SIGNALED</a>.</p>

<p>Referenced by <a class="el" href="event_8c_source.html#l00533">NutEventBroadcast()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__xg_event_ga21d9c3cc7ae2c9bddfb130b54b081076_cgraph.png" border="0" usemap="#group__xg_event_ga21d9c3cc7ae2c9bddfb130b54b081076_cgraph" alt=""/></div>
<map name="group__xg_event_ga21d9c3cc7ae2c9bddfb130b54b081076_cgraph" id="group__xg_event_ga21d9c3cc7ae2c9bddfb130b54b081076_cgraph">
<area shape="rect" id="node3" href="group__xg_event.html#ga129d2de44ddf083f252d0754fc45d9d3" title="Asynchronously post an event to a specified queue." alt="" coords="213,30,341,55"/><area shape="rect" id="node5" href="group__xg_timer.html#gafb23f6965312663a72d41fefc574dc00" title="Stop a specified timer." alt="" coords="417,5,516,30"/><area shape="rect" id="node9" href="group__xg_thread.html#ga4d2458fb9ec9d926a6f87706b19e7e06" title="Add a thread to a prioritiy ordered queue." alt="" coords="390,54,543,79"/><area shape="rect" id="node7" href="group__xg_timer.html#ga681ca3c989be2bdeb5f0cc97e11d6e06" title="Insert a new timer in the global timer list." alt="" coords="592,5,696,30"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga575628f89864beb575a161f10f3de62c"></a><!-- doxytag: member="event.c::NutEventBroadcast" ref="ga575628f89864beb575a161f10f3de62c" args="(volatile HANDLE *qhp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NutEventBroadcast </td>
          <td>(</td>
          <td class="paramtype">volatile <a class="el" href="nut__types_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> *&#160;</td>
          <td class="paramname"><em>qhp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Broadcast an event to a specified queue. </p>
<p>Wake up all threads waiting on this queue. If the priority of any waiting thread is higher or equal than the current thread's priority, then the current thread is stopped and CPU control is passed to the woken up thread with the highest priority.</p>
<p>In opposite to <a class="el" href="group__xg_event.html#gad519c6b1469621d2b3909fe58d1ac40b" title="Post an event to a specified queue.">NutEventPost()</a>, the queue will be cleared in any case, even if it is in signaled state. Applications may use this call to make sure, that a queue is cleared before initiating some event triggering action.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">qhp</td><td>Identifies the queue an event is broadcasted to.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The number of threads woken up. </dd></dl>

<p>Definition at line <a class="el" href="event_8c_source.html#l00533">533</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>

<p>References <a class="el" href="event_8c_source.html#l00486">NutEventBroadcastAsync()</a>, and <a class="el" href="thread_8c_source.html#l00466">NutThreadYield()</a>.</p>

<p>Referenced by <a class="el" href="arpcache_8c_source.html#l00393">NutArpCacheUpdate()</a>, <a class="el" href="condition_8c_source.html#l00210">NutConditionBroadcast()</a>, <a class="el" href="dhcpc_8c_source.html#l01451">NutDhcpClient()</a>, <a class="el" href="ifconfig_8c_source.html#l00311">NutNetIfConfig2()</a>, <a class="el" href="tcpsm_8c_source.html#l01849">NutTcpAbortSocket()</a>, and <a class="el" href="dev_2usart_8c_source.html#l00525">UsartClose()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__xg_event_ga575628f89864beb575a161f10f3de62c_cgraph.png" border="0" usemap="#group__xg_event_ga575628f89864beb575a161f10f3de62c_cgraph" alt=""/></div>
<map name="group__xg_event_ga575628f89864beb575a161f10f3de62c_cgraph" id="group__xg_event_ga575628f89864beb575a161f10f3de62c_cgraph">
<area shape="rect" id="node3" href="group__xg_event.html#ga21d9c3cc7ae2c9bddfb130b54b081076" title="Asynchronously broadcast an event to a specified queue." alt="" coords="182,18,341,43"/><area shape="rect" id="node13" href="group__xg_thread.html#ga075836f9a2596c5983b7ba88420afd11" title="Give up the CPU." alt="" coords="208,93,315,118"/><area shape="rect" id="node5" href="group__xg_event.html#ga129d2de44ddf083f252d0754fc45d9d3" title="Asynchronously post an event to a specified queue." alt="" coords="619,5,747,30"/><area shape="rect" id="node7" href="group__xg_timer.html#gafb23f6965312663a72d41fefc574dc00" title="Stop a specified timer." alt="" coords="841,5,940,30"/><area shape="rect" id="node11" href="group__xg_thread.html#ga4d2458fb9ec9d926a6f87706b19e7e06" title="Add a thread to a prioritiy ordered queue." alt="" coords="814,54,967,79"/><area shape="rect" id="node9" href="group__xg_timer.html#ga681ca3c989be2bdeb5f0cc97e11d6e06" title="Insert a new timer in the global timer list." alt="" coords="1016,55,1120,81"/><area shape="rect" id="node15" href="group__xg_thread.html#gae45ebad9f604755d5c5ba8adaf9e4f89" title="Remove a thread from a specified queue." alt="" coords="389,155,552,181"/><area shape="rect" id="node18" href="group__xg_thread.html#gaabfac60c4d51b57c2dc422d09a69df5b" title="Continue with the highest priority thread, which is ready to run." alt="" coords="407,106,535,131"/><area shape="rect" id="node21" href="group__xg_timer.html#gaf719e88403b4ccc78f071ce5c85a5a71" title="Process elapsed timers." alt="" coords="600,106,765,131"/><area shape="rect" id="node26" href="group__xg_nut_arch_arm_os_context.html#gad63408e1c4ef1c03d9f979ad2d31b7e0" title="Switch to another thread." alt="" coords="625,155,741,181"/><area shape="rect" id="node23" href="group__xg_timer.html#ga940f66286dcf28b8280e41b605064446" title="Return the number of system timer ticks." alt="" coords="833,155,948,181"/></map>
</div>
</p>

</div>
</div>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr>
<address>
  <small>
    &copy;&nbsp;2000-2010 by contributors - 
    visit <a href="http://www.ethernut.de/">http://www.ethernut.de/</a>
  </small>
</address>
</body>
</html>
