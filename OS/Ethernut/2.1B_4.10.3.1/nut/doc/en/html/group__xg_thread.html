<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Nut/OS: Thread Management</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  <td id="projectlogo"><img alt="Logo" src="nutos_logo.png"/></td>
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Nut/OS
   &#160;<span id="projectnumber">4.10.3</span>
   </div>
   <div id="projectbrief">API Reference</div>
  </td>
  
  
  
   
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
   
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('group__xg_thread.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">Thread Management</div>  </div>
<div class="ingroups"><a class="el" href="group__xg_nut_o_s.html">Nut/OS API</a></div></div>
<div class="contents">

<p>Cooperative multi-threading support.  
<a href="#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for Thread Management:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group__xg_thread.png" border="0" alt="" usemap="#group____xg__thread"/>
<map name="group____xg__thread" id="group____xg__thread">
<area shape="rect" id="node1" href="group__xg_nut_o_s.html" title="Operating System API." alt="" coords="5,5,88,30"/></map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct___n_u_t_t_h_r_e_a_d_i_n_f_o.html">_NUTTHREADINFO</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Thread information structure.  <a href="struct___n_u_t_t_h_r_e_a_d_i_n_f_o.html#details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct___n_u_t_t_h_r_e_a_d_i_n_f_o.html">_NUTTHREADINFO</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_thread.html#ga7c788ee493e6bfa15026a20391a16f98">NUTTHREADINFO</a></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_thread.html#ga4d2458fb9ec9d926a6f87706b19e7e06">NutThreadAddPriQueue</a> (<a class="el" href="group__xg_thread.html#ga7c788ee493e6bfa15026a20391a16f98">NUTTHREADINFO</a> *td, <a class="el" href="group__xg_thread.html#ga7c788ee493e6bfa15026a20391a16f98">NUTTHREADINFO</a> *volatile *tqpp)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a thread to a prioritiy ordered queue.  <a href="#ga4d2458fb9ec9d926a6f87706b19e7e06"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_thread.html#gae45ebad9f604755d5c5ba8adaf9e4f89">NutThreadRemoveQueue</a> (<a class="el" href="group__xg_thread.html#ga7c788ee493e6bfa15026a20391a16f98">NUTTHREADINFO</a> *td, <a class="el" href="group__xg_thread.html#ga7c788ee493e6bfa15026a20391a16f98">NUTTHREADINFO</a> *volatile *tqpp)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a thread from a specified queue.  <a href="#gae45ebad9f604755d5c5ba8adaf9e4f89"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_thread.html#gaabfac60c4d51b57c2dc422d09a69df5b">NutThreadResume</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Continue with the highest priority thread, which is ready to run.  <a href="#gaabfac60c4d51b57c2dc422d09a69df5b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_thread.html#ga8730ce8319ffcb5e14a413458125e41a">NutThreadWake</a> (<a class="el" href="nut__types_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> timer, <a class="el" href="nut__types_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> th)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Resume a previously suspended thread.  <a href="#ga8730ce8319ffcb5e14a413458125e41a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_thread.html#ga075836f9a2596c5983b7ba88420afd11">NutThreadYield</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Give up the CPU.  <a href="#ga075836f9a2596c5983b7ba88420afd11"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_thread.html#ga8ebe134e9c404072584e80fb8d7e8985">NutThreadSetPriority</a> (<a class="el" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> level)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the current thread's priority.  <a href="#ga8ebe134e9c404072584e80fb8d7e8985"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_thread.html#gad86d73178ce22d0a32ae83ec775c4722">NutThreadExit</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">End the current thread.  <a href="#gad86d73178ce22d0a32ae83ec775c4722"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_thread.html#gaba085dddcb4bf80a0b246bd06618d740">NutThreadDestroy</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Free a thread that was previously killed and release memory back to the OS.  <a href="#gaba085dddcb4bf80a0b246bd06618d740"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_thread.html#gaf8e9b69ee0082bcdb00fd6cdb68f4136">NutThreadKill</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Kill the running thread.  <a href="#gaf8e9b69ee0082bcdb00fd6cdb68f4136"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="nut__types_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_thread.html#ga175aed2a498e36845b8cbfdd99731f75">GetThreadByName</a> (char *name)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Query handle of a thread with a specific name.  <a href="#ga175aed2a498e36845b8cbfdd99731f75"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__xg_thread.html#ga7c788ee493e6bfa15026a20391a16f98">NUTTHREADINFO</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_thread.html#ga1308a2cb119d012de42abc74121c5b06">runningThread</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Currently running thread.  <a href="#ga1308a2cb119d012de42abc74121c5b06"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__xg_thread.html#ga7c788ee493e6bfa15026a20391a16f98">NUTTHREADINFO</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_thread.html#gaac039e42bf2cb431a4bbce9fe50c577b">killedThread</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Thread to be killed.  <a href="#gaac039e42bf2cb431a4bbce9fe50c577b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__xg_thread.html#ga7c788ee493e6bfa15026a20391a16f98">NUTTHREADINFO</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_thread.html#ga4795eff325a697d9e5d1cddaf81a251e">nutThreadList</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">List of all created threads.  <a href="#ga4795eff325a697d9e5d1cddaf81a251e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__xg_thread.html#ga7c788ee493e6bfa15026a20391a16f98">NUTTHREADINFO</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_thread.html#gac3d0eb03ee830f18f4b8e2c7deaaa4f1">runQueue</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">List of ready-to-run threads.  <a href="#gac3d0eb03ee830f18f4b8e2c7deaaa4f1"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<p>Cooperative multi-threading support. </p>
<p><a class="anchor" id="xrThread"></a> Typically Nut/OS is at its most useful where there are several concurrent tasks that need to be undertaken at the same time. To support this requirement, Nut/OS offers some kind of light processes called threads. In this context a thread is a sequence of executing software that can be considered to be logically independent from other software that is running on the same CPU.</p>
<p>All threads are executing in the same address space using the same hardware resources, which significantly reduces task switching overhead. Therefore it is important to stop them from causing each other problems. This is particularly an issue where two or more threads need to share a resources like memory locations or peripheral devices.</p>
<p>The system works on the principle that the most urgent thread always runs. One exception to this is if a CPU interrupt arrives and the interrupt has not been disabled. Each thread has a priority which is used to determine how urgent it is. This priority ranges from 0 to 255, with the lowest value indicating the most urgent.</p>
<p>Nut/OS implements cooperative multithreading. That means, that threads are not bound to a fixed timeslice. Unless they are waiting for specific event or explicitely yielding the CPU, they can rely on not being stopped unexpectedly. However, they may be interrupted by hardware interrupt signals. In opposite to pre-emptive multithreading, coorperative multithreading simplifies resource sharing and results in faster and smaller code.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd>Using the special priority 255 to kill a thread is not required and should be removed.</dd></dl>
<p>To specify a function named Back as an independant thread, one can write </p>
<div class="fragment"><pre class="fragment"><span class="preprocessor"> #include &lt;<a class="code" href="thread_8h.html" title="Thread management definitions.">sys/thread.h</a>&gt;</span>

 <a class="code" href="thread_8h.html#a9e196c330bbf6578b06f412df8d19f4c" title="Macro for thread entry definitions.">THREAD</a>(Back, arg)
 {
     <span class="keywordflow">for</span> (;;) {
         <a class="code" href="group__xg_timer.html#gafefcf81d05019a8134b49fa44d8c114a" title="Temporarily suspends the current thread.">NutSleep</a>(1000);
     }
 } 
</pre></div><p>To start this thread, use </p>
<div class="fragment"><pre class="fragment"><span class="preprocessor"> #include &lt;<a class="code" href="thread_8h.html" title="Thread management definitions.">sys/thread.h</a>&gt;</span>

 <span class="comment">/* Other code here... */</span>

 <a class="code" href="group__xg_nut_arch_arm_os_context.html#ga8357f2631f0c0a9444844e5ea64be50d" title="Create a new thread.">NutThreadCreate</a>(<span class="stringliteral">&quot;Bg&quot;</span>, Back, NULL, 512);
 <span class="comment">/* Execution continues here and concurrently in the background thread.</span>
</pre></div><p>The functions listed below are hardware independant. Additional API calls are located in the architecture dependant sections.</p>
<ul>
<li><a class="el" href="group__xg_nut_arch_avr_os_context_gcc.html">AVR with GNU Compiler</a></li>
<li><a class="el" href="group__xg_nut_arch_avr_os_context_gcc.html">AVR with ImageCraft Compiler</a></li>
<li><a class="el" href="group__xg_nut_arch_arm_os_context.html">ARM</a></li>
<li><a class="el" href="group__xg_nut_arch_unix_os_context.html">Emulator (UNIX)</a> </li>
</ul>
<hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="ga7c788ee493e6bfa15026a20391a16f98"></a><!-- doxytag: member="thread.h::NUTTHREADINFO" ref="ga7c788ee493e6bfa15026a20391a16f98" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct___n_u_t_t_h_r_e_a_d_i_n_f_o.html">_NUTTHREADINFO</a> <a class="el" href="group__xg_thread.html#ga7c788ee493e6bfa15026a20391a16f98">NUTTHREADINFO</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Thread information structure type. </p>

<p>Definition at line <a class="el" href="thread_8h_source.html#l00164">164</a> of file <a class="el" href="thread_8h_source.html">thread.h</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga4d2458fb9ec9d926a6f87706b19e7e06"></a><!-- doxytag: member="thread.c::NutThreadAddPriQueue" ref="ga4d2458fb9ec9d926a6f87706b19e7e06" args="(NUTTHREADINFO *td, NUTTHREADINFO *volatile *tqpp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void NutThreadAddPriQueue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__xg_thread.html#ga7c788ee493e6bfa15026a20391a16f98">NUTTHREADINFO</a> *&#160;</td>
          <td class="paramname"><em>td</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__xg_thread.html#ga7c788ee493e6bfa15026a20391a16f98">NUTTHREADINFO</a> *volatile *&#160;</td>
          <td class="paramname"><em>tqpp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add a thread to a prioritiy ordered queue. </p>
<p>Insert the thread into a specified queue behind the last thread with lower or equal priority.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">td</td><td>Pointer to NUTTHREADINFO of the thread to be inserted in the queue. </td></tr>
    <tr><td class="paramname">tqpp</td><td>Pointer to the root of the queue. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="thread_8c_source.html#l00287">287</a> of file <a class="el" href="thread_8c_source.html">thread.c</a>.</p>

<p>References <a class="el" href="nutdebug_8h_source.html#l00047">NUTASSERT</a>, <a class="el" href="arch_2arm_2atom_8h_source.html#l00136">NutEnterCritical</a>, <a class="el" href="arch_2arm_2atom_8h_source.html#l00147">NutExitCritical</a>, <a class="el" href="event_8h_source.html#l00120">SIGNALED</a>, <a class="el" href="thread_8h_source.html#l00180">_NUTTHREADINFO::td_priority</a>, <a class="el" href="thread_8h_source.html#l00175">_NUTTHREADINFO::td_qnxt</a>, <a class="el" href="thread_8h_source.html#l00176">_NUTTHREADINFO::td_qpec</a>, and <a class="el" href="thread_8h_source.html#l00183">_NUTTHREADINFO::td_queue</a>.</p>

<p>Referenced by <a class="el" href="event_8c_source.html#l00384">NutEventPostAsync()</a>, <a class="el" href="event_8c_source.html#l00196">NutEventTimeout()</a>, <a class="el" href="event_8c_source.html#l00271">NutEventWait()</a>, <a class="el" href="arm_2os_2context_8c_source.html#l00238">NutThreadCreate()</a>, <a class="el" href="thread_8c_source.html#l00516">NutThreadSetPriority()</a>, <a class="el" href="thread_8c_source.html#l00448">NutThreadWake()</a>, and <a class="el" href="thread_8c_source.html#l00466">NutThreadYield()</a>.</p>

</div>
</div>
<a class="anchor" id="gae45ebad9f604755d5c5ba8adaf9e4f89"></a><!-- doxytag: member="thread.c::NutThreadRemoveQueue" ref="gae45ebad9f604755d5c5ba8adaf9e4f89" args="(NUTTHREADINFO *td, NUTTHREADINFO *volatile *tqpp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void NutThreadRemoveQueue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__xg_thread.html#ga7c788ee493e6bfa15026a20391a16f98">NUTTHREADINFO</a> *&#160;</td>
          <td class="paramname"><em>td</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__xg_thread.html#ga7c788ee493e6bfa15026a20391a16f98">NUTTHREADINFO</a> *volatile *&#160;</td>
          <td class="paramname"><em>tqpp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Remove a thread from a specified queue. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>Depending on the given queue, CPU interrupts must have been disabled before calling this function.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">td</td><td>Pointer to NUTTHREADINFO of the thread to be removed from the queue. </td></tr>
    <tr><td class="paramname">tqpp</td><td>Pointer to the root of the queue. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="thread_8c_source.html#l00339">339</a> of file <a class="el" href="thread_8c_source.html">thread.c</a>.</p>

<p>References <a class="el" href="arch_2arm_2atom_8h_source.html#l00136">NutEnterCritical</a>, <a class="el" href="arch_2arm_2atom_8h_source.html#l00147">NutExitCritical</a>, <a class="el" href="event_8h_source.html#l00120">SIGNALED</a>, <a class="el" href="thread_8h_source.html#l00175">_NUTTHREADINFO::td_qnxt</a>, <a class="el" href="thread_8h_source.html#l00176">_NUTTHREADINFO::td_qpec</a>, and <a class="el" href="thread_8h_source.html#l00183">_NUTTHREADINFO::td_queue</a>.</p>

<p>Referenced by <a class="el" href="event_8c_source.html#l00271">NutEventWait()</a>, <a class="el" href="timer_8c_source.html#l00628">NutSleep()</a>, <a class="el" href="thread_8c_source.html#l00516">NutThreadSetPriority()</a>, and <a class="el" href="thread_8c_source.html#l00466">NutThreadYield()</a>.</p>

</div>
</div>
<a class="anchor" id="gaabfac60c4d51b57c2dc422d09a69df5b"></a><!-- doxytag: member="thread.c::NutThreadResume" ref="gaabfac60c4d51b57c2dc422d09a69df5b" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void NutThreadResume </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Continue with the highest priority thread, which is ready to run. </p>
<p>If the currently running thread lost its top position in the queue of ready-to-run threads, then the context will be switched.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000034">Todo:</a></b></dt><dd>Removing a single thread from a wait queue only improves context switching, but may result in an event time-out for remaining threads, although events had been posted already. </dd></dl>

<p>Definition at line <a class="el" href="thread_8c_source.html#l00380">380</a> of file <a class="el" href="thread_8c_source.html">thread.c</a>.</p>

<p>References <a class="el" href="arch_2arm_2atom_8h_source.html#l00136">NutEnterCritical</a>, <a class="el" href="event_8c_source.html#l00384">NutEventPostAsync()</a>, <a class="el" href="arch_2arm_2atom_8h_source.html#l00147">NutExitCritical</a>, <a class="el" href="thread_8c_source.html#l00264">nutThreadList</a>, <a class="el" href="arm_2os_2context_8c_source.html#l00168">NutThreadSwitch()</a>, <a class="el" href="timer_8c_source.html#l00444">NutTimerProcessElapsed()</a>, <a class="el" href="event_8h_source.html#l00120">SIGNALED</a>, <a class="el" href="thread_8h_source.html#l00174">_NUTTHREADINFO::td_next</a>, <a class="el" href="thread_8h_source.html#l00176">_NUTTHREADINFO::td_qpec</a>, <a class="el" href="thread_8h_source.html#l00183">_NUTTHREADINFO::td_queue</a>, <a class="el" href="thread_8h_source.html#l00200">TDS_READY</a>, <a class="el" href="thread_8h_source.html#l00199">TDS_RUNNING</a>, <a class="el" href="tracer_8h_source.html#l00274">TRACE_ADD_ITEM</a>, and <a class="el" href="tracer_8h_source.html#l00077">TRACE_TAG_THREAD_YIELD</a>.</p>

<p>Referenced by <a class="el" href="event_8c_source.html#l00271">NutEventWait()</a>, <a class="el" href="timer_8c_source.html#l00628">NutSleep()</a>, and <a class="el" href="thread_8c_source.html#l00466">NutThreadYield()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__xg_thread_gaabfac60c4d51b57c2dc422d09a69df5b_cgraph.png" border="0" usemap="#group__xg_thread_gaabfac60c4d51b57c2dc422d09a69df5b_cgraph" alt=""/></div>
<map name="group__xg_thread_gaabfac60c4d51b57c2dc422d09a69df5b_cgraph" id="group__xg_thread_gaabfac60c4d51b57c2dc422d09a69df5b_cgraph">
<area shape="rect" id="node3" href="group__xg_event.html#ga129d2de44ddf083f252d0754fc45d9d3" title="Asynchronously post an event to a specified queue." alt="" coords="200,30,328,55"/><area shape="rect" id="node11" href="group__xg_nut_arch_arm_os_context.html#gad63408e1c4ef1c03d9f979ad2d31b7e0" title="Switch to another thread." alt="" coords="206,79,322,105"/><area shape="rect" id="node13" href="group__xg_timer.html#gaf719e88403b4ccc78f071ce5c85a5a71" title="Process elapsed timers." alt="" coords="181,129,347,154"/><area shape="rect" id="node5" href="group__xg_timer.html#gafb23f6965312663a72d41fefc574dc00" title="Stop a specified timer." alt="" coords="423,5,521,30"/><area shape="rect" id="node9" href="group__xg_thread.html#ga4d2458fb9ec9d926a6f87706b19e7e06" title="Add a thread to a prioritiy ordered queue." alt="" coords="395,54,549,79"/><area shape="rect" id="node7" href="group__xg_timer.html#ga681ca3c989be2bdeb5f0cc97e11d6e06" title="Insert a new timer in the global timer list." alt="" coords="597,55,701,81"/><area shape="rect" id="node15" href="group__xg_timer.html#ga940f66286dcf28b8280e41b605064446" title="Return the number of system timer ticks." alt="" coords="415,155,529,181"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga8730ce8319ffcb5e14a413458125e41a"></a><!-- doxytag: member="thread.c::NutThreadWake" ref="ga8730ce8319ffcb5e14a413458125e41a" args="(HANDLE timer, HANDLE th)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void NutThreadWake </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="nut__types_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>&#160;</td>
          <td class="paramname"><em>timer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="nut__types_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>&#160;</td>
          <td class="paramname"><em>th</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Resume a previously suspended thread. </p>
<p>This routine is called by the system when a sleep timer elapses.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>This routine is used as a timer callback for NutSleep implementation Applications typically do not call this function.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">timer</td><td>Handle of the elapsed timer. </td></tr>
    <tr><td class="paramname">th</td><td>Handle of the thread to wake up.</td></tr>
  </table>
  </dd>
</dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000035">Todo:</a></b></dt><dd>Used by the timer module. Should be moved there, because not all applications will use of <a class="el" href="group__xg_timer.html#gafefcf81d05019a8134b49fa44d8c114a" title="Temporarily suspends the current thread.">NutSleep()</a>. </dd></dl>

<p>Definition at line <a class="el" href="thread_8c_source.html#l00448">448</a> of file <a class="el" href="thread_8c_source.html">thread.c</a>.</p>

<p>References <a class="el" href="nutdebug_8h_source.html#l00047">NUTASSERT</a>, <a class="el" href="thread_8c_source.html#l00287">NutThreadAddPriQueue()</a>, and <a class="el" href="thread_8h_source.html#l00200">TDS_READY</a>.</p>

<p>Referenced by <a class="el" href="osdebug_8c_source.html#l00208">NutDumpTimerList()</a>, and <a class="el" href="timer_8c_source.html#l00628">NutSleep()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__xg_thread_ga8730ce8319ffcb5e14a413458125e41a_cgraph.png" border="0" usemap="#group__xg_thread_ga8730ce8319ffcb5e14a413458125e41a_cgraph" alt=""/></div>
<map name="group__xg_thread_ga8730ce8319ffcb5e14a413458125e41a_cgraph" id="group__xg_thread_ga8730ce8319ffcb5e14a413458125e41a_cgraph">
<area shape="rect" id="node3" href="group__xg_thread.html#ga4d2458fb9ec9d926a6f87706b19e7e06" title="Add a thread to a prioritiy ordered queue." alt="" coords="166,5,319,30"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga075836f9a2596c5983b7ba88420afd11"></a><!-- doxytag: member="thread.c::NutThreadYield" ref="ga075836f9a2596c5983b7ba88420afd11" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void NutThreadYield </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Give up the CPU. </p>
<p>If another thread within the same or higher priority is ready to run, then the current thread is stopped and the other one is started. </p>

<p>Definition at line <a class="el" href="thread_8c_source.html#l00466">466</a> of file <a class="el" href="thread_8c_source.html">thread.c</a>.</p>

<p>References <a class="el" href="arch_2arm_2atom_8h_source.html#l00136">NutEnterCritical</a>, <a class="el" href="arch_2arm_2atom_8h_source.html#l00147">NutExitCritical</a>, <a class="el" href="thread_8c_source.html#l00287">NutThreadAddPriQueue()</a>, <a class="el" href="thread_8c_source.html#l00339">NutThreadRemoveQueue()</a>, <a class="el" href="thread_8c_source.html#l00380">NutThreadResume()</a>, and <a class="el" href="thread_8h_source.html#l00175">_NUTTHREADINFO::td_qnxt</a>.</p>

<p>Referenced by <a class="el" href="upnp_8c_source.html#l00318">NotifyTask()</a>, <a class="el" href="event_8c_source.html#l00533">NutEventBroadcast()</a>, <a class="el" href="event_8c_source.html#l00454">NutEventPost()</a>, <a class="el" href="event_8c_source.html#l00271">NutEventWait()</a>, <a class="el" href="arch_2arm_2os_2nutinit_8c_source.html#l00229">NutIdle()</a>, <a class="el" href="msg_8c_source.html#l00197">NutMsgQSend()</a>, <a class="el" href="timer_8c_source.html#l00628">NutSleep()</a>, <a class="el" href="tcpsock_8c_source.html#l00762">NutTcpReceive()</a>, <a class="el" href="tcpsock_8c_source.html#l00692">NutTcpSend()</a>, <a class="el" href="tcpsm_8c_source.html#l00879">NutTcpStateCloseEvent()</a>, <a class="el" href="portdio_8c_source.html#l00184">ProcessRequests()</a>, <a class="el" href="rs232d_8c_source.html#l00102">Receiver()</a>, and <a class="el" href="upnp_8c_source.html#l00342">SSDPTask()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__xg_thread_ga075836f9a2596c5983b7ba88420afd11_cgraph.png" border="0" usemap="#group__xg_thread_ga075836f9a2596c5983b7ba88420afd11_cgraph" alt=""/></div>
<map name="group__xg_thread_ga075836f9a2596c5983b7ba88420afd11_cgraph" id="group__xg_thread_ga075836f9a2596c5983b7ba88420afd11_cgraph">
<area shape="rect" id="node3" href="group__xg_thread.html#ga4d2458fb9ec9d926a6f87706b19e7e06" title="Add a thread to a prioritiy ordered queue." alt="" coords="585,5,738,30"/><area shape="rect" id="node5" href="group__xg_thread.html#gae45ebad9f604755d5c5ba8adaf9e4f89" title="Remove a thread from a specified queue." alt="" coords="160,55,323,81"/><area shape="rect" id="node7" href="group__xg_thread.html#gaabfac60c4d51b57c2dc422d09a69df5b" title="Continue with the highest priority thread, which is ready to run." alt="" coords="177,105,305,130"/><area shape="rect" id="node9" href="group__xg_event.html#ga129d2de44ddf083f252d0754fc45d9d3" title="Asynchronously post an event to a specified queue." alt="" coords="389,55,517,81"/><area shape="rect" id="node16" href="group__xg_timer.html#gaf719e88403b4ccc78f071ce5c85a5a71" title="Process elapsed timers." alt="" coords="371,105,536,130"/><area shape="rect" id="node21" href="group__xg_nut_arch_arm_os_context.html#gad63408e1c4ef1c03d9f979ad2d31b7e0" title="Switch to another thread." alt="" coords="395,154,511,179"/><area shape="rect" id="node11" href="group__xg_timer.html#gafb23f6965312663a72d41fefc574dc00" title="Stop a specified timer." alt="" coords="612,54,711,79"/><area shape="rect" id="node13" href="group__xg_timer.html#ga681ca3c989be2bdeb5f0cc97e11d6e06" title="Insert a new timer in the global timer list." alt="" coords="787,79,891,105"/><area shape="rect" id="node18" href="group__xg_timer.html#ga940f66286dcf28b8280e41b605064446" title="Return the number of system timer ticks." alt="" coords="604,155,719,181"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga8ebe134e9c404072584e80fb8d7e8985"></a><!-- doxytag: member="thread.c::NutThreadSetPriority" ref="ga8ebe134e9c404072584e80fb8d7e8985" args="(uint8_t level)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> NutThreadSetPriority </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td>
          <td class="paramname"><em>level</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the current thread's priority. </p>
<p>The priority of newly created threads is set to 64, but may be changed when the thread starts running.</p>
<p>Changing the priority level to 255 will kill the calling thread.</p>
<p>When another thread with a higher or equal priority is ready to run, the current thread will be stopped and control of the CPU is passed to the other thread.</p>
<p>The function returns the old priority, which makes it easy to temporarily switch to another priority and later set back the old one.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">level</td><td>New priority level or 255 to kill the thread. Zero specifies the highest priority. The idle thread is running at level 254 (lowest priority). Application threads should use levels from 32 to 253.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The old priority of this thread.</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000036">Todo:</a></b></dt><dd>Using a specific priority level for killing a thread is actually not the best idea. <a class="el" href="group__xg_thread.html#gaf8e9b69ee0082bcdb00fd6cdb68f4136" title="Kill the running thread.">NutThreadKill()</a> can be used instead. </dd></dl>

<p>Definition at line <a class="el" href="thread_8c_source.html#l00516">516</a> of file <a class="el" href="thread_8c_source.html">thread.c</a>.</p>

<p>References <a class="el" href="arch_2arm_2atom_8h_source.html#l00136">NutEnterCritical</a>, <a class="el" href="arch_2arm_2atom_8h_source.html#l00147">NutExitCritical</a>, <a class="el" href="thread_8c_source.html#l00287">NutThreadAddPriQueue()</a>, <a class="el" href="thread_8c_source.html#l00592">NutThreadKill()</a>, <a class="el" href="thread_8c_source.html#l00339">NutThreadRemoveQueue()</a>, <a class="el" href="arm_2os_2context_8c_source.html#l00168">NutThreadSwitch()</a>, <a class="el" href="thread_8h_source.html#l00180">_NUTTHREADINFO::td_priority</a>, <a class="el" href="thread_8h_source.html#l00178">_NUTTHREADINFO::td_state</a>, <a class="el" href="thread_8h_source.html#l00200">TDS_READY</a>, <a class="el" href="thread_8h_source.html#l00199">TDS_RUNNING</a>, <a class="el" href="tracer_8h_source.html#l00274">TRACE_ADD_ITEM</a>, and <a class="el" href="tracer_8h_source.html#l00078">TRACE_TAG_THREAD_SETPRIO</a>.</p>

<p>Referenced by <a class="el" href="at91__ahdlc_8c_source.html#l00374">AhdlcRx()</a>, <a class="el" href="sja1000_8c_source.html#l00576">CAN_Tx()</a>, <a class="el" href="cs8900a_8c_source.html#l00421">CSNICrx()</a>, <a class="el" href="at91__emac_8c_source.html#l00787">EmacRxThread()</a>, <a class="el" href="hxcodec_8c_source.html#l00266">FeederThread()</a>, <a class="el" href="events_8c_source.html#l00080">High()</a>, <a class="el" href="events_8c_source.html#l00101">Low()</a>, <a class="el" href="httpserv_8c_source.html#l00665">main()</a>, <a class="el" href="nicrtl_8c_source.html#l01287">NicRx()</a>, <a class="el" href="ax88796_8c_source.html#l00792">NicRxAsix()</a>, <a class="el" href="lanc111_8c_source.html#l01210">NicRxLanc()</a>, <a class="el" href="arch_2arm_2os_2nutinit_8c_source.html#l00229">NutIdle()</a>, <a class="el" href="tcpsm_8c_source.html#l01671">NutTcpSm()</a>, <a class="el" href="thread_8c_source.html#l00563">NutThreadExit()</a>, <a class="el" href="rs232d_8c_source.html#l00102">Receiver()</a>, <a class="el" href="usartsc16is752_8c_source.html#l00374">Sc16is752UsartInterruptProcessing()</a>, <a class="el" href="timers_8c_source.html#l00136">Sleeper1()</a>, <a class="el" href="timers_8c_source.html#l00148">Sleeper2()</a>, <a class="el" href="timers_8c_source.html#l00157">Sleeper3()</a>, <a class="el" href="timers_8c_source.html#l00166">Sleeper4()</a>, <a class="el" href="sntp_8c_source.html#l00134">SNTP_resync()</a>, <a class="el" href="keys_8c_source.html#l00166">sys_key()</a>, <a class="el" href="led_8c_source.html#l00165">sys_led()</a>, <a class="el" href="threads_8c_source.html#l00060">Thread1()</a>, <a class="el" href="threads_8c_source.html#l00075">Thread2()</a>, <a class="el" href="timers_8c_source.html#l00088">TimerEvent1()</a>, <a class="el" href="timers_8c_source.html#l00100">TimerEvent2()</a>, <a class="el" href="timers_8c_source.html#l00112">TimerEvent3()</a>, and <a class="el" href="timers_8c_source.html#l00124">TimerEvent4()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__xg_thread_ga8ebe134e9c404072584e80fb8d7e8985_cgraph.png" border="0" usemap="#group__xg_thread_ga8ebe134e9c404072584e80fb8d7e8985_cgraph" alt=""/></div>
<map name="group__xg_thread_ga8ebe134e9c404072584e80fb8d7e8985_cgraph" id="group__xg_thread_ga8ebe134e9c404072584e80fb8d7e8985_cgraph">
<area shape="rect" id="node3" href="group__xg_thread.html#ga4d2458fb9ec9d926a6f87706b19e7e06" title="Add a thread to a prioritiy ordered queue." alt="" coords="194,5,347,30"/><area shape="rect" id="node5" href="group__xg_thread.html#gaf8e9b69ee0082bcdb00fd6cdb68f4136" title="Kill the running thread." alt="" coords="222,54,319,79"/><area shape="rect" id="node9" href="group__xg_thread.html#gae45ebad9f604755d5c5ba8adaf9e4f89" title="Remove a thread from a specified queue." alt="" coords="189,103,352,129"/><area shape="rect" id="node11" href="group__xg_nut_arch_arm_os_context.html#gad63408e1c4ef1c03d9f979ad2d31b7e0" title="Switch to another thread." alt="" coords="213,153,329,178"/><area shape="rect" id="node7" href="group__xg_thread.html#gaba085dddcb4bf80a0b246bd06618d740" title="Free a thread that was previously killed and release memory back to the OS." alt="" coords="400,54,523,79"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gad86d73178ce22d0a32ae83ec775c4722"></a><!-- doxytag: member="thread.c::NutThreadExit" ref="gad86d73178ce22d0a32ae83ec775c4722" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void NutThreadExit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>End the current thread. </p>
<p>Terminates the current thread, in due course the memory associated with the thread will be released back to the OS this is done by the idle thread.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000037">Todo:</a></b></dt><dd><a class="el" href="group__xg_thread.html#gaf8e9b69ee0082bcdb00fd6cdb68f4136" title="Kill the running thread.">NutThreadKill()</a> can be used instead of setting the priority level to 255. </dd></dl>

<p>Definition at line <a class="el" href="thread_8c_source.html#l00563">563</a> of file <a class="el" href="thread_8c_source.html">thread.c</a>.</p>

<p>References <a class="el" href="thread_8c_source.html#l00516">NutThreadSetPriority()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__xg_thread_gad86d73178ce22d0a32ae83ec775c4722_cgraph.png" border="0" usemap="#group__xg_thread_gad86d73178ce22d0a32ae83ec775c4722_cgraph" alt=""/></div>
<map name="group__xg_thread_gad86d73178ce22d0a32ae83ec775c4722_cgraph" id="group__xg_thread_gad86d73178ce22d0a32ae83ec775c4722_cgraph">
<area shape="rect" id="node3" href="group__xg_thread.html#ga8ebe134e9c404072584e80fb8d7e8985" title="Set the current thread&#39;s priority." alt="" coords="153,79,287,105"/><area shape="rect" id="node5" href="group__xg_thread.html#gae45ebad9f604755d5c5ba8adaf9e4f89" title="Remove a thread from a specified queue." alt="" coords="336,5,499,30"/><area shape="rect" id="node7" href="group__xg_thread.html#ga4d2458fb9ec9d926a6f87706b19e7e06" title="Add a thread to a prioritiy ordered queue." alt="" coords="341,54,494,79"/><area shape="rect" id="node9" href="group__xg_thread.html#gaf8e9b69ee0082bcdb00fd6cdb68f4136" title="Kill the running thread." alt="" coords="369,103,466,129"/><area shape="rect" id="node13" href="group__xg_nut_arch_arm_os_context.html#gad63408e1c4ef1c03d9f979ad2d31b7e0" title="Switch to another thread." alt="" coords="359,153,475,178"/><area shape="rect" id="node11" href="group__xg_thread.html#gaba085dddcb4bf80a0b246bd06618d740" title="Free a thread that was previously killed and release memory back to the OS." alt="" coords="547,103,669,129"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaba085dddcb4bf80a0b246bd06618d740"></a><!-- doxytag: member="thread.c::NutThreadDestroy" ref="gaba085dddcb4bf80a0b246bd06618d740" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void NutThreadDestroy </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Free a thread that was previously killed and release memory back to the OS. </p>
<p>Called when another thread is killed and by the idle thread.</p>
<p>Applications generally do not call this function, however you could call it to try to reclaim memory. </p>

<p>Definition at line <a class="el" href="thread_8c_source.html#l00577">577</a> of file <a class="el" href="thread_8c_source.html">thread.c</a>.</p>

<p>References <a class="el" href="heap_8h_source.html#l00103">NutStackFree</a>, and <a class="el" href="thread_8h_source.html#l00181">_NUTTHREADINFO::td_memory</a>.</p>

<p>Referenced by <a class="el" href="arch_2arm_2os_2nutinit_8c_source.html#l00229">NutIdle()</a>, and <a class="el" href="thread_8c_source.html#l00592">NutThreadKill()</a>.</p>

</div>
</div>
<a class="anchor" id="gaf8e9b69ee0082bcdb00fd6cdb68f4136"></a><!-- doxytag: member="thread.c::NutThreadKill" ref="gaf8e9b69ee0082bcdb00fd6cdb68f4136" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void NutThreadKill </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Kill the running thread. </p>
<p>The thread is moved from the schedule que and</p>
<p>Applications generally do not call this function. </p>

<p>Definition at line <a class="el" href="thread_8c_source.html#l00592">592</a> of file <a class="el" href="thread_8c_source.html">thread.c</a>.</p>

<p>References <a class="el" href="thread_8c_source.html#l00577">NutThreadDestroy()</a>, <a class="el" href="thread_8c_source.html#l00264">nutThreadList</a>, <a class="el" href="thread_8c_source.html#l00246">runningThread</a>, and <a class="el" href="thread_8h_source.html#l00174">_NUTTHREADINFO::td_next</a>.</p>

<p>Referenced by <a class="el" href="thread_8c_source.html#l00516">NutThreadSetPriority()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__xg_thread_gaf8e9b69ee0082bcdb00fd6cdb68f4136_cgraph.png" border="0" usemap="#group__xg_thread_gaf8e9b69ee0082bcdb00fd6cdb68f4136_cgraph" alt=""/></div>
<map name="group__xg_thread_gaf8e9b69ee0082bcdb00fd6cdb68f4136_cgraph" id="group__xg_thread_gaf8e9b69ee0082bcdb00fd6cdb68f4136_cgraph">
<area shape="rect" id="node3" href="group__xg_thread.html#gaba085dddcb4bf80a0b246bd06618d740" title="Free a thread that was previously killed and release memory back to the OS." alt="" coords="152,5,275,30"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga175aed2a498e36845b8cbfdd99731f75"></a><!-- doxytag: member="thread.c::GetThreadByName" ref="ga175aed2a498e36845b8cbfdd99731f75" args="(char *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="nut__types_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> GetThreadByName </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Query handle of a thread with a specific name. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>Case sensitive symbolic name of the thread.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Handle of the thread, if it exists. Otherwise NULL is returned.</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000038">Todo:</a></b></dt><dd>Rarely used helper function. Should be placed in a seperate module. </dd></dl>

<p>Definition at line <a class="el" href="thread_8c_source.html#l00625">625</a> of file <a class="el" href="thread_8c_source.html">thread.c</a>.</p>

<p>References <a class="el" href="thread_8c_source.html#l00246">runningThread</a>, <a class="el" href="strcmp_8c_source.html#l00091">strcmp()</a>, <a class="el" href="thread_8h_source.html#l00177">_NUTTHREADINFO::td_name</a>, and <a class="el" href="thread_8h_source.html#l00174">_NUTTHREADINFO::td_next</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__xg_thread_ga175aed2a498e36845b8cbfdd99731f75_cgraph.png" border="0" usemap="#group__xg_thread_ga175aed2a498e36845b8cbfdd99731f75_cgraph" alt=""/></div>
<map name="group__xg_thread_ga175aed2a498e36845b8cbfdd99731f75_cgraph" id="group__xg_thread_ga175aed2a498e36845b8cbfdd99731f75_cgraph">
<area shape="rect" id="node3" href="group__xg_crt_string.html#gaafa356ff1e215725834bc57e8e4fae60" title="Compare two strings." alt="" coords="182,5,242,30"/></map>
</div>
</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="ga1308a2cb119d012de42abc74121c5b06"></a><!-- doxytag: member="thread.c::runningThread" ref="ga1308a2cb119d012de42abc74121c5b06" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__xg_thread.html#ga7c788ee493e6bfa15026a20391a16f98">NUTTHREADINFO</a>* <a class="el" href="group__xg_thread.html#ga1308a2cb119d012de42abc74121c5b06">runningThread</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Currently running thread. </p>
<p>Pointer to the NUTTHREADINFO structure of the currently running thread. </p>

<p>Definition at line <a class="el" href="thread_8c_source.html#l00246">246</a> of file <a class="el" href="thread_8c_source.html">thread.c</a>.</p>

<p>Referenced by <a class="el" href="thread_8c_source.html#l00625">GetThreadByName()</a>, <a class="el" href="event_8c_source.html#l00271">NutEventWait()</a>, <a class="el" href="mutex_8c_source.html#l00147">NutMutexDestroy()</a>, <a class="el" href="mutex_8c_source.html#l00096">NutMutexLock()</a>, <a class="el" href="mutex_8c_source.html#l00114">NutMutexTrylock()</a>, <a class="el" href="mutex_8c_source.html#l00130">NutMutexUnlock()</a>, <a class="el" href="timer_8c_source.html#l00628">NutSleep()</a>, <a class="el" href="arm_2os_2context_8c_source.html#l00238">NutThreadCreate()</a>, <a class="el" href="thread_8c_source.html#l00592">NutThreadKill()</a>, and <a class="el" href="arm_2os_2context_8c_source.html#l00168">NutThreadSwitch()</a>.</p>

</div>
</div>
<a class="anchor" id="gaac039e42bf2cb431a4bbce9fe50c577b"></a><!-- doxytag: member="thread.c::killedThread" ref="gaac039e42bf2cb431a4bbce9fe50c577b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__xg_thread.html#ga7c788ee493e6bfa15026a20391a16f98">NUTTHREADINFO</a>* <a class="el" href="group__xg_thread.html#gaac039e42bf2cb431a4bbce9fe50c577b">killedThread</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Thread to be killed. </p>
<p>Pointer to the NUTTHREADINFO structure of the latest killed thread. </p>

<p>Definition at line <a class="el" href="thread_8c_source.html#l00254">254</a> of file <a class="el" href="thread_8c_source.html">thread.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga4795eff325a697d9e5d1cddaf81a251e"></a><!-- doxytag: member="thread.c::nutThreadList" ref="ga4795eff325a697d9e5d1cddaf81a251e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__xg_thread.html#ga7c788ee493e6bfa15026a20391a16f98">NUTTHREADINFO</a>* <a class="el" href="group__xg_thread.html#ga4795eff325a697d9e5d1cddaf81a251e">nutThreadList</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>List of all created threads. </p>
<p>Linked list of NUTTHREADINFO structures of all threads. New threads are put in front. This list contains at least two threads, the main application thread followed by the idle thread. </p>

<p>Definition at line <a class="el" href="thread_8c_source.html#l00264">264</a> of file <a class="el" href="thread_8c_source.html">thread.c</a>.</p>

<p>Referenced by <a class="el" href="osdebug_8c_source.html#l00157">NutDumpThreadList()</a>, <a class="el" href="arm_2os_2context_8c_source.html#l00238">NutThreadCreate()</a>, <a class="el" href="thread_8c_source.html#l00592">NutThreadKill()</a>, and <a class="el" href="thread_8c_source.html#l00380">NutThreadResume()</a>.</p>

</div>
</div>
<a class="anchor" id="gac3d0eb03ee830f18f4b8e2c7deaaa4f1"></a><!-- doxytag: member="thread.c::runQueue" ref="gac3d0eb03ee830f18f4b8e2c7deaaa4f1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__xg_thread.html#ga7c788ee493e6bfa15026a20391a16f98">NUTTHREADINFO</a>* <a class="el" href="group__xg_thread.html#gac3d0eb03ee830f18f4b8e2c7deaaa4f1">runQueue</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>List of ready-to-run threads. </p>
<p>Priority ordered linked list of NUTTHREADINFO structures of all threads which are ready to run. The idle thread will always remain at the end of this list. </p>

<p>Definition at line <a class="el" href="thread_8c_source.html#l00273">273</a> of file <a class="el" href="thread_8c_source.html">thread.c</a>.</p>

<p>Referenced by <a class="el" href="event_8c_source.html#l00384">NutEventPostAsync()</a>, <a class="el" href="event_8c_source.html#l00196">NutEventTimeout()</a>, <a class="el" href="event_8c_source.html#l00271">NutEventWait()</a>, <a class="el" href="timer_8c_source.html#l00628">NutSleep()</a>, <a class="el" href="arm_2os_2context_8c_source.html#l00238">NutThreadCreate()</a>, and <a class="el" href="arm_2os_2context_8c_source.html#l00168">NutThreadSwitch()</a>.</p>

</div>
</div>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr>
<address>
  <small>
    &copy;&nbsp;2000-2010 by contributors - 
    visit <a href="http://www.ethernut.de/">http://www.ethernut.de/</a>
  </small>
</address>
</body>
</html>
