<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Nut/OS: FTP</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  <td id="projectlogo"><img alt="Logo" src="nutos_logo.png"/></td>
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Nut/OS
   &#160;<span id="projectnumber">4.10.3</span>
   </div>
   <div id="projectbrief">API Reference</div>
  </td>
  
  
  
   
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
   
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('group__xg_f_t_p_d.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">FTP</div>  </div>
<div class="ingroups"><a class="el" href="group__xg_user_pro.html">User Protocols</a></div></div>
<div class="contents">

<p>File transfer protocol.  
<a href="#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for FTP:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group__xg_f_t_p_d.png" border="0" alt="" usemap="#group____xg__f__t__p__d"/>
<map name="group____xg__f__t__p__d" id="group____xg__f__t__p__d">
<area shape="rect" id="node2" href="group__xg_user_pro.html" title="TCP/IP and UDP applications." alt="" coords="5,5,109,30"/></map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">FTP session information structure.  <a href="struct_f_t_p_s_e_s_s_i_o_n.html#details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_f_t_p_d.html#gaedf4862063aad8c80cf50025318e25de">NutFtpRespondOk</a> (<a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *session, int code)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a positive response.  <a href="#gaedf4862063aad8c80cf50025318e25de"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_f_t_p_d.html#ga8a198e099aa073c08ae2203233bce632">NutFtpRespondBad</a> (<a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *session, int code)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a negative response.  <a href="#ga8a198e099aa073c08ae2203233bce632"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_f_t_p_d.html#ga7a2c08102e2c52355561453fcb15eb5e">NutFtpSendMode</a> (<a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *session, int binary)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a response including the specified transfer mode.  <a href="#ga7a2c08102e2c52355561453fcb15eb5e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_f_t_p_d.html#gaad7b7118c7f21feb01fc6db7b8b0e615">CreateFullPathName</a> (char *root, char *work, char *path)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Create an absolute path name.  <a href="#gaad7b7118c7f21feb01fc6db7b8b0e615"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__xg_tcp_socket.html#gaffc7ada36497e0b38f338c1aa1b5e394">TCPSOCKET</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_f_t_p_d.html#ga78bc9b7d484569dce570bf8eef609eb1">NutFtpDataConnect</a> (<a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *session)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Establish an FTP connection for data transfer.  <a href="#ga78bc9b7d484569dce570bf8eef609eb1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_f_t_p_d.html#ga9e41cc8f252b71d222f0d79da1899eaf">NutRegisterFtpRoot</a> (CONST char *path)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Register the FTP server's root directory.  <a href="#ga9e41cc8f252b71d222f0d79da1899eaf"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_f_t_p_d.html#ga1be14e9d89556bb62edccd798e2f0713">NutRegisterFtpUser</a> (CONST char *user, CONST char *pass)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Register an FTP user.  <a href="#ga1be14e9d89556bb62edccd798e2f0713"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_f_t_p_d.html#ga9c2f592b2642d2091ea274362d2ed6bc">NutFtpOpenSession</a> (<a class="el" href="group__xg_tcp_socket.html#gaffc7ada36497e0b38f338c1aa1b5e394">TCPSOCKET</a> *sock)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Open an FTP server session.  <a href="#ga9c2f592b2642d2091ea274362d2ed6bc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_f_t_p_d.html#ga4e8a0adc4680aa66e9d4d17fdc6e985d">NutFtpCloseSession</a> (<a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *session)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Close an FTP server session.  <a href="#ga4e8a0adc4680aa66e9d4d17fdc6e985d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_f_t_p_d.html#ga6fe36e83d24072ff6fb7940252c51a6e">NutFtpProcessCwd</a> (<a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *session, char *path)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Process an FTP client's CWD command.  <a href="#ga6fe36e83d24072ff6fb7940252c51a6e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_f_t_p_d.html#ga8c45cdbeb27a773812a7eb6cca53125b">NutFtpProcessDelete</a> (<a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *session, char *path)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Process an FTP client's DELE command.  <a href="#ga8c45cdbeb27a773812a7eb6cca53125b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_f_t_p_d.html#ga80900fe10a1f7780a461127c77850275">NutFtpTransferFile</a> (<a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *session, char *path, int mode)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Transfer a file to or from the FTP client.  <a href="#ga80900fe10a1f7780a461127c77850275"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_f_t_p_d.html#ga8048da8373cec681730f81e25269948f">NutFtpTransferDirectoryOptions</a> (<a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *session, char *path, int options)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Process an FTP client's LIST or NLST command.  <a href="#ga8048da8373cec681730f81e25269948f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_f_t_p_d.html#gaf4296b0e186e55d915fb843f7fde9b20">NutFtpTransferDirectory</a> (<a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *session, char *path)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Process an FTP client's LIST or NLST command.  <a href="#gaf4296b0e186e55d915fb843f7fde9b20"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_f_t_p_d.html#gae85078df724a2046bfab56e88c058357">NutFtpProcessMkd</a> (<a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *session, char *path)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Process an FTP client's MKD command.  <a href="#gae85078df724a2046bfab56e88c058357"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_f_t_p_d.html#ga78dd6dc6c0371a2ace8f2ff4e33c9444">NutFtpRenamePrepare</a> (<a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *session, char *path)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_f_t_p_d.html#ga68b21460a1f27307ed029da5464a0dff">NutFtpRenameAction</a> (<a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *session, char *path)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_f_t_p_d.html#ga836d1cf7dc7ef29c929f6780477851f7">NutFtpProcessPass</a> (<a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *session, char *pass)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Process an FTP client's PASS command.  <a href="#ga836d1cf7dc7ef29c929f6780477851f7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_f_t_p_d.html#ga3564dcac7a3f46dcf9c77c78d3318b71">NutFtpProcessPassiv</a> (<a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *session)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Process an FTP client's PASV command.  <a href="#ga3564dcac7a3f46dcf9c77c78d3318b71"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_f_t_p_d.html#gacf9843833821d7c38e7c1869c8555f68">NutFtpProcessPort</a> (<a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *session, char *args)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Process an FTP client's PORT command.  <a href="#gacf9843833821d7c38e7c1869c8555f68"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_f_t_p_d.html#gaa58ab5aeaa0551c2a809e2d881b9272c">NutFtpProcessPwd</a> (<a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *session)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Process an FTP client's PWD command.  <a href="#gaa58ab5aeaa0551c2a809e2d881b9272c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_f_t_p_d.html#ga7b759361ed3c5ccb69461713e1857d7e">NutFtpProcessRmd</a> (<a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *session, char *path)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Process an FTP client's RMD command.  <a href="#ga7b759361ed3c5ccb69461713e1857d7e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_f_t_p_d.html#ga727082f5c302cc37743c98321ace0509">NutFtpProcessSystem</a> (<a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *session)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Process an FTP client's SYST command.  <a href="#ga727082f5c302cc37743c98321ace0509"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_f_t_p_d.html#ga09e1a0621e8b56f44b884aac05567607">NutFtpProcessType</a> (<a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *session, char *typecode)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Process an FTP client's TYPE command.  <a href="#ga09e1a0621e8b56f44b884aac05567607"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_f_t_p_d.html#gaccd498f6cc8f1c9fe4cbc2835ea2d7cc">NutFtpProcessUser</a> (<a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *session, char *user)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Process an FTP client's USER command.  <a href="#gaccd498f6cc8f1c9fe4cbc2835ea2d7cc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_f_t_p_d.html#ga5b72e2b9bea1143ace7837526d573444">NutFtpProcessRequest</a> (<a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *session, char *request)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Process an FTP request.  <a href="#ga5b72e2b9bea1143ace7837526d573444"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_f_t_p_d.html#ga6914104d8828e12e70984be621c87269">NutFtpServerSession</a> (<a class="el" href="group__xg_tcp_socket.html#gaffc7ada36497e0b38f338c1aa1b5e394">TCPSOCKET</a> *sock)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Process an FTP sever session.  <a href="#ga6914104d8828e12e70984be621c87269"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="member-group"></a>
FTP Server Configuration</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrp511a16f589dd86877cd8ba380685f67b"></a> The Nut/OS Configurator may be used to override the default values. </p>
</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_f_t_p_d.html#ga02da6fd3b04d4e1cc0e3931b47980276">FTP_MAX_CMDBUF</a>&#160;&#160;&#160;128</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">UDP port of DHCP server.  <a href="#ga02da6fd3b04d4e1cc0e3931b47980276"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="member-group"></a>
FTP Server Configuration</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrp511a16f589dd86877cd8ba380685f67b"></a> The Nut/OS Configurator may be used to override the default values. </p>
</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_f_t_p_d.html#ga7c5a64c63f20eb3e3ebab183895a8081">FTP_ROOTPATH</a>&#160;&#160;&#160;&quot;PNUT:&quot;</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Default FTP root path.  <a href="#ga7c5a64c63f20eb3e3ebab183895a8081"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_f_t_p_d.html#ga972c1b4b37ca75e1e499e91617a3e40b">FTP_DATA_PORT</a>&#160;&#160;&#160;20</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Default data port.  <a href="#ga972c1b4b37ca75e1e499e91617a3e40b"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<p>File transfer protocol. </p>
<p>Note, that FTP servers don't make much sense without a file system providing write access. Right now, FTP had been tested with the PNUT file system only.</p>
<p>Internet File Transfer Protocol Server. </p>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="ga02da6fd3b04d4e1cc0e3931b47980276"></a><!-- doxytag: member="ftpd.h::FTP_MAX_CMDBUF" ref="ga02da6fd3b04d4e1cc0e3931b47980276" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FTP_MAX_CMDBUF&#160;&#160;&#160;128</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>UDP port of DHCP server. </p>

<p>Definition at line <a class="el" href="ftpd_8h_source.html#l00071">71</a> of file <a class="el" href="ftpd_8h_source.html">ftpd.h</a>.</p>

<p>Referenced by <a class="el" href="ftpd_8c_source.html#l01363">NutFtpServerSession()</a>.</p>

</div>
</div>
<a class="anchor" id="ga7c5a64c63f20eb3e3ebab183895a8081"></a><!-- doxytag: member="ftpd.c::FTP_ROOTPATH" ref="ga7c5a64c63f20eb3e3ebab183895a8081" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FTP_ROOTPATH&#160;&#160;&#160;&quot;PNUT:&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Default FTP root path. </p>

<p>Definition at line <a class="el" href="ftpd_8c_source.html#l00138">138</a> of file <a class="el" href="ftpd_8c_source.html">ftpd.c</a>.</p>

<p>Referenced by <a class="el" href="ftpd_8c_source.html#l00516">NutRegisterFtpRoot()</a>.</p>

</div>
</div>
<a class="anchor" id="ga972c1b4b37ca75e1e499e91617a3e40b"></a><!-- doxytag: member="ftpd.c::FTP_DATA_PORT" ref="ga972c1b4b37ca75e1e499e91617a3e40b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FTP_DATA_PORT&#160;&#160;&#160;20</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Default data port. </p>

<p>Definition at line <a class="el" href="ftpd_8c_source.html#l00147">147</a> of file <a class="el" href="ftpd_8c_source.html">ftpd.c</a>.</p>

<p>Referenced by <a class="el" href="ftpd_8c_source.html#l00609">NutFtpOpenSession()</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="gaedf4862063aad8c80cf50025318e25de"></a><!-- doxytag: member="ftpd.c::NutFtpRespondOk" ref="gaedf4862063aad8c80cf50025318e25de" args="(FTPSESSION *session, int code)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NutFtpRespondOk </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>code</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Send a positive response. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">session</td><td>Pointer to an <a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> structure, obtained by a previous call to <a class="el" href="group__xg_f_t_p_d.html#ga9c2f592b2642d2091ea274362d2ed6bc" title="Open an FTP server session.">NutFtpOpenSession()</a>. </td></tr>
    <tr><td class="paramname">code</td><td>Response code.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>-1 if the session ended. Otherwise 0 is returned. </dd></dl>

<p>Definition at line <a class="el" href="ftpd_8c_source.html#l00287">287</a> of file <a class="el" href="ftpd_8c_source.html">ftpd.c</a>.</p>

<p>References <a class="el" href="fflush_8c_source.html#l00071">fflush()</a>, <a class="el" href="h8_8h_source.html#l00077">fprintf_P</a>, <a class="el" href="ftpd_8h_source.html#l00083">FTPSESSION::ftp_stream</a>, <a class="el" href="icc_8h_source.html#l00136">printf</a>, and <a class="el" href="arm_8h_source.html#l00157">prog_char</a>.</p>

<p>Referenced by <a class="el" href="ftpd_8c_source.html#l00675">NutFtpProcessCwd()</a>, <a class="el" href="ftpd_8c_source.html#l00716">NutFtpProcessDelete()</a>, <a class="el" href="ftpd_8c_source.html#l00955">NutFtpProcessMkd()</a>, <a class="el" href="ftpd_8c_source.html#l01019">NutFtpProcessPass()</a>, <a class="el" href="ftpd_8c_source.html#l01073">NutFtpProcessPort()</a>, <a class="el" href="ftpd_8c_source.html#l01208">NutFtpProcessRequest()</a>, <a class="el" href="ftpd_8c_source.html#l01118">NutFtpProcessRmd()</a>, <a class="el" href="ftpd_8c_source.html#l01159">NutFtpProcessType()</a>, <a class="el" href="ftpd_8c_source.html#l01177">NutFtpProcessUser()</a>, <a class="el" href="ftpd_8c_source.html#l00984">NutFtpRenameAction()</a>, <a class="el" href="ftpd_8c_source.html#l00964">NutFtpRenamePrepare()</a>, <a class="el" href="ftpd_8c_source.html#l00860">NutFtpTransferDirectoryOptions()</a>, and <a class="el" href="ftpd_8c_source.html#l00741">NutFtpTransferFile()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__xg_f_t_p_d_gaedf4862063aad8c80cf50025318e25de_cgraph.png" border="0" usemap="#group__xg_f_t_p_d_gaedf4862063aad8c80cf50025318e25de_cgraph" alt=""/></div>
<map name="group__xg_f_t_p_d_gaedf4862063aad8c80cf50025318e25de_cgraph" id="group__xg_f_t_p_d_gaedf4862063aad8c80cf50025318e25de_cgraph">
<area shape="rect" id="node3" href="group__xg_crt_stdio.html#gadb974f28765a31026ee6bf71d5175951" title="Flush a stream." alt="" coords="179,5,231,30"/><area shape="rect" id="node5" href="io_8h.html#a901fa187b164dd6faaac1b62c88614b5" title="_write" alt="" coords="281,5,335,30"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga8a198e099aa073c08ae2203233bce632"></a><!-- doxytag: member="ftpd.c::NutFtpRespondBad" ref="ga8a198e099aa073c08ae2203233bce632" args="(FTPSESSION *session, int code)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NutFtpRespondBad </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>code</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Send a negative response. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">session</td><td>Pointer to an <a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> structure, obtained by a previous call to <a class="el" href="group__xg_f_t_p_d.html#ga9c2f592b2642d2091ea274362d2ed6bc" title="Open an FTP server session.">NutFtpOpenSession()</a>. </td></tr>
    <tr><td class="paramname">code</td><td>Response code.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>-1 if the session ended. Otherwise 0 is returned. </dd></dl>

<p>Definition at line <a class="el" href="ftpd_8c_source.html#l00309">309</a> of file <a class="el" href="ftpd_8c_source.html">ftpd.c</a>.</p>

<p>References <a class="el" href="fflush_8c_source.html#l00071">fflush()</a>, <a class="el" href="h8_8h_source.html#l00077">fprintf_P</a>, <a class="el" href="ftpd_8h_source.html#l00083">FTPSESSION::ftp_stream</a>, <a class="el" href="icc_8h_source.html#l00136">printf</a>, and <a class="el" href="arm_8h_source.html#l00157">prog_char</a>.</p>

<p>Referenced by <a class="el" href="ftpd_8c_source.html#l00675">NutFtpProcessCwd()</a>, <a class="el" href="ftpd_8c_source.html#l00716">NutFtpProcessDelete()</a>, <a class="el" href="ftpd_8c_source.html#l00955">NutFtpProcessMkd()</a>, <a class="el" href="ftpd_8c_source.html#l01019">NutFtpProcessPass()</a>, <a class="el" href="ftpd_8c_source.html#l01073">NutFtpProcessPort()</a>, <a class="el" href="ftpd_8c_source.html#l01208">NutFtpProcessRequest()</a>, <a class="el" href="ftpd_8c_source.html#l01118">NutFtpProcessRmd()</a>, <a class="el" href="ftpd_8c_source.html#l01177">NutFtpProcessUser()</a>, <a class="el" href="ftpd_8c_source.html#l00984">NutFtpRenameAction()</a>, <a class="el" href="ftpd_8c_source.html#l00964">NutFtpRenamePrepare()</a>, <a class="el" href="ftpd_8c_source.html#l01363">NutFtpServerSession()</a>, <a class="el" href="ftpd_8c_source.html#l00860">NutFtpTransferDirectoryOptions()</a>, and <a class="el" href="ftpd_8c_source.html#l00741">NutFtpTransferFile()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__xg_f_t_p_d_ga8a198e099aa073c08ae2203233bce632_cgraph.png" border="0" usemap="#group__xg_f_t_p_d_ga8a198e099aa073c08ae2203233bce632_cgraph" alt=""/></div>
<map name="group__xg_f_t_p_d_ga8a198e099aa073c08ae2203233bce632_cgraph" id="group__xg_f_t_p_d_ga8a198e099aa073c08ae2203233bce632_cgraph">
<area shape="rect" id="node3" href="group__xg_crt_stdio.html#gadb974f28765a31026ee6bf71d5175951" title="Flush a stream." alt="" coords="185,5,237,30"/><area shape="rect" id="node5" href="io_8h.html#a901fa187b164dd6faaac1b62c88614b5" title="_write" alt="" coords="286,5,341,30"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga7a2c08102e2c52355561453fcb15eb5e"></a><!-- doxytag: member="ftpd.c::NutFtpSendMode" ref="ga7a2c08102e2c52355561453fcb15eb5e" args="(FTPSESSION *session, int binary)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NutFtpSendMode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>binary</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Send a response including the specified transfer mode. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">session</td><td>Pointer to an <a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> structure, obtained by a previous call to <a class="el" href="group__xg_f_t_p_d.html#ga9c2f592b2642d2091ea274362d2ed6bc" title="Open an FTP server session.">NutFtpOpenSession()</a>. </td></tr>
    <tr><td class="paramname">binary</td><td>0 indicates ASCII transfer mode.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>-1 if the session ended. Otherwise 0 is returned. </dd></dl>

<p>Definition at line <a class="el" href="ftpd_8c_source.html#l00331">331</a> of file <a class="el" href="ftpd_8c_source.html">ftpd.c</a>.</p>

<p>References <a class="el" href="fflush_8c_source.html#l00071">fflush()</a>, <a class="el" href="h8_8h_source.html#l00076">fputs_P</a>, <a class="el" href="ftpd_8h_source.html#l00083">FTPSESSION::ftp_stream</a>, <a class="el" href="icc_8h_source.html#l00136">printf</a>, and <a class="el" href="arm_8h_source.html#l00157">prog_char</a>.</p>

<p>Referenced by <a class="el" href="ftpd_8c_source.html#l00860">NutFtpTransferDirectoryOptions()</a>, and <a class="el" href="ftpd_8c_source.html#l00741">NutFtpTransferFile()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__xg_f_t_p_d_ga7a2c08102e2c52355561453fcb15eb5e_cgraph.png" border="0" usemap="#group__xg_f_t_p_d_ga7a2c08102e2c52355561453fcb15eb5e_cgraph" alt=""/></div>
<map name="group__xg_f_t_p_d_ga7a2c08102e2c52355561453fcb15eb5e_cgraph" id="group__xg_f_t_p_d_ga7a2c08102e2c52355561453fcb15eb5e_cgraph">
<area shape="rect" id="node3" href="group__xg_crt_stdio.html#gadb974f28765a31026ee6bf71d5175951" title="Flush a stream." alt="" coords="171,5,223,30"/><area shape="rect" id="node5" href="io_8h.html#a901fa187b164dd6faaac1b62c88614b5" title="_write" alt="" coords="273,5,327,30"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaad7b7118c7f21feb01fc6db7b8b0e615"></a><!-- doxytag: member="ftpd.c::CreateFullPathName" ref="gaad7b7118c7f21feb01fc6db7b8b0e615" args="(char *root, char *work, char *path)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* CreateFullPathName </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>work</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create an absolute path name. </p>
<p>Combines an absolute directory path with a relative path name to a full absolute path name. The absolute directory is split into two parts, the root and the current work directory. The resulting path will never be above the specified root.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">root</td><td>Non-empty absolute root directory path including the device name, but without a trailing slash. </td></tr>
    <tr><td class="paramname">work</td><td>Absolute work directory path below root including a leading, but without a trailing slash. This path is ignored if the relative path starts with a slash. </td></tr>
    <tr><td class="paramname">path</td><td>Relative path name of a file or directory without any trailing slash.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Pointer to the resulting path name. The buffer for this name is allocated from heap memory. The caller is responsible for freeing it. In case of an error, a NULL pointer is returned. </dd></dl>

<p>Definition at line <a class="el" href="ftpd_8c_source.html#l00367">367</a> of file <a class="el" href="ftpd_8c_source.html">ftpd.c</a>.</p>

<p>References <a class="el" href="malloc_8c_source.html#l00064">malloc()</a>, <a class="el" href="strcpy_8c_source.html#l00089">strcpy()</a>, and <a class="el" href="strlen_8c_source.html#l00087">strlen()</a>.</p>

<p>Referenced by <a class="el" href="ftpd_8c_source.html#l01208">NutFtpProcessRequest()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__xg_f_t_p_d_gaad7b7118c7f21feb01fc6db7b8b0e615_cgraph.png" border="0" usemap="#group__xg_f_t_p_d_gaad7b7118c7f21feb01fc6db7b8b0e615_cgraph" alt=""/></div>
<map name="group__xg_f_t_p_d_gaad7b7118c7f21feb01fc6db7b8b0e615_cgraph" id="group__xg_f_t_p_d_gaad7b7118c7f21feb01fc6db7b8b0e615_cgraph">
<area shape="rect" id="node3" href="group__xg_heap.html#ga381d0a123dbf80ca3efe2614aa826e08" title="Allocate a block from heap memory." alt="" coords="192,5,251,30"/><area shape="rect" id="node5" href="group__xg_crt_string.html#ga5f9abaa6c5ffa26025ca901c14cb1056" title="Copy a string." alt="" coords="194,54,249,79"/><area shape="rect" id="node7" href="group__xg_crt_string.html#ga7b9fc4834c90ac78977b5fbb3076c5ac" title="Compute the length of a NUL terminated string." alt="" coords="195,103,248,129"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga78bc9b7d484569dce570bf8eef609eb1"></a><!-- doxytag: member="ftpd.c::NutFtpDataConnect" ref="ga78bc9b7d484569dce570bf8eef609eb1" args="(FTPSESSION *session)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__xg_tcp_socket.html#gaffc7ada36497e0b38f338c1aa1b5e394">TCPSOCKET</a>* NutFtpDataConnect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *&#160;</td>
          <td class="paramname"><em>session</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Establish an FTP connection for data transfer. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">session</td><td>Pointer to an <a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> structure, obtained by a previous call to <a class="el" href="group__xg_f_t_p_d.html#ga9c2f592b2642d2091ea274362d2ed6bc" title="Open an FTP server session.">NutFtpOpenSession()</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Socket descriptor of the newly created data connection or 0 if we were unable to establish the connection. </dd></dl>

<p>Definition at line <a class="el" href="ftpd_8c_source.html#l00465">465</a> of file <a class="el" href="ftpd_8c_source.html">ftpd.c</a>.</p>

<p>References <a class="el" href="ftpd_8h_source.html#l00087">FTPSESSION::ftp_data_ip</a>, <a class="el" href="ftpd_8h_source.html#l00089">FTPSESSION::ftp_data_port</a>, <a class="el" href="ftpd_8h_source.html#l00091">FTPSESSION::ftp_maxseg</a>, <a class="el" href="ftpd_8h_source.html#l00110">FTPSESSION::ftp_passive</a>, <a class="el" href="tcpsock_8c_source.html#l00669">NutTcpAccept()</a>, <a class="el" href="tcpsock_8c_source.html#l00855">NutTcpCloseSocket()</a>, <a class="el" href="tcpsock_8c_source.html#l00593">NutTcpConnect()</a>, <a class="el" href="tcpsock_8c_source.html#l00373">NutTcpCreateSocket()</a>, <a class="el" href="tcpsock_8c_source.html#l00911">NutTcpError()</a>, <a class="el" href="tcpsock_8c_source.html#l00433">NutTcpSetSockOpt()</a>, <a class="el" href="printf__p_8c_source.html#l00070">printf_P()</a>, <a class="el" href="arm_8h_source.html#l00157">prog_char</a>, <a class="el" href="puts__p_8c_source.html#l00061">puts_P()</a>, and <a class="el" href="netinet_2tcp_8h_source.html#l00218">TCP_MAXSEG</a>.</p>

<p>Referenced by <a class="el" href="ftpd_8c_source.html#l00860">NutFtpTransferDirectoryOptions()</a>, and <a class="el" href="ftpd_8c_source.html#l00741">NutFtpTransferFile()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__xg_f_t_p_d_ga78bc9b7d484569dce570bf8eef609eb1_cgraph.png" border="0" usemap="#group__xg_f_t_p_d_ga78bc9b7d484569dce570bf8eef609eb1_cgraph" alt=""/></div>
<map name="group__xg_f_t_p_d_ga78bc9b7d484569dce570bf8eef609eb1_cgraph" id="group__xg_f_t_p_d_ga78bc9b7d484569dce570bf8eef609eb1_cgraph">
<area shape="rect" id="node3" href="group__xg_tcp_socket.html#ga3859b3c38665aedc32608827f931498a" title="Wait for incoming connect from a remote socket." alt="" coords="203,183,301,209"/><area shape="rect" id="node27" href="group__xg_tcp_socket.html#ga09d94fd887683a0837e06c2cc08fc7ba" title="Close TCP socket." alt="" coords="379,307,509,333"/><area shape="rect" id="node50" href="group__xg_tcp_socket.html#ga48ff1e877483a0833cf38e428eac6457" title="Connect to a remote socket." alt="" coords="199,258,305,283"/><area shape="rect" id="node57" href="group__xg_tcp_socket.html#ga6bf8ec59828c5a0e38423293b4dfe8e6" title="Create a TCP socket." alt="" coords="185,505,319,530"/><area shape="rect" id="node116" href="group__xg_tcp_socket.html#ga3953f713369f008979d738b32d8fc255" title="Return specific code of the last error." alt="" coords="208,653,296,678"/><area shape="rect" id="node118" href="group__xg_tcp_socket.html#gab3bd1c81e2046e53cde6973b9c6bf6f4" title="Set value of a TCP socket option." alt="" coords="189,702,315,727"/><area shape="rect" id="node120" href="group__xg_crt_stdio.html#ga30b0c3fa763cfd9c65416be0c3956aa1" title="Print formatted output to the standard output stream." alt="" coords="220,554,284,579"/><area shape="rect" id="node129" href="group__xg_crt_stdio.html#ga8263f041e271555a786c93572c45bb81" title="Write a string from program memory to stdout." alt="" coords="221,603,283,629"/><area shape="rect" id="node5" href="group__xg_t_c_p.html#gac5d18facd9bf6a983652d415fc806083" title="Initiated by the application." alt="" coords="569,122,762,147"/><area shape="rect" id="node7" href="group__xg_event.html#ga79af18e0842286182af7c5b647526ce5" title="Wait for an event in a specified queue." alt="" coords="834,105,929,130"/><area shape="rect" id="node9" href="group__xg_thread.html#ga075836f9a2596c5983b7ba88420afd11" title="Give up the CPU." alt="" coords="1019,257,1125,282"/><area shape="rect" id="node11" href="group__xg_thread.html#gae45ebad9f604755d5c5ba8adaf9e4f89" title="Remove a thread from a specified queue." alt="" coords="1192,182,1355,207"/><area shape="rect" id="node13" href="group__xg_thread.html#ga4d2458fb9ec9d926a6f87706b19e7e06" title="Add a thread to a prioritiy ordered queue." alt="" coords="1197,119,1350,145"/><area shape="rect" id="node15" href="group__xg_thread.html#gaabfac60c4d51b57c2dc422d09a69df5b" title="Continue with the highest priority thread, which is ready to run." alt="" coords="1209,257,1337,282"/><area shape="rect" id="node21" href="group__xg_timer.html#ga91b42f5fd833e1b72c27b3bfb0ed0af7" title="Start a system timer." alt="" coords="1023,54,1121,79"/><area shape="rect" id="node23" href="group__xg_event.html#gaaa944c4484d068bdacd8220b7e081302" title="Timer callback in case of event timeout." alt="" coords="1014,5,1130,30"/><area shape="rect" id="node17" href="group__xg_nut_arch_arm_os_context.html#gad63408e1c4ef1c03d9f979ad2d31b7e0" title="Switch to another thread." alt="" coords="1403,637,1519,662"/><area shape="rect" id="node29" href="group__xg_tcp_socket.html#ga9e0cdc2012de837e6b81006b9b32ca12" title="Write to a socket." alt="" coords="602,625,729,650"/><area shape="rect" id="node37" href="group__xg_t_c_p.html#gae64ae871579ec8252d41240a947f1a5e" title="Socket close by application." alt="" coords="589,271,741,297"/><area shape="rect" id="node31" href="group__xg_heap.html#ga9f850d0608418aea291e4c0fdab93826" title="Return a block to heap memory." alt="" coords="1051,711,1093,737"/><area shape="rect" id="node33" href="group__xg_heap.html#ga381d0a123dbf80ca3efe2614aa826e08" title="Allocate a block from heap memory." alt="" coords="852,762,911,787"/><area shape="rect" id="node35" href="group__xg_crt_string.html#ga09a4c3953e2e41a212a73cf3df4c8c8e" title="memcpy" alt="" coords="847,661,916,686"/><area shape="rect" id="node40" href="group__xg_tcp_socket.html#ga551224f0a840a9cbf97b4d49dbc7c018" title="Destroy a previously allocated socket." alt="" coords="811,409,951,434"/><area shape="rect" id="node42" href="group__xg_tcp_socket.html#gae062b546a18e3a15d4fa87209d6160ca" title="NutTcpDiscardBuffers" alt="" coords="1001,458,1143,483"/><area shape="rect" id="node48" href="group__xg_crt_string.html#gaa4075a014de11292d9105188ddbeb216" title="Fill memory region with a specific byte value." alt="" coords="1038,409,1106,434"/><area shape="rect" id="node44" href="group__xgnetbuf.html#ga2e14a135152823a816388f50bdb3ea3f" title="Release a network buffer structure." alt="" coords="1222,458,1325,483"/><area shape="rect" id="node52" href="group__xg_i_p.html#ga2534f1918ba2a63523659fc005344b25" title="Find a device associated with a particular IP route." alt="" coords="386,258,502,283"/><area shape="rect" id="node54" href="group__xg_t_c_p.html#ga77edd214cf89e11aebfc556b6879e487" title="Initiated by the application." alt="" coords="575,189,755,214"/><area shape="rect" id="node59" href="group__xg_i_p.html#ga7606caeb3d5b7bdacaa52b35de179685" title="Register an additional Ethernet protocol handler." alt="" coords="373,406,515,431"/><area shape="rect" id="node61" href="group__xg_t_c_p.html#gae07d8163a48c288273133b44e1aa1cee" title="Process incoming TCP segments from IP layer." alt="" coords="400,505,488,530"/><area shape="rect" id="node77" href="group__xg_t_c_p.html#gaf4276abdc9e3a9912632c592769eb13a" title="Start TCP state machine." alt="" coords="369,655,519,681"/><area shape="rect" id="node97" href="group__xg_timer.html#ga940f66286dcf28b8280e41b605064446" title="Return the number of system timer ticks." alt="" coords="1015,786,1129,811"/><area shape="rect" id="node101" href="group__xg_tcp_socket.html#gac4ab675d039b53314b37b12b70afefd5" title="Read from virtual socket device." alt="" coords="380,357,508,382"/><area shape="rect" id="node110" href="group__xg_tcp_socket.html#ga71f2a257f72723170c19ad7b5d9f991f" title="Write to device." alt="" coords="373,606,515,631"/><area shape="rect" id="node113" href="group__xg_tcp_socket.html#gaceb6b4b842cb85f48f6ca163c7aa1ce0" title="Driver control function." alt="" coords="381,455,507,481"/><area shape="rect" id="node63" href="group__xg_t_c_p.html#ga3402b7ed85f67803cc473f636290d22a" title="Process incoming TCP segments." alt="" coords="598,383,733,409"/><area shape="rect" id="node65" href="sock__var_8h.html#a47fb9b8095e5720d1cf8bc1b9db8df2c" title="Reject an incoming segment." alt="" coords="833,510,929,535"/><area shape="rect" id="node72" href="group__xg_event.html#gad519c6b1469621d2b3909fe58d1ac40b" title="Post an event to a specified queue." alt="" coords="833,257,929,282"/><area shape="rect" id="node67" href="netdebug_8h.html#a13243e59b9857a6c4ee17e4cee73af51" title="NutDumpTcpHeader" alt="" coords="1004,610,1140,635"/><area shape="rect" id="node69" href="group__xg_crt_stdio.html#ga2f7351ee13f3f4c465c65e849a12a3fd" title="Print formatted data to a stream." alt="" coords="1247,787,1299,813"/><area shape="rect" id="node79" href="group__xg_nut_arch_arm_os_context.html#ga8357f2631f0c0a9444844e5ea64be50d" title="Create a new thread." alt="" coords="607,863,724,889"/><area shape="rect" id="node91" href="group__xg_t_c_p.html#gac0a5f54bde677941f7cf555c2f89a367" title="TCP state machine thread." alt="" coords="625,535,705,561"/><area shape="rect" id="node85" href="osdebug_8h.html#acc9b4c9e94b94936592ec3b84625b1fb" title="Dump system thread list." alt="" coords="814,1117,949,1142"/><area shape="rect" id="node87" href="group__xg_crt_stdio.html#gabe6299d5823dd023e610aaa619735a3f" title="Write a character to a stream." alt="" coords="1048,1117,1096,1142"/><area shape="rect" id="node89" href="io_8h.html#a901fa187b164dd6faaac1b62c88614b5" title="_write" alt="" coords="1246,1091,1301,1117"/><area shape="rect" id="node95" href="group__xg_timer.html#gac1887264221d66b13d1e86d034227f1c" title="Return the milliseconds counter value." alt="" coords="837,611,925,637"/><area shape="rect" id="node103" href="group__xg_tcp_socket.html#gab08d3e50fd09da18b966af0dd23fa4aa" title="Receive data on a connected TCP socket." alt="" coords="613,321,718,346"/><area shape="rect" id="node122" href="group__xg_crt_stdio.html#ga695a74f3f80d1922259905472d7a4863" title="Write argument list to a stream using a given format." alt="" coords="408,965,480,990"/><area shape="rect" id="node124" href="group__xg_crt_stdio.html#ga651a41ea9a05d4294a58c1ec83e13f18" title="Write formatted data using a given output function." alt="" coords="641,813,690,838"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga9e41cc8f252b71d222f0d79da1899eaf"></a><!-- doxytag: member="ftpd.c::NutRegisterFtpRoot" ref="ga9e41cc8f252b71d222f0d79da1899eaf" args="(CONST char *path)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NutRegisterFtpRoot </td>
          <td>(</td>
          <td class="paramtype">CONST char *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Register the FTP server's root directory. </p>
<p>Only one root directory is supported. Subsequent calls will override previous settings.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>Path name of the root directory. Must include the device name followed by a colon followed by an absolute directory path. May be set to NULL for the default <a class="el" href="group__xg_f_t_p_d.html#ga7c5a64c63f20eb3e3ebab183895a8081" title="Default FTP root path.">FTP_ROOTPATH</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 on success, -1 otherwise. </dd></dl>

<p>Definition at line <a class="el" href="ftpd_8c_source.html#l00516">516</a> of file <a class="el" href="ftpd_8c_source.html">ftpd.c</a>.</p>

<p>References <a class="el" href="malloc_8c_source.html#l00084">free()</a>, <a class="el" href="ftpd_8c_source.html#l00138">FTP_ROOTPATH</a>, <a class="el" href="malloc_8c_source.html#l00064">malloc()</a>, <a class="el" href="strchr_8c_source.html#l00090">strchr()</a>, <a class="el" href="strcpy_8c_source.html#l00089">strcpy()</a>, and <a class="el" href="strlen_8c_source.html#l00087">strlen()</a>.</p>

<p>Referenced by <a class="el" href="ftpserv_8c_source.html#l00453">main()</a>, and <a class="el" href="ftpd_8c_source.html#l01363">NutFtpServerSession()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__xg_f_t_p_d_ga9e41cc8f252b71d222f0d79da1899eaf_cgraph.png" border="0" usemap="#group__xg_f_t_p_d_ga9e41cc8f252b71d222f0d79da1899eaf_cgraph" alt=""/></div>
<map name="group__xg_f_t_p_d_ga9e41cc8f252b71d222f0d79da1899eaf_cgraph" id="group__xg_f_t_p_d_ga9e41cc8f252b71d222f0d79da1899eaf_cgraph">
<area shape="rect" id="node3" href="group__xg_heap.html#ga9f850d0608418aea291e4c0fdab93826" title="Return a block to heap memory." alt="" coords="192,5,235,30"/><area shape="rect" id="node5" href="group__xg_heap.html#ga381d0a123dbf80ca3efe2614aa826e08" title="Allocate a block from heap memory." alt="" coords="184,54,243,79"/><area shape="rect" id="node7" href="group__xg_crt_string.html#ga36feeebd3867be51852ba56dee5e53eb" title="Locate the first occurrence of a character in a string." alt="" coords="187,103,240,129"/><area shape="rect" id="node9" href="group__xg_crt_string.html#ga5f9abaa6c5ffa26025ca901c14cb1056" title="Copy a string." alt="" coords="186,153,241,178"/><area shape="rect" id="node11" href="group__xg_crt_string.html#ga7b9fc4834c90ac78977b5fbb3076c5ac" title="Compute the length of a NUL terminated string." alt="" coords="187,202,240,227"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga1be14e9d89556bb62edccd798e2f0713"></a><!-- doxytag: member="ftpd.c::NutRegisterFtpUser" ref="ga1be14e9d89556bb62edccd798e2f0713" args="(CONST char *user, CONST char *pass)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NutRegisterFtpUser </td>
          <td>(</td>
          <td class="paramtype">CONST char *&#160;</td>
          <td class="paramname"><em>user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CONST char *&#160;</td>
          <td class="paramname"><em>pass</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Register an FTP user. </p>
<p>Only one username/password pair is supported. Subsequent calls will override previous settings.</p>
<dl class="warning"><dt><b>Warning:</b></dt><dd>Not successfully registering any will make file systems accessible by anyone.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">user</td><td>User's name. </td></tr>
    <tr><td class="paramname">pass</td><td>Uncrypted password for the specified user.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 on success. -1 is returned on failures, in which case no protection may be assumed. </dd></dl>

<p>Definition at line <a class="el" href="ftpd_8c_source.html#l00576">576</a> of file <a class="el" href="ftpd_8c_source.html">ftpd.c</a>.</p>

<p>References <a class="el" href="malloc_8c_source.html#l00084">free()</a>, and <a class="el" href="c_2string_2strdup_8c_source.html#l00090">strdup()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__xg_f_t_p_d_ga1be14e9d89556bb62edccd798e2f0713_cgraph.png" border="0" usemap="#group__xg_f_t_p_d_ga1be14e9d89556bb62edccd798e2f0713_cgraph" alt=""/></div>
<map name="group__xg_f_t_p_d_ga1be14e9d89556bb62edccd798e2f0713_cgraph" id="group__xg_f_t_p_d_ga1be14e9d89556bb62edccd798e2f0713_cgraph">
<area shape="rect" id="node3" href="group__xg_heap.html#ga9f850d0608418aea291e4c0fdab93826" title="Return a block to heap memory." alt="" coords="195,5,237,30"/><area shape="rect" id="node5" href="group__xg_crt_string.html#ga608db5821b635f6a719ecb7f76d4a5da" title="Create a copy of a string." alt="" coords="187,54,245,79"/><area shape="rect" id="node7" href="group__xg_crt_string.html#ga7b9fc4834c90ac78977b5fbb3076c5ac" title="Compute the length of a NUL terminated string." alt="" coords="301,5,355,30"/><area shape="rect" id="node9" href="group__xg_heap.html#ga381d0a123dbf80ca3efe2614aa826e08" title="Allocate a block from heap memory." alt="" coords="299,54,357,79"/><area shape="rect" id="node11" href="group__xg_crt_string.html#ga09a4c3953e2e41a212a73cf3df4c8c8e" title="memcpy" alt="" coords="293,103,363,129"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga9c2f592b2642d2091ea274362d2ed6bc"></a><!-- doxytag: member="ftpd.c::NutFtpOpenSession" ref="ga9c2f592b2642d2091ea274362d2ed6bc" args="(TCPSOCKET *sock)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a>* NutFtpOpenSession </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__xg_tcp_socket.html#gaffc7ada36497e0b38f338c1aa1b5e394">TCPSOCKET</a> *&#160;</td>
          <td class="paramname"><em>sock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Open an FTP server session. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">sock</td><td>Socket of an established TCP connection.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Pointer to an <a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> structure, which can be used in subsequent API calls. NULL is returned in case of any error. </dd></dl>

<p>Definition at line <a class="el" href="ftpd_8c_source.html#l00609">609</a> of file <a class="el" href="ftpd_8c_source.html">ftpd.c</a>.</p>

<p>References <a class="el" href="fdopen_8c_source.html#l00081">_fdopen()</a>, <a class="el" href="malloc_8c_source.html#l00084">free()</a>, <a class="el" href="ftpd_8h_source.html#l00085">FTPSESSION::ftp_cwd</a>, <a class="el" href="ftpd_8h_source.html#l00089">FTPSESSION::ftp_data_port</a>, <a class="el" href="ftpd_8c_source.html#l00147">FTP_DATA_PORT</a>, <a class="el" href="ftpd_8h_source.html#l00091">FTPSESSION::ftp_maxseg</a>, <a class="el" href="ftpd_8h_source.html#l00081">FTPSESSION::ftp_sock</a>, <a class="el" href="ftpd_8h_source.html#l00083">FTPSESSION::ftp_stream</a>, <a class="el" href="malloc_8c_source.html#l00064">malloc()</a>, <a class="el" href="memset_8c_source.html#l00088">memset()</a>, and <a class="el" href="sock__var_8h_source.html#l00251">tcp_socket::so_mss</a>.</p>

<p>Referenced by <a class="el" href="ftpd_8c_source.html#l01363">NutFtpServerSession()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__xg_f_t_p_d_ga9c2f592b2642d2091ea274362d2ed6bc_cgraph.png" border="0" usemap="#group__xg_f_t_p_d_ga9c2f592b2642d2091ea274362d2ed6bc_cgraph" alt=""/></div>
<map name="group__xg_f_t_p_d_ga9c2f592b2642d2091ea274362d2ed6bc_cgraph" id="group__xg_f_t_p_d_ga9c2f592b2642d2091ea274362d2ed6bc_cgraph">
<area shape="rect" id="node3" href="group__xg_crt_stdio.html#ga907a98011e3468d951740abecb768685" title="Open a stream associated with a file, device or socket descriptor." alt="" coords="191,5,257,30"/><area shape="rect" id="node7" href="group__xg_heap.html#ga381d0a123dbf80ca3efe2614aa826e08" title="Allocate a block from heap memory." alt="" coords="309,54,368,79"/><area shape="rect" id="node9" href="group__xg_heap.html#ga9f850d0608418aea291e4c0fdab93826" title="Return a block to heap memory." alt="" coords="203,106,245,131"/><area shape="rect" id="node12" href="group__xg_crt_string.html#gaa4075a014de11292d9105188ddbeb216" title="Fill memory region with a specific byte value." alt="" coords="190,155,258,181"/><area shape="rect" id="node5" href="group__xg_crt_stdio.html#ga6abcc06d7a67fdf4029ec5dc3e06cdcd" title="_fmode" alt="" coords="307,5,371,30"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga4e8a0adc4680aa66e9d4d17fdc6e985d"></a><!-- doxytag: member="ftpd.c::NutFtpCloseSession" ref="ga4e8a0adc4680aa66e9d4d17fdc6e985d" args="(FTPSESSION *session)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void NutFtpCloseSession </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *&#160;</td>
          <td class="paramname"><em>session</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Close an FTP server session. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">session</td><td>Pointer to an <a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> structure, obtained by a previous call to <a class="el" href="group__xg_f_t_p_d.html#ga9c2f592b2642d2091ea274362d2ed6bc" title="Open an FTP server session.">NutFtpOpenSession()</a>. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="ftpd_8c_source.html#l00650">650</a> of file <a class="el" href="ftpd_8c_source.html">ftpd.c</a>.</p>

<p>References <a class="el" href="fclose_8c_source.html#l00076">fclose()</a>, <a class="el" href="malloc_8c_source.html#l00084">free()</a>, <a class="el" href="ftpd_8h_source.html#l00085">FTPSESSION::ftp_cwd</a>, <a class="el" href="ftpd_8h_source.html#l00114">FTPSESSION::ftp_renamesource</a>, and <a class="el" href="ftpd_8h_source.html#l00083">FTPSESSION::ftp_stream</a>.</p>

<p>Referenced by <a class="el" href="ftpd_8c_source.html#l01363">NutFtpServerSession()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__xg_f_t_p_d_ga4e8a0adc4680aa66e9d4d17fdc6e985d_cgraph.png" border="0" usemap="#group__xg_f_t_p_d_ga4e8a0adc4680aa66e9d4d17fdc6e985d_cgraph" alt=""/></div>
<map name="group__xg_f_t_p_d_ga4e8a0adc4680aa66e9d4d17fdc6e985d_cgraph" id="group__xg_f_t_p_d_ga4e8a0adc4680aa66e9d4d17fdc6e985d_cgraph">
<area shape="rect" id="node3" href="group__xg_crt_stdio.html#ga76370407f9ab0402564c2bb9bc9664e0" title="Close a stream." alt="" coords="193,5,247,30"/><area shape="rect" id="node7" href="group__xg_heap.html#ga9f850d0608418aea291e4c0fdab93826" title="Return a block to heap memory." alt="" coords="304,54,347,79"/><area shape="rect" id="node5" href="group__xg_crt_lowio.html#ga58a559c63748012aab165d5f82af766d" title="Close a file, device or socket." alt="" coords="296,5,355,30"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga6fe36e83d24072ff6fb7940252c51a6e"></a><!-- doxytag: member="ftpd.c::NutFtpProcessCwd" ref="ga6fe36e83d24072ff6fb7940252c51a6e" args="(FTPSESSION *session, char *path)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NutFtpProcessCwd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Process an FTP client's CWD command. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">session</td><td>Pointer to an <a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> structure, obtained by a previous call to <a class="el" href="group__xg_f_t_p_d.html#ga9c2f592b2642d2091ea274362d2ed6bc" title="Open an FTP server session.">NutFtpOpenSession()</a>. </td></tr>
    <tr><td class="paramname">path</td><td>Full absolute path name of the directory.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if the command has been processed or -1 if the session has been aborted. </dd></dl>

<p>Definition at line <a class="el" href="ftpd_8c_source.html#l00675">675</a> of file <a class="el" href="ftpd_8c_source.html">ftpd.c</a>.</p>

<p>References <a class="el" href="malloc_8c_source.html#l00084">free()</a>, <a class="el" href="ftpd_8h_source.html#l00085">FTPSESSION::ftp_cwd</a>, <a class="el" href="ftpd_8c_source.html#l00309">NutFtpRespondBad()</a>, <a class="el" href="ftpd_8c_source.html#l00287">NutFtpRespondOk()</a>, <a class="el" href="stat_8h_source.html#l00079">S_ISDIR</a>, <a class="el" href="stat_8h_source.html#l00073">stat::st_mode</a>, <a class="el" href="pathops_8c_source.html#l00196">stat()</a>, <a class="el" href="strcmp_8c_source.html#l00091">strcmp()</a>, <a class="el" href="c_2string_2strdup_8c_source.html#l00090">strdup()</a>, and <a class="el" href="strlen_8c_source.html#l00087">strlen()</a>.</p>

<p>Referenced by <a class="el" href="ftpd_8c_source.html#l01208">NutFtpProcessRequest()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__xg_f_t_p_d_ga6fe36e83d24072ff6fb7940252c51a6e_cgraph.png" border="0" usemap="#group__xg_f_t_p_d_ga6fe36e83d24072ff6fb7940252c51a6e_cgraph" alt=""/></div>
<map name="group__xg_f_t_p_d_ga6fe36e83d24072ff6fb7940252c51a6e_cgraph" id="group__xg_f_t_p_d_ga6fe36e83d24072ff6fb7940252c51a6e_cgraph">
<area shape="rect" id="node3" href="group__xg_heap.html#ga9f850d0608418aea291e4c0fdab93826" title="Return a block to heap memory." alt="" coords="228,5,271,30"/><area shape="rect" id="node5" href="group__xg_f_t_p_d.html#ga8a198e099aa073c08ae2203233bce632" title="Send a negative response." alt="" coords="184,54,315,79"/><area shape="rect" id="node11" href="group__xg_f_t_p_d.html#gaedf4862063aad8c80cf50025318e25de" title="Send a positive response." alt="" coords="187,103,311,129"/><area shape="rect" id="node14" href="group__xg_f_s.html#ga91b48d99128dd507e20c8adcc22deeb2" title="Get information about a specified file." alt="" coords="228,153,271,178"/><area shape="rect" id="node18" href="group__xg_crt_string.html#gaafa356ff1e215725834bc57e8e4fae60" title="Compare two strings." alt="" coords="531,178,591,203"/><area shape="rect" id="node21" href="group__xg_crt_string.html#ga608db5821b635f6a719ecb7f76d4a5da" title="Create a copy of a string." alt="" coords="221,305,278,330"/><area shape="rect" id="node23" href="group__xg_crt_string.html#ga7b9fc4834c90ac78977b5fbb3076c5ac" title="Compute the length of a NUL terminated string." alt="" coords="396,254,449,279"/><area shape="rect" id="node7" href="group__xg_crt_stdio.html#gadb974f28765a31026ee6bf71d5175951" title="Flush a stream." alt="" coords="397,103,449,129"/><area shape="rect" id="node9" href="io_8h.html#a901fa187b164dd6faaac1b62c88614b5" title="_write" alt="" coords="534,103,589,129"/><area shape="rect" id="node16" href="group__xg_device.html#ga913130771bea4118ae58e2a0ccb50a4d" title="Find device entry by name." alt="" coords="363,153,482,178"/><area shape="rect" id="node25" href="group__xg_heap.html#ga381d0a123dbf80ca3efe2614aa826e08" title="Allocate a block from heap memory." alt="" coords="393,303,452,329"/><area shape="rect" id="node27" href="group__xg_crt_string.html#ga09a4c3953e2e41a212a73cf3df4c8c8e" title="memcpy" alt="" coords="388,353,457,378"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga8c45cdbeb27a773812a7eb6cca53125b"></a><!-- doxytag: member="ftpd.c::NutFtpProcessDelete" ref="ga8c45cdbeb27a773812a7eb6cca53125b" args="(FTPSESSION *session, char *path)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NutFtpProcessDelete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Process an FTP client's DELE command. </p>
<p>Causes the specified file to be deleted.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">session</td><td>Pointer to an <a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> structure, obtained by a previous call to <a class="el" href="group__xg_f_t_p_d.html#ga9c2f592b2642d2091ea274362d2ed6bc" title="Open an FTP server session.">NutFtpOpenSession()</a>. </td></tr>
    <tr><td class="paramname">path</td><td>Full absolute path name of the file.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if the command has been processed or -1 if the session has been aborted. </dd></dl>

<p>Definition at line <a class="el" href="ftpd_8c_source.html#l00716">716</a> of file <a class="el" href="ftpd_8c_source.html">ftpd.c</a>.</p>

<p>References <a class="el" href="ftpd_8c_source.html#l00309">NutFtpRespondBad()</a>, <a class="el" href="ftpd_8c_source.html#l00287">NutFtpRespondOk()</a>, and <a class="el" href="pathops_8c_source.html#l00185">unlink()</a>.</p>

<p>Referenced by <a class="el" href="ftpd_8c_source.html#l01208">NutFtpProcessRequest()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__xg_f_t_p_d_ga8c45cdbeb27a773812a7eb6cca53125b_cgraph.png" border="0" usemap="#group__xg_f_t_p_d_ga8c45cdbeb27a773812a7eb6cca53125b_cgraph" alt=""/></div>
<map name="group__xg_f_t_p_d_ga8c45cdbeb27a773812a7eb6cca53125b_cgraph" id="group__xg_f_t_p_d_ga8c45cdbeb27a773812a7eb6cca53125b_cgraph">
<area shape="rect" id="node3" href="group__xg_f_t_p_d.html#ga8a198e099aa073c08ae2203233bce632" title="Send a negative response." alt="" coords="195,5,325,30"/><area shape="rect" id="node9" href="group__xg_f_t_p_d.html#gaedf4862063aad8c80cf50025318e25de" title="Send a positive response." alt="" coords="198,54,322,79"/><area shape="rect" id="node12" href="group__xg_f_s.html#gaf5b5161e115b870e4c19cf3bbb6ed02d" title="Remove a file entry." alt="" coords="233,103,287,129"/><area shape="rect" id="node5" href="group__xg_crt_stdio.html#gadb974f28765a31026ee6bf71d5175951" title="Flush a stream." alt="" coords="374,30,426,55"/><area shape="rect" id="node7" href="io_8h.html#a901fa187b164dd6faaac1b62c88614b5" title="_write" alt="" coords="475,30,530,55"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga80900fe10a1f7780a461127c77850275"></a><!-- doxytag: member="ftpd.c::NutFtpTransferFile" ref="ga80900fe10a1f7780a461127c77850275" args="(FTPSESSION *session, char *path, int mode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NutFtpTransferFile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Transfer a file to or from the FTP client. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">session</td><td>Pointer to an <a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> structure, obtained by a previous call to <a class="el" href="group__xg_f_t_p_d.html#ga9c2f592b2642d2091ea274362d2ed6bc" title="Open an FTP server session.">NutFtpOpenSession()</a>. </td></tr>
    <tr><td class="paramname">path</td><td>Full absolute path name of the file. </td></tr>
    <tr><td class="paramname">mode</td><td>If set to zero, the server will accept the data transferred via the data connection and to store the data as a file. If the file exists, then its contents will be replaced by the data being transferred. A new file is created, if the file does not already exist. If this parameter is not equal zero, then the server will transfer a copy of the specified file.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if the command has been processed or -1 if the session has been aborted. </dd></dl>

<p>Definition at line <a class="el" href="ftpd_8c_source.html#l00741">741</a> of file <a class="el" href="ftpd_8c_source.html">ftpd.c</a>.</p>

<p>References <a class="el" href="close_8c_source.html#l00075">_close()</a>, <a class="el" href="fcntl_8h_source.html#l00084">_O_BINARY</a>, <a class="el" href="fcntl_8h_source.html#l00080">_O_CREAT</a>, <a class="el" href="fcntl_8h_source.html#l00076">_O_RDONLY</a>, <a class="el" href="fcntl_8h_source.html#l00081">_O_TRUNC</a>, <a class="el" href="open_8c_source.html#l00094">_open()</a>, <a class="el" href="io_8h.html#aa7278892ff16de3dd3d00ff4a89d11e4">_read()</a>, <a class="el" href="io_8h.html#a901fa187b164dd6faaac1b62c88614b5">_write()</a>, <a class="el" href="malloc_8c_source.html#l00084">free()</a>, <a class="el" href="ftpd_8h_source.html#l00104">FTPSESSION::ftp_tran_mode</a>, <a class="el" href="malloc_8c_source.html#l00064">malloc()</a>, <a class="el" href="ftpd_8c_source.html#l00465">NutFtpDataConnect()</a>, <a class="el" href="ftpd_8c_source.html#l00309">NutFtpRespondBad()</a>, <a class="el" href="ftpd_8c_source.html#l00287">NutFtpRespondOk()</a>, <a class="el" href="ftpd_8c_source.html#l00331">NutFtpSendMode()</a>, <a class="el" href="timer_8c_source.html#l00628">NutSleep()</a>, <a class="el" href="tcpsock_8c_source.html#l00855">NutTcpCloseSocket()</a>, <a class="el" href="tcpsock_8c_source.html#l00762">NutTcpReceive()</a>, <a class="el" href="tcpsock_8c_source.html#l00692">NutTcpSend()</a>, <a class="el" href="icc_8h_source.html#l00136">printf</a>, <a class="el" href="arm_8h_source.html#l00157">prog_char</a>, <a class="el" href="puts__p_8c_source.html#l00061">puts_P()</a>, <a class="el" href="stat_8h_source.html#l00080">S_ISREG</a>, <a class="el" href="sock__var_8h_source.html#l00251">tcp_socket::so_mss</a>, <a class="el" href="stat_8h_source.html#l00073">stat::st_mode</a>, <a class="el" href="pathops_8c_source.html#l00196">stat()</a>, and <a class="el" href="pathops_8c_source.html#l00185">unlink()</a>.</p>

<p>Referenced by <a class="el" href="ftpd_8c_source.html#l01208">NutFtpProcessRequest()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__xg_f_t_p_d_ga80900fe10a1f7780a461127c77850275_cgraph.png" border="0" usemap="#group__xg_f_t_p_d_ga80900fe10a1f7780a461127c77850275_cgraph" alt=""/></div>
<map name="group__xg_f_t_p_d_ga80900fe10a1f7780a461127c77850275_cgraph" id="group__xg_f_t_p_d_ga80900fe10a1f7780a461127c77850275_cgraph">
<area shape="rect" id="node3" href="group__xg_crt_lowio.html#ga58a559c63748012aab165d5f82af766d" title="Close a file, device or socket." alt="" coords="215,5,273,30"/><area shape="rect" id="node5" href="group__xg_crt_lowio.html#gaa5b9fe6f8778481971c2e23a38348bb1" title="Open a file." alt="" coords="215,153,273,178"/><area shape="rect" id="node11" href="io_8h.html#aa7278892ff16de3dd3d00ff4a89d11e4" title="_read" alt="" coords="217,103,271,129"/><area shape="rect" id="node13" href="io_8h.html#a901fa187b164dd6faaac1b62c88614b5" title="_write" alt="" coords="811,1161,866,1186"/><area shape="rect" id="node15" href="group__xg_heap.html#ga9f850d0608418aea291e4c0fdab93826" title="Return a block to heap memory." alt="" coords="1044,203,1087,229"/><area shape="rect" id="node17" href="group__xg_heap.html#ga381d0a123dbf80ca3efe2614aa826e08" title="Allocate a block from heap memory." alt="" coords="1036,279,1095,305"/><area shape="rect" id="node19" href="group__xg_f_t_p_d.html#ga78bc9b7d484569dce570bf8eef609eb1" title="Establish an FTP connection for data transfer." alt="" coords="179,861,309,886"/><area shape="rect" id="node37" href="group__xg_tcp_socket.html#ga09d94fd887683a0837e06c2cc08fc7ba" title="Close TCP socket." alt="" coords="360,482,491,507"/><area shape="rect" id="node68" href="group__xg_tcp_socket.html#gab08d3e50fd09da18b966af0dd23fa4aa" title="Receive data on a connected TCP socket." alt="" coords="786,489,891,514"/><area shape="rect" id="node94" href="group__xg_crt_stdio.html#ga8263f041e271555a786c93572c45bb81" title="Write a string from program memory to stdout." alt="" coords="395,1110,456,1135"/><area shape="rect" id="node99" href="group__xg_f_t_p_d.html#ga8a198e099aa073c08ae2203233bce632" title="Send a negative response." alt="" coords="179,1211,309,1237"/><area shape="rect" id="node104" href="group__xg_f_t_p_d.html#gaedf4862063aad8c80cf50025318e25de" title="Send a positive response." alt="" coords="182,1261,306,1286"/><area shape="rect" id="node107" href="group__xg_f_t_p_d.html#ga7a2c08102e2c52355561453fcb15eb5e" title="Send a response including the specified transfer mode." alt="" coords="185,1310,303,1335"/><area shape="rect" id="node110" href="group__xg_timer.html#gafefcf81d05019a8134b49fa44d8c114a" title="Temporarily suspends the current thread." alt="" coords="1029,971,1102,997"/><area shape="rect" id="node120" href="group__xg_tcp_socket.html#gafc14dd4c910afbb9269adc5bebba0281" title="Send data on a connected TCP socket." alt="" coords="793,781,884,806"/><area shape="rect" id="node126" href="group__xg_f_s.html#ga91b48d99128dd507e20c8adcc22deeb2" title="Get information about a specified file." alt="" coords="223,54,265,79"/><area shape="rect" id="node129" href="group__xg_f_s.html#gaf5b5161e115b870e4c19cf3bbb6ed02d" title="Remove a file entry." alt="" coords="217,1359,271,1385"/><area shape="rect" id="node7" href="group__xg_device.html#ga913130771bea4118ae58e2a0ccb50a4d" title="Find device entry by name." alt="" coords="366,153,485,178"/><area shape="rect" id="node9" href="group__xg_crt_string.html#gaafa356ff1e215725834bc57e8e4fae60" title="Compare two strings." alt="" coords="587,153,647,178"/><area shape="rect" id="node21" href="group__xg_tcp_socket.html#ga3859b3c38665aedc32608827f931498a" title="Wait for incoming connect from a remote socket." alt="" coords="377,910,474,935"/><area shape="rect" id="node48" href="group__xg_tcp_socket.html#ga48ff1e877483a0833cf38e428eac6457" title="Connect to a remote socket." alt="" coords="372,1009,479,1034"/><area shape="rect" id="node55" href="group__xg_tcp_socket.html#ga6bf8ec59828c5a0e38423293b4dfe8e6" title="Create a TCP socket." alt="" coords="358,658,493,683"/><area shape="rect" id="node88" href="group__xg_tcp_socket.html#ga3953f713369f008979d738b32d8fc255" title="Return specific code of the last error." alt="" coords="381,861,469,886"/><area shape="rect" id="node90" href="group__xg_tcp_socket.html#gab3bd1c81e2046e53cde6973b9c6bf6f4" title="Set value of a TCP socket option." alt="" coords="363,959,488,985"/><area shape="rect" id="node92" href="group__xg_crt_stdio.html#ga30b0c3fa763cfd9c65416be0c3956aa1" title="Print formatted output to the standard output stream." alt="" coords="393,811,457,837"/><area shape="rect" id="node23" href="group__xg_t_c_p.html#gac5d18facd9bf6a983652d415fc806083" title="Initiated by the application." alt="" coords="742,854,935,879"/><area shape="rect" id="node25" href="group__xg_event.html#ga79af18e0842286182af7c5b647526ce5" title="Wait for an event in a specified queue." alt="" coords="1018,833,1113,858"/><area shape="rect" id="node27" href="group__xg_thread.html#ga075836f9a2596c5983b7ba88420afd11" title="Give up the CPU." alt="" coords="1197,743,1304,769"/><area shape="rect" id="node29" href="group__xg_thread.html#gae45ebad9f604755d5c5ba8adaf9e4f89" title="Remove a thread from a specified queue." alt="" coords="1355,845,1517,870"/><area shape="rect" id="node31" href="group__xg_thread.html#gaabfac60c4d51b57c2dc422d09a69df5b" title="Continue with the highest priority thread, which is ready to run." alt="" coords="1372,794,1500,819"/><area shape="rect" id="node34" href="group__xg_timer.html#ga91b42f5fd833e1b72c27b3bfb0ed0af7" title="Start a system timer." alt="" coords="1201,895,1300,921"/><area shape="rect" id="node39" href="group__xg_tcp_socket.html#ga9e0cdc2012de837e6b81006b9b32ca12" title="Write to a socket." alt="" coords="775,343,902,369"/><area shape="rect" id="node45" href="group__xg_t_c_p.html#gae64ae871579ec8252d41240a947f1a5e" title="Socket close by application." alt="" coords="763,565,915,590"/><area shape="rect" id="node43" href="group__xg_crt_string.html#ga09a4c3953e2e41a212a73cf3df4c8c8e" title="memcpy" alt="" coords="1401,387,1471,413"/><area shape="rect" id="node50" href="group__xg_i_p.html#ga2534f1918ba2a63523659fc005344b25" title="Find a device associated with a particular IP route." alt="" coords="559,1009,675,1034"/><area shape="rect" id="node52" href="group__xg_t_c_p.html#ga77edd214cf89e11aebfc556b6879e487" title="Initiated by the application." alt="" coords="749,903,929,929"/><area shape="rect" id="node57" href="group__xg_i_p.html#ga7606caeb3d5b7bdacaa52b35de179685" title="Register an additional Ethernet protocol handler." alt="" coords="546,757,689,782"/><area shape="rect" id="node59" href="group__xg_t_c_p.html#gae07d8163a48c288273133b44e1aa1cee" title="Process incoming TCP segments from IP layer." alt="" coords="1207,615,1295,641"/><area shape="rect" id="node64" href="group__xg_t_c_p.html#gaf4276abdc9e3a9912632c592769eb13a" title="Start TCP state machine." alt="" coords="542,806,693,831"/><area shape="rect" id="node66" href="group__xg_tcp_socket.html#gac4ab675d039b53314b37b12b70afefd5" title="Read from virtual socket device." alt="" coords="553,557,681,582"/><area shape="rect" id="node81" href="group__xg_tcp_socket.html#ga71f2a257f72723170c19ad7b5d9f991f" title="Write to device." alt="" coords="547,507,688,533"/><area shape="rect" id="node84" href="group__xg_tcp_socket.html#gaceb6b4b842cb85f48f6ca163c7aa1ce0" title="Driver control function." alt="" coords="555,658,680,683"/><area shape="rect" id="node86" href="group__xg_timer.html#ga940f66286dcf28b8280e41b605064446" title="Return the number of system timer ticks." alt="" coords="560,707,675,733"/><area shape="rect" id="node61" href="group__xgnetbuf.html#ga2e14a135152823a816388f50bdb3ea3f" title="Release a network buffer structure." alt="" coords="1385,489,1487,514"/><area shape="rect" id="node74" href="group__xg_t_c_p.html#ga9f691b65c2a49fbb90202f3d45c5b000" title="Initiated by the application." alt="" coords="984,438,1147,463"/><area shape="rect" id="node76" href="sock__var_8h.html#a2dbf5a03e60e89a32ffcfd429aa81775" title="Initiate TCP segment transmission." alt="" coords="1202,438,1299,463"/><area shape="rect" id="node96" href="group__xg_crt_stdio.html#gabe6299d5823dd023e610aaa619735a3f" title="Write a character to a stream." alt="" coords="593,1110,641,1135"/><area shape="rect" id="node101" href="group__xg_crt_stdio.html#gadb974f28765a31026ee6bf71d5175951" title="Flush a stream." alt="" coords="399,1235,451,1261"/><area shape="rect" id="node114" href="group__xg_thread.html#ga8730ce8319ffcb5e14a413458125e41a" title="Resume a previously suspended thread." alt="" coords="1195,1047,1306,1073"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga8048da8373cec681730f81e25269948f"></a><!-- doxytag: member="ftpd.c::NutFtpTransferDirectoryOptions" ref="ga8048da8373cec681730f81e25269948f" args="(FTPSESSION *session, char *path, int options)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NutFtpTransferDirectoryOptions </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Process an FTP client's LIST or NLST command. </p>
<p>Causes a directory listing to be sent to the client.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">session</td><td>Pointer to an <a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> structure, obtained by a previous call to <a class="el" href="group__xg_f_t_p_d.html#ga9c2f592b2642d2091ea274362d2ed6bc" title="Open an FTP server session.">NutFtpOpenSession()</a>. </td></tr>
    <tr><td class="paramname">path</td><td>Full absolute path name of the directory.</td></tr>
    <tr><td class="paramname">options</td><td>Set to 1 to incude filenames beginning with a "." (unix hidden files) </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if the command has been processed or -1 if the session has been aborted. </dd></dl>

<p>Definition at line <a class="el" href="ftpd_8c_source.html#l00860">860</a> of file <a class="el" href="ftpd_8c_source.html">ftpd.c</a>.</p>

<p>References <a class="el" href="fdopen_8c_source.html#l00081">_fdopen()</a>, <a class="el" href="dirent_8c_source.html#l00190">closedir()</a>, <a class="el" href="dirent_8h_source.html#l00124">dirent::d_name</a>, <a class="el" href="fclose_8c_source.html#l00076">fclose()</a>, <a class="el" href="h8_8h_source.html#l00077">fprintf_P</a>, <a class="el" href="fputc_8c_source.html#l00069">fputc()</a>, <a class="el" href="fputs_8c_source.html#l00070">fputs()</a>, <a class="el" href="malloc_8c_source.html#l00084">free()</a>, <a class="el" href="gmtime_8c_source.html#l00195">gmtime()</a>, <a class="el" href="malloc_8c_source.html#l00064">malloc()</a>, <a class="el" href="ftpd_8c_source.html#l00465">NutFtpDataConnect()</a>, <a class="el" href="ftpd_8c_source.html#l00309">NutFtpRespondBad()</a>, <a class="el" href="ftpd_8c_source.html#l00287">NutFtpRespondOk()</a>, <a class="el" href="ftpd_8c_source.html#l00331">NutFtpSendMode()</a>, <a class="el" href="tcpsock_8c_source.html#l00855">NutTcpCloseSocket()</a>, <a class="el" href="dirent_8c_source.html#l00130">opendir()</a>, <a class="el" href="arm_8h_source.html#l00157">prog_char</a>, <a class="el" href="dirent_8c_source.html#l00213">readdir()</a>, <a class="el" href="stat_8h_source.html#l00079">S_ISDIR</a>, <a class="el" href="stat_8h_source.html#l00073">stat::st_mode</a>, <a class="el" href="stat_8h_source.html#l00076">stat::st_mtime</a>, <a class="el" href="stat_8h_source.html#l00075">stat::st_size</a>, <a class="el" href="pathops_8c_source.html#l00196">stat()</a>, <a class="el" href="strcat_8c_source.html#l00092">strcat()</a>, <a class="el" href="strcpy_8c_source.html#l00089">strcpy()</a>, <a class="el" href="strlen_8c_source.html#l00087">strlen()</a>, <a class="el" href="time_8h_source.html#l00098">_tm::tm_hour</a>, <a class="el" href="time_8h_source.html#l00099">_tm::tm_mday</a>, <a class="el" href="time_8h_source.html#l00097">_tm::tm_min</a>, and <a class="el" href="time_8h_source.html#l00100">_tm::tm_mon</a>.</p>

<p>Referenced by <a class="el" href="ftpd_8c_source.html#l01208">NutFtpProcessRequest()</a>, and <a class="el" href="ftpd_8c_source.html#l00938">NutFtpTransferDirectory()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__xg_f_t_p_d_ga8048da8373cec681730f81e25269948f_cgraph.png" border="0" usemap="#group__xg_f_t_p_d_ga8048da8373cec681730f81e25269948f_cgraph" alt=""/></div>
<map name="group__xg_f_t_p_d_ga8048da8373cec681730f81e25269948f_cgraph" id="group__xg_f_t_p_d_ga8048da8373cec681730f81e25269948f_cgraph">
<area shape="rect" id="node3" href="group__xg_crt_stdio.html#ga907a98011e3468d951740abecb768685" title="Open a stream associated with a file, device or socket descriptor." alt="" coords="280,55,347,81"/><area shape="rect" id="node7" href="group__xg_heap.html#ga381d0a123dbf80ca3efe2614aa826e08" title="Allocate a block from heap memory." alt="" coords="1048,282,1107,307"/><area shape="rect" id="node9" href="group__xg_f_s_dir.html#gac0258906f9453b8abf03e945aa9c9676" title="Close a directory stream." alt="" coords="891,433,957,458"/><area shape="rect" id="node11" href="group__xg_heap.html#ga9f850d0608418aea291e4c0fdab93826" title="Return a block to heap memory." alt="" coords="1056,507,1099,533"/><area shape="rect" id="node13" href="group__xg_crt_stdio.html#ga76370407f9ab0402564c2bb9bc9664e0" title="Close a stream." alt="" coords="286,258,341,283"/><area shape="rect" id="node18" href="group__xg_crt_stdio.html#gabe6299d5823dd023e610aaa619735a3f" title="Write a character to a stream." alt="" coords="684,1030,732,1055"/><area shape="rect" id="node22" href="group__xg_crt_stdio.html#ga14acfae1988535199b72df91e18f72f3" title="Write a string to a stream." alt="" coords="289,1307,338,1333"/><area shape="rect" id="node25" href="group__xg_crt_string.html#ga7b9fc4834c90ac78977b5fbb3076c5ac" title="Compute the length of a NUL terminated string." alt="" coords="468,1333,521,1358"/><area shape="rect" id="node28" href="group__xg_crt_time.html#ga4bf5c1b09409b70880b839f0ff9aeb9a" title="Convert a time value to a structure." alt="" coords="281,1357,345,1382"/><area shape="rect" id="node33" href="group__xg_f_t_p_d.html#ga78bc9b7d484569dce570bf8eef609eb1" title="Establish an FTP connection for data transfer." alt="" coords="248,779,379,805"/><area shape="rect" id="node39" href="group__xg_tcp_socket.html#ga09d94fd887683a0837e06c2cc08fc7ba" title="Close TCP socket." alt="" coords="429,831,560,857"/><area shape="rect" id="node92" href="group__xg_f_t_p_d.html#ga8a198e099aa073c08ae2203233bce632" title="Send a negative response." alt="" coords="248,930,379,955"/><area shape="rect" id="node97" href="group__xg_f_t_p_d.html#gaedf4862063aad8c80cf50025318e25de" title="Send a positive response." alt="" coords="251,979,375,1005"/><area shape="rect" id="node100" href="group__xg_f_t_p_d.html#ga7a2c08102e2c52355561453fcb15eb5e" title="Send a response including the specified transfer mode." alt="" coords="255,881,372,906"/><area shape="rect" id="node104" href="group__xg_f_s_dir.html#ga10116e941a8dfaf7e3dd345f8963fdd0" title="Open a directory stream." alt="" coords="281,1155,345,1181"/><area shape="rect" id="node112" href="group__xg_crt_string.html#ga5f9abaa6c5ffa26025ca901c14cb1056" title="Copy a string." alt="" coords="467,1283,522,1309"/><area shape="rect" id="node114" href="group__xg_f_s_dir.html#gae4d263c5a1d3825c9511a898762513b2" title="Get the next directory entry." alt="" coords="283,1406,344,1431"/><area shape="rect" id="node116" href="group__xg_f_s.html#ga91b48d99128dd507e20c8adcc22deeb2" title="Get information about a specified file." alt="" coords="292,1081,335,1106"/><area shape="rect" id="node119" href="group__xg_crt_string.html#gae96d8d456d5360ebbe0d588475bd6381" title="Concatenate two strings." alt="" coords="287,1455,339,1481"/><area shape="rect" id="node5" href="group__xg_crt_stdio.html#ga6abcc06d7a67fdf4029ec5dc3e06cdcd" title="_fmode" alt="" coords="463,5,527,30"/><area shape="rect" id="node15" href="group__xg_crt_lowio.html#ga58a559c63748012aab165d5f82af766d" title="Close a file, device or socket." alt="" coords="465,207,524,233"/><area shape="rect" id="node20" href="io_8h.html#a901fa187b164dd6faaac1b62c88614b5" title="_write" alt="" coords="897,1055,951,1081"/><area shape="rect" id="node30" href="group__xg_crt_time.html#gaaa7031886dc783f76006ff1b370406b3" title="Convert a time value to a structure." alt="" coords="457,1434,532,1459"/><area shape="rect" id="node35" href="group__xg_tcp_socket.html#ga3859b3c38665aedc32608827f931498a" title="Wait for incoming connect from a remote socket." alt="" coords="446,683,543,709"/><area shape="rect" id="node56" href="group__xg_tcp_socket.html#ga48ff1e877483a0833cf38e428eac6457" title="Connect to a remote socket." alt="" coords="441,733,548,758"/><area shape="rect" id="node62" href="group__xg_tcp_socket.html#ga6bf8ec59828c5a0e38423293b4dfe8e6" title="Create a TCP socket." alt="" coords="427,555,562,581"/><area shape="rect" id="node80" href="group__xg_tcp_socket.html#ga3953f713369f008979d738b32d8fc255" title="Return specific code of the last error." alt="" coords="451,782,539,807"/><area shape="rect" id="node82" href="group__xg_tcp_socket.html#gab3bd1c81e2046e53cde6973b9c6bf6f4" title="Set value of a TCP socket option." alt="" coords="432,506,557,531"/><area shape="rect" id="node84" href="group__xg_crt_stdio.html#ga30b0c3fa763cfd9c65416be0c3956aa1" title="Print formatted output to the standard output stream." alt="" coords="463,881,527,906"/><area shape="rect" id="node89" href="group__xg_crt_stdio.html#ga8263f041e271555a786c93572c45bb81" title="Write a string from program memory to stdout." alt="" coords="464,930,525,955"/><area shape="rect" id="node37" href="group__xg_t_c_p.html#gac5d18facd9bf6a983652d415fc806083" title="Initiated by the application." alt="" coords="611,731,805,757"/><area shape="rect" id="node41" href="group__xg_tcp_socket.html#ga9e0cdc2012de837e6b81006b9b32ca12" title="Write to a socket." alt="" coords="861,631,987,657"/><area shape="rect" id="node47" href="group__xg_t_c_p.html#gae64ae871579ec8252d41240a947f1a5e" title="Socket close by application." alt="" coords="632,931,784,957"/><area shape="rect" id="node45" href="group__xg_crt_string.html#ga09a4c3953e2e41a212a73cf3df4c8c8e" title="memcpy" alt="" coords="1043,631,1112,657"/><area shape="rect" id="node49" href="group__xg_thread.html#ga075836f9a2596c5983b7ba88420afd11" title="Give up the CPU." alt="" coords="871,906,977,931"/><area shape="rect" id="node51" href="group__xg_tcp_socket.html#ga551224f0a840a9cbf97b4d49dbc7c018" title="Destroy a previously allocated socket." alt="" coords="854,955,994,981"/><area shape="rect" id="node54" href="group__xg_crt_string.html#gaa4075a014de11292d9105188ddbeb216" title="Fill memory region with a specific byte value." alt="" coords="1043,1094,1111,1119"/><area shape="rect" id="node58" href="group__xg_i_p.html#ga2534f1918ba2a63523659fc005344b25" title="Find a device associated with a particular IP route." alt="" coords="650,830,766,855"/><area shape="rect" id="node60" href="group__xg_t_c_p.html#ga77edd214cf89e11aebfc556b6879e487" title="Initiated by the application." alt="" coords="618,781,798,806"/><area shape="rect" id="node64" href="group__xg_i_p.html#ga7606caeb3d5b7bdacaa52b35de179685" title="Register an additional Ethernet protocol handler." alt="" coords="637,334,779,359"/><area shape="rect" id="node66" href="group__xg_t_c_p.html#gae07d8163a48c288273133b44e1aa1cee" title="Process incoming TCP segments from IP layer." alt="" coords="664,383,752,409"/><area shape="rect" id="node68" href="group__xg_t_c_p.html#gaf4276abdc9e3a9912632c592769eb13a" title="Start TCP state machine." alt="" coords="633,433,783,458"/><area shape="rect" id="node70" href="group__xg_tcp_socket.html#gac4ab675d039b53314b37b12b70afefd5" title="Read from virtual socket device." alt="" coords="644,482,772,507"/><area shape="rect" id="node73" href="group__xg_tcp_socket.html#ga71f2a257f72723170c19ad7b5d9f991f" title="Write to device." alt="" coords="637,682,779,707"/><area shape="rect" id="node76" href="group__xg_tcp_socket.html#gaceb6b4b842cb85f48f6ca163c7aa1ce0" title="Driver control function." alt="" coords="645,531,771,557"/><area shape="rect" id="node78" href="group__xg_timer.html#ga940f66286dcf28b8280e41b605064446" title="Return the number of system timer ticks." alt="" coords="651,581,765,606"/><area shape="rect" id="node86" href="group__xg_crt_stdio.html#ga695a74f3f80d1922259905472d7a4863" title="Write argument list to a stream using a given format." alt="" coords="672,981,744,1006"/><area shape="rect" id="node94" href="group__xg_crt_stdio.html#gadb974f28765a31026ee6bf71d5175951" title="Flush a stream." alt="" coords="469,979,521,1005"/><area shape="rect" id="node106" href="group__xg_device.html#ga913130771bea4118ae58e2a0ccb50a4d" title="Find device entry by name." alt="" coords="435,1081,554,1106"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaf4296b0e186e55d915fb843f7fde9b20"></a><!-- doxytag: member="ftpd.c::NutFtpTransferDirectory" ref="gaf4296b0e186e55d915fb843f7fde9b20" args="(FTPSESSION *session, char *path)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NutFtpTransferDirectory </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Process an FTP client's LIST or NLST command. </p>
<p>Causes a directory listing to be sent to the client.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">session</td><td>Pointer to an <a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> structure, obtained by a previous call to <a class="el" href="group__xg_f_t_p_d.html#ga9c2f592b2642d2091ea274362d2ed6bc" title="Open an FTP server session.">NutFtpOpenSession()</a>. </td></tr>
    <tr><td class="paramname">path</td><td>Full absolute path name of the directory.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if the command has been processed or -1 if the session has been aborted. </dd></dl>

<p>Definition at line <a class="el" href="ftpd_8c_source.html#l00938">938</a> of file <a class="el" href="ftpd_8c_source.html">ftpd.c</a>.</p>

<p>References <a class="el" href="ftpd_8c_source.html#l00860">NutFtpTransferDirectoryOptions()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__xg_f_t_p_d_gaf4296b0e186e55d915fb843f7fde9b20_cgraph.png" border="0" usemap="#group__xg_f_t_p_d_gaf4296b0e186e55d915fb843f7fde9b20_cgraph" alt=""/></div>
<map name="group__xg_f_t_p_d_gaf4296b0e186e55d915fb843f7fde9b20_cgraph" id="group__xg_f_t_p_d_gaf4296b0e186e55d915fb843f7fde9b20_cgraph">
<area shape="rect" id="node3" href="group__xg_f_t_p_d.html#ga8048da8373cec681730f81e25269948f" title="Process an FTP client&#39;s LIST or NLST command." alt="" coords="205,507,400,533"/><area shape="rect" id="node5" href="group__xg_crt_stdio.html#ga907a98011e3468d951740abecb768685" title="Open a stream associated with a file, device or socket descriptor." alt="" coords="480,55,547,81"/><area shape="rect" id="node9" href="group__xg_heap.html#ga381d0a123dbf80ca3efe2614aa826e08" title="Allocate a block from heap memory." alt="" coords="1235,481,1293,506"/><area shape="rect" id="node11" href="group__xg_f_s_dir.html#gac0258906f9453b8abf03e945aa9c9676" title="Close a directory stream." alt="" coords="1084,1107,1151,1133"/><area shape="rect" id="node13" href="group__xg_heap.html#ga9f850d0608418aea291e4c0fdab93826" title="Return a block to heap memory." alt="" coords="1243,1107,1285,1133"/><area shape="rect" id="node15" href="group__xg_crt_stdio.html#ga76370407f9ab0402564c2bb9bc9664e0" title="Close a stream." alt="" coords="486,158,541,183"/><area shape="rect" id="node20" href="group__xg_crt_stdio.html#gabe6299d5823dd023e610aaa619735a3f" title="Write a character to a stream." alt="" coords="884,258,932,283"/><area shape="rect" id="node24" href="group__xg_crt_stdio.html#ga14acfae1988535199b72df91e18f72f3" title="Write a string to a stream." alt="" coords="489,507,538,533"/><area shape="rect" id="node27" href="group__xg_crt_string.html#ga7b9fc4834c90ac78977b5fbb3076c5ac" title="Compute the length of a NUL terminated string." alt="" coords="668,407,721,433"/><area shape="rect" id="node30" href="group__xg_crt_time.html#ga4bf5c1b09409b70880b839f0ff9aeb9a" title="Convert a time value to a structure." alt="" coords="481,355,545,381"/><area shape="rect" id="node35" href="group__xg_f_t_p_d.html#ga78bc9b7d484569dce570bf8eef609eb1" title="Establish an FTP connection for data transfer." alt="" coords="448,657,579,682"/><area shape="rect" id="node41" href="group__xg_tcp_socket.html#ga09d94fd887683a0837e06c2cc08fc7ba" title="Close TCP socket." alt="" coords="629,905,760,930"/><area shape="rect" id="node89" href="group__xg_f_t_p_d.html#ga8a198e099aa073c08ae2203233bce632" title="Send a negative response." alt="" coords="448,306,579,331"/><area shape="rect" id="node94" href="group__xg_f_t_p_d.html#gaedf4862063aad8c80cf50025318e25de" title="Send a positive response." alt="" coords="451,207,575,233"/><area shape="rect" id="node97" href="group__xg_f_t_p_d.html#ga7a2c08102e2c52355561453fcb15eb5e" title="Send a response including the specified transfer mode." alt="" coords="455,257,572,282"/><area shape="rect" id="node101" href="group__xg_f_s_dir.html#ga10116e941a8dfaf7e3dd345f8963fdd0" title="Open a directory stream." alt="" coords="481,1133,545,1158"/><area shape="rect" id="node110" href="group__xg_crt_string.html#ga5f9abaa6c5ffa26025ca901c14cb1056" title="Copy a string." alt="" coords="667,1258,722,1283"/><area shape="rect" id="node112" href="group__xg_f_s_dir.html#gae4d263c5a1d3825c9511a898762513b2" title="Get the next directory entry." alt="" coords="483,1283,544,1309"/><area shape="rect" id="node114" href="group__xg_f_s.html#ga91b48d99128dd507e20c8adcc22deeb2" title="Get information about a specified file." alt="" coords="492,1234,535,1259"/><area shape="rect" id="node117" href="group__xg_crt_string.html#gae96d8d456d5360ebbe0d588475bd6381" title="Concatenate two strings." alt="" coords="487,1409,539,1434"/><area shape="rect" id="node7" href="group__xg_crt_stdio.html#ga6abcc06d7a67fdf4029ec5dc3e06cdcd" title="_fmode" alt="" coords="663,5,727,30"/><area shape="rect" id="node17" href="group__xg_crt_lowio.html#ga58a559c63748012aab165d5f82af766d" title="Close a file, device or socket." alt="" coords="665,207,724,233"/><area shape="rect" id="node22" href="io_8h.html#a901fa187b164dd6faaac1b62c88614b5" title="_write" alt="" coords="1090,283,1145,309"/><area shape="rect" id="node32" href="group__xg_crt_time.html#gaaa7031886dc783f76006ff1b370406b3" title="Convert a time value to a structure." alt="" coords="657,306,732,331"/><area shape="rect" id="node37" href="group__xg_tcp_socket.html#ga3859b3c38665aedc32608827f931498a" title="Wait for incoming connect from a remote socket." alt="" coords="646,657,743,682"/><area shape="rect" id="node53" href="group__xg_tcp_socket.html#ga48ff1e877483a0833cf38e428eac6457" title="Connect to a remote socket." alt="" coords="641,706,748,731"/><area shape="rect" id="node59" href="group__xg_tcp_socket.html#ga6bf8ec59828c5a0e38423293b4dfe8e6" title="Create a TCP socket." alt="" coords="627,755,762,781"/><area shape="rect" id="node77" href="group__xg_tcp_socket.html#ga3953f713369f008979d738b32d8fc255" title="Return specific code of the last error." alt="" coords="651,805,739,830"/><area shape="rect" id="node79" href="group__xg_tcp_socket.html#gab3bd1c81e2046e53cde6973b9c6bf6f4" title="Set value of a TCP socket option." alt="" coords="632,558,757,583"/><area shape="rect" id="node81" href="group__xg_crt_stdio.html#ga30b0c3fa763cfd9c65416be0c3956aa1" title="Print formatted output to the standard output stream." alt="" coords="663,607,727,633"/><area shape="rect" id="node86" href="group__xg_crt_stdio.html#ga8263f041e271555a786c93572c45bb81" title="Write a string from program memory to stdout." alt="" coords="664,457,725,482"/><area shape="rect" id="node39" href="group__xg_t_c_p.html#gac5d18facd9bf6a983652d415fc806083" title="Initiated by the application." alt="" coords="811,409,1005,434"/><area shape="rect" id="node43" href="group__xg_tcp_socket.html#ga9e0cdc2012de837e6b81006b9b32ca12" title="Write to a socket." alt="" coords="1054,905,1181,930"/><area shape="rect" id="node49" href="group__xg_t_c_p.html#gae64ae871579ec8252d41240a947f1a5e" title="Socket close by application." alt="" coords="832,1006,984,1031"/><area shape="rect" id="node47" href="group__xg_crt_string.html#ga09a4c3953e2e41a212a73cf3df4c8c8e" title="memcpy" alt="" coords="1229,905,1299,930"/><area shape="rect" id="node51" href="group__xg_thread.html#ga075836f9a2596c5983b7ba88420afd11" title="Give up the CPU." alt="" coords="1064,1006,1171,1031"/><area shape="rect" id="node55" href="group__xg_i_p.html#ga2534f1918ba2a63523659fc005344b25" title="Find a device associated with a particular IP route." alt="" coords="850,507,966,533"/><area shape="rect" id="node57" href="group__xg_t_c_p.html#ga77edd214cf89e11aebfc556b6879e487" title="Initiated by the application." alt="" coords="818,458,998,483"/><area shape="rect" id="node61" href="group__xg_i_p.html#ga7606caeb3d5b7bdacaa52b35de179685" title="Register an additional Ethernet protocol handler." alt="" coords="837,557,979,582"/><area shape="rect" id="node63" href="group__xg_t_c_p.html#gae07d8163a48c288273133b44e1aa1cee" title="Process incoming TCP segments from IP layer." alt="" coords="864,606,952,631"/><area shape="rect" id="node65" href="group__xg_t_c_p.html#gaf4276abdc9e3a9912632c592769eb13a" title="Start TCP state machine." alt="" coords="833,655,983,681"/><area shape="rect" id="node67" href="group__xg_tcp_socket.html#gac4ab675d039b53314b37b12b70afefd5" title="Read from virtual socket device." alt="" coords="844,705,972,730"/><area shape="rect" id="node70" href="group__xg_tcp_socket.html#ga71f2a257f72723170c19ad7b5d9f991f" title="Write to device." alt="" coords="837,905,979,930"/><area shape="rect" id="node73" href="group__xg_tcp_socket.html#gaceb6b4b842cb85f48f6ca163c7aa1ce0" title="Driver control function." alt="" coords="845,754,971,779"/><area shape="rect" id="node75" href="group__xg_timer.html#ga940f66286dcf28b8280e41b605064446" title="Return the number of system timer ticks." alt="" coords="851,803,965,829"/><area shape="rect" id="node83" href="group__xg_crt_stdio.html#ga695a74f3f80d1922259905472d7a4863" title="Write argument list to a stream using a given format." alt="" coords="872,359,944,385"/><area shape="rect" id="node91" href="group__xg_crt_stdio.html#gadb974f28765a31026ee6bf71d5175951" title="Flush a stream." alt="" coords="669,257,721,282"/><area shape="rect" id="node103" href="group__xg_device.html#ga913130771bea4118ae58e2a0ccb50a4d" title="Find device entry by name." alt="" coords="635,1307,754,1333"/><area shape="rect" id="node106" href="group__xg_crt_string.html#gaa4075a014de11292d9105188ddbeb216" title="Fill memory region with a specific byte value." alt="" coords="661,1209,729,1234"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gae85078df724a2046bfab56e88c058357"></a><!-- doxytag: member="ftpd.c::NutFtpProcessMkd" ref="gae85078df724a2046bfab56e88c058357" args="(FTPSESSION *session, char *path)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NutFtpProcessMkd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Process an FTP client's MKD command. </p>
<p>Causes the specified directory to be created.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">session</td><td>Pointer to an <a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> structure, obtained by a previous call to <a class="el" href="group__xg_f_t_p_d.html#ga9c2f592b2642d2091ea274362d2ed6bc" title="Open an FTP server session.">NutFtpOpenSession()</a>. </td></tr>
    <tr><td class="paramname">path</td><td>Full absolute path name of the directory.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if the command has been processed or -1 if the session has been aborted. </dd></dl>

<p>Definition at line <a class="el" href="ftpd_8c_source.html#l00955">955</a> of file <a class="el" href="ftpd_8c_source.html">ftpd.c</a>.</p>

<p>References <a class="el" href="pathops_8c_source.html#l00237">mkdir()</a>, <a class="el" href="ftpd_8c_source.html#l00309">NutFtpRespondBad()</a>, and <a class="el" href="ftpd_8c_source.html#l00287">NutFtpRespondOk()</a>.</p>

<p>Referenced by <a class="el" href="ftpd_8c_source.html#l01208">NutFtpProcessRequest()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__xg_f_t_p_d_gae85078df724a2046bfab56e88c058357_cgraph.png" border="0" usemap="#group__xg_f_t_p_d_gae85078df724a2046bfab56e88c058357_cgraph" alt=""/></div>
<map name="group__xg_f_t_p_d_gae85078df724a2046bfab56e88c058357_cgraph" id="group__xg_f_t_p_d_gae85078df724a2046bfab56e88c058357_cgraph">
<area shape="rect" id="node3" href="group__xg_f_s.html#ga4d876e05d5901bd30b82c305086e0d5e" title="Create a directory entry." alt="" coords="220,5,273,30"/><area shape="rect" id="node5" href="group__xg_f_t_p_d.html#ga8a198e099aa073c08ae2203233bce632" title="Send a negative response." alt="" coords="181,54,312,79"/><area shape="rect" id="node11" href="group__xg_f_t_p_d.html#gaedf4862063aad8c80cf50025318e25de" title="Send a positive response." alt="" coords="185,103,309,129"/><area shape="rect" id="node7" href="group__xg_crt_stdio.html#gadb974f28765a31026ee6bf71d5175951" title="Flush a stream." alt="" coords="361,79,413,105"/><area shape="rect" id="node9" href="io_8h.html#a901fa187b164dd6faaac1b62c88614b5" title="_write" alt="" coords="462,79,517,105"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga78dd6dc6c0371a2ace8f2ff4e33c9444"></a><!-- doxytag: member="ftpd.c::NutFtpRenamePrepare" ref="ga78dd6dc6c0371a2ace8f2ff4e33c9444" args="(FTPSESSION *session, char *path)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NutFtpRenamePrepare </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ftpd_8c_source.html#l00964">964</a> of file <a class="el" href="ftpd_8c_source.html">ftpd.c</a>.</p>

<p>References <a class="el" href="malloc_8c_source.html#l00084">free()</a>, <a class="el" href="ftpd_8h_source.html#l00114">FTPSESSION::ftp_renamesource</a>, <a class="el" href="ftpd_8c_source.html#l00309">NutFtpRespondBad()</a>, <a class="el" href="ftpd_8c_source.html#l00287">NutFtpRespondOk()</a>, <a class="el" href="pathops_8c_source.html#l00196">stat()</a>, and <a class="el" href="c_2string_2strdup_8c_source.html#l00090">strdup()</a>.</p>

<p>Referenced by <a class="el" href="ftpd_8c_source.html#l01208">NutFtpProcessRequest()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__xg_f_t_p_d_ga78dd6dc6c0371a2ace8f2ff4e33c9444_cgraph.png" border="0" usemap="#group__xg_f_t_p_d_ga78dd6dc6c0371a2ace8f2ff4e33c9444_cgraph" alt=""/></div>
<map name="group__xg_f_t_p_d_ga78dd6dc6c0371a2ace8f2ff4e33c9444_cgraph" id="group__xg_f_t_p_d_ga78dd6dc6c0371a2ace8f2ff4e33c9444_cgraph">
<area shape="rect" id="node3" href="group__xg_heap.html#ga9f850d0608418aea291e4c0fdab93826" title="Return a block to heap memory." alt="" coords="249,5,292,30"/><area shape="rect" id="node5" href="group__xg_f_t_p_d.html#ga8a198e099aa073c08ae2203233bce632" title="Send a negative response." alt="" coords="205,54,336,79"/><area shape="rect" id="node11" href="group__xg_f_t_p_d.html#gaedf4862063aad8c80cf50025318e25de" title="Send a positive response." alt="" coords="209,103,333,129"/><area shape="rect" id="node14" href="group__xg_f_s.html#ga91b48d99128dd507e20c8adcc22deeb2" title="Get information about a specified file." alt="" coords="249,153,292,178"/><area shape="rect" id="node20" href="group__xg_crt_string.html#ga608db5821b635f6a719ecb7f76d4a5da" title="Create a copy of a string." alt="" coords="242,226,299,251"/><area shape="rect" id="node7" href="group__xg_crt_stdio.html#gadb974f28765a31026ee6bf71d5175951" title="Flush a stream." alt="" coords="418,73,470,98"/><area shape="rect" id="node9" href="io_8h.html#a901fa187b164dd6faaac1b62c88614b5" title="_write" alt="" coords="555,73,610,98"/><area shape="rect" id="node16" href="group__xg_device.html#ga913130771bea4118ae58e2a0ccb50a4d" title="Find device entry by name." alt="" coords="385,139,503,165"/><area shape="rect" id="node18" href="group__xg_crt_string.html#gaafa356ff1e215725834bc57e8e4fae60" title="Compare two strings." alt="" coords="553,139,613,165"/><area shape="rect" id="node22" href="group__xg_crt_string.html#ga7b9fc4834c90ac78977b5fbb3076c5ac" title="Compute the length of a NUL terminated string." alt="" coords="417,189,471,214"/><area shape="rect" id="node24" href="group__xg_heap.html#ga381d0a123dbf80ca3efe2614aa826e08" title="Allocate a block from heap memory." alt="" coords="415,238,473,263"/><area shape="rect" id="node26" href="group__xg_crt_string.html#ga09a4c3953e2e41a212a73cf3df4c8c8e" title="memcpy" alt="" coords="409,287,479,313"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga68b21460a1f27307ed029da5464a0dff"></a><!-- doxytag: member="ftpd.c::NutFtpRenameAction" ref="ga68b21460a1f27307ed029da5464a0dff" args="(FTPSESSION *session, char *path)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NutFtpRenameAction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ftpd_8c_source.html#l00984">984</a> of file <a class="el" href="ftpd_8c_source.html">ftpd.c</a>.</p>

<p>References <a class="el" href="malloc_8c_source.html#l00084">free()</a>, <a class="el" href="ftpd_8h_source.html#l00114">FTPSESSION::ftp_renamesource</a>, <a class="el" href="ftpd_8c_source.html#l00309">NutFtpRespondBad()</a>, <a class="el" href="ftpd_8c_source.html#l00287">NutFtpRespondOk()</a>, and <a class="el" href="pathops_8c_source.html#l00254">rename()</a>.</p>

<p>Referenced by <a class="el" href="ftpd_8c_source.html#l01208">NutFtpProcessRequest()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__xg_f_t_p_d_ga68b21460a1f27307ed029da5464a0dff_cgraph.png" border="0" usemap="#group__xg_f_t_p_d_ga68b21460a1f27307ed029da5464a0dff_cgraph" alt=""/></div>
<map name="group__xg_f_t_p_d_ga68b21460a1f27307ed029da5464a0dff_cgraph" id="group__xg_f_t_p_d_ga68b21460a1f27307ed029da5464a0dff_cgraph">
<area shape="rect" id="node3" href="group__xg_heap.html#ga9f850d0608418aea291e4c0fdab93826" title="Return a block to heap memory." alt="" coords="236,5,279,30"/><area shape="rect" id="node5" href="group__xg_f_t_p_d.html#ga8a198e099aa073c08ae2203233bce632" title="Send a negative response." alt="" coords="192,54,323,79"/><area shape="rect" id="node11" href="group__xg_f_t_p_d.html#gaedf4862063aad8c80cf50025318e25de" title="Send a positive response." alt="" coords="195,103,319,129"/><area shape="rect" id="node14" href="group__xg_f_s.html#gac52010fcf7e8443c53b263c41d9710f6" title="Rename a file." alt="" coords="225,153,290,178"/><area shape="rect" id="node7" href="group__xg_crt_stdio.html#gadb974f28765a31026ee6bf71d5175951" title="Flush a stream." alt="" coords="405,66,457,91"/><area shape="rect" id="node9" href="io_8h.html#a901fa187b164dd6faaac1b62c88614b5" title="_write" alt="" coords="542,66,597,91"/><area shape="rect" id="node16" href="group__xg_crt_string.html#gaafa356ff1e215725834bc57e8e4fae60" title="Compare two strings." alt="" coords="539,166,599,191"/><area shape="rect" id="node18" href="group__xg_device.html#ga913130771bea4118ae58e2a0ccb50a4d" title="Find device entry by name." alt="" coords="371,191,490,217"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga836d1cf7dc7ef29c929f6780477851f7"></a><!-- doxytag: member="ftpd.c::NutFtpProcessPass" ref="ga836d1cf7dc7ef29c929f6780477851f7" args="(FTPSESSION *session, char *pass)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NutFtpProcessPass </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>pass</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Process an FTP client's PASS command. </p>
<p>Only one login per session is accepted.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">session</td><td>Pointer to an <a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> structure, obtained by a previous call to <a class="el" href="group__xg_f_t_p_d.html#ga9c2f592b2642d2091ea274362d2ed6bc" title="Open an FTP server session.">NutFtpOpenSession()</a>. </td></tr>
    <tr><td class="paramname">pass</td><td>Password.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if the command has been processed or -1 if the session has been aborted. </dd></dl>

<p>Definition at line <a class="el" href="ftpd_8c_source.html#l01019">1019</a> of file <a class="el" href="ftpd_8c_source.html">ftpd.c</a>.</p>

<p>References <a class="el" href="ftpd_8h_source.html#l00098">FTPSESSION::ftp_login</a>, <a class="el" href="ftpd_8c_source.html#l00309">NutFtpRespondBad()</a>, <a class="el" href="ftpd_8c_source.html#l00287">NutFtpRespondOk()</a>, and <a class="el" href="strcmp_8c_source.html#l00091">strcmp()</a>.</p>

<p>Referenced by <a class="el" href="ftpd_8c_source.html#l01208">NutFtpProcessRequest()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__xg_f_t_p_d_ga836d1cf7dc7ef29c929f6780477851f7_cgraph.png" border="0" usemap="#group__xg_f_t_p_d_ga836d1cf7dc7ef29c929f6780477851f7_cgraph" alt=""/></div>
<map name="group__xg_f_t_p_d_ga836d1cf7dc7ef29c929f6780477851f7_cgraph" id="group__xg_f_t_p_d_ga836d1cf7dc7ef29c929f6780477851f7_cgraph">
<area shape="rect" id="node3" href="group__xg_f_t_p_d.html#ga8a198e099aa073c08ae2203233bce632" title="Send a negative response." alt="" coords="187,5,317,30"/><area shape="rect" id="node9" href="group__xg_f_t_p_d.html#gaedf4862063aad8c80cf50025318e25de" title="Send a positive response." alt="" coords="190,54,314,79"/><area shape="rect" id="node12" href="group__xg_crt_string.html#gaafa356ff1e215725834bc57e8e4fae60" title="Compare two strings." alt="" coords="222,103,282,129"/><area shape="rect" id="node5" href="group__xg_crt_stdio.html#gadb974f28765a31026ee6bf71d5175951" title="Flush a stream." alt="" coords="366,30,418,55"/><area shape="rect" id="node7" href="io_8h.html#a901fa187b164dd6faaac1b62c88614b5" title="_write" alt="" coords="467,30,522,55"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga3564dcac7a3f46dcf9c77c78d3318b71"></a><!-- doxytag: member="ftpd.c::NutFtpProcessPassiv" ref="ga3564dcac7a3f46dcf9c77c78d3318b71" args="(FTPSESSION *session)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NutFtpProcessPassiv </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *&#160;</td>
          <td class="paramname"><em>session</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Process an FTP client's PASV command. </p>
<p>This command requests the server to listen on a data port and to wait for a connection rather than initiate one upon receipt of a transfer command.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">session</td><td>Pointer to an <a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> structure, obtained by a previous call to <a class="el" href="group__xg_f_t_p_d.html#ga9c2f592b2642d2091ea274362d2ed6bc" title="Open an FTP server session.">NutFtpOpenSession()</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if the command has been processed or -1 if the session has been aborted. </dd></dl>

<p>Definition at line <a class="el" href="ftpd_8c_source.html#l01044">1044</a> of file <a class="el" href="ftpd_8c_source.html">ftpd.c</a>.</p>

<p>References <a class="el" href="fflush_8c_source.html#l00071">fflush()</a>, <a class="el" href="h8_8h_source.html#l00077">fprintf_P</a>, <a class="el" href="ftpd_8h_source.html#l00110">FTPSESSION::ftp_passive</a>, <a class="el" href="ftpd_8h_source.html#l00081">FTPSESSION::ftp_sock</a>, <a class="el" href="ftpd_8h_source.html#l00083">FTPSESSION::ftp_stream</a>, <a class="el" href="arm_8h_source.html#l00157">prog_char</a>, and <a class="el" href="sock__var_8h_source.html#l00224">tcp_socket::so_local_addr</a>.</p>

<p>Referenced by <a class="el" href="ftpd_8c_source.html#l01208">NutFtpProcessRequest()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__xg_f_t_p_d_ga3564dcac7a3f46dcf9c77c78d3318b71_cgraph.png" border="0" usemap="#group__xg_f_t_p_d_ga3564dcac7a3f46dcf9c77c78d3318b71_cgraph" alt=""/></div>
<map name="group__xg_f_t_p_d_ga3564dcac7a3f46dcf9c77c78d3318b71_cgraph" id="group__xg_f_t_p_d_ga3564dcac7a3f46dcf9c77c78d3318b71_cgraph">
<area shape="rect" id="node3" href="group__xg_crt_stdio.html#gadb974f28765a31026ee6bf71d5175951" title="Flush a stream." alt="" coords="195,5,247,30"/><area shape="rect" id="node5" href="io_8h.html#a901fa187b164dd6faaac1b62c88614b5" title="_write" alt="" coords="297,5,351,30"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gacf9843833821d7c38e7c1869c8555f68"></a><!-- doxytag: member="ftpd.c::NutFtpProcessPort" ref="gacf9843833821d7c38e7c1869c8555f68" args="(FTPSESSION *session, char *args)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NutFtpProcessPort </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Process an FTP client's PORT command. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">session</td><td>Pointer to an <a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> structure, obtained by a previous call to <a class="el" href="group__xg_f_t_p_d.html#ga9c2f592b2642d2091ea274362d2ed6bc" title="Open an FTP server session.">NutFtpOpenSession()</a>. </td></tr>
    <tr><td class="paramname">args</td><td>Command argument, which is the concatenation of the 32-bit internet host address and a 16-bit TCP port address. This address information is broken into 8-bit fields and the value of each field is transmitted as a decimal number.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if the command has been processed or -1 if the session has been aborted. </dd></dl>

<p>Definition at line <a class="el" href="ftpd_8c_source.html#l01073">1073</a> of file <a class="el" href="ftpd_8c_source.html">ftpd.c</a>.</p>

<p>References <a class="el" href="ftpd_8h_source.html#l00087">FTPSESSION::ftp_data_ip</a>, <a class="el" href="ftpd_8h_source.html#l00089">FTPSESSION::ftp_data_port</a>, <a class="el" href="ftpd_8h_source.html#l00081">FTPSESSION::ftp_sock</a>, <a class="el" href="ftpd_8c_source.html#l00309">NutFtpRespondBad()</a>, <a class="el" href="ftpd_8c_source.html#l00287">NutFtpRespondOk()</a>, and <a class="el" href="sock__var_8h_source.html#l00226">tcp_socket::so_remote_addr</a>.</p>

<p>Referenced by <a class="el" href="ftpd_8c_source.html#l01208">NutFtpProcessRequest()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__xg_f_t_p_d_gacf9843833821d7c38e7c1869c8555f68_cgraph.png" border="0" usemap="#group__xg_f_t_p_d_gacf9843833821d7c38e7c1869c8555f68_cgraph" alt=""/></div>
<map name="group__xg_f_t_p_d_gacf9843833821d7c38e7c1869c8555f68_cgraph" id="group__xg_f_t_p_d_gacf9843833821d7c38e7c1869c8555f68_cgraph">
<area shape="rect" id="node3" href="group__xg_f_t_p_d.html#ga8a198e099aa073c08ae2203233bce632" title="Send a negative response." alt="" coords="181,5,312,30"/><area shape="rect" id="node9" href="group__xg_f_t_p_d.html#gaedf4862063aad8c80cf50025318e25de" title="Send a positive response." alt="" coords="185,54,309,79"/><area shape="rect" id="node5" href="group__xg_crt_stdio.html#gadb974f28765a31026ee6bf71d5175951" title="Flush a stream." alt="" coords="361,30,413,55"/><area shape="rect" id="node7" href="io_8h.html#a901fa187b164dd6faaac1b62c88614b5" title="_write" alt="" coords="462,30,517,55"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaa58ab5aeaa0551c2a809e2d881b9272c"></a><!-- doxytag: member="ftpd.c::NutFtpProcessPwd" ref="gaa58ab5aeaa0551c2a809e2d881b9272c" args="(FTPSESSION *session)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NutFtpProcessPwd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *&#160;</td>
          <td class="paramname"><em>session</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Process an FTP client's PWD command. </p>
<p>Causes the name of the current working directory to be returned in the reply.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">session</td><td>Pointer to an <a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> structure, obtained by a previous call to <a class="el" href="group__xg_f_t_p_d.html#ga9c2f592b2642d2091ea274362d2ed6bc" title="Open an FTP server session.">NutFtpOpenSession()</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if the command has been processed or -1 if the session has been aborted. </dd></dl>

<p>Definition at line <a class="el" href="ftpd_8c_source.html#l01096">1096</a> of file <a class="el" href="ftpd_8c_source.html">ftpd.c</a>.</p>

<p>References <a class="el" href="h8_8h_source.html#l00077">fprintf_P</a>, <a class="el" href="ftpd_8h_source.html#l00085">FTPSESSION::ftp_cwd</a>, <a class="el" href="ftpd_8h_source.html#l00083">FTPSESSION::ftp_stream</a>, <a class="el" href="icc_8h_source.html#l00136">printf</a>, and <a class="el" href="arm_8h_source.html#l00157">prog_char</a>.</p>

<p>Referenced by <a class="el" href="ftpd_8c_source.html#l01208">NutFtpProcessRequest()</a>.</p>

</div>
</div>
<a class="anchor" id="ga7b759361ed3c5ccb69461713e1857d7e"></a><!-- doxytag: member="ftpd.c::NutFtpProcessRmd" ref="ga7b759361ed3c5ccb69461713e1857d7e" args="(FTPSESSION *session, char *path)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NutFtpProcessRmd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Process an FTP client's RMD command. </p>
<p>Causes the specified directory to be removed.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">session</td><td>Pointer to an <a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> structure, obtained by a previous call to <a class="el" href="group__xg_f_t_p_d.html#ga9c2f592b2642d2091ea274362d2ed6bc" title="Open an FTP server session.">NutFtpOpenSession()</a>. </td></tr>
    <tr><td class="paramname">path</td><td>Full absolute path name of the directory.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if the command has been processed or -1 if the session has been aborted. </dd></dl>

<p>Definition at line <a class="el" href="ftpd_8c_source.html#l01118">1118</a> of file <a class="el" href="ftpd_8c_source.html">ftpd.c</a>.</p>

<p>References <a class="el" href="ftpd_8c_source.html#l00309">NutFtpRespondBad()</a>, <a class="el" href="ftpd_8c_source.html#l00287">NutFtpRespondOk()</a>, and <a class="el" href="pathops_8c_source.html#l00175">rmdir()</a>.</p>

<p>Referenced by <a class="el" href="ftpd_8c_source.html#l01208">NutFtpProcessRequest()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__xg_f_t_p_d_ga7b759361ed3c5ccb69461713e1857d7e_cgraph.png" border="0" usemap="#group__xg_f_t_p_d_ga7b759361ed3c5ccb69461713e1857d7e_cgraph" alt=""/></div>
<map name="group__xg_f_t_p_d_ga7b759361ed3c5ccb69461713e1857d7e_cgraph" id="group__xg_f_t_p_d_ga7b759361ed3c5ccb69461713e1857d7e_cgraph">
<area shape="rect" id="node3" href="group__xg_f_t_p_d.html#ga8a198e099aa073c08ae2203233bce632" title="Send a negative response." alt="" coords="184,5,315,30"/><area shape="rect" id="node9" href="group__xg_f_t_p_d.html#gaedf4862063aad8c80cf50025318e25de" title="Send a positive response." alt="" coords="187,54,311,79"/><area shape="rect" id="node12" href="group__xg_f_s.html#gaa1677087a1bd3fddf6245c7079625d30" title="Remove a directory." alt="" coords="224,103,275,129"/><area shape="rect" id="node5" href="group__xg_crt_stdio.html#gadb974f28765a31026ee6bf71d5175951" title="Flush a stream." alt="" coords="363,30,415,55"/><area shape="rect" id="node7" href="io_8h.html#a901fa187b164dd6faaac1b62c88614b5" title="_write" alt="" coords="465,30,519,55"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga727082f5c302cc37743c98321ace0509"></a><!-- doxytag: member="ftpd.c::NutFtpProcessSystem" ref="ga727082f5c302cc37743c98321ace0509" args="(FTPSESSION *session)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NutFtpProcessSystem </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *&#160;</td>
          <td class="paramname"><em>session</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Process an FTP client's SYST command. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">session</td><td>Pointer to an <a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> structure, obtained by a previous call to <a class="el" href="group__xg_f_t_p_d.html#ga9c2f592b2642d2091ea274362d2ed6bc" title="Open an FTP server session.">NutFtpOpenSession()</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if the command has been processed or -1 if the session has been aborted. </dd></dl>

<p>Definition at line <a class="el" href="ftpd_8c_source.html#l01135">1135</a> of file <a class="el" href="ftpd_8c_source.html">ftpd.c</a>.</p>

<p>References <a class="el" href="h8_8h_source.html#l00076">fputs_P</a>, <a class="el" href="ftpd_8h_source.html#l00083">FTPSESSION::ftp_stream</a>, <a class="el" href="icc_8h_source.html#l00136">printf</a>, and <a class="el" href="arm_8h_source.html#l00157">prog_char</a>.</p>

<p>Referenced by <a class="el" href="ftpd_8c_source.html#l01208">NutFtpProcessRequest()</a>.</p>

</div>
</div>
<a class="anchor" id="ga09e1a0621e8b56f44b884aac05567607"></a><!-- doxytag: member="ftpd.c::NutFtpProcessType" ref="ga09e1a0621e8b56f44b884aac05567607" args="(FTPSESSION *session, char *typecode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NutFtpProcessType </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>typecode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Process an FTP client's TYPE command. </p>
<p>The type is not fully checked. Any argument starting with the letters 'A' or 'a' will switch the transfer mode to ASCII. Otherwise binary mode is set.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">session</td><td>Pointer to an <a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> structure, obtained by a previous call to <a class="el" href="group__xg_f_t_p_d.html#ga9c2f592b2642d2091ea274362d2ed6bc" title="Open an FTP server session.">NutFtpOpenSession()</a>. </td></tr>
    <tr><td class="paramname">typecode</td><td>Command arguments.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if the command has been processed or -1 if the session has been aborted. </dd></dl>

<p>Definition at line <a class="el" href="ftpd_8c_source.html#l01159">1159</a> of file <a class="el" href="ftpd_8c_source.html">ftpd.c</a>.</p>

<p>References <a class="el" href="ftpd_8h_source.html#l00104">FTPSESSION::ftp_tran_mode</a>, and <a class="el" href="ftpd_8c_source.html#l00287">NutFtpRespondOk()</a>.</p>

<p>Referenced by <a class="el" href="ftpd_8c_source.html#l01208">NutFtpProcessRequest()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__xg_f_t_p_d_ga09e1a0621e8b56f44b884aac05567607_cgraph.png" border="0" usemap="#group__xg_f_t_p_d_ga09e1a0621e8b56f44b884aac05567607_cgraph" alt=""/></div>
<map name="group__xg_f_t_p_d_ga09e1a0621e8b56f44b884aac05567607_cgraph" id="group__xg_f_t_p_d_ga09e1a0621e8b56f44b884aac05567607_cgraph">
<area shape="rect" id="node3" href="group__xg_f_t_p_d.html#gaedf4862063aad8c80cf50025318e25de" title="Send a positive response." alt="" coords="185,5,309,30"/><area shape="rect" id="node5" href="group__xg_crt_stdio.html#gadb974f28765a31026ee6bf71d5175951" title="Flush a stream." alt="" coords="358,5,410,30"/><area shape="rect" id="node7" href="io_8h.html#a901fa187b164dd6faaac1b62c88614b5" title="_write" alt="" coords="459,5,514,30"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaccd498f6cc8f1c9fe4cbc2835ea2d7cc"></a><!-- doxytag: member="ftpd.c::NutFtpProcessUser" ref="gaccd498f6cc8f1c9fe4cbc2835ea2d7cc" args="(FTPSESSION *session, char *user)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NutFtpProcessUser </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>user</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Process an FTP client's USER command. </p>
<p>Only one login per session is accepted.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">session</td><td>Pointer to an <a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> structure, obtained by a previous call to <a class="el" href="group__xg_f_t_p_d.html#ga9c2f592b2642d2091ea274362d2ed6bc" title="Open an FTP server session.">NutFtpOpenSession()</a>. </td></tr>
    <tr><td class="paramname">user</td><td>User name.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if the command has been processed or -1 if the session has been aborted. </dd></dl>

<p>Definition at line <a class="el" href="ftpd_8c_source.html#l01177">1177</a> of file <a class="el" href="ftpd_8c_source.html">ftpd.c</a>.</p>

<p>References <a class="el" href="ftpd_8h_source.html#l00098">FTPSESSION::ftp_login</a>, <a class="el" href="ftpd_8c_source.html#l00309">NutFtpRespondBad()</a>, <a class="el" href="ftpd_8c_source.html#l00287">NutFtpRespondOk()</a>, and <a class="el" href="strcmp_8c_source.html#l00091">strcmp()</a>.</p>

<p>Referenced by <a class="el" href="ftpd_8c_source.html#l01208">NutFtpProcessRequest()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__xg_f_t_p_d_gaccd498f6cc8f1c9fe4cbc2835ea2d7cc_cgraph.png" border="0" usemap="#group__xg_f_t_p_d_gaccd498f6cc8f1c9fe4cbc2835ea2d7cc_cgraph" alt=""/></div>
<map name="group__xg_f_t_p_d_gaccd498f6cc8f1c9fe4cbc2835ea2d7cc_cgraph" id="group__xg_f_t_p_d_gaccd498f6cc8f1c9fe4cbc2835ea2d7cc_cgraph">
<area shape="rect" id="node3" href="group__xg_f_t_p_d.html#ga8a198e099aa073c08ae2203233bce632" title="Send a negative response." alt="" coords="184,5,315,30"/><area shape="rect" id="node9" href="group__xg_f_t_p_d.html#gaedf4862063aad8c80cf50025318e25de" title="Send a positive response." alt="" coords="187,54,311,79"/><area shape="rect" id="node12" href="group__xg_crt_string.html#gaafa356ff1e215725834bc57e8e4fae60" title="Compare two strings." alt="" coords="219,103,279,129"/><area shape="rect" id="node5" href="group__xg_crt_stdio.html#gadb974f28765a31026ee6bf71d5175951" title="Flush a stream." alt="" coords="363,30,415,55"/><area shape="rect" id="node7" href="io_8h.html#a901fa187b164dd6faaac1b62c88614b5" title="_write" alt="" coords="465,30,519,55"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga5b72e2b9bea1143ace7837526d573444"></a><!-- doxytag: member="ftpd.c::NutFtpProcessRequest" ref="ga5b72e2b9bea1143ace7837526d573444" args="(FTPSESSION *session, char *request)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NutFtpProcessRequest </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>request</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Process an FTP request. </p>
<p>This routine implements the protocol interpreter of the FTP server.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">session</td><td>Pointer to an <a class="el" href="struct_f_t_p_s_e_s_s_i_o_n.html">FTPSESSION</a> structure, obtained by a previous call to <a class="el" href="group__xg_f_t_p_d.html#ga9c2f592b2642d2091ea274362d2ed6bc" title="Open an FTP server session.">NutFtpOpenSession()</a>. </td></tr>
    <tr><td class="paramname">request</td><td>Request string.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>-1 if the session ended. Otherwise 0 is returned. </dd></dl>

<p>Definition at line <a class="el" href="ftpd_8c_source.html#l01208">1208</a> of file <a class="el" href="ftpd_8c_source.html">ftpd.c</a>.</p>

<p>References <a class="el" href="ftpd_8c_source.html#l00367">CreateFullPathName()</a>, <a class="el" href="malloc_8c_source.html#l00084">free()</a>, <a class="el" href="ftpd_8h_source.html#l00085">FTPSESSION::ftp_cwd</a>, <a class="el" href="ftpd_8h_source.html#l00098">FTPSESSION::ftp_login</a>, <a class="el" href="ftpd_8h_source.html#l00114">FTPSESSION::ftp_renamesource</a>, <a class="el" href="ftpd_8c_source.html#l00675">NutFtpProcessCwd()</a>, <a class="el" href="ftpd_8c_source.html#l00716">NutFtpProcessDelete()</a>, <a class="el" href="ftpd_8c_source.html#l00955">NutFtpProcessMkd()</a>, <a class="el" href="ftpd_8c_source.html#l01019">NutFtpProcessPass()</a>, <a class="el" href="ftpd_8c_source.html#l01044">NutFtpProcessPassiv()</a>, <a class="el" href="ftpd_8c_source.html#l01073">NutFtpProcessPort()</a>, <a class="el" href="ftpd_8c_source.html#l01096">NutFtpProcessPwd()</a>, <a class="el" href="ftpd_8c_source.html#l01118">NutFtpProcessRmd()</a>, <a class="el" href="ftpd_8c_source.html#l01135">NutFtpProcessSystem()</a>, <a class="el" href="ftpd_8c_source.html#l01159">NutFtpProcessType()</a>, <a class="el" href="ftpd_8c_source.html#l01177">NutFtpProcessUser()</a>, <a class="el" href="ftpd_8c_source.html#l00984">NutFtpRenameAction()</a>, <a class="el" href="ftpd_8c_source.html#l00964">NutFtpRenamePrepare()</a>, <a class="el" href="ftpd_8c_source.html#l00309">NutFtpRespondBad()</a>, <a class="el" href="ftpd_8c_source.html#l00287">NutFtpRespondOk()</a>, <a class="el" href="ftpd_8c_source.html#l00860">NutFtpTransferDirectoryOptions()</a>, <a class="el" href="ftpd_8c_source.html#l00741">NutFtpTransferFile()</a>, <a class="el" href="icc_8h_source.html#l00136">printf</a>, <a class="el" href="strchr_8c_source.html#l00090">strchr()</a>, <a class="el" href="arm_8h_source.html#l00171">strcmp_P</a>, and <a class="el" href="strlen_8c_source.html#l00087">strlen()</a>.</p>

<p>Referenced by <a class="el" href="ftpd_8c_source.html#l01363">NutFtpServerSession()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__xg_f_t_p_d_ga5b72e2b9bea1143ace7837526d573444_cgraph.png" border="0" usemap="#group__xg_f_t_p_d_ga5b72e2b9bea1143ace7837526d573444_cgraph" alt=""/></div>
<map name="group__xg_f_t_p_d_ga5b72e2b9bea1143ace7837526d573444_cgraph" id="group__xg_f_t_p_d_ga5b72e2b9bea1143ace7837526d573444_cgraph">
<area shape="rect" id="node3" href="group__xg_f_t_p_d.html#gaad7b7118c7f21feb01fc6db7b8b0e615" title="Create an absolute path name." alt="" coords="448,106,587,131"/><area shape="rect" id="node9" href="group__xg_crt_string.html#ga7b9fc4834c90ac78977b5fbb3076c5ac" title="Compute the length of a NUL terminated string." alt="" coords="673,207,727,233"/><area shape="rect" id="node11" href="group__xg_heap.html#ga9f850d0608418aea291e4c0fdab93826" title="Return a block to heap memory." alt="" coords="679,859,721,885"/><area shape="rect" id="node13" href="group__xg_f_t_p_d.html#ga6fe36e83d24072ff6fb7940252c51a6e" title="Process an FTP client&#39;s CWD command." alt="" coords="238,986,367,1011"/><area shape="rect" id="node16" href="group__xg_f_t_p_d.html#ga8a198e099aa073c08ae2203233bce632" title="Send a negative response." alt="" coords="452,1814,583,1839"/><area shape="rect" id="node22" href="group__xg_f_t_p_d.html#gaedf4862063aad8c80cf50025318e25de" title="Send a positive response." alt="" coords="455,1765,579,1790"/><area shape="rect" id="node34" href="group__xg_f_t_p_d.html#ga8c45cdbeb27a773812a7eb6cca53125b" title="Process an FTP client&#39;s DELE command." alt="" coords="233,1665,373,1690"/><area shape="rect" id="node40" href="group__xg_f_t_p_d.html#gae85078df724a2046bfab56e88c058357" title="Process an FTP client&#39;s MKD command." alt="" coords="239,1963,366,1989"/><area shape="rect" id="node46" href="group__xg_f_t_p_d.html#ga836d1cf7dc7ef29c929f6780477851f7" title="Process an FTP client&#39;s PASS command." alt="" coords="236,1865,369,1890"/><area shape="rect" id="node51" href="group__xg_f_t_p_d.html#ga3564dcac7a3f46dcf9c77c78d3318b71" title="Process an FTP client&#39;s PASV command." alt="" coords="232,2062,373,2087"/><area shape="rect" id="node54" href="group__xg_f_t_p_d.html#gacf9843833821d7c38e7c1869c8555f68" title="Process an FTP client&#39;s PORT command." alt="" coords="239,1714,366,1739"/><area shape="rect" id="node58" href="group__xg_f_t_p_d.html#gaa58ab5aeaa0551c2a809e2d881b9272c" title="Process an FTP client&#39;s PWD command." alt="" coords="239,2111,367,2137"/><area shape="rect" id="node60" href="group__xg_f_t_p_d.html#ga7b759361ed3c5ccb69461713e1857d7e" title="Process an FTP client&#39;s RMD command." alt="" coords="237,1914,368,1939"/><area shape="rect" id="node66" href="group__xg_f_t_p_d.html#ga727082f5c302cc37743c98321ace0509" title="Process an FTP client&#39;s SYST command." alt="" coords="230,2161,375,2186"/><area shape="rect" id="node68" href="group__xg_f_t_p_d.html#ga09e1a0621e8b56f44b884aac05567607" title="Process an FTP client&#39;s TYPE command." alt="" coords="237,1615,368,1641"/><area shape="rect" id="node71" href="group__xg_f_t_p_d.html#gaccd498f6cc8f1c9fe4cbc2835ea2d7cc" title="Process an FTP client&#39;s USER command." alt="" coords="237,1763,368,1789"/><area shape="rect" id="node76" href="group__xg_f_t_p_d.html#ga68b21460a1f27307ed029da5464a0dff" title="NutFtpRenameAction" alt="" coords="233,2013,372,2038"/><area shape="rect" id="node84" href="group__xg_f_t_p_d.html#ga78dd6dc6c0371a2ace8f2ff4e33c9444" title="NutFtpRenamePrepare" alt="" coords="227,1062,378,1087"/><area shape="rect" id="node93" href="group__xg_f_t_p_d.html#ga8048da8373cec681730f81e25269948f" title="Process an FTP client&#39;s LIST or NLST command." alt="" coords="205,631,400,657"/><area shape="rect" id="node140" href="group__xg_f_t_p_d.html#ga80900fe10a1f7780a461127c77850275" title="Transfer a file to or from the FTP client." alt="" coords="241,1490,365,1515"/><area shape="rect" id="node161" href="group__xg_crt_string.html#ga36feeebd3867be51852ba56dee5e53eb" title="Locate the first occurrence of a character in a string." alt="" coords="276,2210,329,2235"/><area shape="rect" id="node5" href="group__xg_heap.html#ga381d0a123dbf80ca3efe2614aa826e08" title="Allocate a block from heap memory." alt="" coords="671,481,729,506"/><area shape="rect" id="node7" href="group__xg_crt_string.html#ga5f9abaa6c5ffa26025ca901c14cb1056" title="Copy a string." alt="" coords="673,106,727,131"/><area shape="rect" id="node25" href="group__xg_f_s.html#ga91b48d99128dd507e20c8adcc22deeb2" title="Get information about a specified file." alt="" coords="496,1011,539,1037"/><area shape="rect" id="node27" href="group__xg_crt_string.html#gaafa356ff1e215725834bc57e8e4fae60" title="Compare two strings." alt="" coords="670,1890,730,1915"/><area shape="rect" id="node29" href="group__xg_crt_string.html#ga608db5821b635f6a719ecb7f76d4a5da" title="Create a copy of a string." alt="" coords="489,658,546,683"/><area shape="rect" id="node18" href="group__xg_crt_stdio.html#gadb974f28765a31026ee6bf71d5175951" title="Flush a stream." alt="" coords="674,1765,726,1790"/><area shape="rect" id="node20" href="io_8h.html#a901fa187b164dd6faaac1b62c88614b5" title="_write" alt="" coords="814,1025,869,1050"/><area shape="rect" id="node38" href="group__xg_f_s.html#gaf5b5161e115b870e4c19cf3bbb6ed02d" title="Remove a file entry." alt="" coords="490,1715,545,1741"/><area shape="rect" id="node42" href="group__xg_f_s.html#ga4d876e05d5901bd30b82c305086e0d5e" title="Create a directory entry." alt="" coords="491,2015,544,2041"/><area shape="rect" id="node64" href="group__xg_f_s.html#gaa1677087a1bd3fddf6245c7079625d30" title="Remove a directory." alt="" coords="492,1966,543,1991"/><area shape="rect" id="node81" href="group__xg_f_s.html#gac52010fcf7e8443c53b263c41d9710f6" title="Rename a file." alt="" coords="485,2167,550,2193"/><area shape="rect" id="node95" href="group__xg_crt_stdio.html#ga907a98011e3468d951740abecb768685" title="Open a stream associated with a file, device or socket descriptor." alt="" coords="484,455,551,481"/><area shape="rect" id="node98" href="group__xg_f_s_dir.html#gac0258906f9453b8abf03e945aa9c9676" title="Close a directory stream." alt="" coords="484,707,551,733"/><area shape="rect" id="node101" href="group__xg_crt_stdio.html#ga76370407f9ab0402564c2bb9bc9664e0" title="Close a stream." alt="" coords="490,859,545,885"/><area shape="rect" id="node106" href="group__xg_crt_stdio.html#gabe6299d5823dd023e610aaa619735a3f" title="Write a character to a stream." alt="" coords="676,683,724,709"/><area shape="rect" id="node109" href="group__xg_crt_stdio.html#ga14acfae1988535199b72df91e18f72f3" title="Write a string to a stream." alt="" coords="493,5,542,30"/><area shape="rect" id="node114" href="group__xg_crt_time.html#ga4bf5c1b09409b70880b839f0ff9aeb9a" title="Convert a time value to a structure." alt="" coords="485,357,549,382"/><area shape="rect" id="node117" href="group__xg_f_t_p_d.html#ga78bc9b7d484569dce570bf8eef609eb1" title="Establish an FTP connection for data transfer." alt="" coords="452,1214,583,1239"/><area shape="rect" id="node119" href="group__xg_tcp_socket.html#ga09d94fd887683a0837e06c2cc08fc7ba" title="Close TCP socket." alt="" coords="635,1214,765,1239"/><area shape="rect" id="node123" href="group__xg_f_t_p_d.html#ga7a2c08102e2c52355561453fcb15eb5e" title="Send a response including the specified transfer mode." alt="" coords="459,1417,576,1442"/><area shape="rect" id="node127" href="group__xg_f_s_dir.html#ga10116e941a8dfaf7e3dd345f8963fdd0" title="Open a directory stream." alt="" coords="485,258,549,283"/><area shape="rect" id="node133" href="group__xg_f_s_dir.html#gae4d263c5a1d3825c9511a898762513b2" title="Get the next directory entry." alt="" coords="487,406,548,431"/><area shape="rect" id="node136" href="group__xg_crt_string.html#gae96d8d456d5360ebbe0d588475bd6381" title="Concatenate two strings." alt="" coords="491,307,543,333"/><area shape="rect" id="node103" href="group__xg_crt_lowio.html#ga58a559c63748012aab165d5f82af766d" title="Close a file, device or socket." alt="" coords="671,1037,729,1062"/><area shape="rect" id="node143" href="group__xg_crt_lowio.html#gaa5b9fe6f8778481971c2e23a38348bb1" title="Open a file." alt="" coords="489,1617,546,1642"/><area shape="rect" id="node145" href="io_8h.html#aa7278892ff16de3dd3d00ff4a89d11e4" title="_read" alt="" coords="490,1666,545,1691"/><area shape="rect" id="node154" href="group__xg_timer.html#gafefcf81d05019a8134b49fa44d8c114a" title="Temporarily suspends the current thread." alt="" coords="481,1466,554,1491"/><area shape="rect" id="node157" href="group__xg_tcp_socket.html#gab08d3e50fd09da18b966af0dd23fa4aa" title="Receive data on a connected TCP socket." alt="" coords="465,1567,570,1593"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga6914104d8828e12e70984be621c87269"></a><!-- doxytag: member="ftpd.c::NutFtpServerSession" ref="ga6914104d8828e12e70984be621c87269" args="(TCPSOCKET *sock)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NutFtpServerSession </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__xg_tcp_socket.html#gaffc7ada36497e0b38f338c1aa1b5e394">TCPSOCKET</a> *&#160;</td>
          <td class="paramname"><em>sock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Process an FTP sever session. </p>
<p>Processes FTP requests on an established connection with an FTP client. This routine completely implements an FTP server except TCP connect and disconnect.</p>
<p>For file transfers, the same maximum segment size and timeouts as set for this socket will be used for the data connection.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">sock</td><td>Socket of an established TCP connection.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if the session ended successfully or -1 if the session has been aborted. </dd></dl>

<p>Definition at line <a class="el" href="ftpd_8c_source.html#l01363">1363</a> of file <a class="el" href="ftpd_8c_source.html">ftpd.c</a>.</p>

<p>References <a class="el" href="fflush_8c_source.html#l00071">fflush()</a>, <a class="el" href="fgets_8c_source.html#l00073">fgets()</a>, <a class="el" href="h8_8h_source.html#l00077">fprintf_P</a>, <a class="el" href="malloc_8c_source.html#l00084">free()</a>, <a class="el" href="ftpd_8h_source.html#l00071">FTP_MAX_CMDBUF</a>, <a class="el" href="ftpd_8h_source.html#l00083">FTPSESSION::ftp_stream</a>, <a class="el" href="localtim_8c_source.html#l00209">localtime()</a>, <a class="el" href="malloc_8c_source.html#l00064">malloc()</a>, <a class="el" href="ftpd_8c_source.html#l00650">NutFtpCloseSession()</a>, <a class="el" href="ftpd_8c_source.html#l00609">NutFtpOpenSession()</a>, <a class="el" href="ftpd_8c_source.html#l01208">NutFtpProcessRequest()</a>, <a class="el" href="ftpd_8c_source.html#l00309">NutFtpRespondBad()</a>, <a class="el" href="ftpd_8c_source.html#l00516">NutRegisterFtpRoot()</a>, <a class="el" href="version_8c_source.html#l00313">NutVersionString()</a>, <a class="el" href="icc_8h_source.html#l00136">printf</a>, <a class="el" href="printf__p_8c_source.html#l00070">printf_P()</a>, <a class="el" href="strlen_8c_source.html#l00087">strlen()</a>, <a class="el" href="time_8c_source.html#l00089">time()</a>, <a class="el" href="time_8h_source.html#l00098">_tm::tm_hour</a>, <a class="el" href="time_8h_source.html#l00099">_tm::tm_mday</a>, <a class="el" href="time_8h_source.html#l00097">_tm::tm_min</a>, <a class="el" href="time_8h_source.html#l00100">_tm::tm_mon</a>, and <a class="el" href="time_8h_source.html#l00096">_tm::tm_sec</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__xg_f_t_p_d_ga6914104d8828e12e70984be621c87269_cgraph.png" border="0" usemap="#group__xg_f_t_p_d_ga6914104d8828e12e70984be621c87269_cgraph" alt=""/></div>
<map name="group__xg_f_t_p_d_ga6914104d8828e12e70984be621c87269_cgraph" id="group__xg_f_t_p_d_ga6914104d8828e12e70984be621c87269_cgraph">
<area shape="rect" id="node3" href="group__xg_crt_stdio.html#gadb974f28765a31026ee6bf71d5175951" title="Flush a stream." alt="" coords="853,315,905,341"/><area shape="rect" id="node7" href="group__xg_crt_stdio.html#ga1c00c22c5e85d002e202cb733b644d63" title="Read a line from a stream." alt="" coords="243,355,293,381"/><area shape="rect" id="node13" href="group__xg_heap.html#ga9f850d0608418aea291e4c0fdab93826" title="Return a block to heap memory." alt="" coords="857,982,900,1007"/><area shape="rect" id="node15" href="group__xg_crt_time.html#ga7a9f8811ccb83dee7960cbd77dc133e9" title="Convert a time value and correct for the local time zone." alt="" coords="232,1815,304,1841"/><area shape="rect" id="node23" href="group__xg_heap.html#ga381d0a123dbf80ca3efe2614aa826e08" title="Allocate a block from heap memory." alt="" coords="849,1487,908,1513"/><area shape="rect" id="node25" href="group__xg_f_t_p_d.html#ga4e8a0adc4680aa66e9d4d17fdc6e985d" title="Close an FTP server session." alt="" coords="421,957,558,982"/><area shape="rect" id="node33" href="group__xg_f_t_p_d.html#ga9c2f592b2642d2091ea274362d2ed6bc" title="Open an FTP server session." alt="" coords="422,1459,557,1485"/><area shape="rect" id="node44" href="group__xg_f_t_p_d.html#ga5b72e2b9bea1143ace7837526d573444" title="Process an FTP request." alt="" coords="193,655,343,681"/><area shape="rect" id="node51" href="group__xg_crt_string.html#ga7b9fc4834c90ac78977b5fbb3076c5ac" title="Compute the length of a NUL terminated string." alt="" coords="679,1210,732,1235"/><area shape="rect" id="node57" href="group__xg_f_t_p_d.html#ga8a198e099aa073c08ae2203233bce632" title="Send a negative response." alt="" coords="640,450,771,475"/><area shape="rect" id="node138" href="group__xg_f_t_p_d.html#ga9e41cc8f252b71d222f0d79da1899eaf" title="Register the FTP server&#39;s root directory." alt="" coords="424,1358,555,1383"/><area shape="rect" id="node145" href="group__xg_nut_version.html#gafc224f8837d06742cb90826cdf1dea12" title="Return Nut/OS version string." alt="" coords="211,1865,325,1890"/><area shape="rect" id="node147" href="group__xg_crt_stdio.html#ga30b0c3fa763cfd9c65416be0c3956aa1" title="Print formatted output to the standard output stream." alt="" coords="236,5,300,30"/><area shape="rect" id="node153" href="group__xg_crt_time.html#ga26c7d1dbf93fa8c23c5effbacec91f8c" title="Get the system time." alt="" coords="682,1765,729,1790"/><area shape="rect" id="node5" href="io_8h.html#a901fa187b164dd6faaac1b62c88614b5" title="_write" alt="" coords="982,315,1037,341"/><area shape="rect" id="node9" href="group__xg_crt_stdio.html#gab11a990e4f8863a1e7736e3c1d430092" title="Read a character from a stream." alt="" coords="465,106,513,131"/><area shape="rect" id="node11" href="io_8h.html#aa7278892ff16de3dd3d00ff4a89d11e4" title="_read" alt="" coords="678,314,733,339"/><area shape="rect" id="node17" href="group__xg_crt_time.html#ga35785f4de9013a460456443a18117291" title="Convert a time value and correct for the local time zone." alt="" coords="448,1815,531,1841"/><area shape="rect" id="node19" href="group__xg_crt_time.html#gaaa7031886dc783f76006ff1b370406b3" title="Convert a time value to a structure." alt="" coords="668,1814,743,1839"/><area shape="rect" id="node21" href="ctime_8h.html#a07d21800053bc8fdcffffc4a92b7ebab" title="_isindst" alt="" coords="672,1863,739,1889"/><area shape="rect" id="node27" href="group__xg_crt_stdio.html#ga76370407f9ab0402564c2bb9bc9664e0" title="Close a stream." alt="" coords="678,1007,733,1033"/><area shape="rect" id="node29" href="group__xg_crt_lowio.html#ga58a559c63748012aab165d5f82af766d" title="Close a file, device or socket." alt="" coords="849,779,908,805"/><area shape="rect" id="node35" href="group__xg_crt_stdio.html#ga907a98011e3468d951740abecb768685" title="Open a stream associated with a file, device or socket descriptor." alt="" coords="672,1411,739,1437"/><area shape="rect" id="node42" href="group__xg_crt_string.html#gaa4075a014de11292d9105188ddbeb216" title="Fill memory region with a specific byte value." alt="" coords="671,1613,739,1638"/><area shape="rect" id="node37" href="group__xg_crt_stdio.html#ga6abcc06d7a67fdf4029ec5dc3e06cdcd" title="_fmode" alt="" coords="847,1411,911,1437"/><area shape="rect" id="node46" href="group__xg_f_t_p_d.html#gaad7b7118c7f21feb01fc6db7b8b0e615" title="Create an absolute path name." alt="" coords="420,1309,559,1334"/><area shape="rect" id="node54" href="group__xg_f_t_p_d.html#ga6fe36e83d24072ff6fb7940252c51a6e" title="Process an FTP client&#39;s CWD command." alt="" coords="425,855,554,881"/><area shape="rect" id="node60" href="group__xg_f_t_p_d.html#gaedf4862063aad8c80cf50025318e25de" title="Send a positive response." alt="" coords="643,401,767,426"/><area shape="rect" id="node66" href="group__xg_f_t_p_d.html#ga8c45cdbeb27a773812a7eb6cca53125b" title="Process an FTP client&#39;s DELE command." alt="" coords="419,457,559,482"/><area shape="rect" id="node70" href="group__xg_f_t_p_d.html#gae85078df724a2046bfab56e88c058357" title="Process an FTP client&#39;s MKD command." alt="" coords="426,555,553,581"/><area shape="rect" id="node74" href="group__xg_f_t_p_d.html#ga836d1cf7dc7ef29c929f6780477851f7" title="Process an FTP client&#39;s PASS command." alt="" coords="423,506,556,531"/><area shape="rect" id="node78" href="group__xg_f_t_p_d.html#ga3564dcac7a3f46dcf9c77c78d3318b71" title="Process an FTP client&#39;s PASV command." alt="" coords="635,229,776,254"/><area shape="rect" id="node81" href="group__xg_f_t_p_d.html#gacf9843833821d7c38e7c1869c8555f68" title="Process an FTP client&#39;s PORT command." alt="" coords="426,309,553,334"/><area shape="rect" id="node85" href="group__xg_f_t_p_d.html#gaa58ab5aeaa0551c2a809e2d881b9272c" title="Process an FTP client&#39;s PWD command." alt="" coords="425,1107,553,1133"/><area shape="rect" id="node87" href="group__xg_f_t_p_d.html#ga7b759361ed3c5ccb69461713e1857d7e" title="Process an FTP client&#39;s RMD command." alt="" coords="424,358,555,383"/><area shape="rect" id="node91" href="group__xg_f_t_p_d.html#ga727082f5c302cc37743c98321ace0509" title="Process an FTP client&#39;s SYST command." alt="" coords="417,1157,562,1182"/><area shape="rect" id="node93" href="group__xg_f_t_p_d.html#ga09e1a0621e8b56f44b884aac05567607" title="Process an FTP client&#39;s TYPE command." alt="" coords="424,207,555,233"/><area shape="rect" id="node96" href="group__xg_f_t_p_d.html#gaccd498f6cc8f1c9fe4cbc2835ea2d7cc" title="Process an FTP client&#39;s USER command." alt="" coords="424,407,555,433"/><area shape="rect" id="node100" href="group__xg_f_t_p_d.html#ga68b21460a1f27307ed029da5464a0dff" title="NutFtpRenameAction" alt="" coords="420,605,559,630"/><area shape="rect" id="node105" href="group__xg_f_t_p_d.html#ga78dd6dc6c0371a2ace8f2ff4e33c9444" title="NutFtpRenamePrepare" alt="" coords="414,806,565,831"/><area shape="rect" id="node113" href="group__xg_f_t_p_d.html#ga8048da8373cec681730f81e25269948f" title="Process an FTP client&#39;s LIST or NLST command." alt="" coords="392,1058,587,1083"/><area shape="rect" id="node124" href="group__xg_f_t_p_d.html#ga80900fe10a1f7780a461127c77850275" title="Transfer a file to or from the FTP client." alt="" coords="427,757,551,782"/><area shape="rect" id="node134" href="group__xg_crt_string.html#ga36feeebd3867be51852ba56dee5e53eb" title="Locate the first occurrence of a character in a string." alt="" coords="679,1563,732,1589"/><area shape="rect" id="node49" href="group__xg_crt_string.html#ga5f9abaa6c5ffa26025ca901c14cb1056" title="Copy a string." alt="" coords="678,1259,733,1285"/><area shape="rect" id="node63" href="group__xg_f_s.html#ga91b48d99128dd507e20c8adcc22deeb2" title="Get information about a specified file." alt="" coords="684,805,727,830"/><area shape="rect" id="node149" href="group__xg_crt_stdio.html#ga695a74f3f80d1922259905472d7a4863" title="Write argument list to a stream using a given format." alt="" coords="843,93,915,118"/><area shape="rect" id="node155" href="group__xg_timer.html#ga8bc858a1ca645b9e0cf9d03d7c9adfb3" title="Return the seconds counter value." alt="" coords="824,1715,933,1741"/><area shape="rect" id="node158" href="rtc_8h.html#af7b0f9657f58b47b8d7c84ff581e1fed" title="Get date and time from the registered RTC." alt="" coords="825,1765,932,1790"/><area shape="rect" id="node160" href="group__xg_crt_time.html#gada9feb24e45d91e9e56774ef223abe9b" title="_mkgmtime" alt="" coords="835,1814,923,1839"/></map>
</div>
</p>

</div>
</div>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr>
<address>
  <small>
    &copy;&nbsp;2000-2010 by contributors - 
    visit <a href="http://www.ethernut.de/">http://www.ethernut.de/</a>
  </small>
</address>
</body>
</html>
