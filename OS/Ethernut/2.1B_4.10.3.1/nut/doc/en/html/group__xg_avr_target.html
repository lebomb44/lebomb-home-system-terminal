<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Nut/OS: AVR Target Programming</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  <td id="projectlogo"><img alt="Logo" src="nutos_logo.png"/></td>
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Nut/OS
   &#160;<span id="projectnumber">4.10.3</span>
   </div>
   <div id="projectbrief">API Reference</div>
  </td>
  
  
  
   
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
   
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('group__xg_avr_target.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Defines</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">AVR Target Programming</div>  </div>
<div class="ingroups"><a class="el" href="group__xg_hardware_avr.html">Special Hardware</a></div></div>
<div class="contents">

<p>AVR target programming via SPI.  
<a href="#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for AVR Target Programming:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group__xg_avr_target.png" border="0" alt="" usemap="#group____xg__avr__target"/>
<map name="group____xg__avr__target" id="group____xg__avr__target">
<area shape="rect" id="node2" href="group__xg_hardware_avr.html" title="Support routines for direct hardware access." alt="" coords="5,5,125,30"/></map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_avr_target.html#ga94ed7c8bf54d7f8798e9b2842083011a">AVRTARGET_CHIPERASE_TIMEOUT</a>&#160;&#160;&#160;200</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum time (in milliseconds) to wait for chip erase done.  <a href="#ga94ed7c8bf54d7f8798e9b2842083011a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_avr_target.html#ga10f22257d6d51d985a6e3c261d39ce6a">AVRTARGET_PAGEWRITE_TIMEOUT</a>&#160;&#160;&#160;10</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum time (in milliseconds) to wait for page write done.  <a href="#ga10f22257d6d51d985a6e3c261d39ce6a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_avr_target.html#gabbaf412b22afc3f95cfb15105e515669">AVR_FUSES_NEVER_PROG</a>&#160;&#160;&#160;0x00F88062UL</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Safe fuse programming mask.  <a href="#gabbaf412b22afc3f95cfb15105e515669"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_avr_target.html#gaa37a0d5891af4cbabf364f651c560cae">AVR_FUSES_ALWAYS_PROG</a>&#160;&#160;&#160;0x0000201DUL</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Safe fuse unprogramming mask.  <a href="#gaa37a0d5891af4cbabf364f651c560cae"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_avr_target.html#gad263c9d06c6b300d1a461c500a7d4fa3">AVRTARGET_SPI_MODE</a>&#160;&#160;&#160;0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_avr_target.html#gaf7ebc0f40a59398183952cb3c2a66016">AVRTARGET_SPI_RATE</a>&#160;&#160;&#160;500000</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_avr_target.html#gaea68f8ac7742744778298a48a128c42a">AVRTARGET_NO_SPI_DEVICE</a></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_avr_target.html#ga54e6496a5d012f337b9588e0df7b6518">AvrTargetInit</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize programming interface.  <a href="#ga54e6496a5d012f337b9588e0df7b6518"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_avr_target.html#ga3743f56c58ddecff1147c2798103a4cb">AvrTargetSelect</a> (<a class="el" href="nut__types_8h.html#ae15262a08334eeeacd9a24f219a89d46">ureg_t</a> act)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set or clear the chip select line.  <a href="#ga3743f56c58ddecff1147c2798103a4cb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_avr_target.html#ga850b833859005617c028ecfdedbe6afb">AvrTargetReset</a> (<a class="el" href="nut__types_8h.html#ae15262a08334eeeacd9a24f219a89d46">ureg_t</a> act)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set or release the target's reset line.  <a href="#ga850b833859005617c028ecfdedbe6afb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdint_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_avr_target.html#gadeb5307b6b76ab9b778595b077a9c035">AvrTargetCmd</a> (<a class="el" href="stdint_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a> cmd)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Send programming command and return response.  <a href="#gadeb5307b6b76ab9b778595b077a9c035"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_avr_target.html#ga8033081dd65a824f3b3ddd05c5c5a2b6">AvrTargetProgEnable</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable target's programming mode.  <a href="#ga8033081dd65a824f3b3ddd05c5c5a2b6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdint_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_avr_target.html#ga9846fec6ec027f9495568f6fcceb7772">AvrTargetSignature</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the target's signature.  <a href="#ga9846fec6ec027f9495568f6fcceb7772"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdint_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_avr_target.html#gaa37527a6c0d14879adcb60aab7dace26">AvrTargetFusesRead</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the target's fuses.  <a href="#gaa37527a6c0d14879adcb60aab7dace26"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdint_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_avr_target.html#gaf9269cd32d7133af16d90893967e7fe5">AvrTargetFusesWriteSafe</a> (<a class="el" href="stdint_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a> fuses)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Program the target's fuses in a safe way.  <a href="#gaf9269cd32d7133af16d90893967e7fe5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_avr_target.html#ga7794aed6338bf7e0362c7a32ae1fa8a6">AvrTargetPollReady</a> (unsigned int tmo)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Poll target for becoming ready.  <a href="#ga7794aed6338bf7e0362c7a32ae1fa8a6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_avr_target.html#ga7f6d9956462cd7a583415d2824a27058">AvrTargetChipErase</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Erase the target chip.  <a href="#ga7f6d9956462cd7a583415d2824a27058"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_avr_target.html#gad79842b5e91a04277c1f74b9308fa3a5">AvrTargetPageLoad</a> (<a class="el" href="stdint_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a> page, CONST <a class="el" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *data)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Load target's program memory page buffer.  <a href="#gad79842b5e91a04277c1f74b9308fa3a5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_avr_target.html#ga6ade11a102082ad4e37c17de18d62432">AvrTargetPageWrite</a> (<a class="el" href="stdint_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a> page)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Write page buffer contents to program memory.  <a href="#ga6ade11a102082ad4e37c17de18d62432"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_avr_target.html#gaca02e891e40a39b4cf81fac5a61b0087">AvrTargetPageVerify</a> (<a class="el" href="stdint_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a> page, CONST <a class="el" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *data)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Verify program memory page contents.  <a href="#gaca02e891e40a39b4cf81fac5a61b0087"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<p>AVR target programming via SPI. </p>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="ga94ed7c8bf54d7f8798e9b2842083011a"></a><!-- doxytag: member="avrtarget.c::AVRTARGET_CHIPERASE_TIMEOUT" ref="ga94ed7c8bf54d7f8798e9b2842083011a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AVRTARGET_CHIPERASE_TIMEOUT&#160;&#160;&#160;200</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Maximum time (in milliseconds) to wait for chip erase done. </p>

<p>Definition at line <a class="el" href="avrtarget_8c_source.html#l00066">66</a> of file <a class="el" href="avrtarget_8c_source.html">avrtarget.c</a>.</p>

<p>Referenced by <a class="el" href="avrtarget_8c_source.html#l00421">AvrTargetChipErase()</a>.</p>

</div>
</div>
<a class="anchor" id="ga10f22257d6d51d985a6e3c261d39ce6a"></a><!-- doxytag: member="avrtarget.c::AVRTARGET_PAGEWRITE_TIMEOUT" ref="ga10f22257d6d51d985a6e3c261d39ce6a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AVRTARGET_PAGEWRITE_TIMEOUT&#160;&#160;&#160;10</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Maximum time (in milliseconds) to wait for page write done. </p>

<p>Definition at line <a class="el" href="avrtarget_8c_source.html#l00073">73</a> of file <a class="el" href="avrtarget_8c_source.html">avrtarget.c</a>.</p>

<p>Referenced by <a class="el" href="avrtarget_8c_source.html#l00459">AvrTargetPageWrite()</a>.</p>

</div>
</div>
<a class="anchor" id="gabbaf412b22afc3f95cfb15105e515669"></a><!-- doxytag: member="avrtarget.c::AVR_FUSES_NEVER_PROG" ref="gabbaf412b22afc3f95cfb15105e515669" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AVR_FUSES_NEVER_PROG&#160;&#160;&#160;0x00F88062UL</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Safe fuse programming mask. </p>
<p>If a bit is set in this mask, the corresponding fuse should never be programmed to 0.</p>
<p>Used in <a class="el" href="group__xg_avr_target.html#gaf9269cd32d7133af16d90893967e7fe5" title="Program the target&#39;s fuses in a safe way.">AvrTargetFusesWriteSafe()</a> to avoid dead chips. However, it is still possible to break hardware. Triple check any new fuse configuration.</p>
<p>This unsigned long value is interpreted as follows:</p>
<ul>
<li>Least significant byte is fuse low byte.</li>
<li>Second byte is fuse high byte.</li>
<li>Third byte is fuse extended byte.</li>
<li>Most significant byte is not used. </li>
</ul>

<p>Definition at line <a class="el" href="avrtarget_8c_source.html#l00093">93</a> of file <a class="el" href="avrtarget_8c_source.html">avrtarget.c</a>.</p>

<p>Referenced by <a class="el" href="avrtarget_8c_source.html#l00370">AvrTargetFusesWriteSafe()</a>.</p>

</div>
</div>
<a class="anchor" id="gaa37a0d5891af4cbabf364f651c560cae"></a><!-- doxytag: member="avrtarget.c::AVR_FUSES_ALWAYS_PROG" ref="gaa37a0d5891af4cbabf364f651c560cae" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AVR_FUSES_ALWAYS_PROG&#160;&#160;&#160;0x0000201DUL</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Safe fuse unprogramming mask. </p>
<p>If a bit is set in this mask, the corresponding fuse should never be left unprogrammed (set to 1).</p>
<p>Used in <a class="el" href="group__xg_avr_target.html#gaf9269cd32d7133af16d90893967e7fe5" title="Program the target&#39;s fuses in a safe way.">AvrTargetFusesWriteSafe()</a> to avoid dead chips. However, it is still possible to break hardware. Triple check any new fuse configuration.</p>
<p>This unsigned long value is interpreted as follows:</p>
<ul>
<li>Least significant byte is fuse low byte.</li>
<li>Second byte is fuse high byte.</li>
<li>Third byte is fuse extended byte.</li>
<li>Most significant byte is not used. </li>
</ul>

<p>Definition at line <a class="el" href="avrtarget_8c_source.html#l00112">112</a> of file <a class="el" href="avrtarget_8c_source.html">avrtarget.c</a>.</p>

<p>Referenced by <a class="el" href="avrtarget_8c_source.html#l00370">AvrTargetFusesWriteSafe()</a>.</p>

</div>
</div>
<a class="anchor" id="gad263c9d06c6b300d1a461c500a7d4fa3"></a><!-- doxytag: member="avrtarget.c::AVRTARGET_SPI_MODE" ref="gad263c9d06c6b300d1a461c500a7d4fa3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AVRTARGET_SPI_MODE&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="avrtarget_8c_source.html#l00115">115</a> of file <a class="el" href="avrtarget_8c_source.html">avrtarget.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaf7ebc0f40a59398183952cb3c2a66016"></a><!-- doxytag: member="avrtarget.c::AVRTARGET_SPI_RATE" ref="gaf7ebc0f40a59398183952cb3c2a66016" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AVRTARGET_SPI_RATE&#160;&#160;&#160;500000</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="avrtarget_8c_source.html#l00119">119</a> of file <a class="el" href="avrtarget_8c_source.html">avrtarget.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaea68f8ac7742744778298a48a128c42a"></a><!-- doxytag: member="avrtarget.c::AVRTARGET_NO_SPI_DEVICE" ref="gaea68f8ac7742744778298a48a128c42a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AVRTARGET_NO_SPI_DEVICE</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="avrtarget_8c_source.html#l00219">219</a> of file <a class="el" href="avrtarget_8c_source.html">avrtarget.c</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga54e6496a5d012f337b9588e0df7b6518"></a><!-- doxytag: member="avrtarget.c::AvrTargetInit" ref="ga54e6496a5d012f337b9588e0df7b6518" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int AvrTargetInit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialize programming interface. </p>
<p>Sets the configured SPI mode and rate. This must be called before using any other routine in this module.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 on success, -1 otherwise. </dd></dl>

<p>Definition at line <a class="el" href="avrtarget_8c_source.html#l00231">231</a> of file <a class="el" href="avrtarget_8c_source.html">avrtarget.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga3743f56c58ddecff1147c2798103a4cb"></a><!-- doxytag: member="avrtarget.c::AvrTargetSelect" ref="ga3743f56c58ddecff1147c2798103a4cb" args="(ureg_t act)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AvrTargetSelect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="nut__types_8h.html#ae15262a08334eeeacd9a24f219a89d46">ureg_t</a>&#160;</td>
          <td class="paramname"><em>act</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set or clear the chip select line. </p>
<p>Must be called before sending programming commands to the target device, even if no chip selects are implemented by the hardware. Beside activating an optional chip select, this routine will also properly initialize the SPI hardware.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">act</td><td>When 0, the chip will be deactivated and the serial peripheral interface may be used to communicate with another device. When not 0, the SPI bus is allocated for the attached AVR target. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="avrtarget_8c_source.html#l00258">258</a> of file <a class="el" href="avrtarget_8c_source.html">avrtarget.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga850b833859005617c028ecfdedbe6afb"></a><!-- doxytag: member="avrtarget.c::AvrTargetReset" ref="ga850b833859005617c028ecfdedbe6afb" args="(ureg_t act)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AvrTargetReset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="nut__types_8h.html#ae15262a08334eeeacd9a24f219a89d46">ureg_t</a>&#160;</td>
          <td class="paramname"><em>act</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set or release the target's reset line. </p>
<p>The target must be held in reset state during programming.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">on</td><td>When not 0, the reset line will be activated. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="avrtarget_8c_source.html#l00276">276</a> of file <a class="el" href="avrtarget_8c_source.html">avrtarget.c</a>.</p>

</div>
</div>
<a class="anchor" id="gadeb5307b6b76ab9b778595b077a9c035"></a><!-- doxytag: member="avrtarget.c::AvrTargetCmd" ref="gadeb5307b6b76ab9b778595b077a9c035" args="(uint32_t cmd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdint_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a> AvrTargetCmd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a>&#160;</td>
          <td class="paramname"><em>cmd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Send programming command and return response. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">cmd</td><td>4-byte command.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>4-byte response. </dd></dl>

<p>Definition at line <a class="el" href="avrtarget_8c_source.html#l00290">290</a> of file <a class="el" href="avrtarget_8c_source.html">avrtarget.c</a>.</p>

<p>Referenced by <a class="el" href="avrtarget_8c_source.html#l00421">AvrTargetChipErase()</a>, <a class="el" href="avrtarget_8c_source.html#l00346">AvrTargetFusesRead()</a>, <a class="el" href="avrtarget_8c_source.html#l00370">AvrTargetFusesWriteSafe()</a>, <a class="el" href="avrtarget_8c_source.html#l00435">AvrTargetPageLoad()</a>, <a class="el" href="avrtarget_8c_source.html#l00475">AvrTargetPageVerify()</a>, <a class="el" href="avrtarget_8c_source.html#l00459">AvrTargetPageWrite()</a>, <a class="el" href="avrtarget_8c_source.html#l00398">AvrTargetPollReady()</a>, <a class="el" href="avrtarget_8c_source.html#l00310">AvrTargetProgEnable()</a>, and <a class="el" href="avrtarget_8c_source.html#l00327">AvrTargetSignature()</a>.</p>

</div>
</div>
<a class="anchor" id="ga8033081dd65a824f3b3ddd05c5c5a2b6"></a><!-- doxytag: member="avrtarget.c::AvrTargetProgEnable" ref="ga8033081dd65a824f3b3ddd05c5c5a2b6" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int AvrTargetProgEnable </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Enable target's programming mode. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 on success, -1 otherwise. </dd></dl>

<p>Definition at line <a class="el" href="avrtarget_8c_source.html#l00310">310</a> of file <a class="el" href="avrtarget_8c_source.html">avrtarget.c</a>.</p>

<p>References <a class="el" href="avrtarget_8h_source.html#l00085">AVRCMD_PROG_ENABLE</a>, and <a class="el" href="avrtarget_8c_source.html#l00290">AvrTargetCmd()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__xg_avr_target_ga8033081dd65a824f3b3ddd05c5c5a2b6_cgraph.png" border="0" usemap="#group__xg_avr_target_ga8033081dd65a824f3b3ddd05c5c5a2b6_cgraph" alt=""/></div>
<map name="group__xg_avr_target_ga8033081dd65a824f3b3ddd05c5c5a2b6_cgraph" id="group__xg_avr_target_ga8033081dd65a824f3b3ddd05c5c5a2b6_cgraph">
<area shape="rect" id="node3" href="group__xg_avr_target.html#gadeb5307b6b76ab9b778595b077a9c035" title="Send programming command and return response." alt="" coords="193,5,293,30"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga9846fec6ec027f9495568f6fcceb7772"></a><!-- doxytag: member="avrtarget.c::AvrTargetSignature" ref="ga9846fec6ec027f9495568f6fcceb7772" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdint_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a> AvrTargetSignature </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Retrieve the target's signature. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Signature in the 3 least significant bytes. </dd></dl>

<p>Definition at line <a class="el" href="avrtarget_8c_source.html#l00327">327</a> of file <a class="el" href="avrtarget_8c_source.html">avrtarget.c</a>.</p>

<p>References <a class="el" href="avrtarget_8h_source.html#l00099">AVRCMD_READ_SIGNATURE_BYTE</a>, and <a class="el" href="avrtarget_8c_source.html#l00290">AvrTargetCmd()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__xg_avr_target_ga9846fec6ec027f9495568f6fcceb7772_cgraph.png" border="0" usemap="#group__xg_avr_target_ga9846fec6ec027f9495568f6fcceb7772_cgraph" alt=""/></div>
<map name="group__xg_avr_target_ga9846fec6ec027f9495568f6fcceb7772_cgraph" id="group__xg_avr_target_ga9846fec6ec027f9495568f6fcceb7772_cgraph">
<area shape="rect" id="node3" href="group__xg_avr_target.html#gadeb5307b6b76ab9b778595b077a9c035" title="Send programming command and return response." alt="" coords="182,5,282,30"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaa37527a6c0d14879adcb60aab7dace26"></a><!-- doxytag: member="avrtarget.c::AvrTargetFusesRead" ref="gaa37527a6c0d14879adcb60aab7dace26" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdint_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a> AvrTargetFusesRead </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Retrieve the target's fuses. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Fuse bits in the 3 least significant bytes. </dd></dl>

<p>Definition at line <a class="el" href="avrtarget_8c_source.html#l00346">346</a> of file <a class="el" href="avrtarget_8c_source.html">avrtarget.c</a>.</p>

<p>References <a class="el" href="avrtarget_8h_source.html#l00103">AVRCMD_READ_FUSE_BITS</a>, <a class="el" href="avrtarget_8h_source.html#l00105">AVRCMD_READ_FUSE_EXT_BITS</a>, <a class="el" href="avrtarget_8h_source.html#l00104">AVRCMD_READ_FUSE_HI_BITS</a>, and <a class="el" href="avrtarget_8c_source.html#l00290">AvrTargetCmd()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__xg_avr_target_gaa37527a6c0d14879adcb60aab7dace26_cgraph.png" border="0" usemap="#group__xg_avr_target_gaa37527a6c0d14879adcb60aab7dace26_cgraph" alt=""/></div>
<map name="group__xg_avr_target_gaa37527a6c0d14879adcb60aab7dace26_cgraph" id="group__xg_avr_target_gaa37527a6c0d14879adcb60aab7dace26_cgraph">
<area shape="rect" id="node3" href="group__xg_avr_target.html#gadeb5307b6b76ab9b778595b077a9c035" title="Send programming command and return response." alt="" coords="193,5,293,30"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaf9269cd32d7133af16d90893967e7fe5"></a><!-- doxytag: member="avrtarget.c::AvrTargetFusesWriteSafe" ref="gaf9269cd32d7133af16d90893967e7fe5" args="(uint32_t fuses)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdint_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a> AvrTargetFusesWriteSafe </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a>&#160;</td>
          <td class="paramname"><em>fuses</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Program the target's fuses in a safe way. </p>
<p>Fuses with corresponding bits set in <a class="el" href="group__xg_avr_target.html#gabbaf412b22afc3f95cfb15105e515669">AVR_FUSES_NEVER_PROG</a> will never be programmed. Fuses with corresponding bits set in <a class="el" href="group__xg_avr_target.html#gaa37a0d5891af4cbabf364f651c560cae">AVR_FUSES_ALWAYS_PROG</a> will always be programmed.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">fuses</td><td>Fuse bits are expected in the 3 least significant bytes, Lower fuses in the LSB, followed by the high fuses and last no least the extended fuses. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="avrtarget_8c_source.html#l00370">370</a> of file <a class="el" href="avrtarget_8c_source.html">avrtarget.c</a>.</p>

<p>References <a class="el" href="avrtarget_8c_source.html#l00112">AVR_FUSES_ALWAYS_PROG</a>, <a class="el" href="avrtarget_8c_source.html#l00093">AVR_FUSES_NEVER_PROG</a>, <a class="el" href="avrtarget_8h_source.html#l00100">AVRCMD_WRITE_FUSE_BITS</a>, <a class="el" href="avrtarget_8h_source.html#l00102">AVRCMD_WRITE_FUSE_EXT_BITS</a>, <a class="el" href="avrtarget_8h_source.html#l00101">AVRCMD_WRITE_FUSE_HI_BITS</a>, and <a class="el" href="avrtarget_8c_source.html#l00290">AvrTargetCmd()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__xg_avr_target_gaf9269cd32d7133af16d90893967e7fe5_cgraph.png" border="0" usemap="#group__xg_avr_target_gaf9269cd32d7133af16d90893967e7fe5_cgraph" alt=""/></div>
<map name="group__xg_avr_target_gaf9269cd32d7133af16d90893967e7fe5_cgraph" id="group__xg_avr_target_gaf9269cd32d7133af16d90893967e7fe5_cgraph">
<area shape="rect" id="node3" href="group__xg_avr_target.html#gadeb5307b6b76ab9b778595b077a9c035" title="Send programming command and return response." alt="" coords="217,5,317,30"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga7794aed6338bf7e0362c7a32ae1fa8a6"></a><!-- doxytag: member="avrtarget.c::AvrTargetPollReady" ref="ga7794aed6338bf7e0362c7a32ae1fa8a6" args="(unsigned int tmo)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int AvrTargetPollReady </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>tmo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Poll target for becoming ready. </p>
<p>May switch to another thread while waiting. After switching back to the calling thread, the SPI is re-selected.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">tmo</td><td>Maximum number of milliseconds to wait.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 on success, -1 on time out. </dd></dl>

<p>Definition at line <a class="el" href="avrtarget_8c_source.html#l00398">398</a> of file <a class="el" href="avrtarget_8c_source.html">avrtarget.c</a>.</p>

<p>References <a class="el" href="avrtarget_8h_source.html#l00107">AVRCMD_POLL_READY</a>, <a class="el" href="avrtarget_8c_source.html#l00290">AvrTargetCmd()</a>, and <a class="el" href="timer_8c_source.html#l00628">NutSleep()</a>.</p>

<p>Referenced by <a class="el" href="avrtarget_8c_source.html#l00421">AvrTargetChipErase()</a>, and <a class="el" href="avrtarget_8c_source.html#l00459">AvrTargetPageWrite()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__xg_avr_target_ga7794aed6338bf7e0362c7a32ae1fa8a6_cgraph.png" border="0" usemap="#group__xg_avr_target_ga7794aed6338bf7e0362c7a32ae1fa8a6_cgraph" alt=""/></div>
<map name="group__xg_avr_target_ga7794aed6338bf7e0362c7a32ae1fa8a6_cgraph" id="group__xg_avr_target_ga7794aed6338bf7e0362c7a32ae1fa8a6_cgraph">
<area shape="rect" id="node3" href="group__xg_avr_target.html#gadeb5307b6b76ab9b778595b077a9c035" title="Send programming command and return response." alt="" coords="185,57,285,82"/><area shape="rect" id="node5" href="group__xg_timer.html#gafefcf81d05019a8134b49fa44d8c114a" title="Temporarily suspends the current thread." alt="" coords="198,106,271,131"/><area shape="rect" id="node7" href="group__xg_thread.html#gae45ebad9f604755d5c5ba8adaf9e4f89" title="Remove a thread from a specified queue." alt="" coords="493,55,656,81"/><area shape="rect" id="node9" href="group__xg_timer.html#ga91b42f5fd833e1b72c27b3bfb0ed0af7" title="Start a system timer." alt="" coords="340,318,439,343"/><area shape="rect" id="node27" href="group__xg_thread.html#ga8730ce8319ffcb5e14a413458125e41a" title="Resume a previously suspended thread." alt="" coords="334,5,445,30"/><area shape="rect" id="node31" href="group__xg_thread.html#gaabfac60c4d51b57c2dc422d09a69df5b" title="Continue with the highest priority thread, which is ready to run." alt="" coords="511,157,639,182"/><area shape="rect" id="node45" href="group__xg_thread.html#ga075836f9a2596c5983b7ba88420afd11" title="Give up the CPU." alt="" coords="336,106,443,131"/><area shape="rect" id="node11" href="group__xg_timer.html#gaf104e0c3660b2a77bd0d7b00c4fd741c" title="Start a system timer." alt="" coords="511,318,638,343"/><area shape="rect" id="node19" href="group__xg_nut_arch_arm_os_timer_at91.html#gabb52a4e7f513a7c586898065e0a0c81a" title="Calculate system ticks for a given number of milliseconds." alt="" coords="503,393,647,418"/><area shape="rect" id="node13" href="group__xg_timer.html#ga1e47b683a996583386ebef7e7c92501e" title="Create a new system timer." alt="" coords="731,305,842,330"/><area shape="rect" id="node17" href="group__xg_timer.html#ga681ca3c989be2bdeb5f0cc97e11d6e06" title="Insert a new timer in the global timer list." alt="" coords="1125,254,1229,279"/><area shape="rect" id="node15" href="group__xg_timer.html#ga940f66286dcf28b8280e41b605064446" title="Return the number of system timer ticks." alt="" coords="937,305,1052,330"/><area shape="rect" id="node21" href="group__xg_nut_arch_arm_os_timer_at91.html#ga2724f52da15ed45123a32c1ed7e148f0" title="Return the number of system ticks per second." alt="" coords="730,406,843,431"/><area shape="rect" id="node23" href="group__xg_timer.html#ga784a7f52b5167c777149fd1d874c99f0" title="Return the CPU clock frequency." alt="" coords="937,406,1052,431"/><area shape="rect" id="node25" href="group__xg_nut_arch_arm_os_timer_gba.html#ga7d11c53224db0028ad4838f8b9df9872" title="Return the CPU clock in Hertz." alt="" coords="1120,406,1235,431"/><area shape="rect" id="node29" href="group__xg_thread.html#ga4d2458fb9ec9d926a6f87706b19e7e06" title="Add a thread to a prioritiy ordered queue." alt="" coords="918,106,1071,131"/><area shape="rect" id="node33" href="group__xg_event.html#ga129d2de44ddf083f252d0754fc45d9d3" title="Asynchronously post an event to a specified queue." alt="" coords="723,157,851,182"/><area shape="rect" id="node39" href="group__xg_timer.html#gaf719e88403b4ccc78f071ce5c85a5a71" title="Process elapsed timers." alt="" coords="704,255,869,281"/><area shape="rect" id="node43" href="group__xg_nut_arch_arm_os_context.html#gad63408e1c4ef1c03d9f979ad2d31b7e0" title="Switch to another thread." alt="" coords="729,206,845,231"/><area shape="rect" id="node35" href="group__xg_timer.html#gafb23f6965312663a72d41fefc574dc00" title="Stop a specified timer." alt="" coords="945,179,1044,205"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga7f6d9956462cd7a583415d2824a27058"></a><!-- doxytag: member="avrtarget.c::AvrTargetChipErase" ref="ga7f6d9956462cd7a583415d2824a27058" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int AvrTargetChipErase </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Erase the target chip. </p>
<p>Be aware, that this routine calls <a class="el" href="group__xg_avr_target.html#ga7794aed6338bf7e0362c7a32ae1fa8a6" title="Poll target for becoming ready.">AvrTargetPollReady()</a>, which may initiate a context switch while waiting for the erase to finish.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 on success, -1 on time out. </dd></dl>

<p>Definition at line <a class="el" href="avrtarget_8c_source.html#l00421">421</a> of file <a class="el" href="avrtarget_8c_source.html">avrtarget.c</a>.</p>

<p>References <a class="el" href="avrtarget_8h_source.html#l00086">AVRCMD_CHIP_ERASE</a>, <a class="el" href="avrtarget_8c_source.html#l00066">AVRTARGET_CHIPERASE_TIMEOUT</a>, <a class="el" href="avrtarget_8c_source.html#l00290">AvrTargetCmd()</a>, and <a class="el" href="avrtarget_8c_source.html#l00398">AvrTargetPollReady()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__xg_avr_target_ga7f6d9956462cd7a583415d2824a27058_cgraph.png" border="0" usemap="#group__xg_avr_target_ga7f6d9956462cd7a583415d2824a27058_cgraph" alt=""/></div>
<map name="group__xg_avr_target_ga7f6d9956462cd7a583415d2824a27058_cgraph" id="group__xg_avr_target_ga7f6d9956462cd7a583415d2824a27058_cgraph">
<area shape="rect" id="node3" href="group__xg_avr_target.html#gadeb5307b6b76ab9b778595b077a9c035" title="Send programming command and return response." alt="" coords="366,57,466,82"/><area shape="rect" id="node5" href="group__xg_avr_target.html#ga7794aed6338bf7e0362c7a32ae1fa8a6" title="Poll target for becoming ready." alt="" coords="187,106,317,131"/><area shape="rect" id="node8" href="group__xg_timer.html#gafefcf81d05019a8134b49fa44d8c114a" title="Temporarily suspends the current thread." alt="" coords="379,106,453,131"/><area shape="rect" id="node10" href="group__xg_thread.html#gae45ebad9f604755d5c5ba8adaf9e4f89" title="Remove a thread from a specified queue." alt="" coords="675,55,837,81"/><area shape="rect" id="node12" href="group__xg_timer.html#ga91b42f5fd833e1b72c27b3bfb0ed0af7" title="Start a system timer." alt="" coords="521,318,620,343"/><area shape="rect" id="node30" href="group__xg_thread.html#ga8730ce8319ffcb5e14a413458125e41a" title="Resume a previously suspended thread." alt="" coords="515,5,626,30"/><area shape="rect" id="node34" href="group__xg_thread.html#gaabfac60c4d51b57c2dc422d09a69df5b" title="Continue with the highest priority thread, which is ready to run." alt="" coords="692,157,820,182"/><area shape="rect" id="node48" href="group__xg_thread.html#ga075836f9a2596c5983b7ba88420afd11" title="Give up the CPU." alt="" coords="517,106,624,131"/><area shape="rect" id="node14" href="group__xg_timer.html#gaf104e0c3660b2a77bd0d7b00c4fd741c" title="Start a system timer." alt="" coords="693,318,819,343"/><area shape="rect" id="node22" href="group__xg_nut_arch_arm_os_timer_at91.html#gabb52a4e7f513a7c586898065e0a0c81a" title="Calculate system ticks for a given number of milliseconds." alt="" coords="684,393,828,418"/><area shape="rect" id="node16" href="group__xg_timer.html#ga1e47b683a996583386ebef7e7c92501e" title="Create a new system timer." alt="" coords="913,305,1023,330"/><area shape="rect" id="node20" href="group__xg_timer.html#ga681ca3c989be2bdeb5f0cc97e11d6e06" title="Insert a new timer in the global timer list." alt="" coords="1307,254,1411,279"/><area shape="rect" id="node18" href="group__xg_timer.html#ga940f66286dcf28b8280e41b605064446" title="Return the number of system timer ticks." alt="" coords="1119,305,1233,330"/><area shape="rect" id="node24" href="group__xg_nut_arch_arm_os_timer_at91.html#ga2724f52da15ed45123a32c1ed7e148f0" title="Return the number of system ticks per second." alt="" coords="911,406,1025,431"/><area shape="rect" id="node26" href="group__xg_timer.html#ga784a7f52b5167c777149fd1d874c99f0" title="Return the CPU clock frequency." alt="" coords="1119,406,1233,431"/><area shape="rect" id="node28" href="group__xg_nut_arch_arm_os_timer_gba.html#ga7d11c53224db0028ad4838f8b9df9872" title="Return the CPU clock in Hertz." alt="" coords="1301,406,1416,431"/><area shape="rect" id="node32" href="group__xg_thread.html#ga4d2458fb9ec9d926a6f87706b19e7e06" title="Add a thread to a prioritiy ordered queue." alt="" coords="1099,106,1253,131"/><area shape="rect" id="node36" href="group__xg_event.html#ga129d2de44ddf083f252d0754fc45d9d3" title="Asynchronously post an event to a specified queue." alt="" coords="904,157,1032,182"/><area shape="rect" id="node42" href="group__xg_timer.html#gaf719e88403b4ccc78f071ce5c85a5a71" title="Process elapsed timers." alt="" coords="885,255,1051,281"/><area shape="rect" id="node46" href="group__xg_nut_arch_arm_os_context.html#gad63408e1c4ef1c03d9f979ad2d31b7e0" title="Switch to another thread." alt="" coords="910,206,1026,231"/><area shape="rect" id="node38" href="group__xg_timer.html#gafb23f6965312663a72d41fefc574dc00" title="Stop a specified timer." alt="" coords="1127,179,1225,205"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gad79842b5e91a04277c1f74b9308fa3a5"></a><!-- doxytag: member="avrtarget.c::AvrTargetPageLoad" ref="gad79842b5e91a04277c1f74b9308fa3a5" args="(uint32_t page, CONST uint8_t *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AvrTargetPageLoad </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a>&#160;</td>
          <td class="paramname"><em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CONST <a class="el" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Load target's program memory page buffer. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">page</td><td>Program memory page number. </td></tr>
    <tr><td class="paramname">data</td><td>Points to the data. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="avrtarget_8c_source.html#l00435">435</a> of file <a class="el" href="avrtarget_8c_source.html">avrtarget.c</a>.</p>

<p>References <a class="el" href="avrtarget_8h_source.html#l00090">AVRCMD_LOAD_PROG_MEM_PAGE_HI</a>, <a class="el" href="avrtarget_8h_source.html#l00089">AVRCMD_LOAD_PROG_MEM_PAGE_LO</a>, <a class="el" href="avrtarget_8h_source.html#l00066">AVRTARGET_PAGESIZE</a>, and <a class="el" href="avrtarget_8c_source.html#l00290">AvrTargetCmd()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__xg_avr_target_gad79842b5e91a04277c1f74b9308fa3a5_cgraph.png" border="0" usemap="#group__xg_avr_target_gad79842b5e91a04277c1f74b9308fa3a5_cgraph" alt=""/></div>
<map name="group__xg_avr_target_gad79842b5e91a04277c1f74b9308fa3a5_cgraph" id="group__xg_avr_target_gad79842b5e91a04277c1f74b9308fa3a5_cgraph">
<area shape="rect" id="node3" href="group__xg_avr_target.html#gadeb5307b6b76ab9b778595b077a9c035" title="Send programming command and return response." alt="" coords="185,5,285,30"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga6ade11a102082ad4e37c17de18d62432"></a><!-- doxytag: member="avrtarget.c::AvrTargetPageWrite" ref="ga6ade11a102082ad4e37c17de18d62432" args="(uint32_t page)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int AvrTargetPageWrite </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a>&#160;</td>
          <td class="paramname"><em>page</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Write page buffer contents to program memory. </p>
<p>Calls <a class="el" href="group__xg_avr_target.html#ga7794aed6338bf7e0362c7a32ae1fa8a6" title="Poll target for becoming ready.">AvrTargetPollReady()</a>, which may initiate a context switch while waiting for the page write to finish.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">page</td><td>Program memory page number.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 on success, -1 on time out. </dd></dl>

<p>Definition at line <a class="el" href="avrtarget_8c_source.html#l00459">459</a> of file <a class="el" href="avrtarget_8c_source.html">avrtarget.c</a>.</p>

<p>References <a class="el" href="avrtarget_8h_source.html#l00091">AVRCMD_WRITE_PROG_MEM_PAGE</a>, <a class="el" href="avrtarget_8c_source.html#l00073">AVRTARGET_PAGEWRITE_TIMEOUT</a>, <a class="el" href="avrtarget_8c_source.html#l00290">AvrTargetCmd()</a>, and <a class="el" href="avrtarget_8c_source.html#l00398">AvrTargetPollReady()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__xg_avr_target_ga6ade11a102082ad4e37c17de18d62432_cgraph.png" border="0" usemap="#group__xg_avr_target_ga6ade11a102082ad4e37c17de18d62432_cgraph" alt=""/></div>
<map name="group__xg_avr_target_ga6ade11a102082ad4e37c17de18d62432_cgraph" id="group__xg_avr_target_ga6ade11a102082ad4e37c17de18d62432_cgraph">
<area shape="rect" id="node3" href="group__xg_avr_target.html#gadeb5307b6b76ab9b778595b077a9c035" title="Send programming command and return response." alt="" coords="363,57,463,82"/><area shape="rect" id="node5" href="group__xg_avr_target.html#ga7794aed6338bf7e0362c7a32ae1fa8a6" title="Poll target for becoming ready." alt="" coords="185,106,314,131"/><area shape="rect" id="node8" href="group__xg_timer.html#gafefcf81d05019a8134b49fa44d8c114a" title="Temporarily suspends the current thread." alt="" coords="377,106,450,131"/><area shape="rect" id="node10" href="group__xg_thread.html#gae45ebad9f604755d5c5ba8adaf9e4f89" title="Remove a thread from a specified queue." alt="" coords="672,55,835,81"/><area shape="rect" id="node12" href="group__xg_timer.html#ga91b42f5fd833e1b72c27b3bfb0ed0af7" title="Start a system timer." alt="" coords="519,318,617,343"/><area shape="rect" id="node30" href="group__xg_thread.html#ga8730ce8319ffcb5e14a413458125e41a" title="Resume a previously suspended thread." alt="" coords="513,5,623,30"/><area shape="rect" id="node34" href="group__xg_thread.html#gaabfac60c4d51b57c2dc422d09a69df5b" title="Continue with the highest priority thread, which is ready to run." alt="" coords="689,157,817,182"/><area shape="rect" id="node48" href="group__xg_thread.html#ga075836f9a2596c5983b7ba88420afd11" title="Give up the CPU." alt="" coords="515,106,621,131"/><area shape="rect" id="node14" href="group__xg_timer.html#gaf104e0c3660b2a77bd0d7b00c4fd741c" title="Start a system timer." alt="" coords="690,318,817,343"/><area shape="rect" id="node22" href="group__xg_nut_arch_arm_os_timer_at91.html#gabb52a4e7f513a7c586898065e0a0c81a" title="Calculate system ticks for a given number of milliseconds." alt="" coords="681,393,825,418"/><area shape="rect" id="node16" href="group__xg_timer.html#ga1e47b683a996583386ebef7e7c92501e" title="Create a new system timer." alt="" coords="910,305,1021,330"/><area shape="rect" id="node20" href="group__xg_timer.html#ga681ca3c989be2bdeb5f0cc97e11d6e06" title="Insert a new timer in the global timer list." alt="" coords="1304,254,1408,279"/><area shape="rect" id="node18" href="group__xg_timer.html#ga940f66286dcf28b8280e41b605064446" title="Return the number of system timer ticks." alt="" coords="1116,305,1231,330"/><area shape="rect" id="node24" href="group__xg_nut_arch_arm_os_timer_at91.html#ga2724f52da15ed45123a32c1ed7e148f0" title="Return the number of system ticks per second." alt="" coords="909,406,1022,431"/><area shape="rect" id="node26" href="group__xg_timer.html#ga784a7f52b5167c777149fd1d874c99f0" title="Return the CPU clock frequency." alt="" coords="1116,406,1231,431"/><area shape="rect" id="node28" href="group__xg_nut_arch_arm_os_timer_gba.html#ga7d11c53224db0028ad4838f8b9df9872" title="Return the CPU clock in Hertz." alt="" coords="1299,406,1413,431"/><area shape="rect" id="node32" href="group__xg_thread.html#ga4d2458fb9ec9d926a6f87706b19e7e06" title="Add a thread to a prioritiy ordered queue." alt="" coords="1097,106,1250,131"/><area shape="rect" id="node36" href="group__xg_event.html#ga129d2de44ddf083f252d0754fc45d9d3" title="Asynchronously post an event to a specified queue." alt="" coords="901,157,1029,182"/><area shape="rect" id="node42" href="group__xg_timer.html#gaf719e88403b4ccc78f071ce5c85a5a71" title="Process elapsed timers." alt="" coords="883,255,1048,281"/><area shape="rect" id="node46" href="group__xg_nut_arch_arm_os_context.html#gad63408e1c4ef1c03d9f979ad2d31b7e0" title="Switch to another thread." alt="" coords="907,206,1023,231"/><area shape="rect" id="node38" href="group__xg_timer.html#gafb23f6965312663a72d41fefc574dc00" title="Stop a specified timer." alt="" coords="1124,179,1223,205"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaca02e891e40a39b4cf81fac5a61b0087"></a><!-- doxytag: member="avrtarget.c::AvrTargetPageVerify" ref="gaca02e891e40a39b4cf81fac5a61b0087" args="(uint32_t page, CONST uint8_t *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int AvrTargetPageVerify </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a>&#160;</td>
          <td class="paramname"><em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CONST <a class="el" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Verify program memory page contents. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">page</td><td>Program memory page number. </td></tr>
    <tr><td class="paramname">data</td><td>Points to a buffer with the expected contents.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if the buffer contents equals the memory page contents or -1 if it doesn't. </dd></dl>

<p>Definition at line <a class="el" href="avrtarget_8c_source.html#l00475">475</a> of file <a class="el" href="avrtarget_8c_source.html">avrtarget.c</a>.</p>

<p>References <a class="el" href="avrtarget_8h_source.html#l00088">AVRCMD_READ_PROG_MEM_HI</a>, <a class="el" href="avrtarget_8h_source.html#l00087">AVRCMD_READ_PROG_MEM_LO</a>, <a class="el" href="avrtarget_8h_source.html#l00066">AVRTARGET_PAGESIZE</a>, and <a class="el" href="avrtarget_8c_source.html#l00290">AvrTargetCmd()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__xg_avr_target_gaca02e891e40a39b4cf81fac5a61b0087_cgraph.png" border="0" usemap="#group__xg_avr_target_gaca02e891e40a39b4cf81fac5a61b0087_cgraph" alt=""/></div>
<map name="group__xg_avr_target_gaca02e891e40a39b4cf81fac5a61b0087_cgraph" id="group__xg_avr_target_gaca02e891e40a39b4cf81fac5a61b0087_cgraph">
<area shape="rect" id="node3" href="group__xg_avr_target.html#gadeb5307b6b76ab9b778595b077a9c035" title="Send programming command and return response." alt="" coords="185,5,285,30"/></map>
</div>
</p>

</div>
</div>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr>
<address>
  <small>
    &copy;&nbsp;2000-2010 by contributors - 
    visit <a href="http://www.ethernut.de/">http://www.ethernut.de/</a>
  </small>
</address>
</body>
</html>
