<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Nut/OS: AHDLC</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  <td id="projectlogo"><img alt="Logo" src="nutos_logo.png"/></td>
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Nut/OS
   &#160;<span id="projectnumber">4.10.3</span>
   </div>
   <div id="projectbrief">API Reference</div>
  </td>
  
  
  
   
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
   
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('group__xg_ahdlc_avr.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Defines</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">AHDLC</div>  </div>
<div class="ingroups"><a class="el" href="group__xg_nut_arch_avr_dev_serial.html">Serial</a></div></div>
<div class="contents">

<p>AHDLC Driver.  
<a href="#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for AHDLC:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group__xg_ahdlc_avr.png" border="0" alt="" usemap="#group____xg__ahdlc__avr"/>
<map name="group____xg__ahdlc__avr" id="group____xg__ahdlc__avr">
<area shape="rect" id="node2" href="group__xg_nut_arch_avr_dev_serial.html" title="AVR drivers for serial communication." alt="" coords="6,5,61,30"/></map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_ahdlc_avr.html#gac6ca36bfaaa9b1e29bd4eba07c5d97e2">IN_ACC_MAP</a>(c, m)&#160;&#160;&#160;(( ((<a class="el" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>) (c)) &lt; 0x20)  &amp;&amp; ((m) &amp; (1UL &lt;&lt; (c))) != 0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_ahdlc_avr.html#gaac9673f0192fbe2b9a222ac01f04f9cb">NUT_THREAD_AHDLCRXSTACK</a>&#160;&#160;&#160;2048</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_ahdlc_avr.html#ga5b7e2abea3327c269e736d3b30cb63ba">AhdlcOutput</a> (<a class="el" href="group__xg_device.html#ga6e44357e76989d8e579d3f65bc3a2741">NUTDEVICE</a> *dev, <a class="el" href="group__xgnetbuf.html#ga53335a44e4c6c554e11329de65ebc13e">NETBUF</a> *nb)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Send HDLC frame.  <a href="#ga5b7e2abea3327c269e736d3b30cb63ba"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_ahdlc_avr.html#ga5cc7ba613a1788ffe7096bb3280ce043">AhdlcAt91IOCtl</a> (<a class="el" href="group__xg_device.html#ga6e44357e76989d8e579d3f65bc3a2741">NUTDEVICE</a> *dev, int req, void *conf)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform on-chip UART control functions.  <a href="#ga5cc7ba613a1788ffe7096bb3280ce043"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_ahdlc_avr.html#gadfa27b86eebd5208460d67698f1edf34">AhdlcAt91Init</a> (<a class="el" href="group__xg_device.html#ga6e44357e76989d8e579d3f65bc3a2741">NUTDEVICE</a> *dev)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize asynchronous HDLC device.  <a href="#gadfa27b86eebd5208460d67698f1edf34"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_ahdlc_avr.html#gaba4aefd965ac68263cfa5395c8968f6c">AhdlcAt91Read</a> (<a class="el" href="group__xg_device.html#ga66d4b4dd6b81551dadfe12d452ec4455">NUTFILE</a> *fp, void *buffer, int size)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Read from the asynchronous HDLC device.  <a href="#gaba4aefd965ac68263cfa5395c8968f6c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_ahdlc_avr.html#ga9d948ff25fca454107e921777c7d66d2">AhdlcAt91Put</a> (<a class="el" href="group__xg_device.html#ga6e44357e76989d8e579d3f65bc3a2741">NUTDEVICE</a> *dev, CONST void *buffer, int len, int pflg)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Write to the asynchronous HDLC device.  <a href="#ga9d948ff25fca454107e921777c7d66d2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_ahdlc_avr.html#gadb50c3ce74b373bee474d1e0b3275e90">AhdlcAt91Write</a> (<a class="el" href="group__xg_device.html#ga66d4b4dd6b81551dadfe12d452ec4455">NUTFILE</a> *fp, CONST void *buffer, int len)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Write to the asynchronous HDLC device.  <a href="#gadb50c3ce74b373bee474d1e0b3275e90"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_ahdlc_avr.html#ga0fb0cb74853d071540e3ba8e65dc63a1">AhdlcAt91Write_P</a> (<a class="el" href="group__xg_device.html#ga66d4b4dd6b81551dadfe12d452ec4455">NUTFILE</a> *fp, PGM_P buffer, int len)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Write to the asynchronous HDLC device.  <a href="#ga0fb0cb74853d071540e3ba8e65dc63a1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__xg_device.html#ga66d4b4dd6b81551dadfe12d452ec4455">NUTFILE</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_ahdlc_avr.html#ga9cdbdf33ba1fc4e8a5951d7205a0ba7a">AhdlcAt91Open</a> (<a class="el" href="group__xg_device.html#ga6e44357e76989d8e579d3f65bc3a2741">NUTDEVICE</a> *dev, CONST char *name, int mode, int acc)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Open the asynchronous HDLC device.  <a href="#ga9cdbdf33ba1fc4e8a5951d7205a0ba7a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_ahdlc_avr.html#ga28455b93bc5ead8fddafbfc02da2d6ce">AhdlcAt91Close</a> (<a class="el" href="group__xg_device.html#ga66d4b4dd6b81551dadfe12d452ec4455">NUTFILE</a> *fp)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Close the asynchronous HDLC device.  <a href="#ga28455b93bc5ead8fddafbfc02da2d6ce"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__xg_device.html#ga6e44357e76989d8e579d3f65bc3a2741">NUTDEVICE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_ahdlc_avr.html#gada2d8862571cf916513439d0619bd69d">devAhdlc1</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Device information structure.  <a href="#gada2d8862571cf916513439d0619bd69d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__xg_device.html#ga6e44357e76989d8e579d3f65bc3a2741">NUTDEVICE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_ahdlc_avr.html#ga2055414d977913bf74d19aaa8519fe3f">devAhdlc0</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Device information structure.  <a href="#ga2055414d977913bf74d19aaa8519fe3f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__xg_device.html#ga6e44357e76989d8e579d3f65bc3a2741">NUTDEVICE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_ahdlc_avr.html#gada2d8862571cf916513439d0619bd69d">devAhdlc1</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Device information structure.  <a href="#gada2d8862571cf916513439d0619bd69d"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="member-group"></a>
UART1 RTS Handshake Control</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrpd58041adeee25df681f6965bb47e5909"></a> UART1_RTS_BIT must be defined in arch/avr.h </p>
</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_ahdlc_avr.html#ga784911921399d46c79de66de68b9d79a">AhdlcRx</a> (void *arg)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Asynchronous HDLC receiver thread.  <a href="#ga784911921399d46c79de66de68b9d79a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_ahdlc_avr.html#gae1493fe9d0ae191af622b1f3d42441ef">AhdlcAvrIOCtl</a> (<a class="el" href="group__xg_device.html#ga6e44357e76989d8e579d3f65bc3a2741">NUTDEVICE</a> *dev, int req, void *conf)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform on-chip UART control functions.  <a href="#gae1493fe9d0ae191af622b1f3d42441ef"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_ahdlc_avr.html#gab82851594ae03aa1f852037435288420">AhdlcAvrInit</a> (<a class="el" href="group__xg_device.html#ga6e44357e76989d8e579d3f65bc3a2741">NUTDEVICE</a> *dev)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize asynchronous HDLC device.  <a href="#gab82851594ae03aa1f852037435288420"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_ahdlc_avr.html#gae1a62da30e9d1821a97a42c757be8358">AhdlcAvrRead</a> (<a class="el" href="group__xg_device.html#ga66d4b4dd6b81551dadfe12d452ec4455">NUTFILE</a> *fp, void *buffer, int size)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Read from the asynchronous HDLC device.  <a href="#gae1a62da30e9d1821a97a42c757be8358"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_ahdlc_avr.html#ga76ea23685b1266488c9119efff5477a1">AhdlcAvrPut</a> (<a class="el" href="group__xg_device.html#ga6e44357e76989d8e579d3f65bc3a2741">NUTDEVICE</a> *dev, CONST void *buffer, int len, int pflg)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Write to the asynchronous HDLC device.  <a href="#ga76ea23685b1266488c9119efff5477a1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_ahdlc_avr.html#ga6658a32c5b87c6341b4ccd91f2e2b853">AhdlcAvrWrite</a> (<a class="el" href="group__xg_device.html#ga66d4b4dd6b81551dadfe12d452ec4455">NUTFILE</a> *fp, CONST void *buffer, int len)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Write to the asynchronous HDLC device.  <a href="#ga6658a32c5b87c6341b4ccd91f2e2b853"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_ahdlc_avr.html#ga33edc97cae8b172b0e3ccb2e2ede4864">AhdlcAvrWrite_P</a> (<a class="el" href="group__xg_device.html#ga66d4b4dd6b81551dadfe12d452ec4455">NUTFILE</a> *fp, PGM_P buffer, int len)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Write to the asynchronous HDLC device.  <a href="#ga33edc97cae8b172b0e3ccb2e2ede4864"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__xg_device.html#ga66d4b4dd6b81551dadfe12d452ec4455">NUTFILE</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_ahdlc_avr.html#ga14922325c9ea0499e4215cfb5ee89cea">AhdlcAvrOpen</a> (<a class="el" href="group__xg_device.html#ga6e44357e76989d8e579d3f65bc3a2741">NUTDEVICE</a> *dev, CONST char *name, int mode, int acc)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Open the asynchronous HDLC device.  <a href="#ga14922325c9ea0499e4215cfb5ee89cea"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_ahdlc_avr.html#ga6d1fc092de41db6067e61771c1f21943">AhdlcAvrClose</a> (<a class="el" href="group__xg_device.html#ga66d4b4dd6b81551dadfe12d452ec4455">NUTFILE</a> *fp)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Close the asynchronous HDLC device.  <a href="#ga6d1fc092de41db6067e61771c1f21943"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_ahdlc_avr.html#gac6ca36bfaaa9b1e29bd4eba07c5d97e2">IN_ACC_MAP</a>(c, m)&#160;&#160;&#160;in_acc_map(c, &amp;(m))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xg_ahdlc_avr.html#gaac9673f0192fbe2b9a222ac01f04f9cb">NUT_THREAD_AHDLCRXSTACK</a>&#160;&#160;&#160;512</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<p>AHDLC Driver. </p>
<p>This code contains a modified UART driver with some speed optimizations for PPP, like table driven FCS calculation. It also implements simple modem handshaking (RTS, CTS and DTR). </p>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="gac6ca36bfaaa9b1e29bd4eba07c5d97e2"></a><!-- doxytag: member="at91_ahdlc.c::IN_ACC_MAP" ref="gac6ca36bfaaa9b1e29bd4eba07c5d97e2" args="(c, m)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IN_ACC_MAP</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">c, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">m&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(( ((<a class="el" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>) (c)) &lt; 0x20)  &amp;&amp; ((m) &amp; (1UL &lt;&lt; (c))) != 0)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Checks the 32-bit ACCM to see if the byte needs un-escaping </p>

<p>Definition at line <a class="el" href="at91__ahdlc_8c_source.html#l00171">171</a> of file <a class="el" href="at91__ahdlc_8c_source.html">at91_ahdlc.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaac9673f0192fbe2b9a222ac01f04f9cb"></a><!-- doxytag: member="at91_ahdlc.c::NUT_THREAD_AHDLCRXSTACK" ref="gaac9673f0192fbe2b9a222ac01f04f9cb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NUT_THREAD_AHDLCRXSTACK&#160;&#160;&#160;2048</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="at91__ahdlc_8c_source.html#l00174">174</a> of file <a class="el" href="at91__ahdlc_8c_source.html">at91_ahdlc.c</a>.</p>

<p>Referenced by <a class="el" href="at91__ahdlc_8c_source.html#l00878">AhdlcAt91Init()</a>.</p>

</div>
</div>
<a class="anchor" id="gac6ca36bfaaa9b1e29bd4eba07c5d97e2"></a><!-- doxytag: member="ahdlcavr.c::IN_ACC_MAP" ref="gac6ca36bfaaa9b1e29bd4eba07c5d97e2" args="(c, m)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IN_ACC_MAP</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">c, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">m&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;in_acc_map(c, &amp;(m))</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Checks the 32-bit ACCM to see if the byte needs un-escaping </p>

<p>Definition at line <a class="el" href="ahdlcavr_8c_source.html#l00284">284</a> of file <a class="el" href="ahdlcavr_8c_source.html">ahdlcavr.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaac9673f0192fbe2b9a222ac01f04f9cb"></a><!-- doxytag: member="ahdlcavr.c::NUT_THREAD_AHDLCRXSTACK" ref="gaac9673f0192fbe2b9a222ac01f04f9cb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NUT_THREAD_AHDLCRXSTACK&#160;&#160;&#160;512</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ahdlcavr_8c_source.html#l00313">313</a> of file <a class="el" href="ahdlcavr_8c_source.html">ahdlcavr.c</a>.</p>

<p>Referenced by <a class="el" href="ahdlcavr_8c_source.html#l01197">AhdlcAvrInit()</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga5b7e2abea3327c269e736d3b30cb63ba"></a><!-- doxytag: member="at91_ahdlc.c::AhdlcOutput" ref="ga5b7e2abea3327c269e736d3b30cb63ba" args="(NUTDEVICE *dev, NETBUF *nb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int AhdlcOutput </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__xg_device.html#ga6e44357e76989d8e579d3f65bc3a2741">NUTDEVICE</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__xgnetbuf.html#ga53335a44e4c6c554e11329de65ebc13e">NETBUF</a> *&#160;</td>
          <td class="paramname"><em>nb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Send HDLC frame. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>Identifies the device to use. </td></tr>
    <tr><td class="paramname">nb</td><td>Network buffer structure containing the packet to be sent. The structure must have been allocated by a previous call <a class="el" href="group__xgnetbuf.html#ga7a733aed1e6c15aaabb6657abe5f4e39" title="Allocate or re-allocate a network buffer part.">NutNetBufAlloc()</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 on success, -1 in case of any errors. </dd></dl>

<p>Definition at line <a class="el" href="at91__ahdlc_8c_source.html#l00318">318</a> of file <a class="el" href="at91__ahdlc_8c_source.html">at91_ahdlc.c</a>.</p>

<p>References <a class="el" href="dev_2ahdlc_8h_source.html#l00066">AHDLC_FLAG</a>, <a class="el" href="dev_2ahdlc_8h_source.html#l00073">AHDLC_INITFCS</a>, <a class="el" href="dev_2ahdlc_8h_source.html#l00086">_AHDLCDCB::dcb_modeflags</a>, <a class="el" href="dev_2ahdlc_8h_source.html#l00173">_AHDLCDCB::dcb_tx_mru</a>, <a class="el" href="device_8h_source.html#l00216">_NUTDEVICE::dev_dcb</a>, <a class="el" href="netbuf_8h_source.html#l00166">_NETBUF::nb_ap</a>, <a class="el" href="netbuf_8h_source.html#l00163">_NETBUF::nb_dl</a>, <a class="el" href="netbuf_8h_source.html#l00164">_NETBUF::nb_nw</a>, <a class="el" href="netbuf_8h_source.html#l00165">_NETBUF::nb_tp</a>, <a class="el" href="netbuf_8h_source.html#l00153">_NBDATA::sz</a>, <a class="el" href="uartavr_8h_source.html#l00111">UART_MF_RAWMODE</a>, and <a class="el" href="netbuf_8h_source.html#l00152">_NBDATA::vp</a>.</p>

<p>Referenced by <a class="el" href="at91__ahdlc_8c_source.html#l00374">AhdlcRx()</a>.</p>

</div>
</div>
<a class="anchor" id="ga784911921399d46c79de66de68b9d79a"></a><!-- doxytag: member="at91_ahdlc.c::AhdlcRx" ref="ga784911921399d46c79de66de68b9d79a" args="(void *arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AhdlcRx </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Asynchronous HDLC receiver thread. </p>
<p>Running at high priority. </p>

<p>Definition at line <a class="el" href="at91__ahdlc_8c_source.html#l00374">374</a> of file <a class="el" href="at91__ahdlc_8c_source.html">at91_ahdlc.c</a>.</p>

<p>References <a class="el" href="dev_2ahdlc_8h_source.html#l00067">AHDLC_ESCAPE</a>, <a class="el" href="dev_2ahdlc_8h_source.html#l00066">AHDLC_FLAG</a>, <a class="el" href="dev_2ahdlc_8h_source.html#l00074">AHDLC_GOODFCS</a>, <a class="el" href="dev_2ahdlc_8h_source.html#l00073">AHDLC_INITFCS</a>, <a class="el" href="dev_2ahdlc_8h_source.html#l00068">AHDLC_TRANS</a>, <a class="el" href="ahdlcavr_8c_source.html#l00506">AhdlcOutput()</a>, <a class="el" href="dev_2ahdlc_8h_source.html#l00157">_AHDLCDCB::dcb_mf_evt</a>, <a class="el" href="dev_2ahdlc_8h_source.html#l00086">_AHDLCDCB::dcb_modeflags</a>, <a class="el" href="dev_2ahdlc_8h_source.html#l00136">_AHDLCDCB::dcb_rd_idx</a>, <a class="el" href="dev_2ahdlc_8h_source.html#l00094">_AHDLCDCB::dcb_rtimeout</a>, <a class="el" href="dev_2ahdlc_8h_source.html#l00126">_AHDLCDCB::dcb_rx_buf</a>, <a class="el" href="dev_2ahdlc_8h_source.html#l00132">_AHDLCDCB::dcb_rx_idx</a>, <a class="el" href="dev_2ahdlc_8h_source.html#l00169">_AHDLCDCB::dcb_rx_mru</a>, <a class="el" href="dev_2ahdlc_8h_source.html#l00112">_AHDLCDCB::dcb_rx_rdy</a>, <a class="el" href="device_8h_source.html#l00216">_NUTDEVICE::dev_dcb</a>, <a class="el" href="device_8h_source.html#l00209">_NUTDEVICE::dev_icb</a>, <a class="el" href="device_8h_source.html#l00230">_NUTDEVICE::dev_ioctl</a>, <a class="el" href="if__var_8h_source.html#l00205">ifnet::if_recv</a>, <a class="el" href="if__var_8h_source.html#l00206">ifnet::if_send</a>, <a class="el" href="dev_2ppp_8h_source.html#l00262">LCP_LOWERDOWN</a>, <a class="el" href="dev_2ppp_8h_source.html#l00261">LCP_LOWERUP</a>, <a class="el" href="memcpy_8c_source.html#l00114">memcpy()</a>, <a class="el" href="netbuf_8h_source.html#l00163">_NETBUF::nb_dl</a>, <a class="el" href="netbuf_8h_source.html#l00131">NBAF_DATALINK</a>, <a class="el" href="event_8c_source.html#l00271">NutEventWait()</a>, <a class="el" href="heap_8h_source.html#l00086">NutHeapAlloc</a>, <a class="el" href="heap_8h_source.html#l00088">NutHeapFree</a>, <a class="el" href="netbuf_8c_source.html#l00173">NutNetBufAlloc()</a>, <a class="el" href="timer_8c_source.html#l00628">NutSleep()</a>, <a class="el" href="thread_8c_source.html#l00516">NutThreadSetPriority()</a>, <a class="el" href="arm_8h_source.html#l00155">PRG_RDB</a>, <a class="el" href="uartavr_8h_source.html#l00111">UART_MF_RAWMODE</a>, and <a class="el" href="netbuf_8h_source.html#l00152">_NBDATA::vp</a>.</p>

<p>Referenced by <a class="el" href="at91__ahdlc_8c_source.html#l00878">AhdlcAt91Init()</a>, and <a class="el" href="ahdlcavr_8c_source.html#l01197">AhdlcAvrInit()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__xg_ahdlc_avr_ga784911921399d46c79de66de68b9d79a_cgraph.png" border="0" usemap="#group__xg_ahdlc_avr_ga784911921399d46c79de66de68b9d79a_cgraph" alt=""/></div>
<map name="group__xg_ahdlc_avr_ga784911921399d46c79de66de68b9d79a_cgraph" id="group__xg_ahdlc_avr_ga784911921399d46c79de66de68b9d79a_cgraph">
<area shape="rect" id="node3" href="group__xg_ahdlc_avr.html#ga5b7e2abea3327c269e736d3b30cb63ba" title="Send HDLC frame." alt="" coords="128,158,216,183"/><area shape="rect" id="node5" href="group__xg_crt_string.html#ga09a4c3953e2e41a212a73cf3df4c8c8e" title="memcpy" alt="" coords="137,207,207,233"/><area shape="rect" id="node7" href="group__xg_event.html#ga79af18e0842286182af7c5b647526ce5" title="Wait for an event in a specified queue." alt="" coords="125,306,219,331"/><area shape="rect" id="node53" href="group__xgnetbuf.html#ga7a733aed1e6c15aaabb6657abe5f4e39" title="Allocate or re&#45;allocate a network buffer part." alt="" coords="120,539,224,565"/><area shape="rect" id="node58" href="group__xg_timer.html#gafefcf81d05019a8134b49fa44d8c114a" title="Temporarily suspends the current thread." alt="" coords="135,257,209,282"/><area shape="rect" id="node67" href="group__xg_thread.html#ga8ebe134e9c404072584e80fb8d7e8985" title="Set the current thread&#39;s priority." alt="" coords="273,510,407,535"/><area shape="rect" id="node9" href="group__xg_thread.html#ga075836f9a2596c5983b7ba88420afd11" title="Give up the CPU." alt="" coords="287,257,393,282"/><area shape="rect" id="node11" href="group__xg_thread.html#gae45ebad9f604755d5c5ba8adaf9e4f89" title="Remove a thread from a specified queue." alt="" coords="456,358,619,383"/><area shape="rect" id="node13" href="group__xg_thread.html#ga4d2458fb9ec9d926a6f87706b19e7e06" title="Add a thread to a prioritiy ordered queue." alt="" coords="881,333,1034,358"/><area shape="rect" id="node15" href="group__xg_thread.html#gaabfac60c4d51b57c2dc422d09a69df5b" title="Continue with the highest priority thread, which is ready to run." alt="" coords="473,257,601,282"/><area shape="rect" id="node33" href="group__xg_timer.html#ga91b42f5fd833e1b72c27b3bfb0ed0af7" title="Start a system timer." alt="" coords="291,55,389,81"/><area shape="rect" id="node49" href="group__xg_event.html#gaaa944c4484d068bdacd8220b7e081302" title="Timer callback in case of event timeout." alt="" coords="479,409,595,434"/><area shape="rect" id="node17" href="group__xg_event.html#ga129d2de44ddf083f252d0754fc45d9d3" title="Asynchronously post an event to a specified queue." alt="" coords="685,206,813,231"/><area shape="rect" id="node24" href="group__xg_timer.html#gaf719e88403b4ccc78f071ce5c85a5a71" title="Process elapsed timers." alt="" coords="667,157,832,182"/><area shape="rect" id="node29" href="group__xg_nut_arch_arm_os_context.html#gad63408e1c4ef1c03d9f979ad2d31b7e0" title="Switch to another thread." alt="" coords="691,409,807,434"/><area shape="rect" id="node19" href="group__xg_timer.html#gafb23f6965312663a72d41fefc574dc00" title="Stop a specified timer." alt="" coords="908,207,1007,233"/><area shape="rect" id="node21" href="group__xg_timer.html#ga681ca3c989be2bdeb5f0cc97e11d6e06" title="Insert a new timer in the global timer list." alt="" coords="1088,157,1192,182"/><area shape="rect" id="node26" href="group__xg_timer.html#ga940f66286dcf28b8280e41b605064446" title="Return the number of system timer ticks." alt="" coords="900,106,1015,131"/><area shape="rect" id="node35" href="group__xg_timer.html#gaf104e0c3660b2a77bd0d7b00c4fd741c" title="Start a system timer." alt="" coords="474,55,601,81"/><area shape="rect" id="node41" href="group__xg_nut_arch_arm_os_timer_at91.html#gabb52a4e7f513a7c586898065e0a0c81a" title="Calculate system ticks for a given number of milliseconds." alt="" coords="465,6,609,31"/><area shape="rect" id="node37" href="group__xg_timer.html#ga1e47b683a996583386ebef7e7c92501e" title="Create a new system timer." alt="" coords="694,106,805,131"/><area shape="rect" id="node43" href="group__xg_nut_arch_arm_os_timer_at91.html#ga2724f52da15ed45123a32c1ed7e148f0" title="Return the number of system ticks per second." alt="" coords="693,5,806,30"/><area shape="rect" id="node45" href="group__xg_timer.html#ga784a7f52b5167c777149fd1d874c99f0" title="Return the CPU clock frequency." alt="" coords="900,5,1015,30"/><area shape="rect" id="node47" href="group__xg_nut_arch_arm_os_timer_gba.html#ga7d11c53224db0028ad4838f8b9df9872" title="Return the CPU clock in Hertz." alt="" coords="1083,5,1197,30"/><area shape="rect" id="node55" href="group__xgnetbuf.html#ga2e14a135152823a816388f50bdb3ea3f" title="Release a network buffer structure." alt="" coords="289,583,391,609"/><area shape="rect" id="node62" href="group__xg_thread.html#ga8730ce8319ffcb5e14a413458125e41a" title="Resume a previously suspended thread." alt="" coords="285,105,395,130"/><area shape="rect" id="node71" href="group__xg_thread.html#gaf8e9b69ee0082bcdb00fd6cdb68f4136" title="Kill the running thread." alt="" coords="489,611,586,637"/><area shape="rect" id="node73" href="group__xg_thread.html#gaba085dddcb4bf80a0b246bd06618d740" title="Free a thread that was previously killed and release memory back to the OS." alt="" coords="688,611,811,637"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga5cc7ba613a1788ffe7096bb3280ce043"></a><!-- doxytag: member="at91_ahdlc.c::AhdlcAt91IOCtl" ref="ga5cc7ba613a1788ffe7096bb3280ce043" args="(NUTDEVICE *dev, int req, void *conf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int AhdlcAt91IOCtl </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__xg_device.html#ga6e44357e76989d8e579d3f65bc3a2741">NUTDEVICE</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>conf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Perform on-chip UART control functions. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>Identifies the device that receives the device-control function. </td></tr>
    <tr><td class="paramname">req</td><td>Requested control function. May be set to one of the following constants:<ul>
<li>UART_SETSPEED, conf points to an uint32_t value containing the baudrate.</li>
<li>UART_GETSPEED, conf points to an uint32_t value receiving the current baudrate.</li>
<li>UART_SETSTATUS, conf points to an uint32_t value containing the changes for the control lines.</li>
<li>UART_GETSTATUS, conf points to an uint32_t value receiving the state of the control lines and the device.</li>
<li>UART_SETREADTIMEOUT, conf points to an uint32_t value containing the read timeout.</li>
<li>UART_GETREADTIMEOUT, conf points to an uint32_t value receiving the read timeout.</li>
<li>UART_SETWRITETIMEOUT, conf points to an uint32_t value containing the write timeout.</li>
<li>UART_GETWRITETIMEOUT, conf points to an uint32_t value receiving the write timeout.</li>
<li>UART_SETLOCALECHO, conf points to an uint32_t value containing 0 (off) or 1 (on).</li>
<li>UART_GETLOCALECHO, conf points to an uint32_t value receiving 0 (off) or 1 (on).</li>
<li>UART_SETFLOWCONTROL, conf points to an uint32_t value containing combined UART_FCTL_ values.</li>
<li>UART_GETFLOWCONTROL, conf points to an uint32_t value containing receiving UART_FCTL_ values.</li>
<li>UART_SETCOOKEDMODE, conf points to an uint32_t value containing 0 (off) or 1 (on).</li>
<li>UART_GETCOOKEDMODE, conf points to an uint32_t value receiving 0 (off) or 1 (on).</li>
<li>UART_SETRAWMODE, conf points to an uint32_t value containing 0 (off) or 1 (on).</li>
<li>UART_GETRAWMODE, conf points to an uint32_t value receiving 0 (off) or 1 (on).</li>
<li>HDLC_SETIFNET, conf points to a pointer containing the address of the network device's NUTDEVICE structure.</li>
<li>HDLC_GETIFNET, conf points to a pointer receiving the address of the network device's NUTDEVICE structure.</li>
</ul>
</td></tr>
    <tr><td class="paramname">conf</td><td>Points to a buffer that contains any data required for the given control function or receives data from that function. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 on success, -1 otherwise.</dd></dl>
<dl class="warning"><dt><b>Warning:</b></dt><dd>Timeout values are given in milliseconds and are limited to the granularity of the system timer.</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>For ATmega103, only 8 data bits, 1 stop bit and no parity are allowed. </dd></dl>

<p>Definition at line <a class="el" href="at91__ahdlc_8c_source.html#l00730">730</a> of file <a class="el" href="at91__ahdlc_8c_source.html">at91_ahdlc.c</a>.</p>

<p>References <a class="el" href="dev_2ahdlc_8h_source.html#l00119">_AHDLCDCB::dcb_base</a>, <a class="el" href="dev_2ahdlc_8h_source.html#l00157">_AHDLCDCB::dcb_mf_evt</a>, <a class="el" href="dev_2ahdlc_8h_source.html#l00086">_AHDLCDCB::dcb_modeflags</a>, <a class="el" href="dev_2ahdlc_8h_source.html#l00094">_AHDLCDCB::dcb_rtimeout</a>, <a class="el" href="dev_2ahdlc_8h_source.html#l00112">_AHDLCDCB::dcb_rx_rdy</a>, <a class="el" href="dev_2ahdlc_8h_source.html#l00098">_AHDLCDCB::dcb_wtimeout</a>, <a class="el" href="device_8h_source.html#l00216">_NUTDEVICE::dev_dcb</a>, <a class="el" href="device_8h_source.html#l00209">_NUTDEVICE::dev_icb</a>, <a class="el" href="device_8h_source.html#l00187">_NUTDEVICE::dev_type</a>, <a class="el" href="usart0at91_8c_source.html#l00137">devUsartAt910</a>, <a class="el" href="dev_2uart_8h_source.html#l00260">HDLC_GETIFNET</a>, <a class="el" href="dev_2uart_8h_source.html#l00254">HDLC_SETIFNET</a>, <a class="el" href="device_8h_source.html#l00140">IFTYP_CHAR</a>, <a class="el" href="device_8h_source.html#l00138">IFTYP_NET</a>, <a class="el" href="arm_8h_source.html#l00200">inr</a>, <a class="el" href="event_8c_source.html#l00454">NutEventPost()</a>, <a class="el" href="timer_8c_source.html#l00818">NutGetCpuClock()</a>, <a class="el" href="arm_8h_source.html#l00196">outr</a>, <a class="el" href="dev_2uart_8h_source.html#l00222">UART_GETFLOWCONTROL</a>, <a class="el" href="dev_2uart_8h_source.html#l00210">UART_GETLOCALECHO</a>, <a class="el" href="dev_2uart_8h_source.html#l00370">UART_GETRAWMODE</a>, <a class="el" href="dev_2uart_8h_source.html#l00182">UART_GETREADTIMEOUT</a>, <a class="el" href="dev_2uart_8h_source.html#l00116">UART_GETSPEED</a>, <a class="el" href="dev_2uart_8h_source.html#l00168">UART_GETSTATUS</a>, <a class="el" href="dev_2uart_8h_source.html#l00196">UART_GETWRITETIMEOUT</a>, <a class="el" href="scih8_8h_source.html#l00077">UART_MF_LOCALECHO</a>, <a class="el" href="uartavr_8h_source.html#l00111">UART_MF_RAWMODE</a>, <a class="el" href="dev_2uart_8h_source.html#l00216">UART_SETFLOWCONTROL</a>, <a class="el" href="dev_2uart_8h_source.html#l00203">UART_SETLOCALECHO</a>, <a class="el" href="dev_2uart_8h_source.html#l00364">UART_SETRAWMODE</a>, <a class="el" href="dev_2uart_8h_source.html#l00175">UART_SETREADTIMEOUT</a>, <a class="el" href="dev_2uart_8h_source.html#l00109">UART_SETSPEED</a>, <a class="el" href="dev_2uart_8h_source.html#l00162">UART_SETSTATUS</a>, <a class="el" href="dev_2uart_8h_source.html#l00189">UART_SETWRITETIMEOUT</a>, <a class="el" href="at91__us_8h_source.html#l00215">US_BRGR_OFF</a>, <a class="el" href="at91__us_8h_source.html#l00111">US_CLKS</a>, <a class="el" href="at91__us_8h_source.html#l00112">US_CLKS_MCK</a>, <a class="el" href="at91__us_8h_source.html#l00113">US_CLKS_MCK8</a>, <a class="el" href="at91__us_8h_source.html#l00097">US_MR_OFF</a>, and <a class="el" href="at91sam7s_8h_source.html#l00061">USART1_BASE</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__xg_ahdlc_avr_ga5cc7ba613a1788ffe7096bb3280ce043_cgraph.png" border="0" usemap="#group__xg_ahdlc_avr_ga5cc7ba613a1788ffe7096bb3280ce043_cgraph" alt=""/></div>
<map name="group__xg_ahdlc_avr_ga5cc7ba613a1788ffe7096bb3280ce043_cgraph" id="group__xg_ahdlc_avr_ga5cc7ba613a1788ffe7096bb3280ce043_cgraph">
<area shape="rect" id="node3" href="group__xg_event.html#gad519c6b1469621d2b3909fe58d1ac40b" title="Post an event to a specified queue." alt="" coords="167,206,263,231"/><area shape="rect" id="node28" href="group__xg_timer.html#ga784a7f52b5167c777149fd1d874c99f0" title="Return the CPU clock frequency." alt="" coords="157,255,272,281"/><area shape="rect" id="node5" href="group__xg_event.html#ga129d2de44ddf083f252d0754fc45d9d3" title="Asynchronously post an event to a specified queue." alt="" coords="712,155,840,181"/><area shape="rect" id="node13" href="group__xg_thread.html#ga075836f9a2596c5983b7ba88420afd11" title="Give up the CPU." alt="" coords="324,131,431,157"/><area shape="rect" id="node7" href="group__xg_timer.html#gafb23f6965312663a72d41fefc574dc00" title="Stop a specified timer." alt="" coords="935,154,1033,179"/><area shape="rect" id="node11" href="group__xg_thread.html#ga4d2458fb9ec9d926a6f87706b19e7e06" title="Add a thread to a prioritiy ordered queue." alt="" coords="907,105,1061,130"/><area shape="rect" id="node9" href="group__xg_timer.html#ga681ca3c989be2bdeb5f0cc97e11d6e06" title="Insert a new timer in the global timer list." alt="" coords="1109,79,1213,105"/><area shape="rect" id="node15" href="group__xg_thread.html#gae45ebad9f604755d5c5ba8adaf9e4f89" title="Remove a thread from a specified queue." alt="" coords="483,106,645,131"/><area shape="rect" id="node18" href="group__xg_thread.html#gaabfac60c4d51b57c2dc422d09a69df5b" title="Continue with the highest priority thread, which is ready to run." alt="" coords="500,155,628,181"/><area shape="rect" id="node21" href="group__xg_timer.html#gaf719e88403b4ccc78f071ce5c85a5a71" title="Process elapsed timers." alt="" coords="693,5,859,30"/><area shape="rect" id="node26" href="group__xg_nut_arch_arm_os_context.html#gad63408e1c4ef1c03d9f979ad2d31b7e0" title="Switch to another thread." alt="" coords="718,106,834,131"/><area shape="rect" id="node23" href="group__xg_timer.html#ga940f66286dcf28b8280e41b605064446" title="Return the number of system timer ticks." alt="" coords="927,55,1041,81"/><area shape="rect" id="node30" href="group__xg_nut_arch_arm_os_timer_gba.html#ga7d11c53224db0028ad4838f8b9df9872" title="Return the CPU clock in Hertz." alt="" coords="320,257,435,282"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gadfa27b86eebd5208460d67698f1edf34"></a><!-- doxytag: member="at91_ahdlc.c::AhdlcAt91Init" ref="gadfa27b86eebd5208460d67698f1edf34" args="(NUTDEVICE *dev)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int AhdlcAt91Init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__xg_device.html#ga6e44357e76989d8e579d3f65bc3a2741">NUTDEVICE</a> *&#160;</td>
          <td class="paramname"><em>dev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialize asynchronous HDLC device. </p>
<p>This function will be called during device registration. It initializes the hardware, registers all required interrupt handlers and initializes all internal data structures used by this driver.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>Identifies the device to initialize.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 on success, -1 otherwise. </dd></dl>

<p>Definition at line <a class="el" href="at91__ahdlc_8c_source.html#l00878">878</a> of file <a class="el" href="at91__ahdlc_8c_source.html">at91_ahdlc.c</a>.</p>

<p>References <a class="el" href="arm_8h_source.html#l00202">_BV</a>, <a class="el" href="at91__ahdlc_8c_source.html#l00374">AhdlcRx()</a>, <a class="el" href="dev_2ahdlc_8h_source.html#l00119">_AHDLCDCB::dcb_base</a>, <a class="el" href="dev_2ahdlc_8h_source.html#l00126">_AHDLCDCB::dcb_rx_buf</a>, <a class="el" href="dev_2ahdlc_8h_source.html#l00169">_AHDLCDCB::dcb_rx_mru</a>, <a class="el" href="dev_2ahdlc_8h_source.html#l00165">_AHDLCDCB::dcb_tx_accm</a>, <a class="el" href="dev_2ahdlc_8h_source.html#l00140">_AHDLCDCB::dcb_tx_buf</a>, <a class="el" href="dev_2ahdlc_8h_source.html#l00173">_AHDLCDCB::dcb_tx_mru</a>, <a class="el" href="device_8h_source.html#l00195">_NUTDEVICE::dev_base</a>, <a class="el" href="device_8h_source.html#l00216">_NUTDEVICE::dev_dcb</a>, <a class="el" href="memset_8c_source.html#l00088">memset()</a>, <a class="el" href="at91__ahdlc_8c_source.html#l00082">NUT_AHDLC_RECV_DMA_SIZE</a>, <a class="el" href="at91__ahdlc_8c_source.html#l00174">NUT_THREAD_AHDLCRXSTACK</a>, <a class="el" href="thread_8h_source.html#l00242">NUT_THREAD_STACK_ADD</a>, <a class="el" href="thread_8h_source.html#l00231">NUT_THREAD_STACK_MULT</a>, <a class="el" href="timer_8c_source.html#l00818">NutGetCpuClock()</a>, <a class="el" href="heap_8h_source.html#l00086">NutHeapAlloc</a>, <a class="el" href="heap_8h_source.html#l00088">NutHeapFree</a>, <a class="el" href="dev_2ihndlr_8c_source.html#l00098">NutRegisterIrqHandler()</a>, <a class="el" href="arm_2os_2context_8c_source.html#l00238">NutThreadCreate()</a>, <a class="el" href="arm_8h_source.html#l00196">outr</a>, <a class="el" href="at91sam7s_8h_source.html#l00090">PDC_RXTDIS</a>, <a class="el" href="at91sam7s_8h_source.html#l00086">PERIPH_PTCR_OFF</a>, <a class="el" href="at91sam7s_8h_source.html#l00079">PERIPH_RCR_OFF</a>, <a class="el" href="at91sam7s_8h_source.html#l00083">PERIPH_RNCR_OFF</a>, <a class="el" href="at91sam7s_8h_source.html#l00082">PERIPH_RNPR_OFF</a>, <a class="el" href="at91sam7s_8h_source.html#l00078">PERIPH_RPR_OFF</a>, <a class="el" href="at91__pmc_8h_source.html#l00103">PMC_PCER</a>, <a class="el" href="at91__ahdlc_8c_source.html#l00090">SIG_UART</a>, <a class="el" href="at91__us_8h_source.html#l00217">US1_BRGR</a>, <a class="el" href="at91__us_8h_source.html#l00071">US1_CR</a>, <a class="el" href="at91sam7s_8h_source.html#l00133">US1_ID</a>, <a class="el" href="at91__us_8h_source.html#l00161">US1_IDR</a>, <a class="el" href="at91__us_8h_source.html#l00099">US1_MR</a>, <a class="el" href="at91__us_8h_source.html#l00139">US_CHMODE_NORMAL</a>, <a class="el" href="at91__us_8h_source.html#l00121">US_CHRL_8</a>, <a class="el" href="at91__ahdlc_8c_source.html#l00092">US_GPIO_PINS</a>, <a class="el" href="at91__us_8h_source.html#l00134">US_NBSTOP_1</a>, <a class="el" href="at91__us_8h_source.html#l00130">US_PAR_NO</a>, <a class="el" href="at91__us_8h_source.html#l00072">US_RSTRX</a>, <a class="el" href="at91__us_8h_source.html#l00073">US_RSTTX</a>, <a class="el" href="at91__us_8h_source.html#l00075">US_RXDIS</a>, <a class="el" href="at91__us_8h_source.html#l00077">US_TXDIS</a>, and <a class="el" href="at91sam7s_8h_source.html#l00061">USART1_BASE</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__xg_ahdlc_avr_gadfa27b86eebd5208460d67698f1edf34_cgraph.png" border="0" usemap="#group__xg_ahdlc_avr_gadfa27b86eebd5208460d67698f1edf34_cgraph" alt=""/></div>
<map name="group__xg_ahdlc_avr_gadfa27b86eebd5208460d67698f1edf34_cgraph" id="group__xg_ahdlc_avr_gadfa27b86eebd5208460d67698f1edf34_cgraph">
<area shape="rect" id="node3" href="group__xg_ahdlc_avr.html#ga784911921399d46c79de66de68b9d79a" title="Asynchronous HDLC receiver thread." alt="" coords="187,362,253,387"/><area shape="rect" id="node47" href="group__xg_timer.html#ga784a7f52b5167c777149fd1d874c99f0" title="Return the CPU clock frequency." alt="" coords="1177,935,1292,961"/><area shape="rect" id="node78" href="group__xg_crt_string.html#gaa4075a014de11292d9105188ddbeb216" title="Fill memory region with a specific byte value." alt="" coords="186,690,254,715"/><area shape="rect" id="node81" href="group__xg_interrupt.html#gaa459696030a9cdf621ce3df7b3ac939d" title="Register an interrupt handler." alt="" coords="147,739,293,765"/><area shape="rect" id="node83" href="group__xg_nut_arch_arm_os_context.html#ga8357f2631f0c0a9444844e5ea64be50d" title="Create a new thread." alt="" coords="161,641,279,666"/><area shape="rect" id="node5" href="group__xg_ahdlc_avr.html#ga5b7e2abea3327c269e736d3b30cb63ba" title="Send HDLC frame." alt="" coords="365,362,453,387"/><area shape="rect" id="node7" href="group__xg_crt_string.html#ga09a4c3953e2e41a212a73cf3df4c8c8e" title="memcpy" alt="" coords="375,513,444,538"/><area shape="rect" id="node9" href="group__xg_event.html#ga79af18e0842286182af7c5b647526ce5" title="Wait for an event in a specified queue." alt="" coords="362,286,457,311"/><area shape="rect" id="node55" href="group__xgnetbuf.html#ga7a733aed1e6c15aaabb6657abe5f4e39" title="Allocate or re&#45;allocate a network buffer part." alt="" coords="357,61,461,86"/><area shape="rect" id="node60" href="group__xg_timer.html#gafefcf81d05019a8134b49fa44d8c114a" title="Temporarily suspends the current thread." alt="" coords="373,413,446,438"/><area shape="rect" id="node69" href="group__xg_thread.html#ga8ebe134e9c404072584e80fb8d7e8985" title="Set the current thread&#39;s priority." alt="" coords="538,185,673,210"/><area shape="rect" id="node11" href="group__xg_thread.html#ga075836f9a2596c5983b7ba88420afd11" title="Give up the CPU." alt="" coords="552,286,659,311"/><area shape="rect" id="node13" href="group__xg_thread.html#gae45ebad9f604755d5c5ba8adaf9e4f89" title="Remove a thread from a specified queue." alt="" coords="733,334,896,359"/><area shape="rect" id="node15" href="group__xg_thread.html#ga4d2458fb9ec9d926a6f87706b19e7e06" title="Add a thread to a prioritiy ordered queue." alt="" coords="1158,385,1311,410"/><area shape="rect" id="node17" href="group__xg_thread.html#gaabfac60c4d51b57c2dc422d09a69df5b" title="Continue with the highest priority thread, which is ready to run." alt="" coords="751,489,879,514"/><area shape="rect" id="node35" href="group__xg_timer.html#ga91b42f5fd833e1b72c27b3bfb0ed0af7" title="Start a system timer." alt="" coords="556,539,655,565"/><area shape="rect" id="node51" href="group__xg_event.html#gaaa944c4484d068bdacd8220b7e081302" title="Timer callback in case of event timeout." alt="" coords="757,81,873,106"/><area shape="rect" id="node19" href="group__xg_event.html#ga129d2de44ddf083f252d0754fc45d9d3" title="Asynchronously post an event to a specified queue." alt="" coords="963,486,1091,511"/><area shape="rect" id="node26" href="group__xg_timer.html#gaf719e88403b4ccc78f071ce5c85a5a71" title="Process elapsed timers." alt="" coords="944,637,1109,662"/><area shape="rect" id="node31" href="group__xg_nut_arch_arm_os_context.html#gad63408e1c4ef1c03d9f979ad2d31b7e0" title="Switch to another thread." alt="" coords="969,535,1085,561"/><area shape="rect" id="node21" href="group__xg_timer.html#gafb23f6965312663a72d41fefc574dc00" title="Stop a specified timer." alt="" coords="1185,535,1284,561"/><area shape="rect" id="node23" href="group__xg_timer.html#ga681ca3c989be2bdeb5f0cc97e11d6e06" title="Insert a new timer in the global timer list." alt="" coords="1365,635,1469,661"/><area shape="rect" id="node28" href="group__xg_timer.html#ga940f66286dcf28b8280e41b605064446" title="Return the number of system timer ticks." alt="" coords="1177,686,1292,711"/><area shape="rect" id="node37" href="group__xg_timer.html#gaf104e0c3660b2a77bd0d7b00c4fd741c" title="Start a system timer." alt="" coords="751,691,878,717"/><area shape="rect" id="node43" href="group__xg_nut_arch_arm_os_timer_at91.html#gabb52a4e7f513a7c586898065e0a0c81a" title="Calculate system ticks for a given number of milliseconds." alt="" coords="743,753,887,778"/><area shape="rect" id="node39" href="group__xg_timer.html#ga1e47b683a996583386ebef7e7c92501e" title="Create a new system timer." alt="" coords="971,686,1082,711"/><area shape="rect" id="node45" href="group__xg_nut_arch_arm_os_timer_at91.html#ga2724f52da15ed45123a32c1ed7e148f0" title="Return the number of system ticks per second." alt="" coords="970,787,1083,813"/><area shape="rect" id="node49" href="group__xg_nut_arch_arm_os_timer_gba.html#ga7d11c53224db0028ad4838f8b9df9872" title="Return the CPU clock in Hertz." alt="" coords="1360,935,1475,961"/><area shape="rect" id="node57" href="group__xgnetbuf.html#ga2e14a135152823a816388f50bdb3ea3f" title="Release a network buffer structure." alt="" coords="554,30,657,55"/><area shape="rect" id="node64" href="group__xg_thread.html#ga8730ce8319ffcb5e14a413458125e41a" title="Resume a previously suspended thread." alt="" coords="759,437,870,462"/><area shape="rect" id="node73" href="group__xg_thread.html#gaf8e9b69ee0082bcdb00fd6cdb68f4136" title="Kill the running thread." alt="" coords="766,182,863,207"/><area shape="rect" id="node75" href="group__xg_thread.html#gaba085dddcb4bf80a0b246bd06618d740" title="Free a thread that was previously killed and release memory back to the OS." alt="" coords="965,182,1088,207"/><area shape="rect" id="node88" href="group__xg_crt_stdio.html#ga2f7351ee13f3f4c465c65e849a12a3fd" title="Print formatted data to a stream." alt="" coords="383,887,435,913"/><area shape="rect" id="node106" href="osdebug_8h.html#acc9b4c9e94b94936592ec3b84625b1fb" title="Dump system thread list." alt="" coords="342,789,477,814"/><area shape="rect" id="node90" href="group__xg_crt_stdio.html#ga50c4b673b1d86ab16f2a46aff7122c5c" title="Write argument list to a stream using a given format." alt="" coords="577,911,634,937"/><area shape="rect" id="node92" href="group__xg_crt_stdio.html#ga651a41ea9a05d4294a58c1ec83e13f18" title="Write formatted data using a given output function." alt="" coords="790,934,839,959"/><area shape="rect" id="node104" href="io_8h.html#a901fa187b164dd6faaac1b62c88614b5" title="_write" alt="" coords="787,862,842,887"/><area shape="rect" id="node94" href="group__xg_heap.html#ga381d0a123dbf80ca3efe2614aa826e08" title="Allocate a block from heap memory." alt="" coords="997,886,1056,911"/><area shape="rect" id="node96" href="group__xg_crt_string.html#ga9d0726a46ae033e7755fd1313da76ab1" title="Locate byte in a memory region." alt="" coords="993,935,1061,961"/><area shape="rect" id="node98" href="group__xg_crt_string.html#ga7b9fc4834c90ac78977b5fbb3076c5ac" title="Compute the length of a NUL terminated string." alt="" coords="1000,837,1053,862"/><area shape="rect" id="node100" href="group__xg_crt_string.html#ga5f9abaa6c5ffa26025ca901c14cb1056" title="Copy a string." alt="" coords="999,985,1054,1010"/><area shape="rect" id="node102" href="group__xg_heap.html#ga9f850d0608418aea291e4c0fdab93826" title="Return a block to heap memory." alt="" coords="1005,1034,1048,1059"/><area shape="rect" id="node108" href="group__xg_crt_stdio.html#gabe6299d5823dd023e610aaa619735a3f" title="Write a character to a stream." alt="" coords="581,862,629,887"/><area shape="rect" id="node111" href="group__xg_crt_stdio.html#ga14acfae1988535199b72df91e18f72f3" title="Write a string to a stream." alt="" coords="581,763,630,789"/><area shape="rect" id="node115" href="thread_8h.html#ad3d53c8f90bef732dd044b78c55f801c" title="NutThreadStackAvailable" alt="" coords="526,813,685,838"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaba4aefd965ac68263cfa5395c8968f6c"></a><!-- doxytag: member="at91_ahdlc.c::AhdlcAt91Read" ref="gaba4aefd965ac68263cfa5395c8968f6c" args="(NUTFILE *fp, void *buffer, int size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int AhdlcAt91Read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__xg_device.html#ga66d4b4dd6b81551dadfe12d452ec4455">NUTFILE</a> *&#160;</td>
          <td class="paramname"><em>fp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read from the asynchronous HDLC device. </p>
<p>This function is called by the low level input routines of the <a class="el" href="group__xg_crt_lowio.html#xrCrtLowio">C runtime library</a>, using the <a class="el" href="struct___n_u_t_d_e_v_i_c_e.html#a105f32f25da275ccbc559aa28db75a26" title="Read from device.">_NUTDEVICE::dev_read</a> entry.</p>
<p>The function may block the calling thread until at least one character has been received or a timeout occurs.</p>
<p>It is recommended to set a proper read timeout with software handshake. In this case a timeout may occur, if the communication peer lost our last XON character. The application may then use ioctl() to disable the receiver and do the read again. This will send out another XON.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">fp</td><td>Pointer to a <a class="el" href="struct___n_u_t_f_i_l_e.html">_NUTFILE</a> structure, obtained by a previous call to AhdlcOpen(). </td></tr>
    <tr><td class="paramname">buffer</td><td>Pointer to the buffer that receives the data. If zero, then all characters in the input buffer will be removed. </td></tr>
    <tr><td class="paramname">size</td><td>Maximum number of bytes to read.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The number of bytes read, which may be less than the number of bytes specified. A return value of -1 indicates an error, while zero is returned in case of a timeout. </dd></dl>

<p>Definition at line <a class="el" href="at91__ahdlc_8c_source.html#l00981">981</a> of file <a class="el" href="at91__ahdlc_8c_source.html">at91_ahdlc.c</a>.</p>

<p>References <a class="el" href="dev_2ahdlc_8h_source.html#l00136">_AHDLCDCB::dcb_rd_idx</a>, <a class="el" href="dev_2ahdlc_8h_source.html#l00094">_AHDLCDCB::dcb_rtimeout</a>, <a class="el" href="dev_2ahdlc_8h_source.html#l00126">_AHDLCDCB::dcb_rx_buf</a>, <a class="el" href="dev_2ahdlc_8h_source.html#l00132">_AHDLCDCB::dcb_rx_idx</a>, <a class="el" href="dev_2ahdlc_8h_source.html#l00112">_AHDLCDCB::dcb_rx_rdy</a>, <a class="el" href="device_8h_source.html#l00216">_NUTDEVICE::dev_dcb</a>, <a class="el" href="file_8h_source.html#l00080">_NUTFILE::nf_dev</a>, and <a class="el" href="event_8c_source.html#l00271">NutEventWait()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__xg_ahdlc_avr_gaba4aefd965ac68263cfa5395c8968f6c_cgraph.png" border="0" usemap="#group__xg_ahdlc_avr_gaba4aefd965ac68263cfa5395c8968f6c_cgraph" alt=""/></div>
<map name="group__xg_ahdlc_avr_gaba4aefd965ac68263cfa5395c8968f6c_cgraph" id="group__xg_ahdlc_avr_gaba4aefd965ac68263cfa5395c8968f6c_cgraph">
<area shape="rect" id="node3" href="group__xg_event.html#ga79af18e0842286182af7c5b647526ce5" title="Wait for an event in a specified queue." alt="" coords="161,133,255,158"/><area shape="rect" id="node5" href="group__xg_thread.html#ga075836f9a2596c5983b7ba88420afd11" title="Give up the CPU." alt="" coords="309,158,416,183"/><area shape="rect" id="node7" href="group__xg_thread.html#gae45ebad9f604755d5c5ba8adaf9e4f89" title="Remove a thread from a specified queue." alt="" coords="469,107,632,133"/><area shape="rect" id="node9" href="group__xg_thread.html#ga4d2458fb9ec9d926a6f87706b19e7e06" title="Add a thread to a prioritiy ordered queue." alt="" coords="894,95,1047,121"/><area shape="rect" id="node11" href="group__xg_thread.html#gaabfac60c4d51b57c2dc422d09a69df5b" title="Continue with the highest priority thread, which is ready to run." alt="" coords="487,209,615,234"/><area shape="rect" id="node29" href="group__xg_timer.html#ga91b42f5fd833e1b72c27b3bfb0ed0af7" title="Start a system timer." alt="" coords="313,345,412,370"/><area shape="rect" id="node45" href="group__xg_event.html#gaaa944c4484d068bdacd8220b7e081302" title="Timer callback in case of event timeout." alt="" coords="305,6,421,31"/><area shape="rect" id="node13" href="group__xg_event.html#ga129d2de44ddf083f252d0754fc45d9d3" title="Asynchronously post an event to a specified queue." alt="" coords="699,183,827,209"/><area shape="rect" id="node20" href="group__xg_timer.html#gaf719e88403b4ccc78f071ce5c85a5a71" title="Process elapsed timers." alt="" coords="680,282,845,307"/><area shape="rect" id="node25" href="group__xg_nut_arch_arm_os_context.html#gad63408e1c4ef1c03d9f979ad2d31b7e0" title="Switch to another thread." alt="" coords="705,233,821,258"/><area shape="rect" id="node15" href="group__xg_timer.html#gafb23f6965312663a72d41fefc574dc00" title="Stop a specified timer." alt="" coords="921,206,1020,231"/><area shape="rect" id="node17" href="group__xg_timer.html#ga681ca3c989be2bdeb5f0cc97e11d6e06" title="Insert a new timer in the global timer list." alt="" coords="1101,281,1205,306"/><area shape="rect" id="node22" href="group__xg_timer.html#ga940f66286dcf28b8280e41b605064446" title="Return the number of system timer ticks." alt="" coords="913,331,1028,357"/><area shape="rect" id="node31" href="group__xg_timer.html#gaf104e0c3660b2a77bd0d7b00c4fd741c" title="Start a system timer." alt="" coords="487,345,614,370"/><area shape="rect" id="node37" href="group__xg_nut_arch_arm_os_timer_at91.html#gabb52a4e7f513a7c586898065e0a0c81a" title="Calculate system ticks for a given number of milliseconds." alt="" coords="479,419,623,445"/><area shape="rect" id="node33" href="group__xg_timer.html#ga1e47b683a996583386ebef7e7c92501e" title="Create a new system timer." alt="" coords="707,331,818,357"/><area shape="rect" id="node39" href="group__xg_nut_arch_arm_os_timer_at91.html#ga2724f52da15ed45123a32c1ed7e148f0" title="Return the number of system ticks per second." alt="" coords="706,433,819,458"/><area shape="rect" id="node41" href="group__xg_timer.html#ga784a7f52b5167c777149fd1d874c99f0" title="Return the CPU clock frequency." alt="" coords="913,433,1028,458"/><area shape="rect" id="node43" href="group__xg_nut_arch_arm_os_timer_gba.html#ga7d11c53224db0028ad4838f8b9df9872" title="Return the CPU clock in Hertz." alt="" coords="1096,433,1211,458"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga9d948ff25fca454107e921777c7d66d2"></a><!-- doxytag: member="at91_ahdlc.c::AhdlcAt91Put" ref="ga9d948ff25fca454107e921777c7d66d2" args="(NUTDEVICE *dev, CONST void *buffer, int len, int pflg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int AhdlcAt91Put </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__xg_device.html#ga6e44357e76989d8e579d3f65bc3a2741">NUTDEVICE</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CONST void *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pflg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Write to the asynchronous HDLC device. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>Pointer to a previously registered NUTDEVICE structure. </td></tr>
    <tr><td class="paramname">buffer</td><td>Pointer the data to write. </td></tr>
    <tr><td class="paramname">len</td><td>Number of data bytes to write. </td></tr>
    <tr><td class="paramname">pflg</td><td>If this flag is set, then the buffer is located in program space.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The number of bytes written. In case of a write timeout, this may be less than the specified length. </dd></dl>

<p>Definition at line <a class="el" href="at91__ahdlc_8c_source.html#l01021">1021</a> of file <a class="el" href="at91__ahdlc_8c_source.html">at91_ahdlc.c</a>.</p>

<p>References <a class="el" href="arm_8h_source.html#l00143">CONST</a>, <a class="el" href="device_8h_source.html#l00216">_NUTDEVICE::dev_dcb</a>, <a class="el" href="arch_2arm_2atom_8h_source.html#l00136">NutEnterCritical</a>, <a class="el" href="arch_2arm_2atom_8h_source.html#l00147">NutExitCritical</a>, <a class="el" href="arm_8h_source.html#l00196">outr</a>, <a class="el" href="arm_8h_source.html#l00155">PRG_RDB</a>, <a class="el" href="at91__us_8h_source.html#l00157">US1_IER</a>, and <a class="el" href="at91__us_8h_source.html#l00168">US_TXRDY</a>.</p>

<p>Referenced by <a class="el" href="at91__ahdlc_8c_source.html#l01072">AhdlcAt91Write()</a>, and <a class="el" href="at91__ahdlc_8c_source.html#l01098">AhdlcAt91Write_P()</a>.</p>

</div>
</div>
<a class="anchor" id="gadb50c3ce74b373bee474d1e0b3275e90"></a><!-- doxytag: member="at91_ahdlc.c::AhdlcAt91Write" ref="gadb50c3ce74b373bee474d1e0b3275e90" args="(NUTFILE *fp, CONST void *buffer, int len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int AhdlcAt91Write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__xg_device.html#ga66d4b4dd6b81551dadfe12d452ec4455">NUTFILE</a> *&#160;</td>
          <td class="paramname"><em>fp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CONST void *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Write to the asynchronous HDLC device. </p>
<p>This function is called by the low level output routines of the <a class="el" href="group__xg_crt_lowio.html#xrCrtLowio">C runtime library</a>, using the <a class="el" href="struct___n_u_t_d_e_v_i_c_e.html#a2f1ae37c71ffc3af5aff422b3e992f14">_NUTDEVICE::dev_write</a> entry.</p>
<p>The function may block the calling thread.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">fp</td><td>Pointer to a <a class="el" href="struct___n_u_t_f_i_l_e.html" title="File structure.">_NUTFILE</a> structure, obtained by a previous call to AhldcOpen(). </td></tr>
    <tr><td class="paramname">buffer</td><td>Pointer to the data to be written. If zero, then the output buffer will be flushed. </td></tr>
    <tr><td class="paramname">len</td><td>Number of bytes to write.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The number of bytes written, which may be less than the number of bytes specified if a timeout occured. A return value of -1 indicates an error. </dd></dl>

<p>Definition at line <a class="el" href="at91__ahdlc_8c_source.html#l01072">1072</a> of file <a class="el" href="at91__ahdlc_8c_source.html">at91_ahdlc.c</a>.</p>

<p>References <a class="el" href="at91__ahdlc_8c_source.html#l01021">AhdlcAt91Put()</a>, and <a class="el" href="file_8h_source.html#l00080">_NUTFILE::nf_dev</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__xg_ahdlc_avr_gadb50c3ce74b373bee474d1e0b3275e90_cgraph.png" border="0" usemap="#group__xg_ahdlc_avr_gadb50c3ce74b373bee474d1e0b3275e90_cgraph" alt=""/></div>
<map name="group__xg_ahdlc_avr_gadb50c3ce74b373bee474d1e0b3275e90_cgraph" id="group__xg_ahdlc_avr_gadb50c3ce74b373bee474d1e0b3275e90_cgraph">
<area shape="rect" id="node3" href="group__xg_ahdlc_avr.html#ga9d948ff25fca454107e921777c7d66d2" title="Write to the asynchronous HDLC device." alt="" coords="158,5,253,30"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga0fb0cb74853d071540e3ba8e65dc63a1"></a><!-- doxytag: member="at91_ahdlc.c::AhdlcAt91Write_P" ref="ga0fb0cb74853d071540e3ba8e65dc63a1" args="(NUTFILE *fp, PGM_P buffer, int len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int AhdlcAt91Write_P </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__xg_device.html#ga66d4b4dd6b81551dadfe12d452ec4455">NUTFILE</a> *&#160;</td>
          <td class="paramname"><em>fp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PGM_P&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Write to the asynchronous HDLC device. </p>
<p>Similar to AhdlcWrite() except that the data is located in program memory.</p>
<p>This function is called by the low level output routines of the <a class="el" href="group__xg_crt_lowio.html#xrCrtLowio">C runtime library</a>, using the <a class="el" href="struct___n_u_t_d_e_v_i_c_e.html#a965dec701781da979635e1cbba7098af" title="Write to device.">_NUTDEVICE::dev_write_P</a> entry.</p>
<p>The function may block the calling thread.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">fp</td><td>Pointer to a NUTFILE structure, obtained by a previous call to AhdlcOpen(). </td></tr>
    <tr><td class="paramname">buffer</td><td>Pointer to the data in program space to be written. </td></tr>
    <tr><td class="paramname">len</td><td>Number of bytes to write.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The number of bytes written, which may be less than the number of bytes specified if a timeout occured. A return value of -1 indicates an error. </dd></dl>

<p>Definition at line <a class="el" href="at91__ahdlc_8c_source.html#l01098">1098</a> of file <a class="el" href="at91__ahdlc_8c_source.html">at91_ahdlc.c</a>.</p>

<p>References <a class="el" href="at91__ahdlc_8c_source.html#l01021">AhdlcAt91Put()</a>, <a class="el" href="arm_8h_source.html#l00143">CONST</a>, and <a class="el" href="file_8h_source.html#l00080">_NUTFILE::nf_dev</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__xg_ahdlc_avr_ga0fb0cb74853d071540e3ba8e65dc63a1_cgraph.png" border="0" usemap="#group__xg_ahdlc_avr_ga0fb0cb74853d071540e3ba8e65dc63a1_cgraph" alt=""/></div>
<map name="group__xg_ahdlc_avr_ga0fb0cb74853d071540e3ba8e65dc63a1_cgraph" id="group__xg_ahdlc_avr_ga0fb0cb74853d071540e3ba8e65dc63a1_cgraph">
<area shape="rect" id="node3" href="group__xg_ahdlc_avr.html#ga9d948ff25fca454107e921777c7d66d2" title="Write to the asynchronous HDLC device." alt="" coords="174,5,269,30"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga9cdbdf33ba1fc4e8a5951d7205a0ba7a"></a><!-- doxytag: member="at91_ahdlc.c::AhdlcAt91Open" ref="ga9cdbdf33ba1fc4e8a5951d7205a0ba7a" args="(NUTDEVICE *dev, CONST char *name, int mode, int acc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__xg_device.html#ga66d4b4dd6b81551dadfe12d452ec4455">NUTFILE</a>* AhdlcAt91Open </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__xg_device.html#ga6e44357e76989d8e579d3f65bc3a2741">NUTDEVICE</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CONST char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>acc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Open the asynchronous HDLC device. </p>
<p>This function is called by the low level open routine of the C runtime library, using the <a class="el" href="struct___n_u_t_d_e_v_i_c_e.html#ab335cca3129f49584754e9123e24503f" title="Open a device or file.">_NUTDEVICE::dev_open</a> entry.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>Pointer to the NUTDEVICE structure. </td></tr>
    <tr><td class="paramname">name</td><td>Ignored, should point to an empty string. </td></tr>
    <tr><td class="paramname">mode</td><td>Operation mode. Any of the following values may be or-ed:<ul>
<li><a class="el" href="group__xg_crt_lowio.html#ga166a079a4990ddeb0a32475728bbacd0">_O_BINARY</a></li>
<li><a class="el" href="group__xg_crt_lowio.html#ga4d457d93039cb26f27461c4af5868309">_O_RDONLY</a></li>
<li><a class="el" href="group__xg_crt_lowio.html#gac58f7734ab4dd8ae25bda2fba713ea56">_O_WRONLY</a> </li>
</ul>
</td></tr>
    <tr><td class="paramname">acc</td><td>Ignored, should be zero.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Pointer to a NUTFILE structure if successful or NUTFILE_EOF otherwise. </dd></dl>

<p>Definition at line <a class="el" href="at91__ahdlc_8c_source.html#l01119">1119</a> of file <a class="el" href="at91__ahdlc_8c_source.html">at91_ahdlc.c</a>.</p>

<p>References <a class="el" href="file_8h_source.html#l00080">_NUTFILE::nf_dev</a>, <a class="el" href="file_8h_source.html#l00085">_NUTFILE::nf_fcb</a>, <a class="el" href="file_8h_source.html#l00075">_NUTFILE::nf_next</a>, <a class="el" href="arch_2arm_2atom_8h_source.html#l00136">NutEnterCritical</a>, <a class="el" href="arch_2arm_2atom_8h_source.html#l00147">NutExitCritical</a>, <a class="el" href="file_8h_source.html#l00088">NUTFILE_EOF</a>, <a class="el" href="heap_8h_source.html#l00086">NutHeapAlloc</a>, <a class="el" href="dev_2ihndlr_8c_source.html#l00121">NutIrqEnable()</a>, <a class="el" href="arm_8h_source.html#l00196">outr</a>, <a class="el" href="at91sam7s_8h_source.html#l00089">PDC_RXTEN</a>, <a class="el" href="at91sam7s_8h_source.html#l00086">PERIPH_PTCR_OFF</a>, <a class="el" href="at91__ahdlc_8c_source.html#l00090">SIG_UART</a>, <a class="el" href="at91__ahdlc_8c_source.html#l00088">UART_RECEIVER_TIMEOUT</a>, <a class="el" href="at91__us_8h_source.html#l00071">US1_CR</a>, <a class="el" href="at91__us_8h_source.html#l00157">US1_IER</a>, <a class="el" href="at91__us_8h_source.html#l00224">US1_RTOR</a>, <a class="el" href="at91__us_8h_source.html#l00170">US_ENDRX</a>, <a class="el" href="at91__us_8h_source.html#l00177">US_RXBUFF</a>, <a class="el" href="at91__us_8h_source.html#l00074">US_RXEN</a>, <a class="el" href="at91__us_8h_source.html#l00081">US_STTTO</a>, <a class="el" href="at91__us_8h_source.html#l00175">US_TIMEOUT</a>, <a class="el" href="at91__us_8h_source.html#l00076">US_TXEN</a>, and <a class="el" href="at91sam7s_8h_source.html#l00061">USART1_BASE</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__xg_ahdlc_avr_ga9cdbdf33ba1fc4e8a5951d7205a0ba7a_cgraph.png" border="0" usemap="#group__xg_ahdlc_avr_ga9cdbdf33ba1fc4e8a5951d7205a0ba7a_cgraph" alt=""/></div>
<map name="group__xg_ahdlc_avr_ga9cdbdf33ba1fc4e8a5951d7205a0ba7a_cgraph" id="group__xg_ahdlc_avr_ga9cdbdf33ba1fc4e8a5951d7205a0ba7a_cgraph">
<area shape="rect" id="node3" href="group__xg_interrupt.html#ga9d27f5ecdebd2acd835df5d3d2af02f5" title="Enable a specified interrupt." alt="" coords="161,5,255,30"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga28455b93bc5ead8fddafbfc02da2d6ce"></a><!-- doxytag: member="at91_ahdlc.c::AhdlcAt91Close" ref="ga28455b93bc5ead8fddafbfc02da2d6ce" args="(NUTFILE *fp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int AhdlcAt91Close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__xg_device.html#ga66d4b4dd6b81551dadfe12d452ec4455">NUTFILE</a> *&#160;</td>
          <td class="paramname"><em>fp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Close the asynchronous HDLC device. </p>
<p>This function is called by the low level close routine of the C runtime library, using the <a class="el" href="struct___n_u_t_d_e_v_i_c_e.html#ac2d664b9f6a32cb760c5ba13ba2b4e4a" title="Close a device or file.">_NUTDEVICE::dev_close</a> entry.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">fp</td><td>Pointer to a <a class="el" href="struct___n_u_t_f_i_l_e.html" title="File structure.">_NUTFILE</a> structure, obtained by a previous call to <a class="el" href="group__xg_usart.html#gaeb1a110892efd2c8c1c40d9a1602958a" title="Open an USART device.">UsartOpen()</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 on success or -1 otherwise.</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000017">Todo:</a></b></dt><dd>We may support shared open and use dev_irq as an open counter. </dd></dl>

<p>Definition at line <a class="el" href="at91__ahdlc_8c_source.html#l01159">1159</a> of file <a class="el" href="at91__ahdlc_8c_source.html">at91_ahdlc.c</a>.</p>

<p>References <a class="el" href="file_8h_source.html#l00088">NUTFILE_EOF</a>, and <a class="el" href="heap_8h_source.html#l00088">NutHeapFree</a>.</p>

</div>
</div>
<a class="anchor" id="gae1493fe9d0ae191af622b1f3d42441ef"></a><!-- doxytag: member="ahdlcavr.c::AhdlcAvrIOCtl" ref="gae1493fe9d0ae191af622b1f3d42441ef" args="(NUTDEVICE *dev, int req, void *conf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int AhdlcAvrIOCtl </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__xg_device.html#ga6e44357e76989d8e579d3f65bc3a2741">NUTDEVICE</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>conf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Perform on-chip UART control functions. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>Identifies the device that receives the device-control function. </td></tr>
    <tr><td class="paramname">req</td><td>Requested control function. May be set to one of the following constants:<ul>
<li>UART_SETSPEED, conf points to an uint32_t value containing the baudrate.</li>
<li>UART_GETSPEED, conf points to an uint32_t value receiving the current baudrate.</li>
<li>UART_SETDATABITS, conf points to an uint32_t value containing the number of data bits, 5, 6, 7 or 8.</li>
<li>UART_GETDATABITS, conf points to an uint32_t value receiving the number of data bits, 5, 6, 7 or 8.</li>
<li>UART_SETPARITY, conf points to an uint32_t value containing the parity, 0 (no), 1 (odd) or 2 (even).</li>
<li>UART_GETPARITY, conf points to an uint32_t value receiving the parity, 0 (no), 1 (odd) or 2 (even).</li>
<li>UART_SETSTOPBITS, conf points to an uint32_t value containing the number of stop bits 1 or 2.</li>
<li>UART_GETSTOPBITS, conf points to an uint32_t value receiving the number of stop bits 1 or 2.</li>
<li>UART_SETSTATUS, conf points to an uint32_t value containing the changes for the control lines.</li>
<li>UART_GETSTATUS, conf points to an uint32_t value receiving the state of the control lines and the device.</li>
<li>UART_SETREADTIMEOUT, conf points to an uint32_t value containing the read timeout.</li>
<li>UART_GETREADTIMEOUT, conf points to an uint32_t value receiving the read timeout.</li>
<li>UART_SETWRITETIMEOUT, conf points to an uint32_t value containing the write timeout.</li>
<li>UART_GETWRITETIMEOUT, conf points to an uint32_t value receiving the write timeout.</li>
<li>UART_SETLOCALECHO, conf points to an uint32_t value containing 0 (off) or 1 (on).</li>
<li>UART_GETLOCALECHO, conf points to an uint32_t value receiving 0 (off) or 1 (on).</li>
<li>UART_SETFLOWCONTROL, conf points to an uint32_t value containing combined UART_FCTL_ values.</li>
<li>UART_GETFLOWCONTROL, conf points to an uint32_t value containing receiving UART_FCTL_ values.</li>
<li>UART_SETCOOKEDMODE, conf points to an uint32_t value containing 0 (off) or 1 (on).</li>
<li>UART_GETCOOKEDMODE, conf points to an uint32_t value receiving 0 (off) or 1 (on).</li>
<li>UART_SETRAWMODE, conf points to an uint32_t value containing 0 (off) or 1 (on).</li>
<li>UART_GETRAWMODE, conf points to an uint32_t value receiving 0 (off) or 1 (on).</li>
<li>HDLC_SETIFNET, conf points to a pointer containing the address of the network device's NUTDEVICE structure.</li>
<li>HDLC_GETIFNET, conf points to a pointer receiving the address of the network device's NUTDEVICE structure.</li>
<li>HDLC_SETTXACCM, conf points to an uint32_t value containing the ACC Map in host endian.</li>
<li>HDLC_GETTXACCM, conf points to an uint32_t value receiving the ACC Map in host endian.</li>
</ul>
</td></tr>
    <tr><td class="paramname">conf</td><td>Points to a buffer that contains any data required for the given control function or receives data from that function. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 on success, -1 otherwise.</dd></dl>
<dl class="warning"><dt><b>Warning:</b></dt><dd>Timeout values are given in milliseconds and are limited to the granularity of the system timer.</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>For ATmega103, only 8 data bits, 1 stop bit and no parity are allowed. </dd></dl>

<p>Definition at line <a class="el" href="ahdlcavr_8c_source.html#l00941">941</a> of file <a class="el" href="ahdlcavr_8c_source.html">ahdlcavr.c</a>.</p>

<p>References <a class="el" href="dev_2ahdlc_8h_source.html#l00157">_AHDLCDCB::dcb_mf_evt</a>, <a class="el" href="dev_2ahdlc_8h_source.html#l00086">_AHDLCDCB::dcb_modeflags</a>, <a class="el" href="dev_2ahdlc_8h_source.html#l00094">_AHDLCDCB::dcb_rtimeout</a>, <a class="el" href="dev_2ahdlc_8h_source.html#l00169">_AHDLCDCB::dcb_rx_mru</a>, <a class="el" href="dev_2ahdlc_8h_source.html#l00112">_AHDLCDCB::dcb_rx_rdy</a>, <a class="el" href="dev_2ahdlc_8h_source.html#l00165">_AHDLCDCB::dcb_tx_accm</a>, <a class="el" href="dev_2ahdlc_8h_source.html#l00173">_AHDLCDCB::dcb_tx_mru</a>, <a class="el" href="dev_2ahdlc_8h_source.html#l00098">_AHDLCDCB::dcb_wtimeout</a>, <a class="el" href="device_8h_source.html#l00195">_NUTDEVICE::dev_base</a>, <a class="el" href="device_8h_source.html#l00216">_NUTDEVICE::dev_dcb</a>, <a class="el" href="device_8h_source.html#l00209">_NUTDEVICE::dev_icb</a>, <a class="el" href="device_8h_source.html#l00187">_NUTDEVICE::dev_type</a>, <a class="el" href="uart0_8c_source.html#l00094">devUart0</a>, <a class="el" href="dev_2uart_8h_source.html#l00260">HDLC_GETIFNET</a>, <a class="el" href="dev_2uart_8h_source.html#l00385">HDLC_GETTXACCM</a>, <a class="el" href="dev_2uart_8h_source.html#l00254">HDLC_SETIFNET</a>, <a class="el" href="dev_2uart_8h_source.html#l00379">HDLC_SETTXACCM</a>, <a class="el" href="device_8h_source.html#l00140">IFTYP_CHAR</a>, <a class="el" href="device_8h_source.html#l00138">IFTYP_NET</a>, <a class="el" href="arm_8h_source.html#l00198">inb</a>, <a class="el" href="event_8c_source.html#l00454">NutEventPost()</a>, <a class="el" href="timer_8c_source.html#l00818">NutGetCpuClock()</a>, <a class="el" href="arm_8h_source.html#l00194">outb</a>, <a class="el" href="dev_2uart_8h_source.html#l00130">UART_GETDATABITS</a>, <a class="el" href="dev_2uart_8h_source.html#l00222">UART_GETFLOWCONTROL</a>, <a class="el" href="dev_2uart_8h_source.html#l00210">UART_GETLOCALECHO</a>, <a class="el" href="dev_2uart_8h_source.html#l00144">UART_GETPARITY</a>, <a class="el" href="dev_2uart_8h_source.html#l00370">UART_GETRAWMODE</a>, <a class="el" href="dev_2uart_8h_source.html#l00182">UART_GETREADTIMEOUT</a>, <a class="el" href="dev_2uart_8h_source.html#l00116">UART_GETSPEED</a>, <a class="el" href="dev_2uart_8h_source.html#l00168">UART_GETSTATUS</a>, <a class="el" href="dev_2uart_8h_source.html#l00156">UART_GETSTOPBITS</a>, <a class="el" href="dev_2uart_8h_source.html#l00196">UART_GETWRITETIMEOUT</a>, <a class="el" href="scih8_8h_source.html#l00077">UART_MF_LOCALECHO</a>, <a class="el" href="uartavr_8h_source.html#l00111">UART_MF_RAWMODE</a>, <a class="el" href="dev_2uart_8h_source.html#l00123">UART_SETDATABITS</a>, <a class="el" href="dev_2uart_8h_source.html#l00216">UART_SETFLOWCONTROL</a>, <a class="el" href="dev_2uart_8h_source.html#l00203">UART_SETLOCALECHO</a>, <a class="el" href="dev_2uart_8h_source.html#l00137">UART_SETPARITY</a>, <a class="el" href="dev_2uart_8h_source.html#l00364">UART_SETRAWMODE</a>, <a class="el" href="dev_2uart_8h_source.html#l00175">UART_SETREADTIMEOUT</a>, <a class="el" href="dev_2uart_8h_source.html#l00109">UART_SETSPEED</a>, <a class="el" href="dev_2uart_8h_source.html#l00162">UART_SETSTATUS</a>, <a class="el" href="dev_2uart_8h_source.html#l00150">UART_SETSTOPBITS</a>, <a class="el" href="dev_2uart_8h_source.html#l00189">UART_SETWRITETIMEOUT</a>, and <a class="el" href="arch_2avr_8h_source.html#l00155">UBRR</a>.</p>

<p>Referenced by <a class="el" href="ahdlcavr_8c_source.html#l01197">AhdlcAvrInit()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__xg_ahdlc_avr_gae1493fe9d0ae191af622b1f3d42441ef_cgraph.png" border="0" usemap="#group__xg_ahdlc_avr_gae1493fe9d0ae191af622b1f3d42441ef_cgraph" alt=""/></div>
<map name="group__xg_ahdlc_avr_gae1493fe9d0ae191af622b1f3d42441ef_cgraph" id="group__xg_ahdlc_avr_gae1493fe9d0ae191af622b1f3d42441ef_cgraph">
<area shape="rect" id="node3" href="group__xg_event.html#gad519c6b1469621d2b3909fe58d1ac40b" title="Post an event to a specified queue." alt="" coords="159,206,255,231"/><area shape="rect" id="node28" href="group__xg_timer.html#ga784a7f52b5167c777149fd1d874c99f0" title="Return the CPU clock frequency." alt="" coords="149,255,264,281"/><area shape="rect" id="node5" href="group__xg_event.html#ga129d2de44ddf083f252d0754fc45d9d3" title="Asynchronously post an event to a specified queue." alt="" coords="704,155,832,181"/><area shape="rect" id="node13" href="group__xg_thread.html#ga075836f9a2596c5983b7ba88420afd11" title="Give up the CPU." alt="" coords="316,131,423,157"/><area shape="rect" id="node7" href="group__xg_timer.html#gafb23f6965312663a72d41fefc574dc00" title="Stop a specified timer." alt="" coords="927,154,1025,179"/><area shape="rect" id="node11" href="group__xg_thread.html#ga4d2458fb9ec9d926a6f87706b19e7e06" title="Add a thread to a prioritiy ordered queue." alt="" coords="899,105,1053,130"/><area shape="rect" id="node9" href="group__xg_timer.html#ga681ca3c989be2bdeb5f0cc97e11d6e06" title="Insert a new timer in the global timer list." alt="" coords="1101,79,1205,105"/><area shape="rect" id="node15" href="group__xg_thread.html#gae45ebad9f604755d5c5ba8adaf9e4f89" title="Remove a thread from a specified queue." alt="" coords="475,106,637,131"/><area shape="rect" id="node18" href="group__xg_thread.html#gaabfac60c4d51b57c2dc422d09a69df5b" title="Continue with the highest priority thread, which is ready to run." alt="" coords="492,155,620,181"/><area shape="rect" id="node21" href="group__xg_timer.html#gaf719e88403b4ccc78f071ce5c85a5a71" title="Process elapsed timers." alt="" coords="685,5,851,30"/><area shape="rect" id="node26" href="group__xg_nut_arch_arm_os_context.html#gad63408e1c4ef1c03d9f979ad2d31b7e0" title="Switch to another thread." alt="" coords="710,106,826,131"/><area shape="rect" id="node23" href="group__xg_timer.html#ga940f66286dcf28b8280e41b605064446" title="Return the number of system timer ticks." alt="" coords="919,55,1033,81"/><area shape="rect" id="node30" href="group__xg_nut_arch_arm_os_timer_gba.html#ga7d11c53224db0028ad4838f8b9df9872" title="Return the CPU clock in Hertz." alt="" coords="312,257,427,282"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gab82851594ae03aa1f852037435288420"></a><!-- doxytag: member="ahdlcavr.c::AhdlcAvrInit" ref="gab82851594ae03aa1f852037435288420" args="(NUTDEVICE *dev)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int AhdlcAvrInit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__xg_device.html#ga6e44357e76989d8e579d3f65bc3a2741">NUTDEVICE</a> *&#160;</td>
          <td class="paramname"><em>dev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialize asynchronous HDLC device. </p>
<p>This function will be called during device registration. It initializes the hardware, registers all required interrupt handlers and initializes all internal data structures used by this driver.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>Identifies the device to initialize.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 on success, -1 otherwise. </dd></dl>

<p>Definition at line <a class="el" href="ahdlcavr_8c_source.html#l01197">1197</a> of file <a class="el" href="ahdlcavr_8c_source.html">ahdlcavr.c</a>.</p>

<p>References <a class="el" href="ahdlcavr_8c_source.html#l00941">AhdlcAvrIOCtl()</a>, <a class="el" href="at91__ahdlc_8c_source.html#l00374">AhdlcRx()</a>, <a class="el" href="arm_8h_source.html#l00205">cbi</a>, <a class="el" href="dev_2ahdlc_8h_source.html#l00119">_AHDLCDCB::dcb_base</a>, <a class="el" href="dev_2ahdlc_8h_source.html#l00126">_AHDLCDCB::dcb_rx_buf</a>, <a class="el" href="dev_2ahdlc_8h_source.html#l00169">_AHDLCDCB::dcb_rx_mru</a>, <a class="el" href="dev_2ahdlc_8h_source.html#l00165">_AHDLCDCB::dcb_tx_accm</a>, <a class="el" href="dev_2ahdlc_8h_source.html#l00140">_AHDLCDCB::dcb_tx_buf</a>, <a class="el" href="dev_2ahdlc_8h_source.html#l00173">_AHDLCDCB::dcb_tx_mru</a>, <a class="el" href="device_8h_source.html#l00195">_NUTDEVICE::dev_base</a>, <a class="el" href="device_8h_source.html#l00216">_NUTDEVICE::dev_dcb</a>, <a class="el" href="device_8h_source.html#l00209">_NUTDEVICE::dev_icb</a>, <a class="el" href="arch_2avr_8h_source.html#l00164">EICR</a>, <a class="el" href="memset_8c_source.html#l00088">memset()</a>, <a class="el" href="ahdlcavr_8c_source.html#l00313">NUT_THREAD_AHDLCRXSTACK</a>, <a class="el" href="thread_8h_source.html#l00242">NUT_THREAD_STACK_ADD</a>, <a class="el" href="thread_8h_source.html#l00231">NUT_THREAD_STACK_MULT</a>, <a class="el" href="heap_8h_source.html#l00086">NutHeapAlloc</a>, <a class="el" href="heap_8h_source.html#l00088">NutHeapFree</a>, <a class="el" href="dev_2ihndlr_8c_source.html#l00098">NutRegisterIrqHandler()</a>, <a class="el" href="arm_2os_2context_8c_source.html#l00238">NutThreadCreate()</a>, <a class="el" href="arm_8h_source.html#l00204">sbi</a>, <a class="el" href="ih__usart0__udre_8c_source.html#l00099">sig_UART0_DATA</a>, <a class="el" href="ih__usart0__rx_8c_source.html#l00095">sig_UART0_RECV</a>, <a class="el" href="arch_2avr_2irqreg_8h.html#aa58c018bef09371d118ed93100b93855">sig_UART1_DATA</a>, <a class="el" href="arch_2avr_2irqreg_8h.html#a6f9e2f8fa51ba161dc2e38c56bd291a0">sig_UART1_RECV</a>, and <a class="el" href="dev_2uart_8h_source.html#l00109">UART_SETSPEED</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__xg_ahdlc_avr_gab82851594ae03aa1f852037435288420_cgraph.png" border="0" usemap="#group__xg_ahdlc_avr_gab82851594ae03aa1f852037435288420_cgraph" alt=""/></div>
<map name="group__xg_ahdlc_avr_gab82851594ae03aa1f852037435288420_cgraph" id="group__xg_ahdlc_avr_gab82851594ae03aa1f852037435288420_cgraph">
<area shape="rect" id="node3" href="group__xg_ahdlc_avr.html#gae1493fe9d0ae191af622b1f3d42441ef" title="Perform on&#45;chip UART control functions." alt="" coords="165,321,259,346"/><area shape="rect" id="node34" href="group__xg_ahdlc_avr.html#ga784911921399d46c79de66de68b9d79a" title="Asynchronous HDLC receiver thread." alt="" coords="179,370,245,395"/><area shape="rect" id="node85" href="group__xg_crt_string.html#gaa4075a014de11292d9105188ddbeb216" title="Fill memory region with a specific byte value." alt="" coords="178,673,246,698"/><area shape="rect" id="node87" href="group__xg_interrupt.html#gaa459696030a9cdf621ce3df7b3ac939d" title="Register an interrupt handler." alt="" coords="139,722,285,747"/><area shape="rect" id="node89" href="group__xg_nut_arch_arm_os_context.html#ga8357f2631f0c0a9444844e5ea64be50d" title="Create a new thread." alt="" coords="153,623,271,649"/><area shape="rect" id="node5" href="group__xg_timer.html#ga784a7f52b5167c777149fd1d874c99f0" title="Return the CPU clock frequency." alt="" coords="1169,18,1284,43"/><area shape="rect" id="node9" href="group__xg_event.html#gad519c6b1469621d2b3909fe58d1ac40b" title="Post an event to a specified queue." alt="" coords="353,457,449,482"/><area shape="rect" id="node7" href="group__xg_nut_arch_arm_os_timer_gba.html#ga7d11c53224db0028ad4838f8b9df9872" title="Return the CPU clock in Hertz." alt="" coords="1352,18,1467,43"/><area shape="rect" id="node11" href="group__xg_event.html#ga129d2de44ddf083f252d0754fc45d9d3" title="Asynchronously post an event to a specified queue." alt="" coords="955,649,1083,674"/><area shape="rect" id="node19" href="group__xg_thread.html#ga075836f9a2596c5983b7ba88420afd11" title="Give up the CPU." alt="" coords="544,421,651,446"/><area shape="rect" id="node13" href="group__xg_timer.html#gafb23f6965312663a72d41fefc574dc00" title="Stop a specified timer." alt="" coords="1177,622,1276,647"/><area shape="rect" id="node17" href="group__xg_thread.html#ga4d2458fb9ec9d926a6f87706b19e7e06" title="Add a thread to a prioritiy ordered queue." alt="" coords="1150,547,1303,573"/><area shape="rect" id="node15" href="group__xg_timer.html#ga681ca3c989be2bdeb5f0cc97e11d6e06" title="Insert a new timer in the global timer list." alt="" coords="1357,245,1461,270"/><area shape="rect" id="node21" href="group__xg_thread.html#gae45ebad9f604755d5c5ba8adaf9e4f89" title="Remove a thread from a specified queue." alt="" coords="725,346,888,371"/><area shape="rect" id="node24" href="group__xg_thread.html#gaabfac60c4d51b57c2dc422d09a69df5b" title="Continue with the highest priority thread, which is ready to run." alt="" coords="743,395,871,421"/><area shape="rect" id="node27" href="group__xg_timer.html#gaf719e88403b4ccc78f071ce5c85a5a71" title="Process elapsed timers." alt="" coords="936,243,1101,269"/><area shape="rect" id="node32" href="group__xg_nut_arch_arm_os_context.html#gad63408e1c4ef1c03d9f979ad2d31b7e0" title="Switch to another thread." alt="" coords="961,395,1077,421"/><area shape="rect" id="node29" href="group__xg_timer.html#ga940f66286dcf28b8280e41b605064446" title="Return the number of system timer ticks." alt="" coords="1169,194,1284,219"/><area shape="rect" id="node36" href="group__xg_ahdlc_avr.html#ga5b7e2abea3327c269e736d3b30cb63ba" title="Send HDLC frame." alt="" coords="357,195,445,221"/><area shape="rect" id="node38" href="group__xg_crt_string.html#ga09a4c3953e2e41a212a73cf3df4c8c8e" title="memcpy" alt="" coords="367,533,436,558"/><area shape="rect" id="node40" href="group__xg_event.html#ga79af18e0842286182af7c5b647526ce5" title="Wait for an event in a specified queue." alt="" coords="354,407,449,433"/><area shape="rect" id="node62" href="group__xgnetbuf.html#ga7a733aed1e6c15aaabb6657abe5f4e39" title="Allocate or re&#45;allocate a network buffer part." alt="" coords="349,333,453,358"/><area shape="rect" id="node67" href="group__xg_timer.html#gafefcf81d05019a8134b49fa44d8c114a" title="Temporarily suspends the current thread." alt="" coords="365,245,438,270"/><area shape="rect" id="node76" href="group__xg_thread.html#ga8ebe134e9c404072584e80fb8d7e8985" title="Set the current thread&#39;s priority." alt="" coords="530,93,665,118"/><area shape="rect" id="node45" href="group__xg_timer.html#ga91b42f5fd833e1b72c27b3bfb0ed0af7" title="Start a system timer." alt="" coords="548,43,647,69"/><area shape="rect" id="node58" href="group__xg_event.html#gaaa944c4484d068bdacd8220b7e081302" title="Timer callback in case of event timeout." alt="" coords="749,547,865,573"/><area shape="rect" id="node47" href="group__xg_timer.html#gaf104e0c3660b2a77bd0d7b00c4fd741c" title="Start a system timer." alt="" coords="743,143,870,169"/><area shape="rect" id="node53" href="group__xg_nut_arch_arm_os_timer_at91.html#gabb52a4e7f513a7c586898065e0a0c81a" title="Calculate system ticks for a given number of milliseconds." alt="" coords="735,43,879,69"/><area shape="rect" id="node49" href="group__xg_timer.html#ga1e47b683a996583386ebef7e7c92501e" title="Create a new system timer." alt="" coords="963,194,1074,219"/><area shape="rect" id="node55" href="group__xg_nut_arch_arm_os_timer_at91.html#ga2724f52da15ed45123a32c1ed7e148f0" title="Return the number of system ticks per second." alt="" coords="962,43,1075,69"/><area shape="rect" id="node64" href="group__xgnetbuf.html#ga2e14a135152823a816388f50bdb3ea3f" title="Release a network buffer structure." alt="" coords="546,319,649,345"/><area shape="rect" id="node71" href="group__xg_thread.html#ga8730ce8319ffcb5e14a413458125e41a" title="Resume a previously suspended thread." alt="" coords="751,245,862,270"/><area shape="rect" id="node80" href="group__xg_thread.html#gaf8e9b69ee0082bcdb00fd6cdb68f4136" title="Kill the running thread." alt="" coords="758,93,855,118"/><area shape="rect" id="node82" href="group__xg_thread.html#gaba085dddcb4bf80a0b246bd06618d740" title="Free a thread that was previously killed and release memory back to the OS." alt="" coords="957,93,1080,118"/><area shape="rect" id="node94" href="group__xg_crt_stdio.html#ga2f7351ee13f3f4c465c65e849a12a3fd" title="Print formatted data to a stream." alt="" coords="375,899,427,925"/><area shape="rect" id="node112" href="osdebug_8h.html#acc9b4c9e94b94936592ec3b84625b1fb" title="Dump system thread list." alt="" coords="334,801,469,826"/><area shape="rect" id="node96" href="group__xg_crt_stdio.html#ga50c4b673b1d86ab16f2a46aff7122c5c" title="Write argument list to a stream using a given format." alt="" coords="569,923,626,949"/><area shape="rect" id="node98" href="group__xg_crt_stdio.html#ga651a41ea9a05d4294a58c1ec83e13f18" title="Write formatted data using a given output function." alt="" coords="782,923,831,949"/><area shape="rect" id="node110" href="io_8h.html#a901fa187b164dd6faaac1b62c88614b5" title="_write" alt="" coords="779,874,834,899"/><area shape="rect" id="node100" href="group__xg_heap.html#ga381d0a123dbf80ca3efe2614aa826e08" title="Allocate a block from heap memory." alt="" coords="989,922,1048,947"/><area shape="rect" id="node102" href="group__xg_crt_string.html#ga9d0726a46ae033e7755fd1313da76ab1" title="Locate byte in a memory region." alt="" coords="985,971,1053,997"/><area shape="rect" id="node104" href="group__xg_crt_string.html#ga7b9fc4834c90ac78977b5fbb3076c5ac" title="Compute the length of a NUL terminated string." alt="" coords="992,823,1045,849"/><area shape="rect" id="node106" href="group__xg_crt_string.html#ga5f9abaa6c5ffa26025ca901c14cb1056" title="Copy a string." alt="" coords="991,1021,1046,1046"/><area shape="rect" id="node108" href="group__xg_heap.html#ga9f850d0608418aea291e4c0fdab93826" title="Return a block to heap memory." alt="" coords="997,873,1040,898"/><area shape="rect" id="node114" href="group__xg_crt_stdio.html#gabe6299d5823dd023e610aaa619735a3f" title="Write a character to a stream." alt="" coords="573,874,621,899"/><area shape="rect" id="node117" href="group__xg_crt_stdio.html#ga14acfae1988535199b72df91e18f72f3" title="Write a string to a stream." alt="" coords="573,825,622,850"/><area shape="rect" id="node121" href="thread_8h.html#ad3d53c8f90bef732dd044b78c55f801c" title="NutThreadStackAvailable" alt="" coords="518,775,677,801"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gae1a62da30e9d1821a97a42c757be8358"></a><!-- doxytag: member="ahdlcavr.c::AhdlcAvrRead" ref="gae1a62da30e9d1821a97a42c757be8358" args="(NUTFILE *fp, void *buffer, int size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int AhdlcAvrRead </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__xg_device.html#ga66d4b4dd6b81551dadfe12d452ec4455">NUTFILE</a> *&#160;</td>
          <td class="paramname"><em>fp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read from the asynchronous HDLC device. </p>
<p>This function is called by the low level input routines of the <a class="el" href="group__xg_crt_lowio.html#xrCrtLowio">C runtime library</a>, using the <a class="el" href="struct___n_u_t_d_e_v_i_c_e.html#a105f32f25da275ccbc559aa28db75a26" title="Read from device.">_NUTDEVICE::dev_read</a> entry.</p>
<p>The function may block the calling thread until at least one character has been received or a timeout occurs.</p>
<p>It is recommended to set a proper read timeout with software handshake. In this case a timeout may occur, if the communication peer lost our last XON character. The application may then use ioctl() to disable the receiver and do the read again. This will send out another XON.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">fp</td><td>Pointer to a <a class="el" href="struct___n_u_t_f_i_l_e.html">_NUTFILE</a> structure, obtained by a previous call to AhdlcOpen(). </td></tr>
    <tr><td class="paramname">buffer</td><td>Pointer to the buffer that receives the data. If zero, then all characters in the input buffer will be removed. </td></tr>
    <tr><td class="paramname">size</td><td>Maximum number of bytes to read.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The number of bytes read, which may be less than the number of bytes specified. A return value of -1 indicates an error, while zero is returned in case of a timeout. </dd></dl>

<p>Definition at line <a class="el" href="ahdlcavr_8c_source.html#l01335">1335</a> of file <a class="el" href="ahdlcavr_8c_source.html">ahdlcavr.c</a>.</p>

<p>References <a class="el" href="dev_2ahdlc_8h_source.html#l00136">_AHDLCDCB::dcb_rd_idx</a>, <a class="el" href="dev_2ahdlc_8h_source.html#l00094">_AHDLCDCB::dcb_rtimeout</a>, <a class="el" href="dev_2ahdlc_8h_source.html#l00126">_AHDLCDCB::dcb_rx_buf</a>, <a class="el" href="dev_2ahdlc_8h_source.html#l00132">_AHDLCDCB::dcb_rx_idx</a>, <a class="el" href="dev_2ahdlc_8h_source.html#l00112">_AHDLCDCB::dcb_rx_rdy</a>, <a class="el" href="device_8h_source.html#l00216">_NUTDEVICE::dev_dcb</a>, <a class="el" href="file_8h_source.html#l00080">_NUTFILE::nf_dev</a>, and <a class="el" href="event_8c_source.html#l00271">NutEventWait()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__xg_ahdlc_avr_gae1a62da30e9d1821a97a42c757be8358_cgraph.png" border="0" usemap="#group__xg_ahdlc_avr_gae1a62da30e9d1821a97a42c757be8358_cgraph" alt=""/></div>
<map name="group__xg_ahdlc_avr_gae1a62da30e9d1821a97a42c757be8358_cgraph" id="group__xg_ahdlc_avr_gae1a62da30e9d1821a97a42c757be8358_cgraph">
<area shape="rect" id="node3" href="group__xg_event.html#ga79af18e0842286182af7c5b647526ce5" title="Wait for an event in a specified queue." alt="" coords="153,133,247,158"/><area shape="rect" id="node5" href="group__xg_thread.html#ga075836f9a2596c5983b7ba88420afd11" title="Give up the CPU." alt="" coords="301,158,408,183"/><area shape="rect" id="node7" href="group__xg_thread.html#gae45ebad9f604755d5c5ba8adaf9e4f89" title="Remove a thread from a specified queue." alt="" coords="461,107,624,133"/><area shape="rect" id="node9" href="group__xg_thread.html#ga4d2458fb9ec9d926a6f87706b19e7e06" title="Add a thread to a prioritiy ordered queue." alt="" coords="886,95,1039,121"/><area shape="rect" id="node11" href="group__xg_thread.html#gaabfac60c4d51b57c2dc422d09a69df5b" title="Continue with the highest priority thread, which is ready to run." alt="" coords="479,209,607,234"/><area shape="rect" id="node29" href="group__xg_timer.html#ga91b42f5fd833e1b72c27b3bfb0ed0af7" title="Start a system timer." alt="" coords="305,345,404,370"/><area shape="rect" id="node45" href="group__xg_event.html#gaaa944c4484d068bdacd8220b7e081302" title="Timer callback in case of event timeout." alt="" coords="297,6,413,31"/><area shape="rect" id="node13" href="group__xg_event.html#ga129d2de44ddf083f252d0754fc45d9d3" title="Asynchronously post an event to a specified queue." alt="" coords="691,183,819,209"/><area shape="rect" id="node20" href="group__xg_timer.html#gaf719e88403b4ccc78f071ce5c85a5a71" title="Process elapsed timers." alt="" coords="672,282,837,307"/><area shape="rect" id="node25" href="group__xg_nut_arch_arm_os_context.html#gad63408e1c4ef1c03d9f979ad2d31b7e0" title="Switch to another thread." alt="" coords="697,233,813,258"/><area shape="rect" id="node15" href="group__xg_timer.html#gafb23f6965312663a72d41fefc574dc00" title="Stop a specified timer." alt="" coords="913,206,1012,231"/><area shape="rect" id="node17" href="group__xg_timer.html#ga681ca3c989be2bdeb5f0cc97e11d6e06" title="Insert a new timer in the global timer list." alt="" coords="1093,281,1197,306"/><area shape="rect" id="node22" href="group__xg_timer.html#ga940f66286dcf28b8280e41b605064446" title="Return the number of system timer ticks." alt="" coords="905,331,1020,357"/><area shape="rect" id="node31" href="group__xg_timer.html#gaf104e0c3660b2a77bd0d7b00c4fd741c" title="Start a system timer." alt="" coords="479,345,606,370"/><area shape="rect" id="node37" href="group__xg_nut_arch_arm_os_timer_at91.html#gabb52a4e7f513a7c586898065e0a0c81a" title="Calculate system ticks for a given number of milliseconds." alt="" coords="471,419,615,445"/><area shape="rect" id="node33" href="group__xg_timer.html#ga1e47b683a996583386ebef7e7c92501e" title="Create a new system timer." alt="" coords="699,331,810,357"/><area shape="rect" id="node39" href="group__xg_nut_arch_arm_os_timer_at91.html#ga2724f52da15ed45123a32c1ed7e148f0" title="Return the number of system ticks per second." alt="" coords="698,433,811,458"/><area shape="rect" id="node41" href="group__xg_timer.html#ga784a7f52b5167c777149fd1d874c99f0" title="Return the CPU clock frequency." alt="" coords="905,433,1020,458"/><area shape="rect" id="node43" href="group__xg_nut_arch_arm_os_timer_gba.html#ga7d11c53224db0028ad4838f8b9df9872" title="Return the CPU clock in Hertz." alt="" coords="1088,433,1203,458"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga76ea23685b1266488c9119efff5477a1"></a><!-- doxytag: member="ahdlcavr.c::AhdlcAvrPut" ref="ga76ea23685b1266488c9119efff5477a1" args="(NUTDEVICE *dev, CONST void *buffer, int len, int pflg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int AhdlcAvrPut </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__xg_device.html#ga6e44357e76989d8e579d3f65bc3a2741">NUTDEVICE</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CONST void *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pflg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Write to the asynchronous HDLC device. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>Pointer to a previously registered NUTDEVICE structure. </td></tr>
    <tr><td class="paramname">buffer</td><td>Pointer the data to write. </td></tr>
    <tr><td class="paramname">len</td><td>Number of data bytes to write. </td></tr>
    <tr><td class="paramname">pflg</td><td>If this flag is set, then the buffer is located in program space.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The number of bytes written. In case of a write timeout, this may be less than the specified length. </dd></dl>

<p>Definition at line <a class="el" href="ahdlcavr_8c_source.html#l01375">1375</a> of file <a class="el" href="ahdlcavr_8c_source.html">ahdlcavr.c</a>.</p>

<p>References <a class="el" href="arm_8h_source.html#l00143">CONST</a>, <a class="el" href="device_8h_source.html#l00195">_NUTDEVICE::dev_base</a>, <a class="el" href="device_8h_source.html#l00216">_NUTDEVICE::dev_dcb</a>, <a class="el" href="arm_8h_source.html#l00155">PRG_RDB</a>, <a class="el" href="arm_8h_source.html#l00204">sbi</a>, <a class="el" href="arch_2avr_8h_source.html#l00161">UCR</a>, and <a class="el" href="arch_2avr_8h_source.html#l00185">UDRIE</a>.</p>

<p>Referenced by <a class="el" href="ahdlcavr_8c_source.html#l01429">AhdlcAvrWrite()</a>, and <a class="el" href="ahdlcavr_8c_source.html#l01455">AhdlcAvrWrite_P()</a>.</p>

</div>
</div>
<a class="anchor" id="ga6658a32c5b87c6341b4ccd91f2e2b853"></a><!-- doxytag: member="ahdlcavr.c::AhdlcAvrWrite" ref="ga6658a32c5b87c6341b4ccd91f2e2b853" args="(NUTFILE *fp, CONST void *buffer, int len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int AhdlcAvrWrite </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__xg_device.html#ga66d4b4dd6b81551dadfe12d452ec4455">NUTFILE</a> *&#160;</td>
          <td class="paramname"><em>fp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CONST void *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Write to the asynchronous HDLC device. </p>
<p>This function is called by the low level output routines of the <a class="el" href="group__xg_crt_lowio.html#xrCrtLowio">C runtime library</a>, using the <a class="el" href="struct___n_u_t_d_e_v_i_c_e.html#a2f1ae37c71ffc3af5aff422b3e992f14">_NUTDEVICE::dev_write</a> entry.</p>
<p>The function may block the calling thread.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">fp</td><td>Pointer to a <a class="el" href="struct___n_u_t_f_i_l_e.html" title="File structure.">_NUTFILE</a> structure, obtained by a previous call to AhldcOpen(). </td></tr>
    <tr><td class="paramname">buffer</td><td>Pointer to the data to be written. If zero, then the output buffer will be flushed. </td></tr>
    <tr><td class="paramname">len</td><td>Number of bytes to write.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The number of bytes written, which may be less than the number of bytes specified if a timeout occured. A return value of -1 indicates an error. </dd></dl>

<p>Definition at line <a class="el" href="ahdlcavr_8c_source.html#l01429">1429</a> of file <a class="el" href="ahdlcavr_8c_source.html">ahdlcavr.c</a>.</p>

<p>References <a class="el" href="ahdlcavr_8c_source.html#l01375">AhdlcAvrPut()</a>, and <a class="el" href="file_8h_source.html#l00080">_NUTFILE::nf_dev</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__xg_ahdlc_avr_ga6658a32c5b87c6341b4ccd91f2e2b853_cgraph.png" border="0" usemap="#group__xg_ahdlc_avr_ga6658a32c5b87c6341b4ccd91f2e2b853_cgraph" alt=""/></div>
<map name="group__xg_ahdlc_avr_ga6658a32c5b87c6341b4ccd91f2e2b853_cgraph" id="group__xg_ahdlc_avr_ga6658a32c5b87c6341b4ccd91f2e2b853_cgraph">
<area shape="rect" id="node3" href="group__xg_ahdlc_avr.html#ga76ea23685b1266488c9119efff5477a1" title="Write to the asynchronous HDLC device." alt="" coords="150,5,237,30"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga33edc97cae8b172b0e3ccb2e2ede4864"></a><!-- doxytag: member="ahdlcavr.c::AhdlcAvrWrite_P" ref="ga33edc97cae8b172b0e3ccb2e2ede4864" args="(NUTFILE *fp, PGM_P buffer, int len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int AhdlcAvrWrite_P </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__xg_device.html#ga66d4b4dd6b81551dadfe12d452ec4455">NUTFILE</a> *&#160;</td>
          <td class="paramname"><em>fp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PGM_P&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Write to the asynchronous HDLC device. </p>
<p>Similar to AhdlcWrite() except that the data is located in program memory.</p>
<p>This function is called by the low level output routines of the <a class="el" href="group__xg_crt_lowio.html#xrCrtLowio">C runtime library</a>, using the <a class="el" href="struct___n_u_t_d_e_v_i_c_e.html#a965dec701781da979635e1cbba7098af" title="Write to device.">_NUTDEVICE::dev_write_P</a> entry.</p>
<p>The function may block the calling thread.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">fp</td><td>Pointer to a NUTFILE structure, obtained by a previous call to AhdlcOpen(). </td></tr>
    <tr><td class="paramname">buffer</td><td>Pointer to the data in program space to be written. </td></tr>
    <tr><td class="paramname">len</td><td>Number of bytes to write.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The number of bytes written, which may be less than the number of bytes specified if a timeout occured. A return value of -1 indicates an error. </dd></dl>

<p>Definition at line <a class="el" href="ahdlcavr_8c_source.html#l01455">1455</a> of file <a class="el" href="ahdlcavr_8c_source.html">ahdlcavr.c</a>.</p>

<p>References <a class="el" href="ahdlcavr_8c_source.html#l01375">AhdlcAvrPut()</a>, <a class="el" href="arm_8h_source.html#l00143">CONST</a>, and <a class="el" href="file_8h_source.html#l00080">_NUTFILE::nf_dev</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__xg_ahdlc_avr_ga33edc97cae8b172b0e3ccb2e2ede4864_cgraph.png" border="0" usemap="#group__xg_ahdlc_avr_ga33edc97cae8b172b0e3ccb2e2ede4864_cgraph" alt=""/></div>
<map name="group__xg_ahdlc_avr_ga33edc97cae8b172b0e3ccb2e2ede4864_cgraph" id="group__xg_ahdlc_avr_ga33edc97cae8b172b0e3ccb2e2ede4864_cgraph">
<area shape="rect" id="node3" href="group__xg_ahdlc_avr.html#ga76ea23685b1266488c9119efff5477a1" title="Write to the asynchronous HDLC device." alt="" coords="166,5,253,30"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga14922325c9ea0499e4215cfb5ee89cea"></a><!-- doxytag: member="ahdlcavr.c::AhdlcAvrOpen" ref="ga14922325c9ea0499e4215cfb5ee89cea" args="(NUTDEVICE *dev, CONST char *name, int mode, int acc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__xg_device.html#ga66d4b4dd6b81551dadfe12d452ec4455">NUTFILE</a>* AhdlcAvrOpen </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__xg_device.html#ga6e44357e76989d8e579d3f65bc3a2741">NUTDEVICE</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CONST char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>acc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Open the asynchronous HDLC device. </p>
<p>This function is called by the low level open routine of the C runtime library, using the <a class="el" href="struct___n_u_t_d_e_v_i_c_e.html#ab335cca3129f49584754e9123e24503f" title="Open a device or file.">_NUTDEVICE::dev_open</a> entry.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>Pointer to the NUTDEVICE structure. </td></tr>
    <tr><td class="paramname">name</td><td>Ignored, should point to an empty string. </td></tr>
    <tr><td class="paramname">mode</td><td>Operation mode. Any of the following values may be or-ed:<ul>
<li><a class="el" href="group__xg_crt_lowio.html#ga166a079a4990ddeb0a32475728bbacd0">_O_BINARY</a></li>
<li><a class="el" href="group__xg_crt_lowio.html#ga4d457d93039cb26f27461c4af5868309">_O_RDONLY</a></li>
<li><a class="el" href="group__xg_crt_lowio.html#gac58f7734ab4dd8ae25bda2fba713ea56">_O_WRONLY</a> </li>
</ul>
</td></tr>
    <tr><td class="paramname">acc</td><td>Ignored, should be zero.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Pointer to a NUTFILE structure if successful or NUTFILE_EOF otherwise. </dd></dl>

<p>Definition at line <a class="el" href="ahdlcavr_8c_source.html#l01476">1476</a> of file <a class="el" href="ahdlcavr_8c_source.html">ahdlcavr.c</a>.</p>

<p>References <a class="el" href="arm_8h_source.html#l00205">cbi</a>, <a class="el" href="device_8h_source.html#l00195">_NUTDEVICE::dev_base</a>, <a class="el" href="file_8h_source.html#l00080">_NUTFILE::nf_dev</a>, <a class="el" href="file_8h_source.html#l00085">_NUTFILE::nf_fcb</a>, <a class="el" href="file_8h_source.html#l00075">_NUTFILE::nf_next</a>, <a class="el" href="file_8h_source.html#l00088">NUTFILE_EOF</a>, and <a class="el" href="heap_8h_source.html#l00086">NutHeapAlloc</a>.</p>

</div>
</div>
<a class="anchor" id="ga6d1fc092de41db6067e61771c1f21943"></a><!-- doxytag: member="ahdlcavr.c::AhdlcAvrClose" ref="ga6d1fc092de41db6067e61771c1f21943" args="(NUTFILE *fp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int AhdlcAvrClose </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__xg_device.html#ga66d4b4dd6b81551dadfe12d452ec4455">NUTFILE</a> *&#160;</td>
          <td class="paramname"><em>fp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Close the asynchronous HDLC device. </p>
<p>This function is called by the low level close routine of the C runtime library, using the <a class="el" href="struct___n_u_t_d_e_v_i_c_e.html#ac2d664b9f6a32cb760c5ba13ba2b4e4a" title="Close a device or file.">_NUTDEVICE::dev_close</a> entry.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">fp</td><td>Pointer to a <a class="el" href="struct___n_u_t_f_i_l_e.html" title="File structure.">_NUTFILE</a> structure, obtained by a previous call to <a class="el" href="group__xg_usart.html#gaeb1a110892efd2c8c1c40d9a1602958a" title="Open an USART device.">UsartOpen()</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 on success or -1 otherwise.</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000027">Todo:</a></b></dt><dd>We may support shared open and use dev_irq as an open counter. </dd></dl>

<p>Definition at line <a class="el" href="ahdlcavr_8c_source.html#l01522">1522</a> of file <a class="el" href="ahdlcavr_8c_source.html">ahdlcavr.c</a>.</p>

<p>References <a class="el" href="device_8h_source.html#l00195">_NUTDEVICE::dev_base</a>, <a class="el" href="file_8h_source.html#l00080">_NUTFILE::nf_dev</a>, <a class="el" href="file_8h_source.html#l00088">NUTFILE_EOF</a>, <a class="el" href="heap_8h_source.html#l00088">NutHeapFree</a>, and <a class="el" href="arm_8h_source.html#l00204">sbi</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="gada2d8862571cf916513439d0619bd69d"></a><!-- doxytag: member="at91_ahdlc.c::devAhdlc1" ref="gada2d8862571cf916513439d0619bd69d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__xg_device.html#ga6e44357e76989d8e579d3f65bc3a2741">NUTDEVICE</a> <a class="el" href="group__xg_ahdlc_avr.html#gada2d8862571cf916513439d0619bd69d">devAhdlc1</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
    0,                          
    {<span class="charliteral">&#39;u&#39;</span>, <span class="charliteral">&#39;a&#39;</span>, <span class="charliteral">&#39;r&#39;</span>, <span class="charliteral">&#39;t&#39;</span>, <span class="charliteral">&#39;1&#39;</span>, 0, 0, 0, 0},      
    <a class="code" href="group__xg_device.html#ga161b2f2b0cbc3449e4cd03702e704481" title="Character stream device.">IFTYP_CHAR</a>,                 
    1,                          
    0,                          
    0,                          
    &amp;dcb_ahdlc,                 
    <a class="code" href="group__xg_ahdlc_avr.html#gadfa27b86eebd5208460d67698f1edf34" title="Initialize asynchronous HDLC device.">AhdlcAt91Init</a>,              
    <a class="code" href="group__xg_ahdlc_avr.html#ga5cc7ba613a1788ffe7096bb3280ce043" title="Perform on-chip UART control functions.">AhdlcAt91IOCtl</a>,             
    <a class="code" href="group__xg_ahdlc_avr.html#gaba4aefd965ac68263cfa5395c8968f6c" title="Read from the asynchronous HDLC device.">AhdlcAt91Read</a>,              
    <a class="code" href="group__xg_ahdlc_avr.html#gadb50c3ce74b373bee474d1e0b3275e90" title="Write to the asynchronous HDLC device.">AhdlcAt91Write</a>,             
    <a class="code" href="group__xg_ahdlc_avr.html#ga9cdbdf33ba1fc4e8a5951d7205a0ba7a" title="Open the asynchronous HDLC device.">AhdlcAt91Open</a>,              
    <a class="code" href="group__xg_ahdlc_avr.html#ga28455b93bc5ead8fddafbfc02da2d6ce" title="Close the asynchronous HDLC device.">AhdlcAt91Close</a>,             
    0                           
}
</pre></div>
<p>Device information structure. </p>
<p>A pointer to this structure must be passed to <a class="el" href="group__xg_device.html#ga0d73e3153bf9f210194bd862d9b91c61" title="Register and initialize a device.">NutRegisterDevice()</a> to bind this device driver to the Nut/OS kernel. </p>

<p>Definition at line <a class="el" href="at91__ahdlc_8c_source.html#l00109">109</a> of file <a class="el" href="at91__ahdlc_8c_source.html">at91_ahdlc.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga2055414d977913bf74d19aaa8519fe3f"></a><!-- doxytag: member="ahdlc0.c::devAhdlc0" ref="ga2055414d977913bf74d19aaa8519fe3f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__xg_device.html#ga6e44357e76989d8e579d3f65bc3a2741">NUTDEVICE</a> <a class="el" href="group__xg_ahdlc_avr.html#ga2055414d977913bf74d19aaa8519fe3f">devAhdlc0</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
    0,                          
    {<span class="charliteral">&#39;u&#39;</span>, <span class="charliteral">&#39;a&#39;</span>, <span class="charliteral">&#39;r&#39;</span>, <span class="charliteral">&#39;t&#39;</span>, <span class="charliteral">&#39;0&#39;</span>, 0, 0, 0, 0},      
    <a class="code" href="group__xg_device.html#ga161b2f2b0cbc3449e4cd03702e704481" title="Character stream device.">IFTYP_CHAR</a>,                 
    0,                          
    0,                          
    0,                          
    &amp;dcb_ahdlc,                 
    <a class="code" href="group__xg_ahdlc_avr.html#gab82851594ae03aa1f852037435288420" title="Initialize asynchronous HDLC device.">AhdlcAvrInit</a>,               
    <a class="code" href="group__xg_ahdlc_avr.html#gae1493fe9d0ae191af622b1f3d42441ef" title="Perform on-chip UART control functions.">AhdlcAvrIOCtl</a>,              
    <a class="code" href="group__xg_ahdlc_avr.html#gae1a62da30e9d1821a97a42c757be8358" title="Read from the asynchronous HDLC device.">AhdlcAvrRead</a>,               
    <a class="code" href="group__xg_ahdlc_avr.html#ga6658a32c5b87c6341b4ccd91f2e2b853" title="Write to the asynchronous HDLC device.">AhdlcAvrWrite</a>,              
    <a class="code" href="group__xg_ahdlc_avr.html#ga33edc97cae8b172b0e3ccb2e2ede4864" title="Write to the asynchronous HDLC device.">AhdlcAvrWrite_P</a>,            
    <a class="code" href="group__xg_ahdlc_avr.html#ga14922325c9ea0499e4215cfb5ee89cea" title="Open the asynchronous HDLC device.">AhdlcAvrOpen</a>,               
    <a class="code" href="group__xg_ahdlc_avr.html#ga6d1fc092de41db6067e61771c1f21943" title="Close the asynchronous HDLC device.">AhdlcAvrClose</a>,              
    0                           
}
</pre></div>
<p>Device information structure. </p>
<p>A pointer to this structure must be passed to <a class="el" href="group__xg_device.html#ga0d73e3153bf9f210194bd862d9b91c61" title="Register and initialize a device.">NutRegisterDevice()</a> to bind this device driver to the Nut/OS kernel. </p>

<p>Definition at line <a class="el" href="ahdlc0_8c_source.html#l00062">62</a> of file <a class="el" href="ahdlc0_8c_source.html">ahdlc0.c</a>.</p>

</div>
</div>
<a class="anchor" id="gada2d8862571cf916513439d0619bd69d"></a><!-- doxytag: member="ahdlc1.c::devAhdlc1" ref="gada2d8862571cf916513439d0619bd69d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__xg_device.html#ga6e44357e76989d8e579d3f65bc3a2741">NUTDEVICE</a> <a class="el" href="group__xg_ahdlc_avr.html#gada2d8862571cf916513439d0619bd69d">devAhdlc1</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
    0,                          
    {<span class="charliteral">&#39;u&#39;</span>, <span class="charliteral">&#39;a&#39;</span>, <span class="charliteral">&#39;r&#39;</span>, <span class="charliteral">&#39;t&#39;</span>, <span class="charliteral">&#39;1&#39;</span>, 0, 0, 0, 0},      
    <a class="code" href="group__xg_device.html#ga161b2f2b0cbc3449e4cd03702e704481" title="Character stream device.">IFTYP_CHAR</a>,                 
    1,                          
    0,                          
    0,                          
    &amp;dcb_ahdlc,                 
    <a class="code" href="group__xg_ahdlc_avr.html#gab82851594ae03aa1f852037435288420" title="Initialize asynchronous HDLC device.">AhdlcAvrInit</a>,               
    <a class="code" href="group__xg_ahdlc_avr.html#gae1493fe9d0ae191af622b1f3d42441ef" title="Perform on-chip UART control functions.">AhdlcAvrIOCtl</a>,              
    <a class="code" href="group__xg_ahdlc_avr.html#gae1a62da30e9d1821a97a42c757be8358" title="Read from the asynchronous HDLC device.">AhdlcAvrRead</a>,               
    <a class="code" href="group__xg_ahdlc_avr.html#ga6658a32c5b87c6341b4ccd91f2e2b853" title="Write to the asynchronous HDLC device.">AhdlcAvrWrite</a>,              
    <a class="code" href="group__xg_ahdlc_avr.html#ga33edc97cae8b172b0e3ccb2e2ede4864" title="Write to the asynchronous HDLC device.">AhdlcAvrWrite_P</a>,            
    <a class="code" href="group__xg_ahdlc_avr.html#ga14922325c9ea0499e4215cfb5ee89cea" title="Open the asynchronous HDLC device.">AhdlcAvrOpen</a>,               
    <a class="code" href="group__xg_ahdlc_avr.html#ga6d1fc092de41db6067e61771c1f21943" title="Close the asynchronous HDLC device.">AhdlcAvrClose</a>,              
    0                           
}
</pre></div>
<p>Device information structure. </p>
<p>A pointer to this structure must be passed to <a class="el" href="group__xg_device.html#ga0d73e3153bf9f210194bd862d9b91c61" title="Register and initialize a device.">NutRegisterDevice()</a> to bind this device driver to the Nut/OS kernel. </p>

<p>Definition at line <a class="el" href="ahdlc1_8c_source.html#l00062">62</a> of file <a class="el" href="ahdlc1_8c_source.html">ahdlc1.c</a>.</p>

</div>
</div>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr>
<address>
  <small>
    &copy;&nbsp;2000-2010 by contributors - 
    visit <a href="http://www.ethernut.de/">http://www.ethernut.de/</a>
  </small>
</address>
</body>
</html>
