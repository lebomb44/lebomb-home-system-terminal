GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cceVfqpt.s 			page 1


   1               		.file	"cgi.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__  = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.text
   9               	.global	NutCgiProcessRequest
  10               		.type	NutCgiProcessRequest, @function
  11               	NutCgiProcessRequest:
  12 0000 CF92      		push r12
  13 0002 DF92      		push r13
  14 0004 EF92      		push r14
  15 0006 FF92      		push r15
  16 0008 0F93      		push r16
  17 000a 1F93      		push r17
  18 000c CF93      		push r28
  19 000e DF93      		push r29
  20               	/* prologue: function */
  21               	/* frame size = 0 */
  22 0010 7C01      		movw r14,r24
  23 0012 8B01      		movw r16,r22
  24 0014 6A01      		movw r12,r20
  25 0016 FB01      		movw r30,r22
  26 0018 8081      		ld r24,Z
  27 001a 9181      		ldd r25,Z+1
  28 001c 0197      		sbiw r24,1
  29 001e 0297      		sbiw r24,2
  30 0020 00F0      		brlo .L2
  31 0022 C701      		movw r24,r14
  32 0024 45EF      		ldi r20,lo8(501)
  33 0026 51E0      		ldi r21,hi8(501)
  34 0028 00C0      		rjmp .L10
  35               	.L2:
  36 002a C091 0000 		lds r28,cgiFunctionList
  37 002e D091 0000 		lds r29,(cgiFunctionList)+1
  38 0032 00C0      		rjmp .L4
  39               	.L6:
  40 0034 F801      		movw r30,r16
  41 0036 6085      		ldd r22,Z+8
  42 0038 7185      		ldd r23,Z+9
  43 003a 6C0D      		add r22,r12
  44 003c 7D1D      		adc r23,r13
  45 003e 8A81      		ldd r24,Y+2
  46 0040 9B81      		ldd r25,Y+3
  47 0042 0E94 0000 		call strcasecmp
  48 0046 892B      		or r24,r25
  49 0048 01F0      		breq .L5
  50 004a 0990      		ld __tmp_reg__,Y+
  51 004c D881      		ld r29,Y
  52 004e C02D      		mov r28,__tmp_reg__
  53               	.L4:
  54 0050 2097      		sbiw r28,0
  55 0052 01F4      		brne .L6
  56 0054 00C0      		rjmp .L11
  57               	.L5:
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cceVfqpt.s 			page 2


  58 0056 EC81      		ldd r30,Y+4
  59 0058 FD81      		ldd r31,Y+5
  60 005a C701      		movw r24,r14
  61 005c B801      		movw r22,r16
  62 005e 0995      		icall
  63 0060 892B      		or r24,r25
  64 0062 01F0      		breq .L8
  65 0064 C701      		movw r24,r14
  66 0066 B801      		movw r22,r16
  67 0068 44EF      		ldi r20,lo8(500)
  68 006a 51E0      		ldi r21,hi8(500)
  69 006c 00C0      		rjmp .L10
  70               	.L11:
  71 006e C701      		movw r24,r14
  72 0070 B801      		movw r22,r16
  73 0072 44E9      		ldi r20,lo8(404)
  74 0074 51E0      		ldi r21,hi8(404)
  75               	.L10:
  76 0076 0E94 0000 		call NutHttpSendError
  77               	.L8:
  78               	/* epilogue start */
  79 007a DF91      		pop r29
  80 007c CF91      		pop r28
  81 007e 1F91      		pop r17
  82 0080 0F91      		pop r16
  83 0082 FF90      		pop r15
  84 0084 EF90      		pop r14
  85 0086 DF90      		pop r13
  86 0088 CF90      		pop r12
  87 008a 0895      		ret
  88               		.size	NutCgiProcessRequest, .-NutCgiProcessRequest
  89               	.global	NutRegisterCgi
  90               		.type	NutRegisterCgi, @function
  91               	NutRegisterCgi:
  92 008c EF92      		push r14
  93 008e FF92      		push r15
  94 0090 0F93      		push r16
  95 0092 1F93      		push r17
  96 0094 CF93      		push r28
  97 0096 DF93      		push r29
  98               	/* prologue: function */
  99               	/* frame size = 0 */
 100 0098 8C01      		movw r16,r24
 101 009a 7B01      		movw r14,r22
 102 009c C091 0000 		lds r28,cgiFunctionList
 103 00a0 D091 0000 		lds r29,(cgiFunctionList)+1
 104 00a4 00C0      		rjmp .L13
 105               	.L15:
 106 00a6 6A81      		ldd r22,Y+2
 107 00a8 7B81      		ldd r23,Y+3
 108 00aa C801      		movw r24,r16
 109 00ac 0E94 0000 		call strcmp
 110 00b0 0097      		sbiw r24,0
 111 00b2 01F0      		breq .L14
 112 00b4 0990      		ld __tmp_reg__,Y+
 113 00b6 D881      		ld r29,Y
 114 00b8 C02D      		mov r28,__tmp_reg__
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cceVfqpt.s 			page 3


 115               	.L13:
 116 00ba 2097      		sbiw r28,0
 117 00bc 01F4      		brne .L15
 118 00be 00C0      		rjmp .L22
 119               	.L21:
 120 00c0 8091 0000 		lds r24,cgiFunctionList
 121 00c4 9091 0000 		lds r25,(cgiFunctionList)+1
 122 00c8 9983      		std Y+1,r25
 123 00ca 8883      		st Y,r24
 124 00cc C801      		movw r24,r16
 125 00ce 0E94 0000 		call strdup
 126 00d2 8A83      		std Y+2,r24
 127 00d4 9B83      		std Y+3,r25
 128 00d6 FD82      		std Y+5,r15
 129 00d8 EC82      		std Y+4,r14
 130 00da D093 0000 		sts (cgiFunctionList)+1,r29
 131 00de C093 0000 		sts cgiFunctionList,r28
 132 00e2 20E0      		ldi r18,lo8(0)
 133 00e4 30E0      		ldi r19,hi8(0)
 134 00e6 00C0      		rjmp .L17
 135               	.L14:
 136 00e8 2FEF      		ldi r18,lo8(-1)
 137 00ea 3FEF      		ldi r19,hi8(-1)
 138               	.L17:
 139 00ec C901      		movw r24,r18
 140               	/* epilogue start */
 141 00ee DF91      		pop r29
 142 00f0 CF91      		pop r28
 143 00f2 1F91      		pop r17
 144 00f4 0F91      		pop r16
 145 00f6 FF90      		pop r15
 146 00f8 EF90      		pop r14
 147 00fa 0895      		ret
 148               	.L22:
 149 00fc 86E0      		ldi r24,lo8(6)
 150 00fe 90E0      		ldi r25,hi8(6)
 151 0100 0E94 0000 		call malloc
 152 0104 EC01      		movw r28,r24
 153 0106 0097      		sbiw r24,0
 154 0108 01F4      		brne .L21
 155 010a 00C0      		rjmp .L14
 156               		.size	NutRegisterCgi, .-NutRegisterCgi
 157               		.data
 158               	.LC0:
 159 0000 6367 692D 		.string	"cgi-bin/"
 159      6269 6E2F 
 159      00
 160               		.text
 161               	.global	NutCgiCheckRequest
 162               		.type	NutCgiCheckRequest, @function
 163               	NutCgiCheckRequest:
 164 010c CF92      		push r12
 165 010e DF92      		push r13
 166 0110 EF92      		push r14
 167 0112 FF92      		push r15
 168 0114 0F93      		push r16
 169 0116 1F93      		push r17
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cceVfqpt.s 			page 4


 170 0118 CF93      		push r28
 171 011a DF93      		push r29
 172               	/* prologue: function */
 173               	/* frame size = 0 */
 174 011c 6C01      		movw r12,r24
 175 011e 7B01      		movw r14,r22
 176 0120 6091 0000 		lds r22,cgiBinPath
 177 0124 7091 0000 		lds r23,(cgiBinPath)+1
 178 0128 6115      		cp r22,__zero_reg__
 179 012a 7105      		cpc r23,__zero_reg__
 180 012c 01F4      		brne .L24
 181 012e C0E0      		ldi r28,lo8(.LC0)
 182 0130 D0E0      		ldi r29,hi8(.LC0)
 183 0132 00C0      		rjmp .L37
 184               	.L24:
 185 0134 EB01      		movw r28,r22
 186 0136 00C0      		rjmp .L37
 187               	.L26:
 188 0138 2196      		adiw r28,1
 189               	.L36:
 190 013a 8881      		ld r24,Y
 191 013c 8B33      		cpi r24,lo8(59)
 192 013e 01F0      		breq .L26
 193 0140 FE01      		movw r30,r28
 194 0142 00E0      		ldi r16,lo8(0)
 195 0144 10E0      		ldi r17,hi8(0)
 196 0146 00C0      		rjmp .L27
 197               	.L29:
 198 0148 0F5F      		subi r16,lo8(-(1))
 199 014a 1F4F      		sbci r17,hi8(-(1))
 200 014c 3196      		adiw r30,1
 201               	.L27:
 202 014e 8081      		ld r24,Z
 203 0150 8823      		tst r24
 204 0152 01F0      		breq .L28
 205 0154 8B33      		cpi r24,lo8(59)
 206 0156 01F4      		brne .L29
 207               	.L28:
 208 0158 0115      		cp r16,__zero_reg__
 209 015a 1105      		cpc r17,__zero_reg__
 210 015c 01F0      		breq .L37
 211 015e F701      		movw r30,r14
 212 0160 8085      		ldd r24,Z+8
 213 0162 9185      		ldd r25,Z+9
 214 0164 BE01      		movw r22,r28
 215 0166 A801      		movw r20,r16
 216 0168 0E94 0000 		call strncasecmp
 217 016c 892B      		or r24,r25
 218 016e 01F4      		brne .L30
 219 0170 C601      		movw r24,r12
 220 0172 B701      		movw r22,r14
 221 0174 A801      		movw r20,r16
 222 0176 0E94 0000 		call NutCgiProcessRequest
 223 017a 21E0      		ldi r18,lo8(1)
 224 017c 30E0      		ldi r19,hi8(1)
 225 017e 00C0      		rjmp .L31
 226               	.L30:
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cceVfqpt.s 			page 5


 227 0180 C00F      		add r28,r16
 228 0182 D11F      		adc r29,r17
 229               	.L37:
 230 0184 8881      		ld r24,Y
 231 0186 8823      		tst r24
 232 0188 01F4      		brne .L36
 233 018a 20E0      		ldi r18,lo8(0)
 234 018c 30E0      		ldi r19,hi8(0)
 235               	.L31:
 236 018e C901      		movw r24,r18
 237               	/* epilogue start */
 238 0190 DF91      		pop r29
 239 0192 CF91      		pop r28
 240 0194 1F91      		pop r17
 241 0196 0F91      		pop r16
 242 0198 FF90      		pop r15
 243 019a EF90      		pop r14
 244 019c DF90      		pop r13
 245 019e CF90      		pop r12
 246 01a0 0895      		ret
 247               		.size	NutCgiCheckRequest, .-NutCgiCheckRequest
 248               	.global	NutRegisterCgiBinPath
 249               		.type	NutRegisterCgiBinPath, @function
 250               	NutRegisterCgiBinPath:
 251 01a2 CF93      		push r28
 252 01a4 DF93      		push r29
 253               	/* prologue: function */
 254               	/* frame size = 0 */
 255 01a6 EC01      		movw r28,r24
 256 01a8 8091 0000 		lds r24,cgiBinPath
 257 01ac 9091 0000 		lds r25,(cgiBinPath)+1
 258 01b0 0097      		sbiw r24,0
 259 01b2 01F0      		breq .L39
 260 01b4 0E94 0000 		call free
 261               	.L39:
 262 01b8 CE01      		movw r24,r28
 263 01ba 0E94 0000 		call strdup
 264 01be 8093 0000 		sts cgiBinPath,r24
 265 01c2 9093 0000 		sts cgiBinPath+1,r25
 266               	/* epilogue start */
 267 01c6 DF91      		pop r29
 268 01c8 CF91      		pop r28
 269 01ca 0895      		ret
 270               		.size	NutRegisterCgiBinPath, .-NutRegisterCgiBinPath
 271               	.global	cgiFunctionList
 272               	.global	cgiFunctionList
 273               		.section .bss
 274               		.type	cgiFunctionList, @object
 275               		.size	cgiFunctionList, 2
 276               	cgiFunctionList:
 277 0000 0000      		.skip 2,0
 278               	.global	cgiBinPath
 279               	.global	cgiBinPath
 280               		.type	cgiBinPath, @object
 281               		.size	cgiBinPath, 2
 282               	cgiBinPath:
 283 0002 0000      		.skip 2,0
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cceVfqpt.s 			page 6


 284               	.global __do_copy_data
 285               	.global __do_clear_bss
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cceVfqpt.s 			page 7


DEFINED SYMBOLS
                            *ABS*:00000000 cgi.c
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cceVfqpt.s:2      *ABS*:0000003f __SREG__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cceVfqpt.s:3      *ABS*:0000003e __SP_H__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cceVfqpt.s:4      *ABS*:0000003d __SP_L__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cceVfqpt.s:5      *ABS*:00000034 __CCP__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cceVfqpt.s:6      *ABS*:00000000 __tmp_reg__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cceVfqpt.s:7      *ABS*:00000001 __zero_reg__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cceVfqpt.s:11     .text:00000000 NutCgiProcessRequest
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cceVfqpt.s:276    .bss:00000000 cgiFunctionList
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cceVfqpt.s:91     .text:0000008c NutRegisterCgi
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cceVfqpt.s:163    .text:0000010c NutCgiCheckRequest
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cceVfqpt.s:282    .bss:00000002 cgiBinPath
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cceVfqpt.s:250    .text:000001a2 NutRegisterCgiBinPath

UNDEFINED SYMBOLS
strcasecmp
NutHttpSendError
strcmp
strdup
malloc
strncasecmp
free
__do_copy_data
__do_clear_bss
