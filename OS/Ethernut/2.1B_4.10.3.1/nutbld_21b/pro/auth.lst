GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cciRAlAq.s 			page 1


   1               		.file	"auth.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__  = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.text
   9               		.type	NutHttpAuthLookup, @function
  10               	NutHttpAuthLookup:
  11 0000 EF92      		push r14
  12 0002 FF92      		push r15
  13 0004 0F93      		push r16
  14 0006 1F93      		push r17
  15 0008 CF93      		push r28
  16 000a DF93      		push r29
  17               	/* prologue: function */
  18               	/* frame size = 0 */
  19 000c 8C01      		movw r16,r24
  20 000e 7B01      		movw r14,r22
  21 0010 C091 0000 		lds r28,authList
  22 0014 D091 0000 		lds r29,(authList)+1
  23 0018 00C0      		rjmp .L2
  24               	.L6:
  25 001a 0115      		cp r16,__zero_reg__
  26 001c 1105      		cpc r17,__zero_reg__
  27 001e 01F0      		breq .L3
  28 0020 6A81      		ldd r22,Y+2
  29 0022 7B81      		ldd r23,Y+3
  30 0024 C801      		movw r24,r16
  31 0026 0E94 0000 		call strstr
  32 002a 8017      		cp r24,r16
  33 002c 9107      		cpc r25,r17
  34 002e 01F4      		brne .L4
  35               	.L3:
  36 0030 E114      		cp r14,__zero_reg__
  37 0032 F104      		cpc r15,__zero_reg__
  38 0034 01F0      		breq .L5
  39 0036 6C81      		ldd r22,Y+4
  40 0038 7D81      		ldd r23,Y+5
  41 003a C701      		movw r24,r14
  42 003c 0E94 0000 		call strcmp
  43 0040 0097      		sbiw r24,0
  44 0042 01F0      		breq .L5
  45               	.L4:
  46 0044 0990      		ld __tmp_reg__,Y+
  47 0046 D881      		ld r29,Y
  48 0048 C02D      		mov r28,__tmp_reg__
  49               	.L2:
  50 004a 2097      		sbiw r28,0
  51 004c 01F4      		brne .L6
  52               	.L5:
  53 004e CE01      		movw r24,r28
  54               	/* epilogue start */
  55 0050 DF91      		pop r29
  56 0052 CF91      		pop r28
  57 0054 1F91      		pop r17
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cciRAlAq.s 			page 2


  58 0056 0F91      		pop r16
  59 0058 FF90      		pop r15
  60 005a EF90      		pop r14
  61 005c 0895      		ret
  62               		.size	NutHttpAuthLookup, .-NutHttpAuthLookup
  63               		.data
  64               	.LC0:
  65 0000 2E00      		.string	"."
  66               	.LC1:
  67 0002 4261 7369 		.string	"Basic "
  67      6320 00
  68               		.text
  69               	.global	NutHttpAuthValidate
  70               		.type	NutHttpAuthValidate, @function
  71               	NutHttpAuthValidate:
  72 005e CF92      		push r12
  73 0060 DF92      		push r13
  74 0062 EF92      		push r14
  75 0064 FF92      		push r15
  76 0066 0F93      		push r16
  77 0068 1F93      		push r17
  78 006a CF93      		push r28
  79 006c DF93      		push r29
  80               	/* prologue: function */
  81               	/* frame size = 0 */
  82 006e 6C01      		movw r12,r24
  83 0070 FC01      		movw r30,r24
  84 0072 E084      		ldd r14,Z+8
  85 0074 F184      		ldd r15,Z+9
  86 0076 C701      		movw r24,r14
  87 0078 6FE2      		ldi r22,lo8(47)
  88 007a 70E0      		ldi r23,hi8(47)
  89 007c 0E94 0000 		call strrchr
  90 0080 EC01      		movw r28,r24
  91 0082 0097      		sbiw r24,0
  92 0084 01F4      		brne .L9
  93 0086 80E0      		ldi r24,lo8(.LC0)
  94 0088 E82E      		mov r14,r24
  95 008a 80E0      		ldi r24,hi8(.LC0)
  96 008c F82E      		mov r15,r24
  97 008e 00C0      		rjmp .L10
  98               	.L9:
  99 0090 1882      		st Y,__zero_reg__
 100               	.L10:
 101 0092 C701      		movw r24,r14
 102 0094 60E0      		ldi r22,lo8(0)
 103 0096 70E0      		ldi r23,hi8(0)
 104 0098 0E94 0000 		call NutHttpAuthLookup
 105 009c 892B      		or r24,r25
 106 009e 01F0      		breq .L11
 107 00a0 F601      		movw r30,r12
 108 00a2 0089      		ldd r16,Z+16
 109 00a4 1189      		ldd r17,Z+17
 110 00a6 0115      		cp r16,__zero_reg__
 111 00a8 1105      		cpc r17,__zero_reg__
 112 00aa 01F0      		breq .L12
 113 00ac C801      		movw r24,r16
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cciRAlAq.s 			page 3


 114 00ae 60E0      		ldi r22,lo8(.LC1)
 115 00b0 70E0      		ldi r23,hi8(.LC1)
 116 00b2 46E0      		ldi r20,lo8(6)
 117 00b4 50E0      		ldi r21,hi8(6)
 118 00b6 0E94 0000 		call strncmp
 119 00ba 0097      		sbiw r24,0
 120 00bc 01F4      		brne .L12
 121 00be C801      		movw r24,r16
 122 00c0 0696      		adiw r24,6
 123 00c2 0E94 0000 		call NutDecodeBase64
 124 00c6 F601      		movw r30,r12
 125 00c8 6089      		ldd r22,Z+16
 126 00ca 7189      		ldd r23,Z+17
 127 00cc 6A5F      		subi r22,lo8(-(6))
 128 00ce 7F4F      		sbci r23,hi8(-(6))
 129 00d0 C701      		movw r24,r14
 130 00d2 0E94 0000 		call NutHttpAuthLookup
 131 00d6 892B      		or r24,r25
 132 00d8 01F4      		brne .L11
 133               	.L12:
 134 00da 2FEF      		ldi r18,lo8(-1)
 135 00dc 3FEF      		ldi r19,hi8(-1)
 136 00de 00C0      		rjmp .L13
 137               	.L11:
 138 00e0 20E0      		ldi r18,lo8(0)
 139 00e2 30E0      		ldi r19,hi8(0)
 140               	.L13:
 141 00e4 2097      		sbiw r28,0
 142 00e6 01F0      		breq .L14
 143 00e8 8FE2      		ldi r24,lo8(47)
 144 00ea 8883      		st Y,r24
 145               	.L14:
 146 00ec C901      		movw r24,r18
 147               	/* epilogue start */
 148 00ee DF91      		pop r29
 149 00f0 CF91      		pop r28
 150 00f2 1F91      		pop r17
 151 00f4 0F91      		pop r16
 152 00f6 FF90      		pop r15
 153 00f8 EF90      		pop r14
 154 00fa DF90      		pop r13
 155 00fc CF90      		pop r12
 156 00fe 0895      		ret
 157               		.size	NutHttpAuthValidate, .-NutHttpAuthValidate
 158               	.global	NutClearAuth
 159               		.type	NutClearAuth, @function
 160               	NutClearAuth:
 161 0100 CF93      		push r28
 162 0102 DF93      		push r29
 163               	/* prologue: function */
 164               	/* frame size = 0 */
 165 0104 00C0      		rjmp .L17
 166               	.L18:
 167 0106 8881      		ld r24,Y
 168 0108 9981      		ldd r25,Y+1
 169 010a 9093 0000 		sts (authList)+1,r25
 170 010e 8093 0000 		sts authList,r24
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cciRAlAq.s 			page 4


 171 0112 8A81      		ldd r24,Y+2
 172 0114 9B81      		ldd r25,Y+3
 173 0116 0E94 0000 		call free
 174 011a 8C81      		ldd r24,Y+4
 175 011c 9D81      		ldd r25,Y+5
 176 011e 0E94 0000 		call free
 177 0122 CE01      		movw r24,r28
 178 0124 0E94 0000 		call free
 179               	.L17:
 180 0128 C091 0000 		lds r28,authList
 181 012c D091 0000 		lds r29,(authList)+1
 182 0130 2097      		sbiw r28,0
 183 0132 01F4      		brne .L18
 184               	/* epilogue start */
 185 0134 DF91      		pop r29
 186 0136 CF91      		pop r28
 187 0138 0895      		ret
 188               		.size	NutClearAuth, .-NutClearAuth
 189               	.global	NutRegisterAuth
 190               		.type	NutRegisterAuth, @function
 191               	NutRegisterAuth:
 192 013a EF92      		push r14
 193 013c FF92      		push r15
 194 013e 0F93      		push r16
 195 0140 1F93      		push r17
 196 0142 CF93      		push r28
 197 0144 DF93      		push r29
 198               	/* prologue: function */
 199               	/* frame size = 0 */
 200 0146 8C01      		movw r16,r24
 201 0148 7B01      		movw r14,r22
 202 014a 86E0      		ldi r24,lo8(6)
 203 014c 90E0      		ldi r25,hi8(6)
 204 014e 0E94 0000 		call malloc
 205 0152 EC01      		movw r28,r24
 206 0154 0097      		sbiw r24,0
 207 0156 01F0      		breq .L26
 208               	.L21:
 209 0158 8091 0000 		lds r24,authList
 210 015c 9091 0000 		lds r25,(authList)+1
 211 0160 9983      		std Y+1,r25
 212 0162 8883      		st Y,r24
 213 0164 C801      		movw r24,r16
 214 0166 0E94 0000 		call strdup
 215 016a 9B83      		std Y+3,r25
 216 016c 8A83      		std Y+2,r24
 217 016e 0097      		sbiw r24,0
 218 0170 01F0      		breq .L23
 219 0172 C701      		movw r24,r14
 220 0174 0E94 0000 		call strdup
 221 0178 9D83      		std Y+5,r25
 222 017a 8C83      		std Y+4,r24
 223 017c 0097      		sbiw r24,0
 224 017e 01F0      		breq .L24
 225 0180 D093 0000 		sts (authList)+1,r29
 226 0184 C093 0000 		sts authList,r28
 227 0188 20E0      		ldi r18,lo8(0)
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cciRAlAq.s 			page 5


 228 018a 30E0      		ldi r19,hi8(0)
 229 018c 00C0      		rjmp .L22
 230               	.L24:
 231 018e 8A81      		ldd r24,Y+2
 232 0190 9B81      		ldd r25,Y+3
 233 0192 0E94 0000 		call free
 234               	.L23:
 235 0196 CE01      		movw r24,r28
 236 0198 0E94 0000 		call free
 237               	.L26:
 238 019c 2FEF      		ldi r18,lo8(-1)
 239 019e 3FEF      		ldi r19,hi8(-1)
 240               	.L22:
 241 01a0 C901      		movw r24,r18
 242               	/* epilogue start */
 243 01a2 DF91      		pop r29
 244 01a4 CF91      		pop r28
 245 01a6 1F91      		pop r17
 246 01a8 0F91      		pop r16
 247 01aa FF90      		pop r15
 248 01ac EF90      		pop r14
 249 01ae 0895      		ret
 250               		.size	NutRegisterAuth, .-NutRegisterAuth
 251               	.global	authList
 252               	.global	authList
 253               		.section .bss
 254               		.type	authList, @object
 255               		.size	authList, 2
 256               	authList:
 257 0000 0000      		.skip 2,0
 258               	.global __do_copy_data
 259               	.global __do_clear_bss
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cciRAlAq.s 			page 6


DEFINED SYMBOLS
                            *ABS*:00000000 auth.c
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cciRAlAq.s:2      *ABS*:0000003f __SREG__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cciRAlAq.s:3      *ABS*:0000003e __SP_H__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cciRAlAq.s:4      *ABS*:0000003d __SP_L__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cciRAlAq.s:5      *ABS*:00000034 __CCP__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cciRAlAq.s:6      *ABS*:00000000 __tmp_reg__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cciRAlAq.s:7      *ABS*:00000001 __zero_reg__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cciRAlAq.s:10     .text:00000000 NutHttpAuthLookup
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cciRAlAq.s:256    .bss:00000000 authList
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cciRAlAq.s:71     .text:0000005e NutHttpAuthValidate
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cciRAlAq.s:160    .text:00000100 NutClearAuth
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cciRAlAq.s:191    .text:0000013a NutRegisterAuth

UNDEFINED SYMBOLS
strstr
strcmp
strrchr
strncmp
NutDecodeBase64
free
malloc
strdup
__do_copy_data
__do_clear_bss
