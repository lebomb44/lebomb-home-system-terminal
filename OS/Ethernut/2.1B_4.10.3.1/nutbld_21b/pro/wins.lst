GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccPXbTSV.s 			page 1


   1               		.file	"wins.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__  = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.text
   9               	.global	NutWinsNameQuery
  10               		.type	NutWinsNameQuery, @function
  11               	NutWinsNameQuery:
  12 0000 2F92      		push r2
  13 0002 3F92      		push r3
  14 0004 4F92      		push r4
  15 0006 5F92      		push r5
  16 0008 6F92      		push r6
  17 000a 7F92      		push r7
  18 000c 8F92      		push r8
  19 000e 9F92      		push r9
  20 0010 AF92      		push r10
  21 0012 BF92      		push r11
  22 0014 CF92      		push r12
  23 0016 DF92      		push r13
  24 0018 EF92      		push r14
  25 001a FF92      		push r15
  26 001c 0F93      		push r16
  27 001e 1F93      		push r17
  28 0020 DF93      		push r29
  29 0022 CF93      		push r28
  30 0024 CDB7      		in r28,__SP_L__
  31 0026 DEB7      		in r29,__SP_H__
  32 0028 2C97      		sbiw r28,12
  33 002a 0FB6      		in __tmp_reg__,__SREG__
  34 002c F894      		cli
  35 002e DEBF      		out __SP_H__,r29
  36 0030 0FBE      		out __SREG__,__tmp_reg__
  37 0032 CDBF      		out __SP_L__,r28
  38               	/* prologue: function */
  39               	/* frame size = 12 */
  40 0034 6C01      		movw r12,r24
  41 0036 4987      		std Y+9,r20
  42 0038 5A87      		std Y+10,r21
  43 003a 6B87      		std Y+11,r22
  44 003c 7C87      		std Y+12,r23
  45 003e FC01      		movw r30,r24
  46 0040 0190      		ld __tmp_reg__,Z+
  47 0042 0020      		tst __tmp_reg__
  48 0044 01F4      		brne .-6
  49 0046 3197      		sbiw r30,1
  50 0048 E81B      		sub r30,r24
  51 004a F90B      		sbc r31,r25
  52 004c 7097      		sbiw r30,16
  53 004e 00F0      		brlo .+2
  54 0050 00C0      		rjmp .L2
  55 0052 81E0      		ldi r24,lo8(1)
  56 0054 90E0      		ldi r25,hi8(1)
  57 0056 6EE3      		ldi r22,lo8(62)
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccPXbTSV.s 			page 2


  58 0058 70E0      		ldi r23,hi8(62)
  59 005a 0E94 0000 		call calloc
  60 005e 5C01      		movw r10,r24
  61 0060 0097      		sbiw r24,0
  62 0062 01F4      		brne .+2
  63 0064 00C0      		rjmp .L2
  64 0066 81E2      		ldi r24,lo8(33)
  65 0068 90E0      		ldi r25,hi8(33)
  66 006a 61E0      		ldi r22,lo8(1)
  67 006c 70E0      		ldi r23,hi8(1)
  68 006e 0E94 0000 		call calloc
  69 0072 182F      		mov r17,r24
  70 0074 092F      		mov r16,r25
  71 0076 882E      		mov r8,r24
  72 0078 992E      		mov r9,r25
  73 007a 8114      		cp r8,__zero_reg__
  74 007c 9104      		cpc r9,__zero_reg__
  75 007e 01F4      		brne .+2
  76 0080 00C0      		rjmp .L3
  77 0082 89E8      		ldi r24,lo8(137)
  78 0084 90E0      		ldi r25,hi8(137)
  79 0086 0E94 0000 		call NutUdpCreateSocket
  80 008a 3C01      		movw r6,r24
  81 008c 0097      		sbiw r24,0
  82 008e 01F4      		brne .L17
  83 0090 00C0      		rjmp .L3
  84               	.L11:
  85 0092 C401      		movw r24,r8
  86 0094 0E94 0000 		call free
  87 0098 00C0      		rjmp .L2
  88               	.L17:
  89 009a 812F      		mov r24,r17
  90 009c 902F      		mov r25,r16
  91 009e 9C01      		movw r18,r24
  92 00a0 7901      		movw r14,r18
  93 00a2 00E0      		ldi r16,lo8(0)
  94 00a4 10E0      		ldi r17,hi8(0)
  95               	.L9:
  96 00a6 F601      		movw r30,r12
  97 00a8 0190      		ld __tmp_reg__,Z+
  98 00aa 0020      		tst __tmp_reg__
  99 00ac 01F4      		brne .-6
 100 00ae 3197      		sbiw r30,1
 101 00b0 EC19      		sub r30,r12
 102 00b2 FD09      		sbc r31,r13
 103 00b4 0E17      		cp r16,r30
 104 00b6 1F07      		cpc r17,r31
 105 00b8 00F0      		brlo .L5
 106 00ba 80E2      		ldi r24,lo8(32)
 107 00bc 90E0      		ldi r25,hi8(32)
 108 00be 00C0      		rjmp .L6
 109               	.L5:
 110 00c0 F601      		movw r30,r12
 111 00c2 E00F      		add r30,r16
 112 00c4 F11F      		adc r31,r17
 113 00c6 8081      		ld r24,Z
 114 00c8 9927      		clr r25
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccPXbTSV.s 			page 3


 115 00ca 87FD      		sbrc r24,7
 116 00cc 9095      		com r25
 117               	.L6:
 118 00ce 0E94 0000 		call toupper
 119 00d2 0F30      		cpi r16,15
 120 00d4 1105      		cpc r17,__zero_reg__
 121 00d6 01F4      		brne .L7
 122 00d8 90E0      		ldi r25,lo8(0)
 123 00da 00C0      		rjmp .L8
 124               	.L7:
 125 00dc 982F      		mov r25,r24
 126               	.L8:
 127 00de 892F      		mov r24,r25
 128 00e0 8295      		swap r24
 129 00e2 8F70      		andi r24,lo8(15)
 130 00e4 8F5B      		subi r24,lo8(-(65))
 131 00e6 D701      		movw r26,r14
 132 00e8 8C93      		st X,r24
 133 00ea 9F70      		andi r25,lo8(15)
 134 00ec 9F5B      		subi r25,lo8(-(65))
 135 00ee 1196      		adiw r26,1
 136 00f0 9C93      		st X,r25
 137 00f2 0F5F      		subi r16,lo8(-(1))
 138 00f4 1F4F      		sbci r17,hi8(-(1))
 139 00f6 E2E0      		ldi r30,lo8(2)
 140 00f8 F0E0      		ldi r31,hi8(2)
 141 00fa EE0E      		add r14,r30
 142 00fc FF1E      		adc r15,r31
 143 00fe 0031      		cpi r16,16
 144 0100 1105      		cpc r17,__zero_reg__
 145 0102 01F4      		brne .L9
 146 0104 D401      		movw r26,r8
 147 0106 9096      		adiw r26,32
 148 0108 1C92      		st X,__zero_reg__
 149 010a F501      		movw r30,r10
 150 010c 3D96      		adiw r30,13
 151 010e F887      		std Y+8,r31
 152 0110 EF83      		std Y+7,r30
 153 0112 FCE3      		ldi r31,lo8(60)
 154 0114 2F2E      		mov r2,r31
 155 0116 312C      		mov r3,__zero_reg__
 156 0118 412C      		mov r4,__zero_reg__
 157 011a 512C      		mov r5,__zero_reg__
 158               	.L16:
 159 011c C301      		movw r24,r6
 160 011e BE01      		movw r22,r28
 161 0120 6D5F      		subi r22,lo8(-(3))
 162 0122 7F4F      		sbci r23,hi8(-(3))
 163 0124 AE01      		movw r20,r28
 164 0126 4F5F      		subi r20,lo8(-(1))
 165 0128 5F4F      		sbci r21,hi8(-(1))
 166 012a 9501      		movw r18,r10
 167 012c 0EE3      		ldi r16,lo8(62)
 168 012e 10E0      		ldi r17,hi8(62)
 169 0130 CC24      		clr r12
 170 0132 DD24      		clr r13
 171 0134 7601      		movw r14,r12
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccPXbTSV.s 			page 4


 172 0136 0E94 0000 		call NutUdpReceiveFrom
 173 013a D501      		movw r26,r10
 174 013c 1296      		adiw r26,2
 175 013e 8D91      		ld r24,X+
 176 0140 9C91      		ld r25,X
 177 0142 1397      		sbiw r26,2+1
 178               	/* #APP */
 179               	 ;  305 "../../nut/include/sys/types.h" 1
 180 0144 082E      		mov __tmp_reg__, r24
 181 0146 892F      		mov r24, r25
 182 0148 902D      		mov r25, __tmp_reg__
 183               		
 184               	 ;  0 "" 2
 185               	/* #NOAPP */
 186 014a 8070      		andi r24,lo8(-2048)
 187 014c 987F      		andi r25,hi8(-2048)
 188 014e 892B      		or r24,r25
 189 0150 01F4      		brne .L16
 190 0152 F501      		movw r30,r10
 191 0154 8481      		ldd r24,Z+4
 192 0156 9581      		ldd r25,Z+5
 193               	/* #APP */
 194               	 ;  305 "../../nut/include/sys/types.h" 1
 195 0158 082E      		mov __tmp_reg__, r24
 196 015a 892F      		mov r24, r25
 197 015c 902D      		mov r25, __tmp_reg__
 198               		
 199               	 ;  0 "" 2
 200               	/* #NOAPP */
 201 015e 0197      		sbiw r24,1
 202 0160 01F4      		brne .L16
 203 0162 1C96      		adiw r26,12
 204 0164 8C91      		ld r24,X
 205 0166 1C97      		sbiw r26,12
 206 0168 8032      		cpi r24,lo8(32)
 207 016a 01F4      		brne .L16
 208 016c 9E96      		adiw r26,46
 209 016e 8D91      		ld r24,X+
 210 0170 9C91      		ld r25,X
 211 0172 9F97      		sbiw r26,46+1
 212               	/* #APP */
 213               	 ;  305 "../../nut/include/sys/types.h" 1
 214 0174 082E      		mov __tmp_reg__, r24
 215 0176 892F      		mov r24, r25
 216 0178 902D      		mov r25, __tmp_reg__
 217               		
 218               	 ;  0 "" 2
 219               	/* #NOAPP */
 220 017a 8097      		sbiw r24,32
 221 017c 01F0      		breq .+2
 222 017e 00C0      		rjmp .L16
 223 0180 00A9      		ldd r16,Z+48
 224 0182 11A9      		ldd r17,Z+49
 225               	/* #APP */
 226               	 ;  305 "../../nut/include/sys/types.h" 1
 227 0184 002E      		mov __tmp_reg__, r16
 228 0186 012F      		mov r16, r17
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccPXbTSV.s 			page 5


 229 0188 102D      		mov r17, __tmp_reg__
 230               		
 231               	 ;  0 "" 2
 232               	/* #NOAPP */
 233 018a 0130      		cpi r16,1
 234 018c 1105      		cpc r17,__zero_reg__
 235 018e 01F0      		breq .+2
 236 0190 00C0      		rjmp .L16
 237 0192 8F81      		ldd r24,Y+7
 238 0194 9885      		ldd r25,Y+8
 239 0196 B401      		movw r22,r8
 240 0198 0E94 0000 		call strcmp
 241 019c 0097      		sbiw r24,0
 242 019e 01F0      		breq .+2
 243 01a0 00C0      		rjmp .L16
 244 01a2 80E8      		ldi r24,lo8(-31360)
 245 01a4 95E8      		ldi r25,hi8(-31360)
 246               	/* #APP */
 247               	 ;  305 "../../nut/include/sys/types.h" 1
 248 01a6 082E      		mov __tmp_reg__, r24
 249 01a8 892F      		mov r24, r25
 250 01aa 902D      		mov r25, __tmp_reg__
 251               		
 252               	 ;  0 "" 2
 253               	/* #NOAPP */
 254 01ac D501      		movw r26,r10
 255 01ae 1396      		adiw r26,2+1
 256 01b0 9C93      		st X,r25
 257 01b2 8E93      		st -X,r24
 258 01b4 1297      		sbiw r26,2
 259               	/* #APP */
 260               	 ;  305 "../../nut/include/sys/types.h" 1
 261 01b6 002E      		mov __tmp_reg__, r16
 262 01b8 012F      		mov r16, r17
 263 01ba 102D      		mov r17, __tmp_reg__
 264               		
 265               	 ;  0 "" 2
 266               	/* #NOAPP */
 267 01bc F501      		movw r30,r10
 268 01be 1783      		std Z+7,r17
 269 01c0 0683      		std Z+6,r16
 270 01c2 D201      		movw r26,r4
 271 01c4 C101      		movw r24,r2
 272               	/* #APP */
 273               	 ;  315 "../../nut/include/sys/types.h" 1
 274 01c6 082E      		mov __tmp_reg__, r24
 275 01c8 8B2F      		mov r24, r27
 276 01ca B02D      		mov r27, __tmp_reg__
 277 01cc 092E      		mov __tmp_reg__, r25
 278 01ce 9A2F      		mov r25, r26
 279 01d0 A02D      		mov r26, __tmp_reg__
 280               		
 281               	 ;  0 "" 2
 282               	/* #NOAPP */
 283 01d2 82AB      		std Z+50,r24
 284 01d4 93AB      		std Z+51,r25
 285 01d6 A4AB      		std Z+52,r26
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccPXbTSV.s 			page 6


 286 01d8 B5AB      		std Z+53,r27
 287 01da 86E0      		ldi r24,lo8(6)
 288 01dc 90E0      		ldi r25,hi8(6)
 289               	/* #APP */
 290               	 ;  305 "../../nut/include/sys/types.h" 1
 291 01de 082E      		mov __tmp_reg__, r24
 292 01e0 892F      		mov r24, r25
 293 01e2 902D      		mov r25, __tmp_reg__
 294               		
 295               	 ;  0 "" 2
 296               	/* #NOAPP */
 297 01e4 D501      		movw r26,r10
 298 01e6 D796      		adiw r26,54+1
 299 01e8 9C93      		st X,r25
 300 01ea 8E93      		st -X,r24
 301 01ec D697      		sbiw r26,54
 302 01ee 1596      		adiw r26,4+1
 303 01f0 1C92      		st X,__zero_reg__
 304 01f2 1E92      		st -X,__zero_reg__
 305 01f4 1497      		sbiw r26,4
 306 01f6 D996      		adiw r26,57
 307 01f8 1C92      		st X,__zero_reg__
 308 01fa D997      		sbiw r26,57
 309 01fc D896      		adiw r26,56
 310 01fe 1C92      		st X,__zero_reg__
 311 0200 8985      		ldd r24,Y+9
 312 0202 9A85      		ldd r25,Y+10
 313 0204 AB85      		ldd r26,Y+11
 314 0206 BC85      		ldd r27,Y+12
 315 0208 82AF      		std Z+58,r24
 316 020a 93AF      		std Z+59,r25
 317 020c A4AF      		std Z+60,r26
 318 020e B5AF      		std Z+61,r27
 319 0210 4B81      		ldd r20,Y+3
 320 0212 5C81      		ldd r21,Y+4
 321 0214 6D81      		ldd r22,Y+5
 322 0216 7E81      		ldd r23,Y+6
 323 0218 C301      		movw r24,r6
 324 021a 29E8      		ldi r18,lo8(137)
 325 021c 30E0      		ldi r19,hi8(137)
 326 021e 8501      		movw r16,r10
 327 0220 EEE3      		ldi r30,lo8(62)
 328 0222 EE2E      		mov r14,r30
 329 0224 F12C      		mov r15,__zero_reg__
 330 0226 0E94 0000 		call NutUdpSendTo
 331 022a D501      		movw r26,r10
 332 022c EEE3      		ldi r30,lo8(62)
 333 022e 1D92      		st X+,__zero_reg__
 334 0230 EA95      	        dec r30
 335 0232 01F4      		brne .-6
 336 0234 00C0      		rjmp .L16
 337               	.L2:
 338 0236 8FEF      		ldi r24,lo8(-1)
 339 0238 9FEF      		ldi r25,hi8(-1)
 340               	/* epilogue start */
 341 023a 2C96      		adiw r28,12
 342 023c 0FB6      		in __tmp_reg__,__SREG__
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccPXbTSV.s 			page 7


 343 023e F894      		cli
 344 0240 DEBF      		out __SP_H__,r29
 345 0242 0FBE      		out __SREG__,__tmp_reg__
 346 0244 CDBF      		out __SP_L__,r28
 347 0246 CF91      		pop r28
 348 0248 DF91      		pop r29
 349 024a 1F91      		pop r17
 350 024c 0F91      		pop r16
 351 024e FF90      		pop r15
 352 0250 EF90      		pop r14
 353 0252 DF90      		pop r13
 354 0254 CF90      		pop r12
 355 0256 BF90      		pop r11
 356 0258 AF90      		pop r10
 357 025a 9F90      		pop r9
 358 025c 8F90      		pop r8
 359 025e 7F90      		pop r7
 360 0260 6F90      		pop r6
 361 0262 5F90      		pop r5
 362 0264 4F90      		pop r4
 363 0266 3F90      		pop r3
 364 0268 2F90      		pop r2
 365 026a 0895      		ret
 366               	.L3:
 367 026c C501      		movw r24,r10
 368 026e 0E94 0000 		call free
 369 0272 8114      		cp r8,__zero_reg__
 370 0274 9104      		cpc r9,__zero_reg__
 371 0276 01F0      		breq .+2
 372 0278 00C0      		rjmp .L11
 373 027a 00C0      		rjmp .L2
 374               		.size	NutWinsNameQuery, .-NutWinsNameQuery
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccPXbTSV.s 			page 8


DEFINED SYMBOLS
                            *ABS*:00000000 wins.c
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccPXbTSV.s:2      *ABS*:0000003f __SREG__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccPXbTSV.s:3      *ABS*:0000003e __SP_H__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccPXbTSV.s:4      *ABS*:0000003d __SP_L__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccPXbTSV.s:5      *ABS*:00000034 __CCP__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccPXbTSV.s:6      *ABS*:00000000 __tmp_reg__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccPXbTSV.s:7      *ABS*:00000001 __zero_reg__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccPXbTSV.s:11     .text:00000000 NutWinsNameQuery

UNDEFINED SYMBOLS
calloc
NutUdpCreateSocket
free
toupper
NutUdpReceiveFrom
strcmp
NutUdpSendTo
