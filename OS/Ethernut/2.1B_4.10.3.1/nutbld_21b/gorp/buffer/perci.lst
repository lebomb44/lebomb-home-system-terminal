GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc9Li0RQ.s 			page 1


   1               		.file	"perci.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__  = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.text
   9               	.global	PerCiDump
  10               		.type	PerCiDump, @function
  11               	PerCiDump:
  12               	/* prologue: function */
  13               	/* frame size = 0 */
  14               	/* epilogue start */
  15 0000 0895      		ret
  16               		.size	PerCiDump, .-PerCiDump
  17               		.type	FindNextData, @function
  18               	FindNextData:
  19 0002 6F92      		push r6
  20 0004 7F92      		push r7
  21 0006 8F92      		push r8
  22 0008 9F92      		push r9
  23 000a AF92      		push r10
  24 000c BF92      		push r11
  25 000e CF92      		push r12
  26 0010 DF92      		push r13
  27 0012 EF92      		push r14
  28 0014 FF92      		push r15
  29 0016 0F93      		push r16
  30 0018 1F93      		push r17
  31 001a DF93      		push r29
  32 001c CF93      		push r28
  33 001e 0F92      		push __tmp_reg__
  34 0020 CDB7      		in r28,__SP_L__
  35 0022 DEB7      		in r29,__SP_H__
  36               	/* prologue: function */
  37               	/* frame size = 1 */
  38 0024 6C01      		movw r12,r24
  39 0026 5B01      		movw r10,r22
  40 0028 86E0      		ldi r24,lo8(6)
  41 002a 882E      		mov r8,r24
  42 002c 912C      		mov r9,__zero_reg__
  43 002e 8C0C      		add r8,r12
  44 0030 9D1C      		adc r9,r13
  45 0032 C401      		movw r24,r8
  46 0034 40E0      		ldi r20,lo8(0)
  47 0036 50E0      		ldi r21,hi8(0)
  48 0038 60E0      		ldi r22,hlo8(0)
  49 003a 70E0      		ldi r23,hhi8(0)
  50 003c 0E94 0000 		call NutEventWait
  51 0040 D501      		movw r26,r10
  52 0042 9C91      		ld r25,X
  53 0044 80E0      		ldi r24,lo8(0)
  54 0046 7C01      		movw r14,r24
  55 0048 0027      		clr r16
  56 004a F7FC      		sbrc r15,7
  57 004c 0095      		com r16
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc9Li0RQ.s 			page 2


  58 004e 102F      		mov r17,r16
  59 0050 3E01      		movw r6,r28
  60 0052 0894      		sec
  61 0054 611C      		adc r6,__zero_reg__
  62 0056 711C      		adc r7,__zero_reg__
  63               	.L8:
  64 0058 F601      		movw r30,r12
  65 005a 8281      		ldd r24,Z+2
  66 005c 9381      		ldd r25,Z+3
  67 005e A481      		ldd r26,Z+4
  68 0060 B581      		ldd r27,Z+5
  69 0062 E816      		cp r14,r24
  70 0064 F906      		cpc r15,r25
  71 0066 0A07      		cpc r16,r26
  72 0068 1B07      		cpc r17,r27
  73 006a 04F0      		brlt .L4
  74 006c D501      		movw r26,r10
  75 006e 1C92      		st X,__zero_reg__
  76 0070 EE24      		clr r14
  77 0072 FF24      		clr r15
  78 0074 8701      		movw r16,r14
  79               	.L4:
  80 0076 F501      		movw r30,r10
  81 0078 9081      		ld r25,Z
  82 007a D601      		movw r26,r12
  83 007c 1896      		adiw r26,8
  84 007e 8C91      		ld r24,X
  85 0080 1897      		sbiw r26,8
  86 0082 9817      		cp r25,r24
  87 0084 01F4      		brne .L5
  88 0086 1996      		adiw r26,9
  89 0088 8C91      		ld r24,X
  90 008a 8983      		std Y+1,r24
  91 008c 00C0      		rjmp .L6
  92               	.L5:
  93 008e F601      		movw r30,r12
  94 0090 8081      		ld r24,Z
  95 0092 9181      		ldd r25,Z+1
  96 0094 B801      		movw r22,r16
  97 0096 A701      		movw r20,r14
  98 0098 20E0      		ldi r18,lo8(0)
  99 009a 30E0      		ldi r19,hi8(0)
 100 009c 0E94 0000 		call _seek
 101 00a0 D601      		movw r26,r12
 102 00a2 8D91      		ld r24,X+
 103 00a4 9C91      		ld r25,X
 104 00a6 B301      		movw r22,r6
 105 00a8 41E0      		ldi r20,lo8(1)
 106 00aa 50E0      		ldi r21,hi8(1)
 107 00ac 0E94 0000 		call _read
 108 00b0 0197      		sbiw r24,1
 109 00b2 01F4      		brne .L7
 110 00b4 8981      		ldd r24,Y+1
 111 00b6 8823      		tst r24
 112 00b8 01F4      		brne .L6
 113               	.L7:
 114 00ba 80E0      		ldi r24,lo8(256)
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc9Li0RQ.s 			page 3


 115 00bc 91E0      		ldi r25,hi8(256)
 116 00be A0E0      		ldi r26,hlo8(256)
 117 00c0 B0E0      		ldi r27,hhi8(256)
 118 00c2 E80E      		add r14,r24
 119 00c4 F91E      		adc r15,r25
 120 00c6 0A1F      		adc r16,r26
 121 00c8 1B1F      		adc r17,r27
 122 00ca D501      		movw r26,r10
 123 00cc 8C91      		ld r24,X
 124 00ce 8F5F      		subi r24,lo8(-(1))
 125 00d0 8C93      		st X,r24
 126 00d2 00C0      		rjmp .L8
 127               	.L6:
 128 00d4 C401      		movw r24,r8
 129 00d6 0E94 0000 		call NutEventPost
 130 00da 8981      		ldd r24,Y+1
 131               	/* epilogue start */
 132 00dc 0F90      		pop __tmp_reg__
 133 00de CF91      		pop r28
 134 00e0 DF91      		pop r29
 135 00e2 1F91      		pop r17
 136 00e4 0F91      		pop r16
 137 00e6 FF90      		pop r15
 138 00e8 EF90      		pop r14
 139 00ea DF90      		pop r13
 140 00ec CF90      		pop r12
 141 00ee BF90      		pop r11
 142 00f0 AF90      		pop r10
 143 00f2 9F90      		pop r9
 144 00f4 8F90      		pop r8
 145 00f6 7F90      		pop r7
 146 00f8 6F90      		pop r6
 147 00fa 0895      		ret
 148               		.size	FindNextData, .-FindNextData
 149               	.global	PerCiRead
 150               		.type	PerCiRead, @function
 151               	PerCiRead:
 152 00fc 6F92      		push r6
 153 00fe 7F92      		push r7
 154 0100 8F92      		push r8
 155 0102 9F92      		push r9
 156 0104 BF92      		push r11
 157 0106 CF92      		push r12
 158 0108 DF92      		push r13
 159 010a EF92      		push r14
 160 010c FF92      		push r15
 161 010e 0F93      		push r16
 162 0110 1F93      		push r17
 163 0112 CF93      		push r28
 164 0114 DF93      		push r29
 165               	/* prologue: function */
 166               	/* frame size = 0 */
 167 0116 EC01      		movw r28,r24
 168 0118 6B01      		movw r12,r22
 169 011a 4A01      		movw r8,r20
 170 011c 92E0      		ldi r25,lo8(2)
 171 011e 692E      		mov r6,r25
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc9Li0RQ.s 			page 4


 172 0120 712C      		mov r7,__zero_reg__
 173 0122 6C0E      		add r6,r28
 174 0124 7D1E      		adc r7,r29
 175 0126 EE24      		clr r14
 176 0128 FF24      		clr r15
 177 012a 00C0      		rjmp .L19
 178               	.L17:
 179 012c B82C      		mov r11,r8
 180 012e BE18      		sub r11,r14
 181 0130 5B81      		ldd r21,Y+3
 182 0132 4C81      		ldd r20,Y+4
 183 0134 2B2D      		mov r18,r11
 184 0136 30E0      		ldi r19,lo8(0)
 185 0138 852F      		mov r24,r21
 186 013a 90E0      		ldi r25,lo8(0)
 187 013c 841B      		sub r24,r20
 188 013e 9109      		sbc r25,__zero_reg__
 189 0140 8217      		cp r24,r18
 190 0142 9307      		cpc r25,r19
 191 0144 04F4      		brge .L12
 192 0146 B52E      		mov r11,r21
 193 0148 B41A      		sub r11,r20
 194               	.L12:
 195 014a 9A81      		ldd r25,Y+2
 196 014c E881      		ld r30,Y
 197 014e F981      		ldd r31,Y+1
 198 0150 8085      		ldd r24,Z+8
 199 0152 9817      		cp r25,r24
 200 0154 01F4      		brne .L13
 201 0156 BB20      		tst r11
 202 0158 01F0      		breq .L14
 203 015a 0B2D      		mov r16,r11
 204 015c 10E0      		ldi r17,lo8(0)
 205 015e 242F      		mov r18,r20
 206 0160 30E0      		ldi r19,lo8(0)
 207 0162 265F      		subi r18,lo8(-(10))
 208 0164 3F4F      		sbci r19,hi8(-(10))
 209 0166 2E0F      		add r18,r30
 210 0168 3F1F      		adc r19,r31
 211 016a C601      		movw r24,r12
 212 016c B901      		movw r22,r18
 213 016e 4B2D      		mov r20,r11
 214 0170 50E0      		ldi r21,lo8(0)
 215 0172 0E94 0000 		call memcpy
 216 0176 C00E      		add r12,r16
 217 0178 D11E      		adc r13,r17
 218 017a E00E      		add r14,r16
 219 017c F11E      		adc r15,r17
 220 017e 00C0      		rjmp .L20
 221               	.L13:
 222 0180 BB20      		tst r11
 223 0182 01F0      		breq .L16
 224 0184 0B2D      		mov r16,r11
 225 0186 10E0      		ldi r17,lo8(0)
 226 0188 8081      		ld r24,Z
 227 018a 9181      		ldd r25,Z+1
 228 018c B601      		movw r22,r12
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc9Li0RQ.s 			page 5


 229 018e A801      		movw r20,r16
 230 0190 0E94 0000 		call _read
 231 0194 8017      		cp r24,r16
 232 0196 9107      		cpc r25,r17
 233 0198 01F4      		brne .L14
 234 019a C80E      		add r12,r24
 235 019c D91E      		adc r13,r25
 236 019e E80E      		add r14,r24
 237 01a0 F91E      		adc r15,r25
 238               	.L20:
 239 01a2 8C81      		ldd r24,Y+4
 240 01a4 8B0D      		add r24,r11
 241 01a6 8C83      		std Y+4,r24
 242 01a8 00C0      		rjmp .L19
 243               	.L16:
 244 01aa 9F5F      		subi r25,lo8(-(1))
 245 01ac 9A83      		std Y+2,r25
 246 01ae 1C82      		std Y+4,__zero_reg__
 247 01b0 CF01      		movw r24,r30
 248 01b2 B301      		movw r22,r6
 249 01b4 0E94 0000 		call FindNextData
 250 01b8 8B83      		std Y+3,r24
 251 01ba 8823      		tst r24
 252 01bc 01F0      		breq .L14
 253               	.L19:
 254 01be E814      		cp r14,r8
 255 01c0 F904      		cpc r15,r9
 256 01c2 04F4      		brge .+2
 257 01c4 00C0      		rjmp .L17
 258               	.L14:
 259 01c6 C701      		movw r24,r14
 260               	/* epilogue start */
 261 01c8 DF91      		pop r29
 262 01ca CF91      		pop r28
 263 01cc 1F91      		pop r17
 264 01ce 0F91      		pop r16
 265 01d0 FF90      		pop r15
 266 01d2 EF90      		pop r14
 267 01d4 DF90      		pop r13
 268 01d6 CF90      		pop r12
 269 01d8 BF90      		pop r11
 270 01da 9F90      		pop r9
 271 01dc 8F90      		pop r8
 272 01de 7F90      		pop r7
 273 01e0 6F90      		pop r6
 274 01e2 0895      		ret
 275               		.size	PerCiRead, .-PerCiRead
 276               	.global	PerCiReadLine
 277               		.type	PerCiReadLine, @function
 278               	PerCiReadLine:
 279 01e4 CF92      		push r12
 280 01e6 DF92      		push r13
 281 01e8 EF92      		push r14
 282 01ea FF92      		push r15
 283 01ec 0F93      		push r16
 284 01ee 1F93      		push r17
 285 01f0 CF93      		push r28
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc9Li0RQ.s 			page 6


 286 01f2 DF93      		push r29
 287               	/* prologue: function */
 288               	/* frame size = 0 */
 289 01f4 6C01      		movw r12,r24
 290 01f6 7A01      		movw r14,r20
 291 01f8 8B01      		movw r16,r22
 292 01fa C0E0      		ldi r28,lo8(0)
 293 01fc D0E0      		ldi r29,hi8(0)
 294 01fe 00C0      		rjmp .L22
 295               	.L24:
 296 0200 C601      		movw r24,r12
 297 0202 B801      		movw r22,r16
 298 0204 41E0      		ldi r20,lo8(1)
 299 0206 50E0      		ldi r21,hi8(1)
 300 0208 0E94 0000 		call PerCiRead
 301 020c 0197      		sbiw r24,1
 302 020e 01F4      		brne .L23
 303 0210 2196      		adiw r28,1
 304 0212 F801      		movw r30,r16
 305 0214 8191      		ld r24,Z+
 306 0216 8F01      		movw r16,r30
 307 0218 8A30      		cpi r24,lo8(10)
 308 021a 01F0      		breq .L23
 309               	.L22:
 310 021c CE15      		cp r28,r14
 311 021e DF05      		cpc r29,r15
 312 0220 04F0      		brlt .L24
 313               	.L23:
 314 0222 F801      		movw r30,r16
 315 0224 1082      		st Z,__zero_reg__
 316 0226 CE01      		movw r24,r28
 317               	/* epilogue start */
 318 0228 DF91      		pop r29
 319 022a CF91      		pop r28
 320 022c 1F91      		pop r17
 321 022e 0F91      		pop r16
 322 0230 FF90      		pop r15
 323 0232 EF90      		pop r14
 324 0234 DF90      		pop r13
 325 0236 CF90      		pop r12
 326 0238 0895      		ret
 327               		.size	PerCiReadLine, .-PerCiReadLine
 328               	.global	PerCiDetachReader
 329               		.type	PerCiDetachReader, @function
 330               	PerCiDetachReader:
 331               	/* prologue: function */
 332               	/* frame size = 0 */
 333 023a 0E94 0000 		call free
 334               	/* epilogue start */
 335 023e 0895      		ret
 336               		.size	PerCiDetachReader, .-PerCiDetachReader
 337               	.global	PerCiAttachReader
 338               		.type	PerCiAttachReader, @function
 339               	PerCiAttachReader:
 340 0240 DF92      		push r13
 341 0242 EF92      		push r14
 342 0244 FF92      		push r15
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc9Li0RQ.s 			page 7


 343 0246 0F93      		push r16
 344 0248 1F93      		push r17
 345               	/* prologue: function */
 346               	/* frame size = 0 */
 347 024a 7C01      		movw r14,r24
 348 024c 85E0      		ldi r24,lo8(5)
 349 024e 90E0      		ldi r25,hi8(5)
 350 0250 0E94 0000 		call malloc
 351 0254 D92E      		mov r13,r25
 352 0256 082F      		mov r16,r24
 353 0258 192F      		mov r17,r25
 354 025a F801      		movw r30,r16
 355 025c F182      		std Z+1,r15
 356 025e E082      		st Z,r14
 357 0260 1482      		std Z+4,__zero_reg__
 358 0262 F701      		movw r30,r14
 359 0264 8085      		ldd r24,Z+8
 360 0266 8F5F      		subi r24,lo8(-(1))
 361 0268 F801      		movw r30,r16
 362 026a 8283      		std Z+2,r24
 363 026c B801      		movw r22,r16
 364 026e 6E5F      		subi r22,lo8(-(2))
 365 0270 7F4F      		sbci r23,hi8(-(2))
 366 0272 C701      		movw r24,r14
 367 0274 0E94 0000 		call FindNextData
 368 0278 F801      		movw r30,r16
 369 027a 8383      		std Z+3,r24
 370 027c 802F      		mov r24,r16
 371 027e 9D2D      		mov r25,r13
 372               	/* epilogue start */
 373 0280 1F91      		pop r17
 374 0282 0F91      		pop r16
 375 0284 FF90      		pop r15
 376 0286 EF90      		pop r14
 377 0288 DF90      		pop r13
 378 028a 0895      		ret
 379               		.size	PerCiAttachReader, .-PerCiAttachReader
 380               	.global	PerCiWrite
 381               		.type	PerCiWrite, @function
 382               	PerCiWrite:
 383 028c 3F92      		push r3
 384 028e 4F92      		push r4
 385 0290 5F92      		push r5
 386 0292 6F92      		push r6
 387 0294 7F92      		push r7
 388 0296 8F92      		push r8
 389 0298 9F92      		push r9
 390 029a AF92      		push r10
 391 029c BF92      		push r11
 392 029e CF92      		push r12
 393 02a0 DF92      		push r13
 394 02a2 EF92      		push r14
 395 02a4 FF92      		push r15
 396 02a6 0F93      		push r16
 397 02a8 1F93      		push r17
 398 02aa CF93      		push r28
 399 02ac DF93      		push r29
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc9Li0RQ.s 			page 8


 400               	/* prologue: function */
 401               	/* frame size = 0 */
 402 02ae EC01      		movw r28,r24
 403 02b0 5B01      		movw r10,r22
 404 02b2 342E      		mov r3,r20
 405 02b4 36E0      		ldi r19,lo8(6)
 406 02b6 C32E      		mov r12,r19
 407 02b8 D12C      		mov r13,__zero_reg__
 408 02ba C80E      		add r12,r24
 409 02bc D91E      		adc r13,r25
 410 02be C601      		movw r24,r12
 411 02c0 40E0      		ldi r20,lo8(0)
 412 02c2 50E0      		ldi r21,hi8(0)
 413 02c4 60E0      		ldi r22,hlo8(0)
 414 02c6 70E0      		ldi r23,hhi8(0)
 415 02c8 0E94 0000 		call NutEventWait
 416 02cc 29E0      		ldi r18,lo8(9)
 417 02ce 422E      		mov r4,r18
 418 02d0 512C      		mov r5,__zero_reg__
 419 02d2 4C0E      		add r4,r28
 420 02d4 5D1E      		adc r5,r29
 421 02d6 8824      		clr r8
 422 02d8 00C0      		rjmp .L31
 423               	.L37:
 424 02da 6985      		ldd r22,Y+9
 425 02dc 932C      		mov r9,r3
 426 02de 9818      		sub r9,r8
 427 02e0 462F      		mov r20,r22
 428 02e2 50E0      		ldi r21,lo8(0)
 429 02e4 292D      		mov r18,r9
 430 02e6 30E0      		ldi r19,lo8(0)
 431 02e8 8FEF      		ldi r24,lo8(255)
 432 02ea 90E0      		ldi r25,hi8(255)
 433 02ec 841B      		sub r24,r20
 434 02ee 950B      		sbc r25,r21
 435 02f0 8217      		cp r24,r18
 436 02f2 9307      		cpc r25,r19
 437 02f4 00F4      		brsh .L32
 438 02f6 962E      		mov r9,r22
 439 02f8 9094      		com r9
 440               	.L32:
 441 02fa 692C      		mov r6,r9
 442 02fc 7724      		clr r7
 443 02fe 9A01      		movw r18,r20
 444 0300 265F      		subi r18,lo8(-(10))
 445 0302 3F4F      		sbci r19,hi8(-(10))
 446 0304 2C0F      		add r18,r28
 447 0306 3D1F      		adc r19,r29
 448 0308 C901      		movw r24,r18
 449 030a B501      		movw r22,r10
 450 030c 492D      		mov r20,r9
 451 030e 50E0      		ldi r21,lo8(0)
 452 0310 0E94 0000 		call memcpy
 453 0314 8985      		ldd r24,Y+9
 454 0316 890D      		add r24,r9
 455 0318 8987      		std Y+9,r24
 456 031a 8F3F      		cpi r24,lo8(-1)
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc9Li0RQ.s 			page 9


 457 031c 01F0      		breq .+2
 458 031e 00C0      		rjmp .L34
 459 0320 F884      		ldd r15,Y+8
 460 0322 EE24      		clr r14
 461 0324 A701      		movw r20,r14
 462 0326 6627      		clr r22
 463 0328 57FD      		sbrc r21,7
 464 032a 6095      		com r22
 465 032c 762F      		mov r23,r22
 466 032e 8881      		ld r24,Y
 467 0330 9981      		ldd r25,Y+1
 468 0332 20E0      		ldi r18,lo8(0)
 469 0334 30E0      		ldi r19,hi8(0)
 470 0336 0E94 0000 		call _seek
 471 033a 8881      		ld r24,Y
 472 033c 9981      		ldd r25,Y+1
 473 033e B201      		movw r22,r4
 474 0340 41E0      		ldi r20,lo8(257)
 475 0342 51E0      		ldi r21,hi8(257)
 476 0344 0E94 0000 		call _write
 477 0348 8150      		subi r24,lo8(257)
 478 034a 9140      		sbci r25,hi8(257)
 479 034c 01F4      		brne .L39
 480               	.L35:
 481 034e 1986      		std Y+9,__zero_reg__
 482 0350 8885      		ldd r24,Y+8
 483 0352 8F5F      		subi r24,lo8(-(1))
 484 0354 8887      		std Y+8,r24
 485 0356 182F      		mov r17,r24
 486 0358 00E0      		ldi r16,lo8(0)
 487 035a 9801      		movw r18,r16
 488 035c 4427      		clr r20
 489 035e 37FD      		sbrc r19,7
 490 0360 4095      		com r20
 491 0362 542F      		mov r21,r20
 492 0364 8A81      		ldd r24,Y+2
 493 0366 9B81      		ldd r25,Y+3
 494 0368 AC81      		ldd r26,Y+4
 495 036a BD81      		ldd r27,Y+5
 496 036c 2817      		cp r18,r24
 497 036e 3907      		cpc r19,r25
 498 0370 4A07      		cpc r20,r26
 499 0372 5B07      		cpc r21,r27
 500 0374 04F0      		brlt .L34
 501 0376 1886      		std Y+8,__zero_reg__
 502 0378 8881      		ld r24,Y
 503 037a 9981      		ldd r25,Y+1
 504 037c 40E0      		ldi r20,lo8(0)
 505 037e 50E0      		ldi r21,hi8(0)
 506 0380 60E0      		ldi r22,hlo8(0)
 507 0382 70E0      		ldi r23,hhi8(0)
 508 0384 20E0      		ldi r18,lo8(0)
 509 0386 30E0      		ldi r19,hi8(0)
 510 0388 0E94 0000 		call _seek
 511 038c 8881      		ld r24,Y
 512 038e 9981      		ldd r25,Y+1
 513 0390 B201      		movw r22,r4
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc9Li0RQ.s 			page 10


 514 0392 41E0      		ldi r20,lo8(1)
 515 0394 50E0      		ldi r21,hi8(1)
 516 0396 0E94 0000 		call _write
 517 039a 0197      		sbiw r24,1
 518 039c 01F0      		breq .L34
 519               	.L39:
 520 039e C601      		movw r24,r12
 521 03a0 0E94 0000 		call NutEventPost
 522 03a4 2FEF      		ldi r18,lo8(-1)
 523 03a6 3FEF      		ldi r19,hi8(-1)
 524 03a8 00C0      		rjmp .L36
 525               	.L34:
 526 03aa 890C      		add r8,r9
 527 03ac A60C      		add r10,r6
 528 03ae B71C      		adc r11,r7
 529               	.L31:
 530 03b0 8314      		cp r8,r3
 531 03b2 00F4      		brsh .+2
 532 03b4 00C0      		rjmp .L37
 533 03b6 C601      		movw r24,r12
 534 03b8 0E94 0000 		call NutEventPost
 535 03bc 282D      		mov r18,r8
 536 03be 30E0      		ldi r19,lo8(0)
 537               	.L36:
 538 03c0 C901      		movw r24,r18
 539               	/* epilogue start */
 540 03c2 DF91      		pop r29
 541 03c4 CF91      		pop r28
 542 03c6 1F91      		pop r17
 543 03c8 0F91      		pop r16
 544 03ca FF90      		pop r15
 545 03cc EF90      		pop r14
 546 03ce DF90      		pop r13
 547 03d0 CF90      		pop r12
 548 03d2 BF90      		pop r11
 549 03d4 AF90      		pop r10
 550 03d6 9F90      		pop r9
 551 03d8 8F90      		pop r8
 552 03da 7F90      		pop r7
 553 03dc 6F90      		pop r6
 554 03de 5F90      		pop r5
 555 03e0 4F90      		pop r4
 556 03e2 3F90      		pop r3
 557 03e4 0895      		ret
 558               		.size	PerCiWrite, .-PerCiWrite
 559               	.global	PerCiWriteVarList
 560               		.type	PerCiWriteVarList, @function
 561               	PerCiWriteVarList:
 562 03e6 AF92      		push r10
 563 03e8 BF92      		push r11
 564 03ea DF92      		push r13
 565 03ec EF92      		push r14
 566 03ee FF92      		push r15
 567 03f0 0F93      		push r16
 568 03f2 1F93      		push r17
 569 03f4 CF93      		push r28
 570 03f6 DF93      		push r29
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc9Li0RQ.s 			page 11


 571               	/* prologue: function */
 572               	/* frame size = 0 */
 573 03f8 5C01      		movw r10,r24
 574 03fa 8B01      		movw r16,r22
 575 03fc 7A01      		movw r14,r20
 576 03fe 8FEF      		ldi r24,lo8(255)
 577 0400 90E0      		ldi r25,hi8(255)
 578 0402 0E94 0000 		call malloc
 579 0406 D92E      		mov r13,r25
 580 0408 C82F      		mov r28,r24
 581 040a D92F      		mov r29,r25
 582 040c 2097      		sbiw r28,0
 583 040e 01F4      		brne .L41
 584 0410 0FEF      		ldi r16,lo8(-1)
 585 0412 1FEF      		ldi r17,hi8(-1)
 586 0414 00C0      		rjmp .L42
 587               	.L41:
 588 0416 CE01      		movw r24,r28
 589 0418 B801      		movw r22,r16
 590 041a A701      		movw r20,r14
 591 041c 0E94 0000 		call vsprintf
 592 0420 EC2F      		mov r30,r28
 593 0422 FD2D      		mov r31,r13
 594 0424 DF01      		movw r26,r30
 595 0426 0D90      		ld __tmp_reg__,X+
 596 0428 0020      		tst __tmp_reg__
 597 042a 01F4      		brne .-6
 598 042c 1197      		sbiw r26,1
 599 042e AE1B      		sub r26,r30
 600 0430 BF0B      		sbc r27,r31
 601 0432 C501      		movw r24,r10
 602 0434 BE01      		movw r22,r28
 603 0436 AD01      		movw r20,r26
 604 0438 0E94 0000 		call PerCiWrite
 605 043c 8C01      		movw r16,r24
 606 043e CE01      		movw r24,r28
 607 0440 0E94 0000 		call free
 608               	.L42:
 609 0444 C801      		movw r24,r16
 610               	/* epilogue start */
 611 0446 DF91      		pop r29
 612 0448 CF91      		pop r28
 613 044a 1F91      		pop r17
 614 044c 0F91      		pop r16
 615 044e FF90      		pop r15
 616 0450 EF90      		pop r14
 617 0452 DF90      		pop r13
 618 0454 BF90      		pop r11
 619 0456 AF90      		pop r10
 620 0458 0895      		ret
 621               		.size	PerCiWriteVarList, .-PerCiWriteVarList
 622               	.global	PerCiWriteFormat
 623               		.type	PerCiWriteFormat, @function
 624               	PerCiWriteFormat:
 625 045a DF93      		push r29
 626 045c CF93      		push r28
 627 045e CDB7      		in r28,__SP_L__
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc9Li0RQ.s 			page 12


 628 0460 DEB7      		in r29,__SP_H__
 629               	/* prologue: function */
 630               	/* frame size = 0 */
 631 0462 9E01      		movw r18,r28
 632 0464 275F      		subi r18,lo8(-(9))
 633 0466 3F4F      		sbci r19,hi8(-(9))
 634 0468 8D81      		ldd r24,Y+5
 635 046a 9E81      		ldd r25,Y+6
 636 046c 6F81      		ldd r22,Y+7
 637 046e 7885      		ldd r23,Y+8
 638 0470 A901      		movw r20,r18
 639 0472 0E94 0000 		call PerCiWriteVarList
 640               	/* epilogue start */
 641 0476 CF91      		pop r28
 642 0478 DF91      		pop r29
 643 047a 0895      		ret
 644               		.size	PerCiWriteFormat, .-PerCiWriteFormat
 645               	.global	PerCiFlush
 646               		.type	PerCiFlush, @function
 647               	PerCiFlush:
 648 047c 0F93      		push r16
 649 047e 1F93      		push r17
 650               	/* prologue: function */
 651               	/* frame size = 0 */
 652 0480 8C01      		movw r16,r24
 653 0482 FC01      		movw r30,r24
 654 0484 5085      		ldd r21,Z+8
 655 0486 40E0      		ldi r20,lo8(0)
 656 0488 6627      		clr r22
 657 048a 57FD      		sbrc r21,7
 658 048c 6095      		com r22
 659 048e 762F      		mov r23,r22
 660 0490 8081      		ld r24,Z
 661 0492 9181      		ldd r25,Z+1
 662 0494 20E0      		ldi r18,lo8(0)
 663 0496 30E0      		ldi r19,hi8(0)
 664 0498 0E94 0000 		call _seek
 665 049c F801      		movw r30,r16
 666 049e 4185      		ldd r20,Z+9
 667 04a0 50E0      		ldi r21,lo8(0)
 668 04a2 4F5F      		subi r20,lo8(-(1))
 669 04a4 5F4F      		sbci r21,hi8(-(1))
 670 04a6 8081      		ld r24,Z
 671 04a8 9181      		ldd r25,Z+1
 672 04aa 075F      		subi r16,lo8(-(9))
 673 04ac 1F4F      		sbci r17,hi8(-(9))
 674 04ae B801      		movw r22,r16
 675 04b0 0E94 0000 		call _write
 676               	/* epilogue start */
 677 04b4 1F91      		pop r17
 678 04b6 0F91      		pop r16
 679 04b8 0895      		ret
 680               		.size	PerCiFlush, .-PerCiFlush
 681               	.global	PerCiClose
 682               		.type	PerCiClose, @function
 683               	PerCiClose:
 684 04ba CF93      		push r28
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc9Li0RQ.s 			page 13


 685 04bc DF93      		push r29
 686               	/* prologue: function */
 687               	/* frame size = 0 */
 688 04be EC01      		movw r28,r24
 689 04c0 8985      		ldd r24,Y+9
 690 04c2 8823      		tst r24
 691 04c4 01F0      		breq .L49
 692 04c6 CE01      		movw r24,r28
 693 04c8 0E94 0000 		call PerCiFlush
 694               	.L49:
 695 04cc 8881      		ld r24,Y
 696 04ce 9981      		ldd r25,Y+1
 697 04d0 0E94 0000 		call _close
 698 04d4 CE01      		movw r24,r28
 699 04d6 0E94 0000 		call free
 700               	/* epilogue start */
 701 04da DF91      		pop r29
 702 04dc CF91      		pop r28
 703 04de 0895      		ret
 704               		.size	PerCiClose, .-PerCiClose
 705               	.global	PerCiInit
 706               		.type	PerCiInit, @function
 707               	PerCiInit:
 708 04e0 CF92      		push r12
 709 04e2 DF92      		push r13
 710 04e4 EF92      		push r14
 711 04e6 FF92      		push r15
 712 04e8 0F93      		push r16
 713 04ea 1F93      		push r17
 714 04ec CF93      		push r28
 715 04ee DF93      		push r29
 716               	/* prologue: function */
 717               	/* frame size = 0 */
 718 04f0 6B01      		movw r12,r22
 719 04f2 62E0      		ldi r22,lo8(-31998)
 720 04f4 73E8      		ldi r23,hi8(-31998)
 721 04f6 0E94 0000 		call _open
 722 04fa 7C01      		movw r14,r24
 723 04fc 8FEF      		ldi r24,lo8(-1)
 724 04fe E816      		cp r14,r24
 725 0500 8FEF      		ldi r24,hi8(-1)
 726 0502 F806      		cpc r15,r24
 727 0504 01F4      		brne .L52
 728 0506 2FEF      		ldi r18,lo8(-1)
 729 0508 3FEF      		ldi r19,hi8(-1)
 730 050a 00C0      		rjmp .L53
 731               	.L52:
 732 050c 80E0      		ldi r24,lo8(256)
 733 050e 91E0      		ldi r25,hi8(256)
 734 0510 61E0      		ldi r22,lo8(1)
 735 0512 70E0      		ldi r23,hi8(1)
 736 0514 0E94 0000 		call calloc
 737 0518 EC01      		movw r28,r24
 738 051a 0097      		sbiw r24,0
 739 051c 01F0      		breq .L54
 740 051e 00E0      		ldi r16,lo8(0)
 741 0520 10E0      		ldi r17,hi8(0)
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc9Li0RQ.s 			page 14


 742 0522 00C0      		rjmp .L55
 743               	.L56:
 744 0524 C701      		movw r24,r14
 745 0526 BE01      		movw r22,r28
 746 0528 40E0      		ldi r20,lo8(256)
 747 052a 51E0      		ldi r21,hi8(256)
 748 052c 0E94 0000 		call _write
 749 0530 0F5F      		subi r16,lo8(-(1))
 750 0532 1F4F      		sbci r17,hi8(-(1))
 751               	.L55:
 752 0534 0C15      		cp r16,r12
 753 0536 1D05      		cpc r17,r13
 754 0538 04F0      		brlt .L56
 755 053a C701      		movw r24,r14
 756 053c BE01      		movw r22,r28
 757 053e 41E0      		ldi r20,lo8(1)
 758 0540 50E0      		ldi r21,hi8(1)
 759 0542 0E94 0000 		call _write
 760 0546 CE01      		movw r24,r28
 761 0548 0E94 0000 		call free
 762               	.L54:
 763 054c C701      		movw r24,r14
 764 054e 0E94 0000 		call _close
 765 0552 20E0      		ldi r18,lo8(0)
 766 0554 30E0      		ldi r19,hi8(0)
 767               	.L53:
 768 0556 C901      		movw r24,r18
 769               	/* epilogue start */
 770 0558 DF91      		pop r29
 771 055a CF91      		pop r28
 772 055c 1F91      		pop r17
 773 055e 0F91      		pop r16
 774 0560 FF90      		pop r15
 775 0562 EF90      		pop r14
 776 0564 DF90      		pop r13
 777 0566 CF90      		pop r12
 778 0568 0895      		ret
 779               		.size	PerCiInit, .-PerCiInit
 780               	.global	PerCiOpen
 781               		.type	PerCiOpen, @function
 782               	PerCiOpen:
 783 056a CF92      		push r12
 784 056c DF92      		push r13
 785 056e EF92      		push r14
 786 0570 FF92      		push r15
 787 0572 0F93      		push r16
 788 0574 1F93      		push r17
 789 0576 DF93      		push r29
 790 0578 CF93      		push r28
 791 057a 0F92      		push __tmp_reg__
 792 057c CDB7      		in r28,__SP_L__
 793 057e DEB7      		in r29,__SP_H__
 794               	/* prologue: function */
 795               	/* frame size = 1 */
 796 0580 7C01      		movw r14,r24
 797 0582 81E0      		ldi r24,lo8(1)
 798 0584 90E0      		ldi r25,hi8(1)
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc9Li0RQ.s 			page 15


 799 0586 6AE0      		ldi r22,lo8(266)
 800 0588 71E0      		ldi r23,hi8(266)
 801 058a 0E94 0000 		call calloc
 802 058e 8C01      		movw r16,r24
 803 0590 6C01      		movw r12,r24
 804 0592 0097      		sbiw r24,0
 805 0594 01F4      		brne .+2
 806 0596 00C0      		rjmp .L59
 807 0598 C701      		movw r24,r14
 808 059a 62E0      		ldi r22,lo8(-32766)
 809 059c 70E8      		ldi r23,hi8(-32766)
 810 059e 0E94 0000 		call _open
 811 05a2 F801      		movw r30,r16
 812 05a4 9183      		std Z+1,r25
 813 05a6 8083      		st Z,r24
 814 05a8 FFEF      		ldi r31,hi8(-1)
 815 05aa 8F3F      		cpi r24,lo8(-1)
 816 05ac 9F07      		cpc r25,r31
 817 05ae 01F4      		brne .+2
 818 05b0 00C0      		rjmp .L60
 819 05b2 0E94 0000 		call _filelength
 820 05b6 F801      		movw r30,r16
 821 05b8 6283      		std Z+2,r22
 822 05ba 7383      		std Z+3,r23
 823 05bc 8483      		std Z+4,r24
 824 05be 9583      		std Z+5,r25
 825 05c0 6130      		cpi r22,lo8(513)
 826 05c2 F2E0      		ldi r31,hi8(513)
 827 05c4 7F07      		cpc r23,r31
 828 05c6 F0E0      		ldi r31,hlo8(513)
 829 05c8 8F07      		cpc r24,r31
 830 05ca F0E0      		ldi r31,hhi8(513)
 831 05cc 9F07      		cpc r25,r31
 832 05ce 04F4      		brge .+2
 833 05d0 00C0      		rjmp .L60
 834 05d2 6150      		subi r22,lo8(-(-1))
 835 05d4 7040      		sbci r23,hi8(-(-1))
 836 05d6 8040      		sbci r24,hlo8(-(-1))
 837 05d8 9040      		sbci r25,hhi8(-(-1))
 838 05da F801      		movw r30,r16
 839 05dc 6283      		std Z+2,r22
 840 05de 7383      		std Z+3,r23
 841 05e0 8483      		std Z+4,r24
 842 05e2 9583      		std Z+5,r25
 843 05e4 8081      		ld r24,Z
 844 05e6 9181      		ldd r25,Z+1
 845 05e8 40E0      		ldi r20,lo8(0)
 846 05ea 50E0      		ldi r21,hi8(0)
 847 05ec 60E0      		ldi r22,hlo8(0)
 848 05ee 70E0      		ldi r23,hhi8(0)
 849 05f0 20E0      		ldi r18,lo8(0)
 850 05f2 30E0      		ldi r19,hi8(0)
 851 05f4 0E94 0000 		call _seek
 852 05f8 F801      		movw r30,r16
 853 05fa 1086      		std Z+8,__zero_reg__
 854 05fc 7E01      		movw r14,r28
 855 05fe 0894      		sec
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc9Li0RQ.s 			page 16


 856 0600 E11C      		adc r14,__zero_reg__
 857 0602 F11C      		adc r15,__zero_reg__
 858               	.L63:
 859 0604 F801      		movw r30,r16
 860 0606 8081      		ld r24,Z
 861 0608 9181      		ldd r25,Z+1
 862 060a B701      		movw r22,r14
 863 060c 41E0      		ldi r20,lo8(1)
 864 060e 50E0      		ldi r21,hi8(1)
 865 0610 0E94 0000 		call _read
 866 0614 0197      		sbiw r24,1
 867 0616 01F4      		brne .L60
 868 0618 4981      		ldd r20,Y+1
 869 061a 4F3F      		cpi r20,lo8(-1)
 870 061c 01F0      		breq .L61
 871 061e F801      		movw r30,r16
 872 0620 4187      		std Z+9,r20
 873 0622 4423      		tst r20
 874 0624 01F0      		breq .L62
 875 0626 B801      		movw r22,r16
 876 0628 665F      		subi r22,lo8(-(10))
 877 062a 7F4F      		sbci r23,hi8(-(10))
 878 062c 8081      		ld r24,Z
 879 062e 9181      		ldd r25,Z+1
 880 0630 50E0      		ldi r21,lo8(0)
 881 0632 0E94 0000 		call _read
 882 0636 2981      		ldd r18,Y+1
 883 0638 30E0      		ldi r19,lo8(0)
 884 063a 8217      		cp r24,r18
 885 063c 9307      		cpc r25,r19
 886 063e 01F4      		brne .L60
 887               	.L62:
 888 0640 C801      		movw r24,r16
 889 0642 0696      		adiw r24,6
 890 0644 0E94 0000 		call NutEventPost
 891 0648 00C0      		rjmp .L59
 892               	.L61:
 893 064a F801      		movw r30,r16
 894 064c 8081      		ld r24,Z
 895 064e 9181      		ldd r25,Z+1
 896 0650 4FEF      		ldi r20,lo8(255)
 897 0652 50E0      		ldi r21,hi8(255)
 898 0654 60E0      		ldi r22,hlo8(255)
 899 0656 70E0      		ldi r23,hhi8(255)
 900 0658 21E0      		ldi r18,lo8(1)
 901 065a 30E0      		ldi r19,hi8(1)
 902 065c 0E94 0000 		call _seek
 903 0660 F801      		movw r30,r16
 904 0662 8085      		ldd r24,Z+8
 905 0664 8F5F      		subi r24,lo8(-(1))
 906 0666 8087      		std Z+8,r24
 907 0668 00C0      		rjmp .L63
 908               	.L64:
 909 066a 0E94 0000 		call _close
 910               	.L65:
 911 066e C801      		movw r24,r16
 912 0670 0E94 0000 		call free
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc9Li0RQ.s 			page 17


 913 0674 CC24      		clr r12
 914 0676 DD24      		clr r13
 915               	.L59:
 916 0678 C601      		movw r24,r12
 917               	/* epilogue start */
 918 067a 0F90      		pop __tmp_reg__
 919 067c CF91      		pop r28
 920 067e DF91      		pop r29
 921 0680 1F91      		pop r17
 922 0682 0F91      		pop r16
 923 0684 FF90      		pop r15
 924 0686 EF90      		pop r14
 925 0688 DF90      		pop r13
 926 068a CF90      		pop r12
 927 068c 0895      		ret
 928               	.L60:
 929 068e F801      		movw r30,r16
 930 0690 8081      		ld r24,Z
 931 0692 9181      		ldd r25,Z+1
 932 0694 FFEF      		ldi r31,hi8(-1)
 933 0696 8F3F      		cpi r24,lo8(-1)
 934 0698 9F07      		cpc r25,r31
 935 069a 01F4      		brne .L64
 936 069c 00C0      		rjmp .L65
 937               		.size	PerCiOpen, .-PerCiOpen
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc9Li0RQ.s 			page 18


DEFINED SYMBOLS
                            *ABS*:00000000 perci.c
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc9Li0RQ.s:2      *ABS*:0000003f __SREG__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc9Li0RQ.s:3      *ABS*:0000003e __SP_H__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc9Li0RQ.s:4      *ABS*:0000003d __SP_L__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc9Li0RQ.s:5      *ABS*:00000034 __CCP__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc9Li0RQ.s:6      *ABS*:00000000 __tmp_reg__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc9Li0RQ.s:7      *ABS*:00000001 __zero_reg__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc9Li0RQ.s:11     .text:00000000 PerCiDump
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc9Li0RQ.s:18     .text:00000002 FindNextData
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc9Li0RQ.s:151    .text:000000fc PerCiRead
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc9Li0RQ.s:278    .text:000001e4 PerCiReadLine
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc9Li0RQ.s:330    .text:0000023a PerCiDetachReader
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc9Li0RQ.s:339    .text:00000240 PerCiAttachReader
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc9Li0RQ.s:382    .text:0000028c PerCiWrite
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc9Li0RQ.s:561    .text:000003e6 PerCiWriteVarList
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc9Li0RQ.s:624    .text:0000045a PerCiWriteFormat
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc9Li0RQ.s:647    .text:0000047c PerCiFlush
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc9Li0RQ.s:683    .text:000004ba PerCiClose
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc9Li0RQ.s:707    .text:000004e0 PerCiInit
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc9Li0RQ.s:782    .text:0000056a PerCiOpen

UNDEFINED SYMBOLS
NutEventWait
_seek
_read
NutEventPost
memcpy
free
malloc
_write
vsprintf
_close
_open
calloc
_filelength
