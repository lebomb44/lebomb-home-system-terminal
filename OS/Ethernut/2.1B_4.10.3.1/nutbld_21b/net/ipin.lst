GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cctH3Qdi.s 			page 1


   1               		.file	"ipin.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__  = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.text
   9               	.global	NutIpSetInputFilter
  10               		.type	NutIpSetInputFilter, @function
  11               	NutIpSetInputFilter:
  12               	/* prologue: function */
  13               	/* frame size = 0 */
  14 0000 9093 0000 		sts (NutIpFilter)+1,r25
  15 0004 8093 0000 		sts NutIpFilter,r24
  16               	/* epilogue start */
  17 0008 0895      		ret
  18               		.size	NutIpSetInputFilter, .-NutIpSetInputFilter
  19               	.global	NutIpInput
  20               		.type	NutIpInput, @function
  21               	NutIpInput:
  22 000a AF92      		push r10
  23 000c BF92      		push r11
  24 000e DF92      		push r13
  25 0010 EF92      		push r14
  26 0012 FF92      		push r15
  27 0014 0F93      		push r16
  28 0016 1F93      		push r17
  29 0018 CF93      		push r28
  30 001a DF93      		push r29
  31               	/* prologue: function */
  32               	/* frame size = 0 */
  33 001c 5C01      		movw r10,r24
  34 001e EB01      		movw r28,r22
  35 0020 0F81      		ldd r16,Y+7
  36 0022 1885      		ldd r17,Y+8
  37 0024 D801      		movw r26,r16
  38 0026 8C91      		ld r24,X
  39 0028 807F      		andi r24,lo8(-16)
  40 002a 8034      		cpi r24,lo8(64)
  41 002c 01F0      		breq .+2
  42 002e 00C0      		rjmp .L28
  43 0030 1696      		adiw r26,6
  44 0032 8D91      		ld r24,X+
  45 0034 9C91      		ld r25,X
  46 0036 1797      		sbiw r26,6+1
  47               	/* #APP */
  48               	 ;  305 "../../nut/include/sys/types.h" 1
  49 0038 082E      		mov __tmp_reg__, r24
  50 003a 892F      		mov r24, r25
  51 003c 902D      		mov r25, __tmp_reg__
  52               		
  53               	 ;  0 "" 2
  54               	/* #NOAPP */
  55 003e 9F73      		andi r25,hi8(16383)
  56 0040 892B      		or r24,r25
  57 0042 01F0      		breq .+2
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cctH3Qdi.s 			page 2


  58 0044 00C0      		rjmp .L28
  59 0046 E091 0000 		lds r30,NutIpFilter
  60 004a F091 0000 		lds r31,(NutIpFilter)+1
  61 004e 3097      		sbiw r30,0
  62 0050 01F0      		breq .L5
  63 0052 1C96      		adiw r26,12
  64 0054 6D91      		ld r22,X+
  65 0056 7D91      		ld r23,X+
  66 0058 8D91      		ld r24,X+
  67 005a 9C91      		ld r25,X
  68 005c 1F97      		sbiw r26,12+3
  69 005e 0995      		icall
  70 0060 892B      		or r24,r25
  71 0062 01F0      		breq .+2
  72 0064 00C0      		rjmp .L28
  73               	.L5:
  74 0066 F801      		movw r30,r16
  75 0068 6081      		ld r22,Z
  76 006a 6F70      		andi r22,lo8(15)
  77 006c 660F      		lsl r22
  78 006e 660F      		lsl r22
  79 0070 6431      		cpi r22,lo8(20)
  80 0072 00F4      		brsh .+2
  81 0074 00C0      		rjmp .L28
  82 0076 E62E      		mov r14,r22
  83 0078 FF24      		clr r15
  84 007a 8985      		ldd r24,Y+9
  85 007c 9A85      		ldd r25,Y+10
  86 007e 8E15      		cp r24,r14
  87 0080 9F05      		cpc r25,r15
  88 0082 04F4      		brge .+2
  89 0084 00C0      		rjmp .L28
  90               	.L8:
  91 0086 D801      		movw r26,r16
  92 0088 5096      		adiw r26,16
  93 008a 2D91      		ld r18,X+
  94 008c 3D91      		ld r19,X+
  95 008e 4D91      		ld r20,X+
  96 0090 5C91      		ld r21,X
  97 0092 5397      		sbiw r26,16+3
  98 0094 F501      		movw r30,r10
  99 0096 8785      		ldd r24,Z+15
 100 0098 9089      		ldd r25,Z+16
 101 009a 2F3F      		cpi r18,lo8(-1)
 102 009c FFEF      		ldi r31,hi8(-1)
 103 009e 3F07      		cpc r19,r31
 104 00a0 FFEF      		ldi r31,hlo8(-1)
 105 00a2 4F07      		cpc r20,r31
 106 00a4 FFEF      		ldi r31,hhi8(-1)
 107 00a6 5F07      		cpc r21,r31
 108 00a8 01F4      		brne .+2
 109 00aa 00C0      		rjmp .L9
 110 00ac FC01      		movw r30,r24
 111 00ae 8385      		ldd r24,Z+11
 112 00b0 9485      		ldd r25,Z+12
 113 00b2 A585      		ldd r26,Z+13
 114 00b4 B685      		ldd r27,Z+14
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cctH3Qdi.s 			page 3


 115 00b6 0097      		sbiw r24,0
 116 00b8 A105      		cpc r26,__zero_reg__
 117 00ba B105      		cpc r27,__zero_reg__
 118 00bc 01F0      		breq .L10
 119 00be 8389      		ldd r24,Z+19
 120 00c0 9489      		ldd r25,Z+20
 121 00c2 A589      		ldd r26,Z+21
 122 00c4 B689      		ldd r27,Z+22
 123 00c6 8F3F      		cpi r24,lo8(-1)
 124 00c8 7FEF      		ldi r23,hi8(-1)
 125 00ca 9707      		cpc r25,r23
 126 00cc 7FEF      		ldi r23,hlo8(-1)
 127 00ce A707      		cpc r26,r23
 128 00d0 7FEF      		ldi r23,hhi8(-1)
 129 00d2 B707      		cpc r27,r23
 130 00d4 01F0      		breq .L10
 131 00d6 822B      		or r24,r18
 132 00d8 932B      		or r25,r19
 133 00da A42B      		or r26,r20
 134 00dc B52B      		or r27,r21
 135 00de 8F5F      		subi r24,lo8(-1)
 136 00e0 9F4F      		sbci r25,hi8(-1)
 137 00e2 AF4F      		sbci r26,hlo8(-1)
 138 00e4 BF4F      		sbci r27,hhi8(-1)
 139 00e6 01F0      		breq .L9
 140               	.L10:
 141 00e8 DA01      		movw r26,r20
 142 00ea C901      		movw r24,r18
 143 00ec 807F      		andi r24,lo8(240)
 144 00ee 9070      		andi r25,hi8(240)
 145 00f0 A070      		andi r26,hlo8(240)
 146 00f2 B070      		andi r27,hhi8(240)
 147 00f4 803E      		cpi r24,lo8(224)
 148 00f6 9105      		cpc r25,__zero_reg__
 149 00f8 A105      		cpc r26,__zero_reg__
 150 00fa B105      		cpc r27,__zero_reg__
 151 00fc 01F4      		brne .L11
 152 00fe 058C      		ldd __tmp_reg__,Z+29
 153 0100 F68D      		ldd r31,Z+30
 154 0102 E02D      		mov r30,__tmp_reg__
 155 0104 00C0      		rjmp .L12
 156               	.L15:
 157 0106 8085      		ldd r24,Z+8
 158 0108 9185      		ldd r25,Z+9
 159 010a A285      		ldd r26,Z+10
 160 010c B385      		ldd r27,Z+11
 161 010e 2817      		cp r18,r24
 162 0110 3907      		cpc r19,r25
 163 0112 4A07      		cpc r20,r26
 164 0114 5B07      		cpc r21,r27
 165 0116 01F4      		brne .L13
 166 0118 82E0      		ldi r24,lo8(2)
 167 011a D82E      		mov r13,r24
 168 011c 00C0      		rjmp .L14
 169               	.L13:
 170 011e 0190      		ld __tmp_reg__,Z+
 171 0120 F081      		ld r31,Z
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cctH3Qdi.s 			page 4


 172 0122 E02D      		mov r30,__tmp_reg__
 173               	.L12:
 174 0124 3097      		sbiw r30,0
 175 0126 01F4      		brne .L15
 176 0128 00C0      		rjmp .L28
 177               	.L11:
 178 012a 8A81      		ldd r24,Y+2
 179 012c 8860      		ori r24,lo8(8)
 180 012e 8A83      		std Y+2,r24
 181 0130 8385      		ldd r24,Z+11
 182 0132 9485      		ldd r25,Z+12
 183 0134 A585      		ldd r26,Z+13
 184 0136 B685      		ldd r27,Z+14
 185 0138 0097      		sbiw r24,0
 186 013a A105      		cpc r26,__zero_reg__
 187 013c B105      		cpc r27,__zero_reg__
 188 013e 01F0      		breq .L17
 189 0140 2115      		cp r18,__zero_reg__
 190 0142 3105      		cpc r19,__zero_reg__
 191 0144 4105      		cpc r20,__zero_reg__
 192 0146 5105      		cpc r21,__zero_reg__
 193 0148 01F4      		brne .+2
 194 014a 00C0      		rjmp .L28
 195 014c 2817      		cp r18,r24
 196 014e 3907      		cpc r19,r25
 197 0150 4A07      		cpc r20,r26
 198 0152 5B07      		cpc r21,r27
 199 0154 01F0      		breq .+2
 200 0156 00C0      		rjmp .L28
 201 0158 00C0      		rjmp .L17
 202               	.L9:
 203 015a DD24      		clr r13
 204 015c D394      		inc r13
 205 015e 00C0      		rjmp .L14
 206               	.L17:
 207 0160 DD24      		clr r13
 208               	.L14:
 209 0162 D801      		movw r26,r16
 210 0164 1296      		adiw r26,2
 211 0166 2D91      		ld r18,X+
 212 0168 3C91      		ld r19,X
 213 016a 1397      		sbiw r26,2+1
 214               	/* #APP */
 215               	 ;  305 "../../nut/include/sys/types.h" 1
 216 016c 022E      		mov __tmp_reg__, r18
 217 016e 232F      		mov r18, r19
 218 0170 302D      		mov r19, __tmp_reg__
 219               		
 220               	 ;  0 "" 2
 221               	/* #NOAPP */
 222 0172 3E87      		std Y+14,r19
 223 0174 2D87      		std Y+13,r18
 224 0176 2E15      		cp r18,r14
 225 0178 3F05      		cpc r19,r15
 226 017a 04F0      		brlt .L28
 227 017c 8985      		ldd r24,Y+9
 228 017e 9A85      		ldd r25,Y+10
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cctH3Qdi.s 			page 5


 229 0180 8217      		cp r24,r18
 230 0182 9307      		cpc r25,r19
 231 0184 04F0      		brlt .L28
 232               	.L20:
 233 0186 FA86      		std Y+10,r15
 234 0188 E986      		std Y+9,r14
 235 018a C901      		movw r24,r18
 236 018c 8E19      		sub r24,r14
 237 018e 9F09      		sbc r25,r15
 238 0190 9E87      		std Y+14,r25
 239 0192 8D87      		std Y+13,r24
 240 0194 892B      		or r24,r25
 241 0196 01F0      		breq .L21
 242 0198 C801      		movw r24,r16
 243 019a 860F      		add r24,r22
 244 019c 911D      		adc r25,__zero_reg__
 245 019e 9C87      		std Y+12,r25
 246 01a0 8B87      		std Y+11,r24
 247               	.L21:
 248 01a2 E091 0000 		lds r30,ip_demux
 249 01a6 F091 0000 		lds r31,(ip_demux)+1
 250 01aa 3097      		sbiw r30,0
 251 01ac 01F0      		breq .L22
 252 01ae C501      		movw r24,r10
 253 01b0 BE01      		movw r22,r28
 254 01b2 0995      		icall
 255 01b4 892B      		or r24,r25
 256 01b6 01F0      		breq .L27
 257               	.L22:
 258 01b8 F801      		movw r30,r16
 259 01ba 8185      		ldd r24,Z+9
 260 01bc 8130      		cpi r24,lo8(1)
 261 01be 01F0      		breq .L24
 262 01c0 8230      		cpi r24,lo8(2)
 263 01c2 01F4      		brne .L29
 264 01c4 00C0      		rjmp .L30
 265               	.L24:
 266 01c6 C501      		movw r24,r10
 267 01c8 BE01      		movw r22,r28
 268 01ca 0E94 0000 		call NutIcmpInput
 269 01ce 00C0      		rjmp .L27
 270               	.L30:
 271 01d0 C501      		movw r24,r10
 272 01d2 BE01      		movw r22,r28
 273 01d4 0E94 0000 		call NutIgmpInput
 274 01d8 00C0      		rjmp .L27
 275               	.L29:
 276 01da DD20      		tst r13
 277 01dc 01F4      		brne .L28
 278 01de 83E0      		ldi r24,lo8(3)
 279 01e0 62E0      		ldi r22,lo8(2)
 280 01e2 20E0      		ldi r18,lo8(0)
 281 01e4 30E0      		ldi r19,hi8(0)
 282 01e6 40E0      		ldi r20,hlo8(0)
 283 01e8 50E0      		ldi r21,hhi8(0)
 284 01ea 8E01      		movw r16,r28
 285 01ec 0E94 0000 		call NutIcmpResponse
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cctH3Qdi.s 			page 6


 286 01f0 892B      		or r24,r25
 287 01f2 01F4      		brne .L27
 288               	.L28:
 289 01f4 CE01      		movw r24,r28
 290 01f6 0E94 0000 		call NutNetBufFree
 291               	.L27:
 292               	/* epilogue start */
 293 01fa DF91      		pop r29
 294 01fc CF91      		pop r28
 295 01fe 1F91      		pop r17
 296 0200 0F91      		pop r16
 297 0202 FF90      		pop r15
 298 0204 EF90      		pop r14
 299 0206 DF90      		pop r13
 300 0208 BF90      		pop r11
 301 020a AF90      		pop r10
 302 020c 0895      		ret
 303               		.size	NutIpInput, .-NutIpInput
 304               		.lcomm NutIpFilter,2
 305               		.comm ip_demux,2,1
 306               	.global __do_clear_bss
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cctH3Qdi.s 			page 7


DEFINED SYMBOLS
                            *ABS*:00000000 ipin.c
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cctH3Qdi.s:2      *ABS*:0000003f __SREG__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cctH3Qdi.s:3      *ABS*:0000003e __SP_H__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cctH3Qdi.s:4      *ABS*:0000003d __SP_L__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cctH3Qdi.s:5      *ABS*:00000034 __CCP__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cctH3Qdi.s:6      *ABS*:00000000 __tmp_reg__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cctH3Qdi.s:7      *ABS*:00000001 __zero_reg__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cctH3Qdi.s:11     .text:00000000 NutIpSetInputFilter
                             .bss:00000000 NutIpFilter
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cctH3Qdi.s:21     .text:0000000a NutIpInput
                            *COM*:00000002 ip_demux

UNDEFINED SYMBOLS
NutIcmpInput
NutIgmpInput
NutIcmpResponse
NutNetBufFree
__do_clear_bss
