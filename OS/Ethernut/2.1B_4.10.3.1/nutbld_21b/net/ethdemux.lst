GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc7wbTSV.s 			page 1


   1               		.file	"ethdemux.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__  = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.text
   9               		.type	NutEtherDemux, @function
  10               	NutEtherDemux:
  11 0000 CF92      		push r12
  12 0002 DF92      		push r13
  13 0004 EF92      		push r14
  14 0006 FF92      		push r15
  15 0008 0F93      		push r16
  16 000a 1F93      		push r17
  17 000c CF93      		push r28
  18 000e DF93      		push r29
  19               	/* prologue: function */
  20               	/* frame size = 0 */
  21 0010 6C01      		movw r12,r24
  22 0012 7B01      		movw r14,r22
  23 0014 DB01      		movw r26,r22
  24 0016 1396      		adiw r26,3
  25 0018 ED91      		ld r30,X+
  26 001a FC91      		ld r31,X
  27 001c 1497      		sbiw r26,3+1
  28 001e 0485      		ldd r16,Z+12
  29 0020 1585      		ldd r17,Z+13
  30               	/* #APP */
  31               	 ;  305 "../../nut/include/sys/types.h" 1
  32 0022 002E      		mov __tmp_reg__, r16
  33 0024 012F      		mov r16, r17
  34 0026 102D      		mov r17, __tmp_reg__
  35               		
  36               	 ;  0 "" 2
  37               	/* #NOAPP */
  38 0028 C091 0000 		lds r28,eth_prot
  39 002c D091 0000 		lds r29,(eth_prot)+1
  40 0030 00C0      		rjmp .L2
  41               	.L5:
  42 0032 8C81      		ldd r24,Y+4
  43 0034 9D81      		ldd r25,Y+5
  44 0036 8023      		and r24,r16
  45 0038 9123      		and r25,r17
  46 003a 2A81      		ldd r18,Y+2
  47 003c 3B81      		ldd r19,Y+3
  48 003e 8217      		cp r24,r18
  49 0040 9307      		cpc r25,r19
  50 0042 01F4      		brne .L3
  51 0044 EE81      		ldd r30,Y+6
  52 0046 FF81      		ldd r31,Y+7
  53 0048 3097      		sbiw r30,0
  54 004a 01F0      		breq .L3
  55 004c C601      		movw r24,r12
  56 004e B701      		movw r22,r14
  57 0050 0995      		icall
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc7wbTSV.s 			page 2


  58 0052 892B      		or r24,r25
  59 0054 01F4      		brne .L3
  60 0056 20E0      		ldi r18,lo8(0)
  61 0058 30E0      		ldi r19,hi8(0)
  62 005a 00C0      		rjmp .L4
  63               	.L3:
  64 005c 0990      		ld __tmp_reg__,Y+
  65 005e D881      		ld r29,Y
  66 0060 C02D      		mov r28,__tmp_reg__
  67               	.L2:
  68 0062 2097      		sbiw r28,0
  69 0064 01F4      		brne .L5
  70 0066 2FEF      		ldi r18,lo8(-1)
  71 0068 3FEF      		ldi r19,hi8(-1)
  72               	.L4:
  73 006a C901      		movw r24,r18
  74               	/* epilogue start */
  75 006c DF91      		pop r29
  76 006e CF91      		pop r28
  77 0070 1F91      		pop r17
  78 0072 0F91      		pop r16
  79 0074 FF90      		pop r15
  80 0076 EF90      		pop r14
  81 0078 DF90      		pop r13
  82 007a CF90      		pop r12
  83 007c 0895      		ret
  84               		.size	NutEtherDemux, .-NutEtherDemux
  85               	.global	NutRegisterEthHandler
  86               		.type	NutRegisterEthHandler, @function
  87               	NutRegisterEthHandler:
  88 007e EF92      		push r14
  89 0080 FF92      		push r15
  90 0082 0F93      		push r16
  91 0084 1F93      		push r17
  92 0086 CF93      		push r28
  93 0088 DF93      		push r29
  94               	/* prologue: function */
  95               	/* frame size = 0 */
  96 008a EC01      		movw r28,r24
  97 008c 8B01      		movw r16,r22
  98 008e 7A01      		movw r14,r20
  99 0090 A091 0000 		lds r26,eth_prot
 100 0094 B091 0000 		lds r27,(eth_prot)+1
 101 0098 00C0      		rjmp .L8
 102               	.L11:
 103 009a 1296      		adiw r26,2
 104 009c 8D91      		ld r24,X+
 105 009e 9C91      		ld r25,X
 106 00a0 1397      		sbiw r26,2+1
 107 00a2 8C17      		cp r24,r28
 108 00a4 9D07      		cpc r25,r29
 109 00a6 01F4      		brne .L9
 110 00a8 1496      		adiw r26,4
 111 00aa 8D91      		ld r24,X+
 112 00ac 9C91      		ld r25,X
 113 00ae 1597      		sbiw r26,4+1
 114 00b0 8017      		cp r24,r16
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc7wbTSV.s 			page 3


 115 00b2 9107      		cpc r25,r17
 116 00b4 01F0      		breq .L10
 117               	.L9:
 118 00b6 0D90      		ld __tmp_reg__,X+
 119 00b8 BC91      		ld r27,X
 120 00ba A02D      		mov r26,__tmp_reg__
 121               	.L8:
 122 00bc 1097      		sbiw r26,0
 123 00be 01F4      		brne .L11
 124 00c0 00C0      		rjmp .L18
 125               	.L14:
 126 00c2 D383      		std Z+3,r29
 127 00c4 C283      		std Z+2,r28
 128 00c6 1583      		std Z+5,r17
 129 00c8 0483      		std Z+4,r16
 130 00ca 8091 0000 		lds r24,eth_prot
 131 00ce 9091 0000 		lds r25,(eth_prot)+1
 132 00d2 0097      		sbiw r24,0
 133 00d4 01F4      		brne .L13
 134 00d6 B093 0000 		sts (eth_prot)+1,r27
 135 00da A093 0000 		sts eth_prot,r26
 136 00de 80E0      		ldi r24,lo8(gs(NutEtherDemux))
 137 00e0 90E0      		ldi r25,hi8(gs(NutEtherDemux))
 138 00e2 9093 0000 		sts (ether_demux)+1,r25
 139 00e6 8093 0000 		sts ether_demux,r24
 140 00ea 00C0      		rjmp .L10
 141               	.L13:
 142 00ec 1196      		adiw r26,1
 143 00ee 9C93      		st X,r25
 144 00f0 8E93      		st -X,r24
 145 00f2 B093 0000 		sts (eth_prot)+1,r27
 146 00f6 A093 0000 		sts eth_prot,r26
 147               	.L10:
 148 00fa 1796      		adiw r26,6+1
 149 00fc FC92      		st X,r15
 150 00fe EE92      		st -X,r14
 151 0100 1697      		sbiw r26,6
 152 0102 20E0      		ldi r18,lo8(0)
 153 0104 30E0      		ldi r19,hi8(0)
 154               	.L15:
 155 0106 C901      		movw r24,r18
 156               	/* epilogue start */
 157 0108 DF91      		pop r29
 158 010a CF91      		pop r28
 159 010c 1F91      		pop r17
 160 010e 0F91      		pop r16
 161 0110 FF90      		pop r15
 162 0112 EF90      		pop r14
 163 0114 0895      		ret
 164               	.L18:
 165 0116 81E0      		ldi r24,lo8(1)
 166 0118 90E0      		ldi r25,hi8(1)
 167 011a 68E0      		ldi r22,lo8(8)
 168 011c 70E0      		ldi r23,hi8(8)
 169 011e 0E94 0000 		call calloc
 170 0122 FC01      		movw r30,r24
 171 0124 DC01      		movw r26,r24
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc7wbTSV.s 			page 4


 172 0126 0097      		sbiw r24,0
 173 0128 01F4      		brne .L14
 174 012a 2FEF      		ldi r18,lo8(-1)
 175 012c 3FEF      		ldi r19,hi8(-1)
 176 012e 00C0      		rjmp .L15
 177               		.size	NutRegisterEthHandler, .-NutRegisterEthHandler
 178               		.lcomm eth_prot,2
 179               	.global __do_clear_bss
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc7wbTSV.s 			page 5


DEFINED SYMBOLS
                            *ABS*:00000000 ethdemux.c
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc7wbTSV.s:2      *ABS*:0000003f __SREG__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc7wbTSV.s:3      *ABS*:0000003e __SP_H__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc7wbTSV.s:4      *ABS*:0000003d __SP_L__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc7wbTSV.s:5      *ABS*:00000034 __CCP__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc7wbTSV.s:6      *ABS*:00000000 __tmp_reg__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc7wbTSV.s:7      *ABS*:00000001 __zero_reg__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc7wbTSV.s:10     .text:00000000 NutEtherDemux
                             .bss:00000000 eth_prot
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc7wbTSV.s:87     .text:0000007e NutRegisterEthHandler

UNDEFINED SYMBOLS
ether_demux
calloc
__do_clear_bss
