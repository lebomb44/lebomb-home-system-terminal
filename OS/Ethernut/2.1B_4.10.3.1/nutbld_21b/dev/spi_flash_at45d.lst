GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsFDSle.s 			page 1


   1               		.file	"spi_flash_at45d.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__  = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.text
   9               		.type	SpiAt45dFlashCheck, @function
  10               	SpiAt45dFlashCheck:
  11               	/* prologue: function */
  12               	/* frame size = 0 */
  13 0000 80E0      		ldi r24,lo8(0)
  14 0002 90E0      		ldi r25,hi8(0)
  15               	/* epilogue start */
  16 0004 0895      		ret
  17               		.size	SpiAt45dFlashCheck, .-SpiAt45dFlashCheck
  18               		.type	SpiAt45dFlashErase, @function
  19               	SpiAt45dFlashErase:
  20 0006 8F92      		push r8
  21 0008 9F92      		push r9
  22 000a AF92      		push r10
  23 000c BF92      		push r11
  24 000e CF92      		push r12
  25 0010 DF92      		push r13
  26 0012 EF92      		push r14
  27 0014 FF92      		push r15
  28 0016 0F93      		push r16
  29 0018 CF93      		push r28
  30 001a DF93      		push r29
  31               	/* prologue: function */
  32               	/* frame size = 0 */
  33 001c 4C01      		movw r8,r24
  34 001e 5A01      		movw r10,r20
  35 0020 FC01      		movw r30,r24
  36 0022 E280      		ldd r14,Z+2
  37 0024 F380      		ldd r15,Z+3
  38 0026 F701      		movw r30,r14
  39 0028 4081      		ld r20,Z
  40 002a 5181      		ldd r21,Z+1
  41 002c 4617      		cp r20,r22
  42 002e 5707      		cpc r21,r23
  43 0030 00F0      		brlo .L4
  44 0032 C501      		movw r24,r10
  45 0034 860F      		add r24,r22
  46 0036 971F      		adc r25,r23
  47 0038 4817      		cp r20,r24
  48 003a 5907      		cpc r21,r25
  49 003c 00F4      		brsh .L4
  50 003e 8FEF      		ldi r24,lo8(-1)
  51 0040 9FEF      		ldi r25,hi8(-1)
  52 0042 9183      		std Z+1,r25
  53 0044 8083      		st Z,r24
  54 0046 8481      		ldd r24,Z+4
  55 0048 8E7F      		andi r24,lo8(-2)
  56 004a 8483      		std Z+4,r24
  57               	.L4:
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsFDSle.s 			page 2


  58 004c F701      		movw r30,r14
  59 004e 4281      		ldd r20,Z+2
  60 0050 5381      		ldd r21,Z+3
  61 0052 4617      		cp r20,r22
  62 0054 5707      		cpc r21,r23
  63 0056 00F0      		brlo .L5
  64 0058 C501      		movw r24,r10
  65 005a 860F      		add r24,r22
  66 005c 971F      		adc r25,r23
  67 005e 4817      		cp r20,r24
  68 0060 5907      		cpc r21,r25
  69 0062 00F4      		brsh .L5
  70 0064 8FEF      		ldi r24,lo8(-1)
  71 0066 9FEF      		ldi r25,hi8(-1)
  72 0068 9383      		std Z+3,r25
  73 006a 8283      		std Z+2,r24
  74 006c 8581      		ldd r24,Z+5
  75 006e 8E7F      		andi r24,lo8(-2)
  76 0070 8583      		std Z+5,r24
  77               	.L5:
  78 0072 6B01      		movw r12,r22
  79 0074 0894      		sec
  80 0076 C108      		sbc r12,__zero_reg__
  81 0078 D108      		sbc r13,__zero_reg__
  82 007a CA0C      		add r12,r10
  83 007c DB1C      		adc r13,r11
  84 007e 00C0      		rjmp .L6
  85               	.L9:
  86 0080 F701      		movw r30,r14
  87 0082 0485      		ldd r16,Z+12
  88 0084 F401      		movw r30,r8
  89 0086 8081      		ld r24,Z
  90 0088 9181      		ldd r25,Z+1
  91 008a 0E94 0000 		call At45dNodeLock
  92 008e EC01      		movw r28,r24
  93 0090 0097      		sbiw r24,0
  94 0092 01F4      		brne .L7
  95 0094 0894      		sec
  96 0096 A108      		sbc r10,__zero_reg__
  97 0098 B108      		sbc r11,__zero_reg__
  98 009a 9601      		movw r18,r12
  99 009c 40E0      		ldi r20,lo8(0)
 100 009e 50E0      		ldi r21,hi8(0)
 101 00a0 00C0      		rjmp 2f
 102 00a2 220F      	1:	lsl r18
 103 00a4 331F      		rol r19
 104 00a6 441F      		rol r20
 105 00a8 551F      		rol r21
 106 00aa 0A95      	2:	dec r16
 107 00ac 02F4      		brpl 1b
 108 00ae F401      		movw r30,r8
 109 00b0 8081      		ld r24,Z
 110 00b2 9181      		ldd r25,Z+1
 111 00b4 61E8      		ldi r22,lo8(-127)
 112 00b6 04E0      		ldi r16,lo8(4)
 113 00b8 0E94 0000 		call At45dNodeCommand
 114 00bc EC01      		movw r28,r24
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsFDSle.s 			page 3


 115 00be 0097      		sbiw r24,0
 116 00c0 01F4      		brne .L8
 117 00c2 F401      		movw r30,r8
 118 00c4 8081      		ld r24,Z
 119 00c6 9181      		ldd r25,Z+1
 120 00c8 48EE      		ldi r20,lo8(1000)
 121 00ca 53E0      		ldi r21,hi8(1000)
 122 00cc 60E0      		ldi r22,hlo8(1000)
 123 00ce 70E0      		ldi r23,hhi8(1000)
 124 00d0 20E0      		ldi r18,lo8(0)
 125 00d2 30E0      		ldi r19,hi8(0)
 126 00d4 0E94 0000 		call At45dNodeWaitReady
 127               	.L8:
 128 00d8 F401      		movw r30,r8
 129 00da 8081      		ld r24,Z
 130 00dc 9181      		ldd r25,Z+1
 131 00de 0E94 0000 		call At45dNodeUnlock
 132 00e2 0894      		sec
 133 00e4 C108      		sbc r12,__zero_reg__
 134 00e6 D108      		sbc r13,__zero_reg__
 135 00e8 2097      		sbiw r28,0
 136 00ea 01F4      		brne .L7
 137               	.L6:
 138 00ec A114      		cp r10,__zero_reg__
 139 00ee B104      		cpc r11,__zero_reg__
 140 00f0 01F4      		brne .L9
 141 00f2 C0E0      		ldi r28,lo8(0)
 142 00f4 D0E0      		ldi r29,hi8(0)
 143               	.L7:
 144 00f6 CE01      		movw r24,r28
 145               	/* epilogue start */
 146 00f8 DF91      		pop r29
 147 00fa CF91      		pop r28
 148 00fc 0F91      		pop r16
 149 00fe FF90      		pop r15
 150 0100 EF90      		pop r14
 151 0102 DF90      		pop r13
 152 0104 CF90      		pop r12
 153 0106 BF90      		pop r11
 154 0108 AF90      		pop r10
 155 010a 9F90      		pop r9
 156 010c 8F90      		pop r8
 157 010e 0895      		ret
 158               		.size	SpiAt45dFlashErase, .-SpiAt45dFlashErase
 159               		.type	At45dFlashSaveUnit, @function
 160               	At45dFlashSaveUnit:
 161 0110 4F92      		push r4
 162 0112 5F92      		push r5
 163 0114 6F92      		push r6
 164 0116 7F92      		push r7
 165 0118 8F92      		push r8
 166 011a 9F92      		push r9
 167 011c AF92      		push r10
 168 011e BF92      		push r11
 169 0120 CF92      		push r12
 170 0122 DF92      		push r13
 171 0124 EF92      		push r14
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsFDSle.s 			page 4


 172 0126 FF92      		push r15
 173 0128 0F93      		push r16
 174 012a CF93      		push r28
 175 012c DF93      		push r29
 176               	/* prologue: function */
 177               	/* frame size = 0 */
 178 012e 4C01      		movw r8,r24
 179 0130 C62E      		mov r12,r22
 180 0132 FC01      		movw r30,r24
 181 0134 0281      		ldd r16,Z+2
 182 0136 D380      		ldd r13,Z+3
 183 0138 8081      		ld r24,Z
 184 013a 9181      		ldd r25,Z+1
 185 013c 0E94 0000 		call At45dNodeLock
 186 0140 7C01      		movw r14,r24
 187 0142 0097      		sbiw r24,0
 188 0144 01F0      		breq .+2
 189 0146 00C0      		rjmp .L12
 190 0148 C02F      		mov r28,r16
 191 014a DD2D      		mov r29,r13
 192 014c 4C2C      		mov r4,r12
 193 014e 5524      		clr r5
 194 0150 47FC      		sbrc r4,7
 195 0152 5094      		com r5
 196 0154 3201      		movw r6,r4
 197 0156 660C      		lsl r6
 198 0158 771C      		rol r7
 199 015a 6C0E      		add r6,r28
 200 015c 7D1E      		adc r7,r29
 201 015e F301      		movw r30,r6
 202 0160 E584      		ldd r14,Z+13
 203 0162 F684      		ldd r15,Z+14
 204 0164 F401      		movw r30,r8
 205 0166 A480      		ldd r10,Z+4
 206 0168 B580      		ldd r11,Z+5
 207 016a 8081      		ld r24,Z
 208 016c 9181      		ldd r25,Z+1
 209 016e 67E8      		ldi r22,lo8(-121)
 210 0170 20E0      		ldi r18,lo8(0)
 211 0172 30E0      		ldi r19,hi8(0)
 212 0174 40E0      		ldi r20,hlo8(0)
 213 0176 50E0      		ldi r21,hhi8(0)
 214 0178 04E0      		ldi r16,lo8(4)
 215 017a CC24      		clr r12
 216 017c DD24      		clr r13
 217 017e 0E94 0000 		call At45dNodeTransfer
 218 0182 7C01      		movw r14,r24
 219 0184 0097      		sbiw r24,0
 220 0186 01F4      		brne .L12
 221 0188 F301      		movw r30,r6
 222 018a 2081      		ld r18,Z
 223 018c 3181      		ldd r19,Z+1
 224 018e 40E0      		ldi r20,lo8(0)
 225 0190 50E0      		ldi r21,hi8(0)
 226 0192 0C84      		ldd r0,Y+12
 227 0194 00C0      		rjmp 2f
 228 0196 220F      	1:	lsl r18
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsFDSle.s 			page 5


 229 0198 331F      		rol r19
 230 019a 441F      		rol r20
 231 019c 551F      		rol r21
 232 019e 0A94      	2:	dec r0
 233 01a0 02F4      		brpl 1b
 234 01a2 F401      		movw r30,r8
 235 01a4 8081      		ld r24,Z
 236 01a6 9181      		ldd r25,Z+1
 237 01a8 69E8      		ldi r22,lo8(-119)
 238 01aa 0E94 0000 		call At45dNodeCommand
 239 01ae 7C01      		movw r14,r24
 240 01b0 0097      		sbiw r24,0
 241 01b2 01F4      		brne .L13
 242 01b4 F401      		movw r30,r8
 243 01b6 8081      		ld r24,Z
 244 01b8 9181      		ldd r25,Z+1
 245 01ba 48EE      		ldi r20,lo8(1000)
 246 01bc 53E0      		ldi r21,hi8(1000)
 247 01be 60E0      		ldi r22,hlo8(1000)
 248 01c0 70E0      		ldi r23,hhi8(1000)
 249 01c2 20E0      		ldi r18,lo8(0)
 250 01c4 30E0      		ldi r19,hi8(0)
 251 01c6 0E94 0000 		call At45dNodeWaitReady
 252 01ca 7C01      		movw r14,r24
 253               	.L13:
 254 01cc F401      		movw r30,r8
 255 01ce 8081      		ld r24,Z
 256 01d0 9181      		ldd r25,Z+1
 257 01d2 0E94 0000 		call At45dNodeUnlock
 258 01d6 E114      		cp r14,__zero_reg__
 259 01d8 F104      		cpc r15,__zero_reg__
 260 01da 01F4      		brne .L12
 261 01dc FE01      		movw r30,r28
 262 01de E40D      		add r30,r4
 263 01e0 F51D      		adc r31,r5
 264 01e2 8481      		ldd r24,Z+4
 265 01e4 8E7F      		andi r24,lo8(-2)
 266 01e6 8483      		std Z+4,r24
 267               	.L12:
 268 01e8 C701      		movw r24,r14
 269               	/* epilogue start */
 270 01ea DF91      		pop r29
 271 01ec CF91      		pop r28
 272 01ee 0F91      		pop r16
 273 01f0 FF90      		pop r15
 274 01f2 EF90      		pop r14
 275 01f4 DF90      		pop r13
 276 01f6 CF90      		pop r12
 277 01f8 BF90      		pop r11
 278 01fa AF90      		pop r10
 279 01fc 9F90      		pop r9
 280 01fe 8F90      		pop r8
 281 0200 7F90      		pop r7
 282 0202 6F90      		pop r6
 283 0204 5F90      		pop r5
 284 0206 4F90      		pop r4
 285 0208 0895      		ret
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsFDSle.s 			page 6


 286               		.size	At45dFlashSaveUnit, .-At45dFlashSaveUnit
 287               		.type	SpiAt45dFlashCommit, @function
 288               	SpiAt45dFlashCommit:
 289               	/* prologue: function */
 290               	/* frame size = 0 */
 291 020a DC01      		movw r26,r24
 292 020c 1296      		adiw r26,2
 293 020e ED91      		ld r30,X+
 294 0210 FC91      		ld r31,X
 295 0212 1397      		sbiw r26,2+1
 296 0214 8081      		ld r24,Z
 297 0216 9181      		ldd r25,Z+1
 298 0218 8617      		cp r24,r22
 299 021a 9707      		cpc r25,r23
 300 021c 01F4      		brne .L16
 301 021e 60E0      		ldi r22,lo8(0)
 302 0220 00C0      		rjmp .L17
 303               	.L16:
 304 0222 8281      		ldd r24,Z+2
 305 0224 9381      		ldd r25,Z+3
 306 0226 8617      		cp r24,r22
 307 0228 9707      		cpc r25,r23
 308 022a 01F4      		brne .L18
 309 022c 00C0      		rjmp .L24
 310               	.L25:
 311 022e CD01      		movw r24,r26
 312 0230 0E94 0000 		call At45dFlashSaveUnit
 313 0234 9C01      		movw r18,r24
 314 0236 00C0      		rjmp .L20
 315               	.L18:
 316 0238 20E0      		ldi r18,lo8(0)
 317 023a 30E0      		ldi r19,hi8(0)
 318               	.L20:
 319 023c C901      		movw r24,r18
 320               	/* epilogue start */
 321 023e 0895      		ret
 322               	.L24:
 323 0240 61E0      		ldi r22,lo8(1)
 324               	.L17:
 325 0242 E60F      		add r30,r22
 326 0244 F11D      		adc r31,__zero_reg__
 327 0246 8481      		ldd r24,Z+4
 328 0248 80FF      		sbrs r24,0
 329 024a 00C0      		rjmp .L18
 330 024c 00C0      		rjmp .L25
 331               		.size	SpiAt45dFlashCommit, .-SpiAt45dFlashCommit
 332               		.type	At45dFlashLoadUnit, @function
 333               	At45dFlashLoadUnit:
 334 024e 2F92      		push r2
 335 0250 3F92      		push r3
 336 0252 4F92      		push r4
 337 0254 5F92      		push r5
 338 0256 6F92      		push r6
 339 0258 7F92      		push r7
 340 025a 8F92      		push r8
 341 025c 9F92      		push r9
 342 025e AF92      		push r10
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsFDSle.s 			page 7


 343 0260 BF92      		push r11
 344 0262 CF92      		push r12
 345 0264 DF92      		push r13
 346 0266 EF92      		push r14
 347 0268 FF92      		push r15
 348 026a 0F93      		push r16
 349 026c 1F93      		push r17
 350 026e DF93      		push r29
 351 0270 CF93      		push r28
 352 0272 00D0      		rcall .
 353 0274 00D0      		rcall .
 354 0276 0F92      		push __tmp_reg__
 355 0278 CDB7      		in r28,__SP_L__
 356 027a DEB7      		in r29,__SP_H__
 357               	/* prologue: function */
 358               	/* frame size = 5 */
 359 027c 2C01      		movw r4,r24
 360 027e 1B01      		movw r2,r22
 361 0280 4B83      		std Y+3,r20
 362 0282 DC01      		movw r26,r24
 363 0284 1296      		adiw r26,2
 364 0286 8D90      		ld r8,X+
 365 0288 9C90      		ld r9,X
 366 028a 1397      		sbiw r26,2+1
 367 028c 8AE0      		ldi r24,lo8(10)
 368 028e E82E      		mov r14,r24
 369 0290 F12C      		mov r15,__zero_reg__
 370 0292 E80C      		add r14,r8
 371 0294 F91C      		adc r15,r9
 372 0296 10E0      		ldi r17,lo8(0)
 373 0298 00C0      		rjmp .L45
 374               	.L30:
 375 029a 212F      		mov r18,r17
 376 029c 3327      		clr r19
 377 029e 27FD      		sbrc r18,7
 378 02a0 3095      		com r19
 379 02a2 F901      		movw r30,r18
 380 02a4 EE0F      		lsl r30
 381 02a6 FF1F      		rol r31
 382 02a8 E80D      		add r30,r8
 383 02aa F91D      		adc r31,r9
 384 02ac 8081      		ld r24,Z
 385 02ae 9181      		ldd r25,Z+1
 386 02b0 8215      		cp r24,r2
 387 02b2 9305      		cpc r25,r3
 388 02b4 01F4      		brne .L28
 389 02b6 BB81      		ldd r27,Y+3
 390 02b8 BB23      		tst r27
 391 02ba 01F4      		brne .+2
 392 02bc 00C0      		rjmp .L29
 393 02be F901      		movw r30,r18
 394 02c0 3396      		adiw r30,3
 395 02c2 EE0F      		lsl r30
 396 02c4 FF1F      		rol r31
 397 02c6 E80D      		add r30,r8
 398 02c8 F91D      		adc r31,r9
 399 02ca 8081      		ld r24,Z
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsFDSle.s 			page 8


 400 02cc 9181      		ldd r25,Z+1
 401 02ce 0196      		adiw r24,1
 402 02d0 9183      		std Z+1,r25
 403 02d2 8083      		st Z,r24
 404 02d4 F401      		movw r30,r8
 405 02d6 E20F      		add r30,r18
 406 02d8 F31F      		adc r31,r19
 407 02da 8481      		ldd r24,Z+4
 408 02dc 8160      		ori r24,lo8(1)
 409 02de 8483      		std Z+4,r24
 410 02e0 00C0      		rjmp .L29
 411               	.L28:
 412 02e2 1F5F      		subi r17,lo8(-(1))
 413               	.L45:
 414 02e4 1230      		cpi r17,lo8(2)
 415 02e6 04F0      		brlt .L30
 416 02e8 1091 0000 		lds r17,bnxt.2044
 417 02ec 212F      		mov r18,r17
 418               	.L35:
 419 02ee E12F      		mov r30,r17
 420 02f0 FF27      		clr r31
 421 02f2 E7FD      		sbrc r30,7
 422 02f4 F095      		com r31
 423 02f6 A3E0      		ldi r26,lo8(3)
 424 02f8 CA2E      		mov r12,r26
 425 02fa D12C      		mov r13,__zero_reg__
 426 02fc CE0E      		add r12,r30
 427 02fe DF1E      		adc r13,r31
 428 0300 CC0C      		lsl r12
 429 0302 DD1C      		rol r13
 430 0304 C80C      		add r12,r8
 431 0306 D91C      		adc r13,r9
 432 0308 D601      		movw r26,r12
 433 030a 8D91      		ld r24,X+
 434 030c 9C91      		ld r25,X
 435 030e 892B      		or r24,r25
 436 0310 01F4      		brne .L31
 437 0312 E80D      		add r30,r8
 438 0314 F91D      		adc r31,r9
 439 0316 8481      		ldd r24,Z+4
 440 0318 80FF      		sbrs r24,0
 441 031a 00C0      		rjmp .L32
 442               	.L31:
 443 031c 1F5F      		subi r17,lo8(-(1))
 444 031e 1230      		cpi r17,lo8(2)
 445 0320 04F0      		brlt .L33
 446 0322 10E0      		ldi r17,lo8(0)
 447               	.L33:
 448 0324 1217      		cp r17,r18
 449 0326 01F4      		brne .+2
 450 0328 00C0      		rjmp .L34
 451 032a 17FF      		sbrs r17,7
 452 032c 00C0      		rjmp .L35
 453 032e 00C0      		rjmp .L34
 454               	.L32:
 455 0330 17FD      		sbrc r17,7
 456 0332 00C0      		rjmp .L34
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsFDSle.s 			page 9


 457 0334 F201      		movw r30,r4
 458 0336 8081      		ld r24,Z
 459 0338 9181      		ldd r25,Z+1
 460 033a 0E94 0000 		call At45dNodeLock
 461 033e 892B      		or r24,r25
 462 0340 01F0      		breq .+2
 463 0342 00C0      		rjmp .L36
 464 0344 D401      		movw r26,r8
 465 0346 1C96      		adiw r26,12
 466 0348 6C91      		ld r22,X
 467 034a BB81      		ldd r27,Y+3
 468 034c BB23      		tst r27
 469 034e 01F0      		breq .L37
 470 0350 F601      		movw r30,r12
 471 0352 8081      		ld r24,Z
 472 0354 9181      		ldd r25,Z+1
 473 0356 0196      		adiw r24,1
 474 0358 9183      		std Z+1,r25
 475 035a 8083      		st Z,r24
 476               	.L37:
 477 035c 612E      		mov r6,r17
 478 035e 7724      		clr r7
 479 0360 67FC      		sbrc r6,7
 480 0362 7094      		com r7
 481 0364 9101      		movw r18,r2
 482 0366 40E0      		ldi r20,lo8(0)
 483 0368 50E0      		ldi r21,hi8(0)
 484 036a 00C0      		rjmp 2f
 485 036c 220F      	1:	lsl r18
 486 036e 331F      		rol r19
 487 0370 441F      		rol r20
 488 0372 551F      		rol r21
 489 0374 6A95      	2:	dec r22
 490 0376 02F4      		brpl 1b
 491 0378 C301      		movw r24,r6
 492 037a 880F      		lsl r24
 493 037c 991F      		rol r25
 494 037e 880D      		add r24,r8
 495 0380 991D      		adc r25,r9
 496 0382 9D83      		std Y+5,r25
 497 0384 8C83      		std Y+4,r24
 498 0386 DC01      		movw r26,r24
 499 0388 1D96      		adiw r26,13
 500 038a CD90      		ld r12,X+
 501 038c DC90      		ld r13,X
 502 038e 1E97      		sbiw r26,13+1
 503 0390 F201      		movw r30,r4
 504 0392 A480      		ldd r10,Z+4
 505 0394 B580      		ldd r11,Z+5
 506 0396 8081      		ld r24,Z
 507 0398 9181      		ldd r25,Z+1
 508 039a 62ED      		ldi r22,lo8(-46)
 509 039c 08E0      		ldi r16,lo8(8)
 510 039e EE24      		clr r14
 511 03a0 FF24      		clr r15
 512 03a2 0E94 0000 		call At45dNodeTransfer
 513 03a6 9A83      		std Y+2,r25
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsFDSle.s 			page 10


 514 03a8 8983      		std Y+1,r24
 515 03aa D201      		movw r26,r4
 516 03ac 8D91      		ld r24,X+
 517 03ae 9C91      		ld r25,X
 518 03b0 0E94 0000 		call At45dNodeUnlock
 519 03b4 E981      		ldd r30,Y+1
 520 03b6 FA81      		ldd r31,Y+2
 521 03b8 EF2B      		or r30,r31
 522 03ba 01F4      		brne .L38
 523 03bc AC81      		ldd r26,Y+4
 524 03be BD81      		ldd r27,Y+5
 525 03c0 2D92      		st X+,r2
 526 03c2 3C92      		st X,r3
 527 03c4 BB81      		ldd r27,Y+3
 528 03c6 BB23      		tst r27
 529 03c8 01F0      		breq .L39
 530 03ca F401      		movw r30,r8
 531 03cc E60D      		add r30,r6
 532 03ce F71D      		adc r31,r7
 533 03d0 8481      		ldd r24,Z+4
 534 03d2 8160      		ori r24,lo8(1)
 535 03d4 8483      		std Z+4,r24
 536               	.L39:
 537 03d6 8091 0000 		lds r24,bnxt.2044
 538 03da 8F5F      		subi r24,lo8(-(1))
 539 03dc 8093 0000 		sts bnxt.2044,r24
 540 03e0 8230      		cpi r24,lo8(2)
 541 03e2 04F4      		brge .+2
 542 03e4 00C0      		rjmp .L29
 543 03e6 1092 0000 		sts bnxt.2044,__zero_reg__
 544 03ea 00C0      		rjmp .L29
 545               	.L38:
 546 03ec EB81      		ldd r30,Y+3
 547 03ee EE23      		tst r30
 548 03f0 01F0      		breq .L36
 549 03f2 D201      		movw r26,r4
 550 03f4 1296      		adiw r26,2
 551 03f6 8D91      		ld r24,X+
 552 03f8 9C91      		ld r25,X
 553 03fa 1397      		sbiw r26,2+1
 554 03fc F301      		movw r30,r6
 555 03fe 3396      		adiw r30,3
 556 0400 EE0F      		lsl r30
 557 0402 FF1F      		rol r31
 558 0404 E80F      		add r30,r24
 559 0406 F91F      		adc r31,r25
 560 0408 2081      		ld r18,Z
 561 040a 3181      		ldd r19,Z+1
 562 040c 2150      		subi r18,lo8(-(-1))
 563 040e 3040      		sbci r19,hi8(-(-1))
 564 0410 3183      		std Z+1,r19
 565 0412 2083      		st Z,r18
 566 0414 0A96      		adiw r24,10
 567 0416 0E94 0000 		call NutEventPost
 568 041a 00C0      		rjmp .L36
 569               	.L34:
 570 041c F401      		movw r30,r8
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsFDSle.s 			page 11


 571 041e 8681      		ldd r24,Z+6
 572 0420 9781      		ldd r25,Z+7
 573 0422 892B      		or r24,r25
 574 0424 01F4      		brne .L40
 575 0426 8481      		ldd r24,Z+4
 576 0428 80FF      		sbrs r24,0
 577 042a 00C0      		rjmp .L40
 578 042c 60E0      		ldi r22,lo8(0)
 579 042e 00C0      		rjmp .L41
 580               	.L40:
 581 0430 D401      		movw r26,r8
 582 0432 1896      		adiw r26,8
 583 0434 8D91      		ld r24,X+
 584 0436 9C91      		ld r25,X
 585 0438 1997      		sbiw r26,8+1
 586 043a 892B      		or r24,r25
 587 043c 01F4      		brne .L42
 588 043e 1596      		adiw r26,5
 589 0440 8C91      		ld r24,X
 590 0442 80FF      		sbrs r24,0
 591 0444 00C0      		rjmp .L42
 592 0446 61E0      		ldi r22,lo8(1)
 593               	.L41:
 594 0448 C201      		movw r24,r4
 595 044a 0E94 0000 		call At45dFlashSaveUnit
 596 044e 892B      		or r24,r25
 597 0450 01F0      		breq .L46
 598 0452 00C0      		rjmp .L36
 599               	.L42:
 600 0454 C701      		movw r24,r14
 601 0456 40E0      		ldi r20,lo8(0)
 602 0458 50E0      		ldi r21,hi8(0)
 603 045a 60E0      		ldi r22,hlo8(0)
 604 045c 70E0      		ldi r23,hhi8(0)
 605 045e 0E94 0000 		call NutEventWait
 606               	.L46:
 607 0462 10E0      		ldi r17,lo8(0)
 608 0464 00C0      		rjmp .L30
 609               	.L36:
 610 0466 1FEF      		ldi r17,lo8(-1)
 611               	.L29:
 612 0468 812F      		mov r24,r17
 613               	/* epilogue start */
 614 046a 0F90      		pop __tmp_reg__
 615 046c 0F90      		pop __tmp_reg__
 616 046e 0F90      		pop __tmp_reg__
 617 0470 0F90      		pop __tmp_reg__
 618 0472 0F90      		pop __tmp_reg__
 619 0474 CF91      		pop r28
 620 0476 DF91      		pop r29
 621 0478 1F91      		pop r17
 622 047a 0F91      		pop r16
 623 047c FF90      		pop r15
 624 047e EF90      		pop r14
 625 0480 DF90      		pop r13
 626 0482 CF90      		pop r12
 627 0484 BF90      		pop r11
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsFDSle.s 			page 12


 628 0486 AF90      		pop r10
 629 0488 9F90      		pop r9
 630 048a 8F90      		pop r8
 631 048c 7F90      		pop r7
 632 048e 6F90      		pop r6
 633 0490 5F90      		pop r5
 634 0492 4F90      		pop r4
 635 0494 3F90      		pop r3
 636 0496 2F90      		pop r2
 637 0498 0895      		ret
 638               		.size	At45dFlashLoadUnit, .-At45dFlashLoadUnit
 639               		.type	SpiAt45dFlashUsed, @function
 640               	SpiAt45dFlashUsed:
 641 049a EF92      		push r14
 642 049c FF92      		push r15
 643 049e 0F93      		push r16
 644 04a0 1F93      		push r17
 645 04a2 CF93      		push r28
 646 04a4 DF93      		push r29
 647               	/* prologue: function */
 648               	/* frame size = 0 */
 649 04a6 FC01      		movw r30,r24
 650 04a8 EA01      		movw r28,r20
 651 04aa 0281      		ldd r16,Z+2
 652 04ac 1381      		ldd r17,Z+3
 653 04ae 8481      		ldd r24,Z+4
 654 04b0 9581      		ldd r25,Z+5
 655 04b2 57FF      		sbrs r21,7
 656 04b4 00C0      		rjmp .L48
 657 04b6 7A01      		movw r14,r20
 658 04b8 E80E      		add r14,r24
 659 04ba F91E      		adc r15,r25
 660 04bc C0E0      		ldi r28,lo8(0)
 661 04be D0E0      		ldi r29,hi8(0)
 662 04c0 00C0      		rjmp .L49
 663               	.L48:
 664 04c2 7C01      		movw r14,r24
 665 04c4 E41A      		sub r14,r20
 666 04c6 F50A      		sbc r15,r21
 667               	.L49:
 668 04c8 CF01      		movw r24,r30
 669 04ca 40E0      		ldi r20,lo8(0)
 670 04cc 0E94 0000 		call At45dFlashLoadUnit
 671 04d0 87FF      		sbrs r24,7
 672 04d2 00C0      		rjmp .L50
 673 04d4 4FEF      		ldi r20,lo8(-1)
 674 04d6 5FEF      		ldi r21,hi8(-1)
 675 04d8 00C0      		rjmp .L51
 676               	.L50:
 677 04da E114      		cp r14,__zero_reg__
 678 04dc F104      		cpc r15,__zero_reg__
 679 04de 01F4      		brne .L52
 680 04e0 40E0      		ldi r20,lo8(0)
 681 04e2 50E0      		ldi r21,hi8(0)
 682 04e4 00C0      		rjmp .L51
 683               	.L52:
 684 04e6 9927      		clr r25
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsFDSle.s 			page 13


 685 04e8 87FD      		sbrc r24,7
 686 04ea 9095      		com r25
 687 04ec 880F      		lsl r24
 688 04ee 991F      		rol r25
 689 04f0 080F      		add r16,r24
 690 04f2 191F      		adc r17,r25
 691 04f4 D801      		movw r26,r16
 692 04f6 1D96      		adiw r26,13
 693 04f8 ED91      		ld r30,X+
 694 04fa FC91      		ld r31,X
 695 04fc 1E97      		sbiw r26,13+1
 696 04fe EC0F      		add r30,r28
 697 0500 FD1F      		adc r31,r29
 698 0502 40E0      		ldi r20,lo8(0)
 699 0504 50E0      		ldi r21,hi8(0)
 700 0506 20E0      		ldi r18,lo8(0)
 701 0508 30E0      		ldi r19,hi8(0)
 702 050a 00C0      		rjmp .L53
 703               	.L55:
 704 050c 8081      		ld r24,Z
 705 050e 8F3F      		cpi r24,lo8(-1)
 706 0510 01F0      		breq .L54
 707 0512 A901      		movw r20,r18
 708 0514 4F5F      		subi r20,lo8(-(1))
 709 0516 5F4F      		sbci r21,hi8(-(1))
 710               	.L54:
 711 0518 3196      		adiw r30,1
 712 051a 2F5F      		subi r18,lo8(-(1))
 713 051c 3F4F      		sbci r19,hi8(-(1))
 714               	.L53:
 715 051e 2E15      		cp r18,r14
 716 0520 3F05      		cpc r19,r15
 717 0522 04F0      		brlt .L55
 718               	.L51:
 719 0524 CA01      		movw r24,r20
 720               	/* epilogue start */
 721 0526 DF91      		pop r29
 722 0528 CF91      		pop r28
 723 052a 1F91      		pop r17
 724 052c 0F91      		pop r16
 725 052e FF90      		pop r15
 726 0530 EF90      		pop r14
 727 0532 0895      		ret
 728               		.size	SpiAt45dFlashUsed, .-SpiAt45dFlashUsed
 729               		.type	SpiAt45dFlashCopy, @function
 730               	SpiAt45dFlashCopy:
 731 0534 EF92      		push r14
 732 0536 FF92      		push r15
 733 0538 0F93      		push r16
 734 053a 1F93      		push r17
 735 053c CF93      		push r28
 736 053e DF93      		push r29
 737               	/* prologue: function */
 738               	/* frame size = 0 */
 739 0540 7C01      		movw r14,r24
 740 0542 8A01      		movw r16,r20
 741 0544 6417      		cp r22,r20
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsFDSle.s 			page 14


 742 0546 7507      		cpc r23,r21
 743 0548 01F4      		brne .L58
 744 054a 41E0      		ldi r20,lo8(1)
 745 054c 0E94 0000 		call At45dFlashLoadUnit
 746 0550 E82F      		mov r30,r24
 747 0552 8823      		tst r24
 748 0554 04F4      		brge .+2
 749 0556 00C0      		rjmp .L60
 750 0558 00C0      		rjmp .L59
 751               	.L58:
 752 055a DC01      		movw r26,r24
 753 055c 1296      		adiw r26,2
 754 055e CD91      		ld r28,X+
 755 0560 DC91      		ld r29,X
 756 0562 1397      		sbiw r26,2+1
 757 0564 8881      		ld r24,Y
 758 0566 9981      		ldd r25,Y+1
 759 0568 8417      		cp r24,r20
 760 056a 9507      		cpc r25,r21
 761 056c 01F4      		brne .L61
 762 056e 8E81      		ldd r24,Y+6
 763 0570 9F81      		ldd r25,Y+7
 764 0572 892B      		or r24,r25
 765 0574 01F4      		brne .L60
 766 0576 8FEF      		ldi r24,lo8(-1)
 767 0578 9FEF      		ldi r25,hi8(-1)
 768 057a 9983      		std Y+1,r25
 769 057c 8883      		st Y,r24
 770               	.L61:
 771 057e 8A81      		ldd r24,Y+2
 772 0580 9B81      		ldd r25,Y+3
 773 0582 8017      		cp r24,r16
 774 0584 9107      		cpc r25,r17
 775 0586 01F4      		brne .L62
 776 0588 8885      		ldd r24,Y+8
 777 058a 9985      		ldd r25,Y+9
 778 058c 892B      		or r24,r25
 779 058e 01F4      		brne .L60
 780 0590 8FEF      		ldi r24,lo8(-1)
 781 0592 9FEF      		ldi r25,hi8(-1)
 782 0594 9B83      		std Y+3,r25
 783 0596 8A83      		std Y+2,r24
 784               	.L62:
 785 0598 C701      		movw r24,r14
 786 059a 41E0      		ldi r20,lo8(1)
 787 059c 0E94 0000 		call At45dFlashLoadUnit
 788 05a0 E82F      		mov r30,r24
 789 05a2 87FD      		sbrc r24,7
 790 05a4 00C0      		rjmp .L60
 791 05a6 9927      		clr r25
 792 05a8 87FD      		sbrc r24,7
 793 05aa 9095      		com r25
 794 05ac 880F      		lsl r24
 795 05ae 991F      		rol r25
 796 05b0 C80F      		add r28,r24
 797 05b2 D91F      		adc r29,r25
 798 05b4 1983      		std Y+1,r17
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsFDSle.s 			page 15


 799 05b6 0883      		st Y,r16
 800               	.L59:
 801 05b8 FF27      		clr r31
 802 05ba E7FD      		sbrc r30,7
 803 05bc F095      		com r31
 804 05be D701      		movw r26,r14
 805 05c0 1296      		adiw r26,2
 806 05c2 8D91      		ld r24,X+
 807 05c4 9C91      		ld r25,X
 808 05c6 1397      		sbiw r26,2+1
 809 05c8 3396      		adiw r30,3
 810 05ca EE0F      		lsl r30
 811 05cc FF1F      		rol r31
 812 05ce E80F      		add r30,r24
 813 05d0 F91F      		adc r31,r25
 814 05d2 2081      		ld r18,Z
 815 05d4 3181      		ldd r19,Z+1
 816 05d6 2150      		subi r18,lo8(-(-1))
 817 05d8 3040      		sbci r19,hi8(-(-1))
 818 05da 3183      		std Z+1,r19
 819 05dc 2083      		st Z,r18
 820 05de 0A96      		adiw r24,10
 821 05e0 0E94 0000 		call NutEventPost
 822 05e4 20E0      		ldi r18,lo8(0)
 823 05e6 30E0      		ldi r19,hi8(0)
 824 05e8 00C0      		rjmp .L63
 825               	.L60:
 826 05ea 2FEF      		ldi r18,lo8(-1)
 827 05ec 3FEF      		ldi r19,hi8(-1)
 828               	.L63:
 829 05ee C901      		movw r24,r18
 830               	/* epilogue start */
 831 05f0 DF91      		pop r29
 832 05f2 CF91      		pop r28
 833 05f4 1F91      		pop r17
 834 05f6 0F91      		pop r16
 835 05f8 FF90      		pop r15
 836 05fa EF90      		pop r14
 837 05fc 0895      		ret
 838               		.size	SpiAt45dFlashCopy, .-SpiAt45dFlashCopy
 839               		.type	SpiAt45dFlashWrite, @function
 840               	SpiAt45dFlashWrite:
 841 05fe 8F92      		push r8
 842 0600 9F92      		push r9
 843 0602 AF92      		push r10
 844 0604 BF92      		push r11
 845 0606 CF92      		push r12
 846 0608 DF92      		push r13
 847 060a EF92      		push r14
 848 060c FF92      		push r15
 849 060e 0F93      		push r16
 850 0610 1F93      		push r17
 851 0612 CF93      		push r28
 852 0614 DF93      		push r29
 853               	/* prologue: function */
 854               	/* frame size = 0 */
 855 0616 5C01      		movw r10,r24
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsFDSle.s 			page 16


 856 0618 7A01      		movw r14,r20
 857 061a 922E      		mov r9,r18
 858 061c 832E      		mov r8,r19
 859 061e 6801      		movw r12,r16
 860 0620 0115      		cp r16,__zero_reg__
 861 0622 1105      		cpc r17,__zero_reg__
 862 0624 01F0      		breq .L72
 863               	.L66:
 864 0626 FC01      		movw r30,r24
 865 0628 C281      		ldd r28,Z+2
 866 062a D381      		ldd r29,Z+3
 867 062c 57FF      		sbrs r21,7
 868 062e 00C0      		rjmp .L68
 869 0630 8481      		ldd r24,Z+4
 870 0632 9581      		ldd r25,Z+5
 871 0634 E80E      		add r14,r24
 872 0636 F91E      		adc r15,r25
 873               	.L68:
 874 0638 C501      		movw r24,r10
 875 063a 41E0      		ldi r20,lo8(1)
 876 063c 0E94 0000 		call At45dFlashLoadUnit
 877 0640 87FF      		sbrs r24,7
 878 0642 00C0      		rjmp .L69
 879 0644 2FEF      		ldi r18,lo8(-1)
 880 0646 3FEF      		ldi r19,hi8(-1)
 881 0648 00C0      		rjmp .L67
 882               	.L69:
 883 064a 082F      		mov r16,r24
 884 064c 1127      		clr r17
 885 064e 07FD      		sbrc r16,7
 886 0650 1095      		com r17
 887 0652 C801      		movw r24,r16
 888 0654 880F      		lsl r24
 889 0656 991F      		rol r25
 890 0658 C80F      		add r28,r24
 891 065a D91F      		adc r29,r25
 892 065c 2D85      		ldd r18,Y+13
 893 065e 3E85      		ldd r19,Y+14
 894 0660 2E0D      		add r18,r14
 895 0662 3F1D      		adc r19,r15
 896 0664 C901      		movw r24,r18
 897 0666 692D      		mov r22,r9
 898 0668 782D      		mov r23,r8
 899 066a A601      		movw r20,r12
 900 066c 0E94 0000 		call memcpy
 901 0670 F501      		movw r30,r10
 902 0672 8281      		ldd r24,Z+2
 903 0674 9381      		ldd r25,Z+3
 904 0676 0D5F      		subi r16,lo8(-(3))
 905 0678 1F4F      		sbci r17,hi8(-(3))
 906 067a 000F      		lsl r16
 907 067c 111F      		rol r17
 908 067e 080F      		add r16,r24
 909 0680 191F      		adc r17,r25
 910 0682 F801      		movw r30,r16
 911 0684 2081      		ld r18,Z
 912 0686 3181      		ldd r19,Z+1
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsFDSle.s 			page 17


 913 0688 2150      		subi r18,lo8(-(-1))
 914 068a 3040      		sbci r19,hi8(-(-1))
 915 068c 3183      		std Z+1,r19
 916 068e 2083      		st Z,r18
 917 0690 0A96      		adiw r24,10
 918 0692 0E94 0000 		call NutEventPost
 919               	.L72:
 920 0696 20E0      		ldi r18,lo8(0)
 921 0698 30E0      		ldi r19,hi8(0)
 922               	.L67:
 923 069a C901      		movw r24,r18
 924               	/* epilogue start */
 925 069c DF91      		pop r29
 926 069e CF91      		pop r28
 927 06a0 1F91      		pop r17
 928 06a2 0F91      		pop r16
 929 06a4 FF90      		pop r15
 930 06a6 EF90      		pop r14
 931 06a8 DF90      		pop r13
 932 06aa CF90      		pop r12
 933 06ac BF90      		pop r11
 934 06ae AF90      		pop r10
 935 06b0 9F90      		pop r9
 936 06b2 8F90      		pop r8
 937 06b4 0895      		ret
 938               		.size	SpiAt45dFlashWrite, .-SpiAt45dFlashWrite
 939               		.type	SpiAt45dFlashRead, @function
 940               	SpiAt45dFlashRead:
 941 06b6 CF92      		push r12
 942 06b8 DF92      		push r13
 943 06ba EF92      		push r14
 944 06bc FF92      		push r15
 945 06be 0F93      		push r16
 946 06c0 1F93      		push r17
 947 06c2 CF93      		push r28
 948 06c4 DF93      		push r29
 949               	/* prologue: function */
 950               	/* frame size = 0 */
 951 06c6 FC01      		movw r30,r24
 952 06c8 7A01      		movw r14,r20
 953 06ca D22E      		mov r13,r18
 954 06cc C32E      		mov r12,r19
 955 06ce 0115      		cp r16,__zero_reg__
 956 06d0 1105      		cpc r17,__zero_reg__
 957 06d2 01F0      		breq .L80
 958               	.L74:
 959 06d4 C281      		ldd r28,Z+2
 960 06d6 D381      		ldd r29,Z+3
 961 06d8 57FF      		sbrs r21,7
 962 06da 00C0      		rjmp .L76
 963 06dc 8481      		ldd r24,Z+4
 964 06de 9581      		ldd r25,Z+5
 965 06e0 E80E      		add r14,r24
 966 06e2 F91E      		adc r15,r25
 967               	.L76:
 968 06e4 CF01      		movw r24,r30
 969 06e6 40E0      		ldi r20,lo8(0)
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsFDSle.s 			page 18


 970 06e8 0E94 0000 		call At45dFlashLoadUnit
 971 06ec 87FF      		sbrs r24,7
 972 06ee 00C0      		rjmp .L77
 973 06f0 2FEF      		ldi r18,lo8(-1)
 974 06f2 3FEF      		ldi r19,hi8(-1)
 975 06f4 00C0      		rjmp .L75
 976               	.L77:
 977 06f6 9927      		clr r25
 978 06f8 87FD      		sbrc r24,7
 979 06fa 9095      		com r25
 980 06fc 880F      		lsl r24
 981 06fe 991F      		rol r25
 982 0700 C80F      		add r28,r24
 983 0702 D91F      		adc r29,r25
 984 0704 2D85      		ldd r18,Y+13
 985 0706 3E85      		ldd r19,Y+14
 986 0708 2E0D      		add r18,r14
 987 070a 3F1D      		adc r19,r15
 988 070c 8D2D      		mov r24,r13
 989 070e 9C2D      		mov r25,r12
 990 0710 B901      		movw r22,r18
 991 0712 A801      		movw r20,r16
 992 0714 0E94 0000 		call memcpy
 993               	.L80:
 994 0718 20E0      		ldi r18,lo8(0)
 995 071a 30E0      		ldi r19,hi8(0)
 996               	.L75:
 997 071c C901      		movw r24,r18
 998               	/* epilogue start */
 999 071e DF91      		pop r29
 1000 0720 CF91      		pop r28
 1001 0722 1F91      		pop r17
 1002 0724 0F91      		pop r16
 1003 0726 FF90      		pop r15
 1004 0728 EF90      		pop r14
 1005 072a DF90      		pop r13
 1006 072c CF90      		pop r12
 1007 072e 0895      		ret
 1008               		.size	SpiAt45dFlashRead, .-SpiAt45dFlashRead
 1009               		.type	SpiAt45dFlashCompare, @function
 1010               	SpiAt45dFlashCompare:
 1011 0730 CF92      		push r12
 1012 0732 DF92      		push r13
 1013 0734 EF92      		push r14
 1014 0736 FF92      		push r15
 1015 0738 0F93      		push r16
 1016 073a 1F93      		push r17
 1017 073c CF93      		push r28
 1018 073e DF93      		push r29
 1019               	/* prologue: function */
 1020               	/* frame size = 0 */
 1021 0740 FC01      		movw r30,r24
 1022 0742 7A01      		movw r14,r20
 1023 0744 6901      		movw r12,r18
 1024 0746 0115      		cp r16,__zero_reg__
 1025 0748 1105      		cpc r17,__zero_reg__
 1026 074a 01F0      		breq .L82
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsFDSle.s 			page 19


 1027 074c C281      		ldd r28,Z+2
 1028 074e D381      		ldd r29,Z+3
 1029 0750 57FF      		sbrs r21,7
 1030 0752 00C0      		rjmp .L83
 1031 0754 8481      		ldd r24,Z+4
 1032 0756 9581      		ldd r25,Z+5
 1033 0758 E80E      		add r14,r24
 1034 075a F91E      		adc r15,r25
 1035               	.L83:
 1036 075c CF01      		movw r24,r30
 1037 075e 40E0      		ldi r20,lo8(0)
 1038 0760 0E94 0000 		call At45dFlashLoadUnit
 1039 0764 87FD      		sbrc r24,7
 1040 0766 00C0      		rjmp .L84
 1041 0768 9927      		clr r25
 1042 076a 87FD      		sbrc r24,7
 1043 076c 9095      		com r25
 1044 076e 880F      		lsl r24
 1045 0770 991F      		rol r25
 1046 0772 C80F      		add r28,r24
 1047 0774 D91F      		adc r29,r25
 1048 0776 8D85      		ldd r24,Y+13
 1049 0778 9E85      		ldd r25,Y+14
 1050 077a 8E0D      		add r24,r14
 1051 077c 9F1D      		adc r25,r15
 1052 077e B601      		movw r22,r12
 1053 0780 A801      		movw r20,r16
 1054 0782 0E94 0000 		call memcmp
 1055 0786 0097      		sbiw r24,0
 1056 0788 01F4      		brne .L84
 1057               	.L82:
 1058 078a 20E0      		ldi r18,lo8(0)
 1059 078c 30E0      		ldi r19,hi8(0)
 1060 078e 00C0      		rjmp .L85
 1061               	.L84:
 1062 0790 2FEF      		ldi r18,lo8(-1)
 1063 0792 3FEF      		ldi r19,hi8(-1)
 1064               	.L85:
 1065 0794 C901      		movw r24,r18
 1066               	/* epilogue start */
 1067 0796 DF91      		pop r29
 1068 0798 CF91      		pop r28
 1069 079a 1F91      		pop r17
 1070 079c 0F91      		pop r16
 1071 079e FF90      		pop r15
 1072 07a0 EF90      		pop r14
 1073 07a2 DF90      		pop r13
 1074 07a4 CF90      		pop r12
 1075 07a6 0895      		ret
 1076               		.size	SpiAt45dFlashCompare, .-SpiAt45dFlashCompare
 1077               		.type	SpiAt45dFlashExit, @function
 1078               	SpiAt45dFlashExit:
 1079 07a8 EF92      		push r14
 1080 07aa FF92      		push r15
 1081 07ac 0F93      		push r16
 1082 07ae 1F93      		push r17
 1083               	/* prologue: function */
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsFDSle.s 			page 20


 1084               	/* frame size = 0 */
 1085 07b0 7C01      		movw r14,r24
 1086 07b2 FC01      		movw r30,r24
 1087 07b4 0281      		ldd r16,Z+2
 1088 07b6 1381      		ldd r17,Z+3
 1089 07b8 F801      		movw r30,r16
 1090 07ba 8585      		ldd r24,Z+13
 1091 07bc 9685      		ldd r25,Z+14
 1092 07be 0E94 0000 		call free
 1093 07c2 F801      		movw r30,r16
 1094 07c4 8785      		ldd r24,Z+15
 1095 07c6 9089      		ldd r25,Z+16
 1096 07c8 0E94 0000 		call free
 1097 07cc F701      		movw r30,r14
 1098 07ce 8281      		ldd r24,Z+2
 1099 07d0 9381      		ldd r25,Z+3
 1100 07d2 0E94 0000 		call free
 1101               	/* epilogue start */
 1102 07d6 1F91      		pop r17
 1103 07d8 0F91      		pop r16
 1104 07da FF90      		pop r15
 1105 07dc EF90      		pop r14
 1106 07de 0895      		ret
 1107               		.size	SpiAt45dFlashExit, .-SpiAt45dFlashExit
 1108               		.type	SpiAt45dFlashInit, @function
 1109               	SpiAt45dFlashInit:
 1110 07e0 CF92      		push r12
 1111 07e2 DF92      		push r13
 1112 07e4 EF92      		push r14
 1113 07e6 FF92      		push r15
 1114 07e8 0F93      		push r16
 1115 07ea 1F93      		push r17
 1116 07ec CF93      		push r28
 1117 07ee DF93      		push r29
 1118               	/* prologue: function */
 1119               	/* frame size = 0 */
 1120 07f0 6C01      		movw r12,r24
 1121 07f2 FC01      		movw r30,r24
 1122 07f4 8081      		ld r24,Z
 1123 07f6 9181      		ldd r25,Z+1
 1124 07f8 0E94 0000 		call At45dNodeProbe
 1125 07fc 7C01      		movw r14,r24
 1126 07fe 0097      		sbiw r24,0
 1127 0800 01F0      		breq .L90
 1128 0802 81E0      		ldi r24,lo8(1)
 1129 0804 90E0      		ldi r25,hi8(1)
 1130 0806 61E1      		ldi r22,lo8(17)
 1131 0808 70E0      		ldi r23,hi8(17)
 1132 080a 0E94 0000 		call calloc
 1133 080e EC01      		movw r28,r24
 1134 0810 0097      		sbiw r24,0
 1135 0812 01F0      		breq .L90
 1136 0814 F701      		movw r30,r14
 1137 0816 8081      		ld r24,Z
 1138 0818 8C87      		std Y+12,r24
 1139 081a 0FEF      		ldi r16,lo8(-1)
 1140 081c 1FEF      		ldi r17,hi8(-1)
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsFDSle.s 			page 21


 1141 081e 1983      		std Y+1,r17
 1142 0820 0883      		st Y,r16
 1143 0822 8581      		ldd r24,Z+5
 1144 0824 9681      		ldd r25,Z+6
 1145 0826 0E94 0000 		call malloc
 1146 082a 8D87      		std Y+13,r24
 1147 082c 9E87      		std Y+14,r25
 1148 082e 1B83      		std Y+3,r17
 1149 0830 0A83      		std Y+2,r16
 1150 0832 F701      		movw r30,r14
 1151 0834 8581      		ldd r24,Z+5
 1152 0836 9681      		ldd r25,Z+6
 1153 0838 0E94 0000 		call malloc
 1154 083c 8F87      		std Y+15,r24
 1155 083e 988B      		std Y+16,r25
 1156 0840 F601      		movw r30,r12
 1157 0842 D383      		std Z+3,r29
 1158 0844 C283      		std Z+2,r28
 1159 0846 F701      		movw r30,r14
 1160 0848 8181      		ldd r24,Z+1
 1161 084a 9281      		ldd r25,Z+2
 1162 084c F601      		movw r30,r12
 1163 084e 9783      		std Z+7,r25
 1164 0850 8683      		std Z+6,r24
 1165 0852 F701      		movw r30,r14
 1166 0854 8581      		ldd r24,Z+5
 1167 0856 9681      		ldd r25,Z+6
 1168 0858 F601      		movw r30,r12
 1169 085a 9583      		std Z+5,r25
 1170 085c 8483      		std Z+4,r24
 1171 085e 20E0      		ldi r18,lo8(0)
 1172 0860 30E0      		ldi r19,hi8(0)
 1173 0862 00C0      		rjmp .L91
 1174               	.L90:
 1175 0864 2FEF      		ldi r18,lo8(-1)
 1176 0866 3FEF      		ldi r19,hi8(-1)
 1177               	.L91:
 1178 0868 C901      		movw r24,r18
 1179               	/* epilogue start */
 1180 086a DF91      		pop r29
 1181 086c CF91      		pop r28
 1182 086e 1F91      		pop r17
 1183 0870 0F91      		pop r16
 1184 0872 FF90      		pop r15
 1185 0874 EF90      		pop r14
 1186 0876 DF90      		pop r13
 1187 0878 CF90      		pop r12
 1188 087a 0895      		ret
 1189               		.size	SpiAt45dFlashInit, .-SpiAt45dFlashInit
 1190               	.global	flashAt45d0
 1191               		.data
 1192               		.type	flashAt45d0, @object
 1193               		.size	flashAt45d0, 32
 1194               	flashAt45d0:
 1195 0000 0000      		.word	nodeAt45d0
 1196 0002 0000      		.word	0
 1197 0004 0000      		.word	0
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsFDSle.s 			page 22


 1198 0006 0000      		.word	0
 1199 0008 0000      		.word	0
 1200 000a 0100      		.word	1
 1201 000c 0000      		.word	gs(SpiAt45dFlashInit)
 1202 000e 0000      		.word	gs(SpiAt45dFlashExit)
 1203 0010 0000      		.word	gs(SpiAt45dFlashCheck)
 1204 0012 0000      		.word	gs(SpiAt45dFlashRead)
 1205 0014 0000      		.word	gs(SpiAt45dFlashCompare)
 1206 0016 0000      		.word	gs(SpiAt45dFlashUsed)
 1207 0018 0000      		.word	gs(SpiAt45dFlashWrite)
 1208 001a 0000      		.word	gs(SpiAt45dFlashCopy)
 1209 001c 0000      		.word	gs(SpiAt45dFlashCommit)
 1210 001e 0000      		.word	gs(SpiAt45dFlashErase)
 1211               	.global	flashAt45d1
 1212               		.type	flashAt45d1, @object
 1213               		.size	flashAt45d1, 32
 1214               	flashAt45d1:
 1215 0020 0000      		.word	nodeAt45d1
 1216 0022 0000      		.word	0
 1217 0024 0000      		.word	0
 1218 0026 0000      		.word	0
 1219 0028 0000      		.word	0
 1220 002a 0100      		.word	1
 1221 002c 0000      		.word	gs(SpiAt45dFlashInit)
 1222 002e 0000      		.word	gs(SpiAt45dFlashExit)
 1223 0030 0000      		.word	gs(SpiAt45dFlashCheck)
 1224 0032 0000      		.word	gs(SpiAt45dFlashRead)
 1225 0034 0000      		.word	gs(SpiAt45dFlashCompare)
 1226 0036 0000      		.word	gs(SpiAt45dFlashUsed)
 1227 0038 0000      		.word	gs(SpiAt45dFlashWrite)
 1228 003a 0000      		.word	gs(SpiAt45dFlashCopy)
 1229 003c 0000      		.word	gs(SpiAt45dFlashCommit)
 1230 003e 0000      		.word	gs(SpiAt45dFlashErase)
 1231               	.global	flashAt45d2
 1232               		.type	flashAt45d2, @object
 1233               		.size	flashAt45d2, 32
 1234               	flashAt45d2:
 1235 0040 0000      		.word	nodeAt45d2
 1236 0042 0000      		.word	0
 1237 0044 0000      		.word	0
 1238 0046 0000      		.word	0
 1239 0048 0000      		.word	0
 1240 004a 0100      		.word	1
 1241 004c 0000      		.word	gs(SpiAt45dFlashInit)
 1242 004e 0000      		.word	gs(SpiAt45dFlashExit)
 1243 0050 0000      		.word	gs(SpiAt45dFlashCheck)
 1244 0052 0000      		.word	gs(SpiAt45dFlashRead)
 1245 0054 0000      		.word	gs(SpiAt45dFlashCompare)
 1246 0056 0000      		.word	gs(SpiAt45dFlashUsed)
 1247 0058 0000      		.word	gs(SpiAt45dFlashWrite)
 1248 005a 0000      		.word	gs(SpiAt45dFlashCopy)
 1249 005c 0000      		.word	gs(SpiAt45dFlashCommit)
 1250 005e 0000      		.word	gs(SpiAt45dFlashErase)
 1251               	.global	flashAt45d3
 1252               		.type	flashAt45d3, @object
 1253               		.size	flashAt45d3, 32
 1254               	flashAt45d3:
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsFDSle.s 			page 23


 1255 0060 0000      		.word	nodeAt45d3
 1256 0062 0000      		.word	0
 1257 0064 0000      		.word	0
 1258 0066 0000      		.word	0
 1259 0068 0000      		.word	0
 1260 006a 0100      		.word	1
 1261 006c 0000      		.word	gs(SpiAt45dFlashInit)
 1262 006e 0000      		.word	gs(SpiAt45dFlashExit)
 1263 0070 0000      		.word	gs(SpiAt45dFlashCheck)
 1264 0072 0000      		.word	gs(SpiAt45dFlashRead)
 1265 0074 0000      		.word	gs(SpiAt45dFlashCompare)
 1266 0076 0000      		.word	gs(SpiAt45dFlashUsed)
 1267 0078 0000      		.word	gs(SpiAt45dFlashWrite)
 1268 007a 0000      		.word	gs(SpiAt45dFlashCopy)
 1269 007c 0000      		.word	gs(SpiAt45dFlashCommit)
 1270 007e 0000      		.word	gs(SpiAt45dFlashErase)
 1271               		.lcomm bnxt.2044,1
 1272               	.global __do_copy_data
 1273               	.global __do_clear_bss
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsFDSle.s 			page 24


DEFINED SYMBOLS
                            *ABS*:00000000 spi_flash_at45d.c
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsFDSle.s:2      *ABS*:0000003f __SREG__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsFDSle.s:3      *ABS*:0000003e __SP_H__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsFDSle.s:4      *ABS*:0000003d __SP_L__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsFDSle.s:5      *ABS*:00000034 __CCP__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsFDSle.s:6      *ABS*:00000000 __tmp_reg__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsFDSle.s:7      *ABS*:00000001 __zero_reg__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsFDSle.s:10     .text:00000000 SpiAt45dFlashCheck
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsFDSle.s:19     .text:00000006 SpiAt45dFlashErase
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsFDSle.s:160    .text:00000110 At45dFlashSaveUnit
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsFDSle.s:288    .text:0000020a SpiAt45dFlashCommit
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsFDSle.s:333    .text:0000024e At45dFlashLoadUnit
                             .bss:00000000 bnxt.2044
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsFDSle.s:640    .text:0000049a SpiAt45dFlashUsed
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsFDSle.s:730    .text:00000534 SpiAt45dFlashCopy
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsFDSle.s:840    .text:000005fe SpiAt45dFlashWrite
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsFDSle.s:940    .text:000006b6 SpiAt45dFlashRead
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsFDSle.s:1010   .text:00000730 SpiAt45dFlashCompare
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsFDSle.s:1078   .text:000007a8 SpiAt45dFlashExit
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsFDSle.s:1109   .text:000007e0 SpiAt45dFlashInit
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsFDSle.s:1194   .data:00000000 flashAt45d0
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsFDSle.s:1214   .data:00000020 flashAt45d1
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsFDSle.s:1234   .data:00000040 flashAt45d2
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsFDSle.s:1254   .data:00000060 flashAt45d3

UNDEFINED SYMBOLS
At45dNodeLock
At45dNodeCommand
At45dNodeWaitReady
At45dNodeUnlock
At45dNodeTransfer
NutEventPost
NutEventWait
memcpy
memcmp
free
At45dNodeProbe
calloc
malloc
nodeAt45d0
nodeAt45d1
nodeAt45d2
nodeAt45d3
__do_copy_data
__do_clear_bss
