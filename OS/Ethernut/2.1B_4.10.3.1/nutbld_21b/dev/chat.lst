GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccgsi0RQ.s 			page 1


   1               		.file	"chat.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__  = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.text
   9               	.global	NutChatDestroy
  10               		.type	NutChatDestroy, @function
  11               	NutChatDestroy:
  12 0000 1F93      		push r17
  13 0002 CF93      		push r28
  14 0004 DF93      		push r29
  15               	/* prologue: function */
  16               	/* frame size = 0 */
  17 0006 EC01      		movw r28,r24
  18 0008 0097      		sbiw r24,0
  19 000a 01F0      		breq .L5
  20 000c 10E0      		ldi r17,lo8(0)
  21 000e 00C0      		rjmp .L3
  22               	.L4:
  23 0010 E12F      		mov r30,r17
  24 0012 F0E0      		ldi r31,lo8(0)
  25 0014 3296      		adiw r30,2
  26 0016 EE0F      		lsl r30
  27 0018 FF1F      		rol r31
  28 001a EC0F      		add r30,r28
  29 001c FD1F      		adc r31,r29
  30 001e 8081      		ld r24,Z
  31 0020 9181      		ldd r25,Z+1
  32 0022 0E94 0000 		call free
  33 0026 1F5F      		subi r17,lo8(-(1))
  34               	.L3:
  35 0028 8B81      		ldd r24,Y+3
  36 002a 1817      		cp r17,r24
  37 002c 00F0      		brlo .L4
  38 002e CE01      		movw r24,r28
  39 0030 0E94 0000 		call free
  40               	.L5:
  41               	/* epilogue start */
  42 0034 DF91      		pop r29
  43 0036 CF91      		pop r28
  44 0038 1F91      		pop r17
  45 003a 0895      		ret
  46               		.size	NutChatDestroy, .-NutChatDestroy
  47               	.global	NutChatCreate
  48               		.type	NutChatCreate, @function
  49               	NutChatCreate:
  50 003c CF93      		push r28
  51 003e DF93      		push r29
  52               	/* prologue: function */
  53               	/* frame size = 0 */
  54 0040 EC01      		movw r28,r24
  55 0042 86E2      		ldi r24,lo8(38)
  56 0044 90E0      		ldi r25,hi8(38)
  57 0046 0E94 0000 		call malloc
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccgsi0RQ.s 			page 2


  58 004a FC01      		movw r30,r24
  59 004c 0097      		sbiw r24,0
  60 004e 01F0      		breq .L7
  61 0050 86E2      		ldi r24,lo8(38)
  62 0052 DF01      		movw r26,r30
  63 0054 1D92      		st X+,__zero_reg__
  64 0056 8A95      	        dec r24
  65 0058 01F4      		brne .-6
  66 005a D183      		std Z+1,r29
  67 005c C083      		st Z,r28
  68               	.L7:
  69 005e CF01      		movw r24,r30
  70               	/* epilogue start */
  71 0060 DF91      		pop r29
  72 0062 CF91      		pop r28
  73 0064 0895      		ret
  74               		.size	NutChatCreate, .-NutChatCreate
  75               	.global	NutChatExpectString
  76               		.type	NutChatExpectString, @function
  77               	NutChatExpectString:
  78 0066 9F92      		push r9
  79 0068 AF92      		push r10
  80 006a BF92      		push r11
  81 006c CF92      		push r12
  82 006e DF92      		push r13
  83 0070 EF92      		push r14
  84 0072 FF92      		push r15
  85 0074 0F93      		push r16
  86 0076 1F93      		push r17
  87 0078 DF93      		push r29
  88 007a CF93      		push r28
  89 007c 0F92      		push __tmp_reg__
  90 007e CDB7      		in r28,__SP_L__
  91 0080 DEB7      		in r29,__SP_H__
  92               	/* prologue: function */
  93               	/* frame size = 1 */
  94 0082 8C01      		movw r16,r24
  95 0084 6B01      		movw r12,r22
  96 0086 7B01      		movw r14,r22
  97 0088 5E01      		movw r10,r28
  98 008a 0894      		sec
  99 008c A11C      		adc r10,__zero_reg__
 100 008e B11C      		adc r11,__zero_reg__
 101 0090 72E0      		ldi r23,lo8(2)
 102 0092 972E      		mov r9,r23
 103 0094 00C0      		rjmp .L32
 104               	.L24:
 105 0096 D801      		movw r26,r16
 106 0098 8D91      		ld r24,X+
 107 009a 9C91      		ld r25,X
 108 009c B501      		movw r22,r10
 109 009e 41E0      		ldi r20,lo8(1)
 110 00a0 50E0      		ldi r21,hi8(1)
 111 00a2 0E94 0000 		call _read
 112 00a6 0197      		sbiw r24,1
 113 00a8 01F0      		breq .L11
 114 00aa E3E0      		ldi r30,lo8(3)
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccgsi0RQ.s 			page 3


 115 00ac F0E0      		ldi r31,hi8(3)
 116 00ae 00C0      		rjmp .L12
 117               	.L11:
 118 00b0 4981      		ldd r20,Y+1
 119 00b2 F701      		movw r30,r14
 120 00b4 8081      		ld r24,Z
 121 00b6 4813      		cpse r20,r24
 122 00b8 7601      		movw r14,r12
 123               	.L13:
 124 00ba D701      		movw r26,r14
 125 00bc 8C91      		ld r24,X
 126 00be 4817      		cp r20,r24
 127 00c0 01F4      		brne .L14
 128 00c2 0894      		sec
 129 00c4 E11C      		adc r14,__zero_reg__
 130 00c6 F11C      		adc r15,__zero_reg__
 131               	.L14:
 132 00c8 50E0      		ldi r21,lo8(0)
 133 00ca 00C0      		rjmp .L15
 134               	.L19:
 135 00cc 252F      		mov r18,r21
 136 00ce 30E0      		ldi r19,lo8(0)
 137 00d0 F801      		movw r30,r16
 138 00d2 E20F      		add r30,r18
 139 00d4 F31F      		adc r31,r19
 140 00d6 908D      		ldd r25,Z+24
 141 00d8 F901      		movw r30,r18
 142 00da 3296      		adiw r30,2
 143 00dc EE0F      		lsl r30
 144 00de FF1F      		rol r31
 145 00e0 E00F      		add r30,r16
 146 00e2 F11F      		adc r31,r17
 147 00e4 A081      		ld r26,Z
 148 00e6 B181      		ldd r27,Z+1
 149 00e8 FD01      		movw r30,r26
 150 00ea E90F      		add r30,r25
 151 00ec F11D      		adc r31,__zero_reg__
 152 00ee 8081      		ld r24,Z
 153 00f0 4817      		cp r20,r24
 154 00f2 01F4      		brne .L16
 155 00f4 9F5F      		subi r25,lo8(-(1))
 156 00f6 A90F      		add r26,r25
 157 00f8 B11D      		adc r27,__zero_reg__
 158 00fa 8C91      		ld r24,X
 159 00fc 8823      		tst r24
 160 00fe 01F4      		brne .L17
 161 0100 F901      		movw r30,r18
 162 0102 3496      		adiw r30,4
 163 0104 00C0      		rjmp .L12
 164               	.L16:
 165 0106 90E0      		ldi r25,lo8(0)
 166 0108 8C91      		ld r24,X
 167 010a 4817      		cp r20,r24
 168 010c 01F4      		brne .L17
 169 010e 91E0      		ldi r25,lo8(1)
 170               	.L17:
 171 0110 200F      		add r18,r16
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccgsi0RQ.s 			page 4


 172 0112 311F      		adc r19,r17
 173 0114 F901      		movw r30,r18
 174 0116 908F      		std Z+24,r25
 175 0118 5F5F      		subi r21,lo8(-(1))
 176               	.L15:
 177 011a D801      		movw r26,r16
 178 011c 1396      		adiw r26,3
 179 011e 8C91      		ld r24,X
 180 0120 1397      		sbiw r26,3
 181 0122 5817      		cp r21,r24
 182 0124 00F0      		brlo .L19
 183 0126 9596      		adiw r26,37
 184 0128 8C91      		ld r24,X
 185 012a 9597      		sbiw r26,37
 186 012c 1816      		cp __zero_reg__,r24
 187 012e 04F4      		brge .L32
 188 0130 9496      		adiw r26,36
 189 0132 9C91      		ld r25,X
 190 0134 292F      		mov r18,r25
 191 0136 30E0      		ldi r19,lo8(0)
 192 0138 8230      		cpi r24,lo8(2)
 193 013a 01F4      		brne .L20
 194 013c E091 0000 		lds r30,chat_report
 195 0140 F091 0000 		lds r31,(chat_report)+1
 196 0144 E20F      		add r30,r18
 197 0146 F31F      		adc r31,r19
 198 0148 4083      		st Z,r20
 199 014a 9F5F      		subi r25,lo8(-(1))
 200 014c 00C0      		rjmp .L21
 201               	.L20:
 202 014e F801      		movw r30,r16
 203 0150 A2A1      		ldd r26,Z+34
 204 0152 B3A1      		ldd r27,Z+35
 205 0154 FD01      		movw r30,r26
 206 0156 E20F      		add r30,r18
 207 0158 F31F      		adc r31,r19
 208 015a 8081      		ld r24,Z
 209 015c 4817      		cp r20,r24
 210 015e 01F4      		brne .L22
 211 0160 E091 0000 		lds r30,chat_report
 212 0164 F091 0000 		lds r31,(chat_report)+1
 213 0168 E20F      		add r30,r18
 214 016a F31F      		adc r31,r19
 215 016c 4083      		st Z,r20
 216 016e 9F5F      		subi r25,lo8(-(1))
 217 0170 D801      		movw r26,r16
 218 0172 9296      		adiw r26,34
 219 0174 ED91      		ld r30,X+
 220 0176 FC91      		ld r31,X
 221 0178 9397      		sbiw r26,34+1
 222 017a E90F      		add r30,r25
 223 017c F11D      		adc r31,__zero_reg__
 224 017e 8081      		ld r24,Z
 225 0180 8823      		tst r24
 226 0182 01F4      		brne .L21
 227 0184 9596      		adiw r26,37
 228 0186 9C92      		st X,r9
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccgsi0RQ.s 			page 5


 229 0188 00C0      		rjmp .L21
 230               	.L22:
 231 018a 90E0      		ldi r25,lo8(0)
 232 018c 8C91      		ld r24,X
 233 018e 4817      		cp r20,r24
 234 0190 01F4      		brne .L21
 235 0192 91E0      		ldi r25,lo8(1)
 236               	.L21:
 237 0194 F801      		movw r30,r16
 238 0196 94A3      		std Z+36,r25
 239               	.L32:
 240 0198 D701      		movw r26,r14
 241 019a 8C91      		ld r24,X
 242 019c 8823      		tst r24
 243 019e 01F0      		breq .+2
 244 01a0 00C0      		rjmp .L24
 245 01a2 F801      		movw r30,r16
 246 01a4 85A1      		ldd r24,Z+37
 247 01a6 8230      		cpi r24,lo8(2)
 248 01a8 01F4      		brne .L33
 249               	.L25:
 250 01aa D801      		movw r26,r16
 251 01ac 9496      		adiw r26,36
 252 01ae FC90      		ld r15,X
 253 01b0 6E01      		movw r12,r28
 254 01b2 0894      		sec
 255 01b4 C11C      		adc r12,__zero_reg__
 256 01b6 D11C      		adc r13,__zero_reg__
 257 01b8 00C0      		rjmp .L26
 258               	.L28:
 259 01ba F801      		movw r30,r16
 260 01bc 8081      		ld r24,Z
 261 01be 9181      		ldd r25,Z+1
 262 01c0 B601      		movw r22,r12
 263 01c2 41E0      		ldi r20,lo8(1)
 264 01c4 50E0      		ldi r21,hi8(1)
 265 01c6 0E94 0000 		call _read
 266 01ca 0197      		sbiw r24,1
 267 01cc 01F4      		brne .L27
 268 01ce 8981      		ldd r24,Y+1
 269 01d0 8032      		cpi r24,lo8(32)
 270 01d2 04F0      		brlt .L27
 271 01d4 E091 0000 		lds r30,chat_report
 272 01d8 F091 0000 		lds r31,(chat_report)+1
 273 01dc EF0D      		add r30,r15
 274 01de F11D      		adc r31,__zero_reg__
 275 01e0 8083      		st Z,r24
 276 01e2 F394      		inc r15
 277               	.L26:
 278 01e4 FFE1      		ldi r31,lo8(31)
 279 01e6 FF15      		cp r31,r15
 280 01e8 00F4      		brsh .L28
 281               	.L27:
 282 01ea D801      		movw r26,r16
 283 01ec 9596      		adiw r26,37
 284 01ee 1C92      		st X,__zero_reg__
 285 01f0 E091 0000 		lds r30,chat_report
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccgsi0RQ.s 			page 6


 286 01f4 F091 0000 		lds r31,(chat_report)+1
 287 01f8 EF0D      		add r30,r15
 288 01fa F11D      		adc r31,__zero_reg__
 289 01fc 1082      		st Z,__zero_reg__
 290               	.L33:
 291 01fe E0E0      		ldi r30,lo8(0)
 292 0200 F0E0      		ldi r31,hi8(0)
 293               	.L12:
 294 0202 CF01      		movw r24,r30
 295               	/* epilogue start */
 296 0204 0F90      		pop __tmp_reg__
 297 0206 CF91      		pop r28
 298 0208 DF91      		pop r29
 299 020a 1F91      		pop r17
 300 020c 0F91      		pop r16
 301 020e FF90      		pop r15
 302 0210 EF90      		pop r14
 303 0212 DF90      		pop r13
 304 0214 CF90      		pop r12
 305 0216 BF90      		pop r11
 306 0218 AF90      		pop r10
 307 021a 9F90      		pop r9
 308 021c 0895      		ret
 309               		.size	NutChatExpectString, .-NutChatExpectString
 310               		.data
 311               	.LC0:
 312 0000 0D00      		.string	"\r"
 313               		.text
 314               		.type	NutChatSendString, @function
 315               	NutChatSendString:
 316 021e 6F92      		push r6
 317 0220 7F92      		push r7
 318 0222 8F92      		push r8
 319 0224 9F92      		push r9
 320 0226 AF92      		push r10
 321 0228 BF92      		push r11
 322 022a CF92      		push r12
 323 022c DF92      		push r13
 324 022e EF92      		push r14
 325 0230 FF92      		push r15
 326 0232 0F93      		push r16
 327 0234 1F93      		push r17
 328 0236 DF93      		push r29
 329 0238 CF93      		push r28
 330 023a 0F92      		push __tmp_reg__
 331 023c CDB7      		in r28,__SP_L__
 332 023e DEB7      		in r29,__SP_H__
 333               	/* prologue: function */
 334               	/* frame size = 1 */
 335 0240 7C01      		movw r14,r24
 336 0242 8B01      		movw r16,r22
 337 0244 60E0      		ldi r22,lo8(0)
 338 0246 70E0      		ldi r23,hi8(0)
 339 0248 40E0      		ldi r20,lo8(0)
 340 024a 50E0      		ldi r21,hi8(0)
 341 024c 0E94 0000 		call _read
 342 0250 CC24      		clr r12
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccgsi0RQ.s 			page 7


 343 0252 DD24      		clr r13
 344 0254 81E0      		ldi r24,lo8(1)
 345 0256 5E01      		movw r10,r28
 346 0258 0894      		sec
 347 025a A11C      		adc r10,__zero_reg__
 348 025c B11C      		adc r11,__zero_reg__
 349 025e 9DE0      		ldi r25,lo8(13)
 350 0260 692E      		mov r6,r25
 351 0262 B0E2      		ldi r27,lo8(32)
 352 0264 7B2E      		mov r7,r27
 353 0266 A9E0      		ldi r26,lo8(9)
 354 0268 8A2E      		mov r8,r26
 355 026a F8E0      		ldi r31,lo8(8)
 356 026c 9F2E      		mov r9,r31
 357 026e 00C0      		rjmp .L58
 358               	.L54:
 359 0270 9983      		std Y+1,r25
 360 0272 0F5F      		subi r16,lo8(-(1))
 361 0274 1F4F      		sbci r17,hi8(-(1))
 362 0276 9E35      		cpi r25,lo8(94)
 363 0278 01F4      		brne .L36
 364 027a F801      		movw r30,r16
 365 027c 8191      		ld r24,Z+
 366 027e 8F01      		movw r16,r30
 367 0280 8F71      		andi r24,lo8(31)
 368 0282 00C0      		rjmp .L59
 369               	.L36:
 370 0284 9C35      		cpi r25,lo8(92)
 371 0286 01F0      		breq .+2
 372 0288 00C0      		rjmp .L37
 373 028a F801      		movw r30,r16
 374 028c 9191      		ld r25,Z+
 375 028e 8F01      		movw r16,r30
 376 0290 9983      		std Y+1,r25
 377 0292 9E36      		cpi r25,lo8(110)
 378 0294 01F0      		breq .L43
 379 0296 9F36      		cpi r25,lo8(111)
 380 0298 04F4      		brge .L48
 381 029a 9236      		cpi r25,lo8(98)
 382 029c 01F0      		breq .L40
 383 029e 9336      		cpi r25,lo8(99)
 384 02a0 04F4      		brge .L49
 385 02a2 9E34      		cpi r25,lo8(78)
 386 02a4 01F4      		brne .L38
 387 02a6 00C0      		rjmp .L61
 388               	.L49:
 389 02a8 9336      		cpi r25,lo8(99)
 390 02aa 01F4      		brne .+2
 391 02ac 00C0      		rjmp .L41
 392 02ae 9436      		cpi r25,lo8(100)
 393 02b0 01F4      		brne .L38
 394 02b2 00C0      		rjmp .L62
 395               	.L48:
 396 02b4 9237      		cpi r25,lo8(114)
 397 02b6 01F0      		breq .L45
 398 02b8 9337      		cpi r25,lo8(115)
 399 02ba 04F4      		brge .L50
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccgsi0RQ.s 			page 8


 400 02bc 9037      		cpi r25,lo8(112)
 401 02be 01F4      		brne .L38
 402 02c0 00C0      		rjmp .L63
 403               	.L50:
 404 02c2 9337      		cpi r25,lo8(115)
 405 02c4 01F0      		breq .L46
 406 02c6 9437      		cpi r25,lo8(116)
 407 02c8 01F4      		brne .L38
 408 02ca 00C0      		rjmp .L64
 409               	.L40:
 410 02cc 9982      		std Y+1,r9
 411 02ce 00C0      		rjmp .L37
 412               	.L62:
 413 02d0 68EE      		ldi r22,lo8(1000)
 414 02d2 73E0      		ldi r23,hi8(1000)
 415 02d4 80E0      		ldi r24,hlo8(1000)
 416 02d6 90E0      		ldi r25,hhi8(1000)
 417 02d8 0E94 0000 		call NutSleep
 418 02dc 00C0      		rjmp .L60
 419               	.L43:
 420 02de 8AE0      		ldi r24,lo8(10)
 421               	.L59:
 422 02e0 8983      		std Y+1,r24
 423 02e2 00C0      		rjmp .L37
 424               	.L61:
 425 02e4 1982      		std Y+1,__zero_reg__
 426 02e6 00C0      		rjmp .L37
 427               	.L63:
 428 02e8 84E6      		ldi r24,lo8(100)
 429 02ea 0E94 0000 		call NutDelay
 430 02ee 00C0      		rjmp .L60
 431               	.L45:
 432 02f0 6982      		std Y+1,r6
 433 02f2 00C0      		rjmp .L37
 434               	.L46:
 435 02f4 7982      		std Y+1,r7
 436 02f6 00C0      		rjmp .L37
 437               	.L64:
 438 02f8 8982      		std Y+1,r8
 439 02fa 00C0      		rjmp .L37
 440               	.L38:
 441 02fc 892F      		mov r24,r25
 442 02fe 8053      		subi r24,lo8(-(-48))
 443 0300 8830      		cpi r24,lo8(8)
 444 0302 00F4      		brsh .L37
 445 0304 9770      		andi r25,lo8(7)
 446 0306 9983      		std Y+1,r25
 447 0308 F801      		movw r30,r16
 448 030a 2081      		ld r18,Z
 449 030c 822F      		mov r24,r18
 450 030e 8053      		subi r24,lo8(-(-48))
 451 0310 8830      		cpi r24,lo8(8)
 452 0312 00F4      		brsh .L37
 453 0314 990F      		lsl r25
 454 0316 990F      		lsl r25
 455 0318 990F      		lsl r25
 456 031a 2770      		andi r18,lo8(7)
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccgsi0RQ.s 			page 9


 457 031c 922B      		or r25,r18
 458 031e 9983      		std Y+1,r25
 459 0320 0F5F      		subi r16,lo8(-(1))
 460 0322 1F4F      		sbci r17,hi8(-(1))
 461 0324 F801      		movw r30,r16
 462 0326 2081      		ld r18,Z
 463 0328 822F      		mov r24,r18
 464 032a 8053      		subi r24,lo8(-(-48))
 465 032c 8830      		cpi r24,lo8(8)
 466 032e 00F4      		brsh .L37
 467 0330 990F      		lsl r25
 468 0332 990F      		lsl r25
 469 0334 990F      		lsl r25
 470 0336 2770      		andi r18,lo8(7)
 471 0338 922B      		or r25,r18
 472 033a 9983      		std Y+1,r25
 473 033c 0F5F      		subi r16,lo8(-(1))
 474 033e 1F4F      		sbci r17,hi8(-(1))
 475               	.L37:
 476 0340 8AE0      		ldi r24,lo8(10)
 477 0342 0E94 0000 		call NutDelay
 478 0346 C701      		movw r24,r14
 479 0348 B501      		movw r22,r10
 480 034a 41E0      		ldi r20,lo8(1)
 481 034c 50E0      		ldi r21,hi8(1)
 482 034e 0E94 0000 		call _write
 483 0352 0197      		sbiw r24,1
 484 0354 01F0      		breq .L51
 485 0356 E2E0      		ldi r30,lo8(2)
 486 0358 CE2E      		mov r12,r30
 487 035a D12C      		mov r13,__zero_reg__
 488 035c 00C0      		rjmp .L60
 489               	.L51:
 490 035e C701      		movw r24,r14
 491 0360 60E0      		ldi r22,lo8(0)
 492 0362 70E0      		ldi r23,hi8(0)
 493 0364 40E0      		ldi r20,lo8(0)
 494 0366 50E0      		ldi r21,hi8(0)
 495 0368 0E94 0000 		call _write
 496               	.L60:
 497 036c 81E0      		ldi r24,lo8(1)
 498               	.L58:
 499 036e F801      		movw r30,r16
 500 0370 9081      		ld r25,Z
 501 0372 9923      		tst r25
 502 0374 01F0      		breq .L52
 503 0376 8823      		tst r24
 504 0378 01F0      		breq .L53
 505 037a C114      		cp r12,__zero_reg__
 506 037c D104      		cpc r13,__zero_reg__
 507 037e 01F4      		brne .+2
 508 0380 00C0      		rjmp .L54
 509 0382 00C0      		rjmp .L53
 510               	.L52:
 511 0384 8601      		movw r16,r12
 512 0386 8823      		tst r24
 513 0388 01F0      		breq .L53
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccgsi0RQ.s 			page 10


 514 038a C114      		cp r12,__zero_reg__
 515 038c D104      		cpc r13,__zero_reg__
 516 038e 01F4      		brne .L53
 517 0390 C701      		movw r24,r14
 518 0392 60E0      		ldi r22,lo8(.LC0)
 519 0394 70E0      		ldi r23,hi8(.LC0)
 520 0396 41E0      		ldi r20,lo8(1)
 521 0398 50E0      		ldi r21,hi8(1)
 522 039a 0E94 0000 		call _write
 523 039e 0197      		sbiw r24,1
 524 03a0 01F0      		breq .L55
 525 03a2 02E0      		ldi r16,lo8(2)
 526 03a4 10E0      		ldi r17,hi8(2)
 527 03a6 00C0      		rjmp .L56
 528               	.L53:
 529 03a8 8601      		movw r16,r12
 530               	.L55:
 531 03aa C701      		movw r24,r14
 532 03ac 60E0      		ldi r22,lo8(0)
 533 03ae 70E0      		ldi r23,hi8(0)
 534 03b0 40E0      		ldi r20,lo8(0)
 535 03b2 50E0      		ldi r21,hi8(0)
 536 03b4 0E94 0000 		call _write
 537               	.L56:
 538 03b8 C801      		movw r24,r16
 539               	/* epilogue start */
 540 03ba 0F90      		pop __tmp_reg__
 541 03bc CF91      		pop r28
 542 03be DF91      		pop r29
 543 03c0 1F91      		pop r17
 544 03c2 0F91      		pop r16
 545 03c4 FF90      		pop r15
 546 03c6 EF90      		pop r14
 547 03c8 DF90      		pop r13
 548 03ca CF90      		pop r12
 549 03cc BF90      		pop r11
 550 03ce AF90      		pop r10
 551 03d0 9F90      		pop r9
 552 03d2 8F90      		pop r8
 553 03d4 7F90      		pop r7
 554 03d6 6F90      		pop r6
 555 03d8 0895      		ret
 556               	.L41:
 557 03da 80E0      		ldi r24,lo8(0)
 558 03dc 00C0      		rjmp .L58
 559               		.size	NutChatSendString, .-NutChatSendString
 560               	.global	NutChatSend
 561               		.type	NutChatSend, @function
 562               	NutChatSend:
 563 03de EF92      		push r14
 564 03e0 FF92      		push r15
 565 03e2 0F93      		push r16
 566 03e4 1F93      		push r17
 567 03e6 DF93      		push r29
 568 03e8 CF93      		push r28
 569 03ea 00D0      		rcall .
 570 03ec 00D0      		rcall .
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccgsi0RQ.s 			page 11


 571 03ee CDB7      		in r28,__SP_L__
 572 03f0 DEB7      		in r29,__SP_H__
 573               	/* prologue: function */
 574               	/* frame size = 4 */
 575 03f2 7C01      		movw r14,r24
 576 03f4 8B01      		movw r16,r22
 577 03f6 DC01      		movw r26,r24
 578 03f8 1296      		adiw r26,2
 579 03fa 8C91      		ld r24,X
 580 03fc 1297      		sbiw r26,2
 581 03fe 8130      		cpi r24,lo8(1)
 582 0400 01F0      		breq .+2
 583 0402 00C0      		rjmp .L66
 584 0404 1296      		adiw r26,2
 585 0406 1C92      		st X,__zero_reg__
 586 0408 1297      		sbiw r26,2
 587 040a 1396      		adiw r26,3
 588 040c 8C91      		ld r24,X
 589 040e 8A30      		cpi r24,lo8(10)
 590 0410 00F0      		brlo .L67
 591 0412 21E0      		ldi r18,lo8(1)
 592 0414 30E0      		ldi r19,hi8(1)
 593 0416 00C0      		rjmp .L68
 594               	.L67:
 595 0418 DB01      		movw r26,r22
 596 041a 0D90      		ld __tmp_reg__,X+
 597 041c 0020      		tst __tmp_reg__
 598 041e 01F4      		brne .-6
 599 0420 CD01      		movw r24,r26
 600 0422 861B      		sub r24,r22
 601 0424 970B      		sbc r25,r23
 602 0426 0E94 0000 		call malloc
 603 042a DC01      		movw r26,r24
 604 042c F701      		movw r30,r14
 605 042e 8381      		ldd r24,Z+3
 606 0430 E82F      		mov r30,r24
 607 0432 F0E0      		ldi r31,lo8(0)
 608 0434 3296      		adiw r30,2
 609 0436 EE0F      		lsl r30
 610 0438 FF1F      		rol r31
 611 043a EE0D      		add r30,r14
 612 043c FF1D      		adc r31,r15
 613 043e B183      		std Z+1,r27
 614 0440 A083      		st Z,r26
 615 0442 8F5F      		subi r24,lo8(-(1))
 616 0444 F701      		movw r30,r14
 617 0446 8383      		std Z+3,r24
 618 0448 7DE0      		ldi r23,lo8(13)
 619 044a 60E2      		ldi r22,lo8(32)
 620 044c 59E0      		ldi r21,lo8(9)
 621 044e 48E0      		ldi r20,lo8(8)
 622 0450 3AE0      		ldi r19,lo8(10)
 623 0452 00C0      		rjmp .L89
 624               	.L80:
 625 0454 0F5F      		subi r16,lo8(-(1))
 626 0456 1F4F      		sbci r17,hi8(-(1))
 627 0458 8E35      		cpi r24,lo8(94)
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccgsi0RQ.s 			page 12


 628 045a 01F4      		brne .L70
 629 045c F801      		movw r30,r16
 630 045e 8191      		ld r24,Z+
 631 0460 8F01      		movw r16,r30
 632 0462 8F71      		andi r24,lo8(31)
 633 0464 8C93      		st X,r24
 634 0466 00C0      		rjmp .L89
 635               	.L70:
 636 0468 8C35      		cpi r24,lo8(92)
 637 046a 01F4      		brne .L71
 638 046c F801      		movw r30,r16
 639 046e 9191      		ld r25,Z+
 640 0470 8F01      		movw r16,r30
 641 0472 9237      		cpi r25,lo8(114)
 642 0474 01F0      		breq .L75
 643 0476 9337      		cpi r25,lo8(115)
 644 0478 04F4      		brge .L78
 645 047a 9236      		cpi r25,lo8(98)
 646 047c 01F0      		breq .L73
 647 047e 9E36      		cpi r25,lo8(110)
 648 0480 01F4      		brne .L72
 649 0482 00C0      		rjmp .L91
 650               	.L78:
 651 0484 9337      		cpi r25,lo8(115)
 652 0486 01F0      		breq .L76
 653 0488 9437      		cpi r25,lo8(116)
 654 048a 01F4      		brne .L72
 655 048c 00C0      		rjmp .L92
 656               	.L73:
 657 048e 4D93      		st X+,r20
 658 0490 00C0      		rjmp .L89
 659               	.L91:
 660 0492 3D93      		st X+,r19
 661 0494 00C0      		rjmp .L89
 662               	.L75:
 663 0496 7D93      		st X+,r23
 664 0498 00C0      		rjmp .L89
 665               	.L76:
 666 049a 6D93      		st X+,r22
 667 049c 00C0      		rjmp .L89
 668               	.L92:
 669 049e 5D93      		st X+,r21
 670 04a0 00C0      		rjmp .L89
 671               	.L72:
 672 04a2 892F      		mov r24,r25
 673 04a4 8053      		subi r24,lo8(-(-48))
 674 04a6 8830      		cpi r24,lo8(8)
 675 04a8 00F4      		brsh .L79
 676 04aa 9770      		andi r25,lo8(7)
 677 04ac F801      		movw r30,r16
 678 04ae 2081      		ld r18,Z
 679 04b0 822F      		mov r24,r18
 680 04b2 8053      		subi r24,lo8(-(-48))
 681 04b4 8830      		cpi r24,lo8(8)
 682 04b6 00F4      		brsh .L79
 683 04b8 990F      		lsl r25
 684 04ba 990F      		lsl r25
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccgsi0RQ.s 			page 13


 685 04bc 990F      		lsl r25
 686 04be 2770      		andi r18,lo8(7)
 687 04c0 922B      		or r25,r18
 688 04c2 0F5F      		subi r16,lo8(-(1))
 689 04c4 1F4F      		sbci r17,hi8(-(1))
 690 04c6 F801      		movw r30,r16
 691 04c8 2081      		ld r18,Z
 692 04ca 822F      		mov r24,r18
 693 04cc 8053      		subi r24,lo8(-(-48))
 694 04ce 8830      		cpi r24,lo8(8)
 695 04d0 00F4      		brsh .L79
 696 04d2 990F      		lsl r25
 697 04d4 990F      		lsl r25
 698 04d6 990F      		lsl r25
 699 04d8 2770      		andi r18,lo8(7)
 700 04da 922B      		or r25,r18
 701 04dc 0F5F      		subi r16,lo8(-(1))
 702 04de 1F4F      		sbci r17,hi8(-(1))
 703               	.L79:
 704 04e0 9923      		tst r25
 705 04e2 01F0      		breq .L89
 706 04e4 9D93      		st X+,r25
 707 04e6 00C0      		rjmp .L89
 708               	.L71:
 709 04e8 8D93      		st X+,r24
 710               	.L89:
 711 04ea F801      		movw r30,r16
 712 04ec 8081      		ld r24,Z
 713 04ee 8823      		tst r24
 714 04f0 01F0      		breq .+2
 715 04f2 00C0      		rjmp .L80
 716 04f4 1C92      		st X,__zero_reg__
 717 04f6 00C0      		rjmp .L90
 718               	.L66:
 719 04f8 8230      		cpi r24,lo8(2)
 720 04fa 01F4      		brne .L81
 721 04fc D701      		movw r26,r14
 722 04fe 1296      		adiw r26,2
 723 0500 1C92      		st X,__zero_reg__
 724 0502 CB01      		movw r24,r22
 725 0504 0E94 0000 		call atol
 726 0508 28EE      		ldi r18,lo8(1000)
 727 050a 33E0      		ldi r19,hi8(1000)
 728 050c 40E0      		ldi r20,hlo8(1000)
 729 050e 50E0      		ldi r21,hhi8(1000)
 730 0510 0E94 0000 		call __mulsi3
 731 0514 6983      		std Y+1,r22
 732 0516 7A83      		std Y+2,r23
 733 0518 8B83      		std Y+3,r24
 734 051a 9C83      		std Y+4,r25
 735 051c 1616      		cp __zero_reg__,r22
 736 051e 1706      		cpc __zero_reg__,r23
 737 0520 1806      		cpc __zero_reg__,r24
 738 0522 1906      		cpc __zero_reg__,r25
 739 0524 04F0      		brlt .L82
 740 0526 88EC      		ldi r24,lo8(45000)
 741 0528 9FEA      		ldi r25,hi8(45000)
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccgsi0RQ.s 			page 14


 742 052a A0E0      		ldi r26,hlo8(45000)
 743 052c B0E0      		ldi r27,hhi8(45000)
 744 052e 8983      		std Y+1,r24
 745 0530 9A83      		std Y+2,r25
 746 0532 AB83      		std Y+3,r26
 747 0534 BC83      		std Y+4,r27
 748               	.L82:
 749 0536 F701      		movw r30,r14
 750 0538 8081      		ld r24,Z
 751 053a 9181      		ldd r25,Z+1
 752 053c 6BE0      		ldi r22,lo8(267)
 753 053e 71E0      		ldi r23,hi8(267)
 754 0540 AE01      		movw r20,r28
 755 0542 4F5F      		subi r20,lo8(-(1))
 756 0544 5F4F      		sbci r21,hi8(-(1))
 757 0546 0E94 0000 		call _ioctl
 758               	.L90:
 759 054a 20E0      		ldi r18,lo8(0)
 760 054c 30E0      		ldi r19,hi8(0)
 761 054e 00C0      		rjmp .L68
 762               	.L81:
 763 0550 8330      		cpi r24,lo8(3)
 764 0552 01F4      		brne .L83
 765 0554 D701      		movw r26,r14
 766 0556 1296      		adiw r26,2
 767 0558 1C92      		st X,__zero_reg__
 768 055a 81E2      		ldi r24,lo8(33)
 769 055c 90E0      		ldi r25,hi8(33)
 770 055e 0E94 0000 		call malloc
 771 0562 8093 0000 		sts chat_report,r24
 772 0566 9093 0000 		sts chat_report+1,r25
 773 056a D801      		movw r26,r16
 774 056c 0D90      		ld __tmp_reg__,X+
 775 056e 0020      		tst __tmp_reg__
 776 0570 01F4      		brne .-6
 777 0572 CD01      		movw r24,r26
 778 0574 801B      		sub r24,r16
 779 0576 910B      		sbc r25,r17
 780 0578 0E94 0000 		call malloc
 781 057c FC01      		movw r30,r24
 782 057e D701      		movw r26,r14
 783 0580 9396      		adiw r26,34+1
 784 0582 9C93      		st X,r25
 785 0584 8E93      		st -X,r24
 786 0586 9297      		sbiw r26,34
 787 0588 00C0      		rjmp .L84
 788               	.L85:
 789 058a 8193      		st Z+,r24
 790 058c 0F5F      		subi r16,lo8(-(1))
 791 058e 1F4F      		sbci r17,hi8(-(1))
 792               	.L84:
 793 0590 D801      		movw r26,r16
 794 0592 8C91      		ld r24,X
 795 0594 8823      		tst r24
 796 0596 01F4      		brne .L85
 797 0598 1082      		st Z,__zero_reg__
 798 059a 00C0      		rjmp .L90
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccgsi0RQ.s 			page 15


 799               	.L83:
 800 059c F701      		movw r30,r14
 801 059e 8081      		ld r24,Z
 802 05a0 9181      		ldd r25,Z+1
 803 05a2 0E94 0000 		call NutChatSendString
 804 05a6 9C01      		movw r18,r24
 805               	.L68:
 806 05a8 C901      		movw r24,r18
 807               	/* epilogue start */
 808 05aa 0F90      		pop __tmp_reg__
 809 05ac 0F90      		pop __tmp_reg__
 810 05ae 0F90      		pop __tmp_reg__
 811 05b0 0F90      		pop __tmp_reg__
 812 05b2 CF91      		pop r28
 813 05b4 DF91      		pop r29
 814 05b6 1F91      		pop r17
 815 05b8 0F91      		pop r16
 816 05ba FF90      		pop r15
 817 05bc EF90      		pop r14
 818 05be 0895      		ret
 819               		.size	NutChatSend, .-NutChatSend
 820               		.data
 821               	.LC1:
 822 0002 4142 4F52 		.string	"ABORT"
 822      5400 
 823               	.LC2:
 824 0008 5449 4D45 		.string	"TIMEOUT"
 824      4F55 5400 
 825               	.LC3:
 826 0010 5245 504F 		.string	"REPORT"
 826      5254 00
 827               		.text
 828               	.global	NutChatExpect
 829               		.type	NutChatExpect, @function
 830               	NutChatExpect:
 831 05c0 CF92      		push r12
 832 05c2 DF92      		push r13
 833 05c4 EF92      		push r14
 834 05c6 FF92      		push r15
 835 05c8 0F93      		push r16
 836 05ca 1F93      		push r17
 837 05cc CF93      		push r28
 838 05ce DF93      		push r29
 839               	/* prologue: function */
 840               	/* frame size = 0 */
 841 05d0 6C01      		movw r12,r24
 842 05d2 7B01      		movw r14,r22
 843 05d4 CB01      		movw r24,r22
 844 05d6 60E0      		ldi r22,lo8(.LC1)
 845 05d8 70E0      		ldi r23,hi8(.LC1)
 846 05da 0E94 0000 		call strcmp
 847 05de 0097      		sbiw r24,0
 848 05e0 01F4      		brne .L94
 849 05e2 81E0      		ldi r24,lo8(1)
 850 05e4 00C0      		rjmp .L120
 851               	.L94:
 852 05e6 C701      		movw r24,r14
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccgsi0RQ.s 			page 16


 853 05e8 60E0      		ldi r22,lo8(.LC2)
 854 05ea 70E0      		ldi r23,hi8(.LC2)
 855 05ec 0E94 0000 		call strcmp
 856 05f0 0097      		sbiw r24,0
 857 05f2 01F4      		brne .L96
 858 05f4 82E0      		ldi r24,lo8(2)
 859               	.L120:
 860 05f6 F601      		movw r30,r12
 861 05f8 00C0      		rjmp .L119
 862               	.L96:
 863 05fa C701      		movw r24,r14
 864 05fc 60E0      		ldi r22,lo8(.LC3)
 865 05fe 70E0      		ldi r23,hi8(.LC3)
 866 0600 0E94 0000 		call strcmp
 867 0604 0097      		sbiw r24,0
 868 0606 01F0      		breq .+2
 869 0608 00C0      		rjmp .L116
 870 060a F601      		movw r30,r12
 871 060c 14A2      		std Z+36,__zero_reg__
 872 060e 81E0      		ldi r24,lo8(1)
 873 0610 85A3      		std Z+37,r24
 874 0612 83E0      		ldi r24,lo8(3)
 875               	.L119:
 876 0614 8283      		std Z+2,r24
 877 0616 00C0      		rjmp .L110
 878               	.L103:
 879 0618 8C35      		cpi r24,lo8(92)
 880 061a 01F4      		brne .L98
 881 061c 3196      		adiw r30,1
 882 061e 8081      		ld r24,Z
 883 0620 8823      		tst r24
 884 0622 01F0      		breq .L117
 885 0624 00C0      		rjmp .L100
 886               	.L98:
 887 0626 8D32      		cpi r24,lo8(45)
 888 0628 01F4      		brne .L100
 889 062a 8F01      		movw r16,r30
 890 062c 3097      		sbiw r30,0
 891 062e 01F4      		brne .L101
 892 0630 00C0      		rjmp .L102
 893               	.L100:
 894 0632 3196      		adiw r30,1
 895               	.L117:
 896 0634 8081      		ld r24,Z
 897 0636 8823      		tst r24
 898 0638 01F4      		brne .L103
 899 063a 00E0      		ldi r16,lo8(0)
 900 063c 10E0      		ldi r17,hi8(0)
 901 063e 00C0      		rjmp .L102
 902               	.L101:
 903 0640 1082      		st Z,__zero_reg__
 904 0642 0F5F      		subi r16,lo8(-(1))
 905 0644 1F4F      		sbci r17,hi8(-(1))
 906 0646 F801      		movw r30,r16
 907 0648 00C0      		rjmp .L118
 908               	.L109:
 909 064a 8C35      		cpi r24,lo8(92)
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccgsi0RQ.s 			page 17


 910 064c 01F4      		brne .L106
 911 064e 3196      		adiw r30,1
 912 0650 8081      		ld r24,Z
 913 0652 8823      		tst r24
 914 0654 01F0      		breq .L118
 915 0656 00C0      		rjmp .L107
 916               	.L106:
 917 0658 8D32      		cpi r24,lo8(45)
 918 065a 01F4      		brne .L107
 919 065c EF01      		movw r28,r30
 920 065e 3097      		sbiw r30,0
 921 0660 01F4      		brne .L108
 922 0662 00C0      		rjmp .L104
 923               	.L107:
 924 0664 3196      		adiw r30,1
 925               	.L118:
 926 0666 8081      		ld r24,Z
 927 0668 8823      		tst r24
 928 066a 01F4      		brne .L109
 929 066c 00C0      		rjmp .L102
 930               	.L108:
 931 066e 1082      		st Z,__zero_reg__
 932 0670 2196      		adiw r28,1
 933 0672 00C0      		rjmp .L104
 934               	.L102:
 935 0674 C0E0      		ldi r28,lo8(0)
 936 0676 D0E0      		ldi r29,hi8(0)
 937               	.L104:
 938 0678 C601      		movw r24,r12
 939 067a B701      		movw r22,r14
 940 067c 0E94 0000 		call NutChatExpectString
 941 0680 9C01      		movw r18,r24
 942 0682 8330      		cpi r24,3
 943 0684 9105      		cpc r25,__zero_reg__
 944 0686 01F4      		brne .L95
 945 0688 0115      		cp r16,__zero_reg__
 946 068a 1105      		cpc r17,__zero_reg__
 947 068c 01F0      		breq .L95
 948 068e F601      		movw r30,r12
 949 0690 8081      		ld r24,Z
 950 0692 9181      		ldd r25,Z+1
 951 0694 B801      		movw r22,r16
 952 0696 0E94 0000 		call NutChatSendString
 953 069a 9C01      		movw r18,r24
 954 069c 7E01      		movw r14,r28
 955 069e 0097      		sbiw r24,0
 956 06a0 01F4      		brne .L95
 957               	.L116:
 958 06a2 E114      		cp r14,__zero_reg__
 959 06a4 F104      		cpc r15,__zero_reg__
 960 06a6 01F0      		breq .L110
 961 06a8 F701      		movw r30,r14
 962 06aa 00C0      		rjmp .L117
 963               	.L110:
 964 06ac 20E0      		ldi r18,lo8(0)
 965 06ae 30E0      		ldi r19,hi8(0)
 966               	.L95:
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccgsi0RQ.s 			page 18


 967 06b0 C901      		movw r24,r18
 968               	/* epilogue start */
 969 06b2 DF91      		pop r29
 970 06b4 CF91      		pop r28
 971 06b6 1F91      		pop r17
 972 06b8 0F91      		pop r16
 973 06ba FF90      		pop r15
 974 06bc EF90      		pop r14
 975 06be DF90      		pop r13
 976 06c0 CF90      		pop r12
 977 06c2 0895      		ret
 978               		.size	NutChatExpect, .-NutChatExpect
 979               		.type	NutChatProc, @function
 980               	NutChatProc:
 981 06c4 7F92      		push r7
 982 06c6 8F92      		push r8
 983 06c8 9F92      		push r9
 984 06ca AF92      		push r10
 985 06cc BF92      		push r11
 986 06ce CF92      		push r12
 987 06d0 DF92      		push r13
 988 06d2 EF92      		push r14
 989 06d4 FF92      		push r15
 990 06d6 0F93      		push r16
 991 06d8 1F93      		push r17
 992 06da DF93      		push r29
 993 06dc CF93      		push r28
 994 06de CDB7      		in r28,__SP_L__
 995 06e0 DEB7      		in r29,__SP_H__
 996 06e2 2C97      		sbiw r28,12
 997 06e4 0FB6      		in __tmp_reg__,__SREG__
 998 06e6 F894      		cli
 999 06e8 DEBF      		out __SP_H__,r29
 1000 06ea 0FBE      		out __SREG__,__tmp_reg__
 1001 06ec CDBF      		out __SP_L__,r28
 1002               	/* prologue: function */
 1003               	/* frame size = 12 */
 1004 06ee 5C01      		movw r10,r24
 1005 06f0 7B01      		movw r14,r22
 1006 06f2 0E94 0000 		call NutChatCreate
 1007 06f6 4C01      		movw r8,r24
 1008 06f8 0097      		sbiw r24,0
 1009 06fa 01F4      		brne .L122
 1010 06fc 52E0      		ldi r21,lo8(2)
 1011 06fe C52E      		mov r12,r21
 1012 0700 D12C      		mov r13,__zero_reg__
 1013 0702 00C0      		rjmp .L123
 1014               	.L122:
 1015 0704 C501      		movw r24,r10
 1016 0706 6CE0      		ldi r22,lo8(268)
 1017 0708 71E0      		ldi r23,hi8(268)
 1018 070a AE01      		movw r20,r28
 1019 070c 4B5F      		subi r20,lo8(-(5))
 1020 070e 5F4F      		sbci r21,hi8(-(5))
 1021 0710 0E94 0000 		call _ioctl
 1022 0714 C501      		movw r24,r10
 1023 0716 6EE0      		ldi r22,lo8(270)
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccgsi0RQ.s 			page 19


 1024 0718 71E0      		ldi r23,hi8(270)
 1025 071a AE01      		movw r20,r28
 1026 071c 475F      		subi r20,lo8(-(9))
 1027 071e 5F4F      		sbci r21,hi8(-(9))
 1028 0720 0E94 0000 		call _ioctl
 1029 0724 88EC      		ldi r24,lo8(45000)
 1030 0726 9FEA      		ldi r25,hi8(45000)
 1031 0728 A0E0      		ldi r26,hlo8(45000)
 1032 072a B0E0      		ldi r27,hhi8(45000)
 1033 072c 8983      		std Y+1,r24
 1034 072e 9A83      		std Y+2,r25
 1035 0730 AB83      		std Y+3,r26
 1036 0732 BC83      		std Y+4,r27
 1037 0734 C501      		movw r24,r10
 1038 0736 6BE0      		ldi r22,lo8(267)
 1039 0738 71E0      		ldi r23,hi8(267)
 1040 073a 8E01      		movw r16,r28
 1041 073c 0F5F      		subi r16,lo8(-(1))
 1042 073e 1F4F      		sbci r17,hi8(-(1))
 1043 0740 A801      		movw r20,r16
 1044 0742 0E94 0000 		call _ioctl
 1045 0746 88E8      		ldi r24,lo8(5000)
 1046 0748 93E1      		ldi r25,hi8(5000)
 1047 074a A0E0      		ldi r26,hlo8(5000)
 1048 074c B0E0      		ldi r27,hhi8(5000)
 1049 074e 8983      		std Y+1,r24
 1050 0750 9A83      		std Y+2,r25
 1051 0752 AB83      		std Y+3,r26
 1052 0754 BC83      		std Y+4,r27
 1053 0756 C501      		movw r24,r10
 1054 0758 6DE0      		ldi r22,lo8(269)
 1055 075a 71E0      		ldi r23,hi8(269)
 1056 075c A801      		movw r20,r16
 1057 075e 0E94 0000 		call _ioctl
 1058 0762 CC24      		clr r12
 1059 0764 DD24      		clr r13
 1060 0766 7724      		clr r7
 1061 0768 00C0      		rjmp .L124
 1062               	.L142:
 1063 076a 9032      		cpi r25,lo8(32)
 1064 076c 01F0      		breq .L125
 1065 076e 9930      		cpi r25,lo8(9)
 1066 0770 01F0      		breq .L125
 1067 0772 9D30      		cpi r25,lo8(13)
 1068 0774 01F0      		breq .L125
 1069 0776 9A30      		cpi r25,lo8(10)
 1070 0778 01F4      		brne .L126
 1071               	.L125:
 1072 077a 8701      		movw r16,r14
 1073 077c 0F5F      		subi r16,lo8(-(1))
 1074 077e 1F4F      		sbci r17,hi8(-(1))
 1075 0780 00C0      		rjmp .L127
 1076               	.L126:
 1077 0782 9232      		cpi r25,lo8(34)
 1078 0784 01F0      		breq .L128
 1079 0786 9732      		cpi r25,lo8(39)
 1080 0788 01F0      		breq .L128
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccgsi0RQ.s 			page 20


 1081 078a 8701      		movw r16,r14
 1082 078c 00C0      		rjmp .L129
 1083               	.L128:
 1084 078e B701      		movw r22,r14
 1085 0790 6F5F      		subi r22,lo8(-(1))
 1086 0792 7F4F      		sbci r23,hi8(-(1))
 1087 0794 8B01      		movw r16,r22
 1088 0796 00C0      		rjmp .L146
 1089               	.L133:
 1090 0798 8823      		tst r24
 1091 079a 01F4      		brne .L131
 1092 079c 262F      		mov r18,r22
 1093 079e 41E0      		ldi r20,lo8(1)
 1094 07a0 C42E      		mov r12,r20
 1095 07a2 D12C      		mov r13,__zero_reg__
 1096 07a4 00C0      		rjmp .L132
 1097               	.L131:
 1098 07a6 0F5F      		subi r16,lo8(-(1))
 1099 07a8 1F4F      		sbci r17,hi8(-(1))
 1100 07aa 8C35      		cpi r24,lo8(92)
 1101 07ac 01F4      		brne .L146
 1102 07ae F801      		movw r30,r16
 1103 07b0 8081      		ld r24,Z
 1104 07b2 8823      		tst r24
 1105 07b4 01F0      		breq .L146
 1106 07b6 0F5F      		subi r16,lo8(-(1))
 1107 07b8 1F4F      		sbci r17,hi8(-(1))
 1108               	.L146:
 1109 07ba F801      		movw r30,r16
 1110 07bc 8081      		ld r24,Z
 1111 07be 8917      		cp r24,r25
 1112 07c0 01F4      		brne .L133
 1113 07c2 262F      		mov r18,r22
 1114 07c4 00C0      		rjmp .L132
 1115               	.L135:
 1116 07c6 0F5F      		subi r16,lo8(-(1))
 1117 07c8 1F4F      		sbci r17,hi8(-(1))
 1118               	.L129:
 1119 07ca F801      		movw r30,r16
 1120 07cc 8081      		ld r24,Z
 1121 07ce 8823      		tst r24
 1122 07d0 01F0      		breq .L134
 1123 07d2 8032      		cpi r24,lo8(32)
 1124 07d4 01F0      		breq .L134
 1125 07d6 8930      		cpi r24,lo8(9)
 1126 07d8 01F0      		breq .L134
 1127 07da 8D30      		cpi r24,lo8(13)
 1128 07dc 01F0      		breq .L134
 1129 07de 8A30      		cpi r24,lo8(10)
 1130 07e0 01F4      		brne .L135
 1131               	.L134:
 1132 07e2 2E2D      		mov r18,r14
 1133 07e4 7F2D      		mov r23,r15
 1134               	.L132:
 1135 07e6 F801      		movw r30,r16
 1136 07e8 8081      		ld r24,Z
 1137 07ea 8823      		tst r24
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccgsi0RQ.s 			page 21


 1138 07ec 01F0      		breq .L136
 1139 07ee 1192      		st Z+,__zero_reg__
 1140 07f0 8F01      		movw r16,r30
 1141               	.L136:
 1142 07f2 CD28      		or r12,r13
 1143 07f4 01F0      		breq .L137
 1144 07f6 31E0      		ldi r19,lo8(1)
 1145 07f8 C32E      		mov r12,r19
 1146 07fa D12C      		mov r13,__zero_reg__
 1147 07fc 00C0      		rjmp .L127
 1148               	.L137:
 1149 07fe 7720      		tst r7
 1150 0800 01F0      		breq .L138
 1151 0802 C401      		movw r24,r8
 1152 0804 622F      		mov r22,r18
 1153 0806 0E94 0000 		call NutChatSend
 1154 080a 00C0      		rjmp .L147
 1155               	.L138:
 1156 080c C401      		movw r24,r8
 1157 080e 622F      		mov r22,r18
 1158 0810 0E94 0000 		call NutChatExpect
 1159               	.L147:
 1160 0814 6C01      		movw r12,r24
 1161 0816 80E0      		ldi r24,lo8(0)
 1162 0818 7720      		tst r7
 1163 081a 01F4      		brne .L140
 1164 081c 81E0      		ldi r24,lo8(1)
 1165               	.L140:
 1166 081e 782E      		mov r7,r24
 1167               	.L127:
 1168 0820 7801      		movw r14,r16
 1169               	.L124:
 1170 0822 F701      		movw r30,r14
 1171 0824 9081      		ld r25,Z
 1172 0826 9923      		tst r25
 1173 0828 01F0      		breq .L141
 1174 082a C114      		cp r12,__zero_reg__
 1175 082c D104      		cpc r13,__zero_reg__
 1176 082e 01F4      		brne .+2
 1177 0830 00C0      		rjmp .L142
 1178               	.L141:
 1179 0832 C501      		movw r24,r10
 1180 0834 6BE0      		ldi r22,lo8(267)
 1181 0836 71E0      		ldi r23,hi8(267)
 1182 0838 AE01      		movw r20,r28
 1183 083a 4B5F      		subi r20,lo8(-(5))
 1184 083c 5F4F      		sbci r21,hi8(-(5))
 1185 083e 0E94 0000 		call _ioctl
 1186 0842 C501      		movw r24,r10
 1187 0844 6DE0      		ldi r22,lo8(269)
 1188 0846 71E0      		ldi r23,hi8(269)
 1189 0848 AE01      		movw r20,r28
 1190 084a 475F      		subi r20,lo8(-(9))
 1191 084c 5F4F      		sbci r21,hi8(-(9))
 1192 084e 0E94 0000 		call _ioctl
 1193 0852 C401      		movw r24,r8
 1194 0854 0E94 0000 		call NutChatDestroy
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccgsi0RQ.s 			page 22


 1195               	.L123:
 1196 0858 C601      		movw r24,r12
 1197               	/* epilogue start */
 1198 085a 2C96      		adiw r28,12
 1199 085c 0FB6      		in __tmp_reg__,__SREG__
 1200 085e F894      		cli
 1201 0860 DEBF      		out __SP_H__,r29
 1202 0862 0FBE      		out __SREG__,__tmp_reg__
 1203 0864 CDBF      		out __SP_L__,r28
 1204 0866 CF91      		pop r28
 1205 0868 DF91      		pop r29
 1206 086a 1F91      		pop r17
 1207 086c 0F91      		pop r16
 1208 086e FF90      		pop r15
 1209 0870 EF90      		pop r14
 1210 0872 DF90      		pop r13
 1211 0874 CF90      		pop r12
 1212 0876 BF90      		pop r11
 1213 0878 AF90      		pop r10
 1214 087a 9F90      		pop r9
 1215 087c 8F90      		pop r8
 1216 087e 7F90      		pop r7
 1217 0880 0895      		ret
 1218               		.size	NutChatProc, .-NutChatProc
 1219               	.global	NutChat_P
 1220               		.type	NutChat_P, @function
 1221               	NutChat_P:
 1222 0882 EF92      		push r14
 1223 0884 FF92      		push r15
 1224 0886 0F93      		push r16
 1225 0888 1F93      		push r17
 1226 088a CF93      		push r28
 1227 088c DF93      		push r29
 1228               	/* prologue: function */
 1229               	/* frame size = 0 */
 1230 088e 7C01      		movw r14,r24
 1231 0890 8B01      		movw r16,r22
 1232 0892 CB01      		movw r24,r22
 1233 0894 0E94 0000 		call strlen_P
 1234 0898 0196      		adiw r24,1
 1235 089a 0E94 0000 		call malloc
 1236 089e EC01      		movw r28,r24
 1237 08a0 0097      		sbiw r24,0
 1238 08a2 01F4      		brne .L149
 1239 08a4 0FEF      		ldi r16,lo8(-1)
 1240 08a6 1FEF      		ldi r17,hi8(-1)
 1241 08a8 00C0      		rjmp .L150
 1242               	.L149:
 1243 08aa B801      		movw r22,r16
 1244 08ac 0E94 0000 		call strcpy_P
 1245 08b0 C701      		movw r24,r14
 1246 08b2 BE01      		movw r22,r28
 1247 08b4 0E94 0000 		call NutChatProc
 1248 08b8 8C01      		movw r16,r24
 1249 08ba CE01      		movw r24,r28
 1250 08bc 0E94 0000 		call free
 1251               	.L150:
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccgsi0RQ.s 			page 23


 1252 08c0 C801      		movw r24,r16
 1253               	/* epilogue start */
 1254 08c2 DF91      		pop r29
 1255 08c4 CF91      		pop r28
 1256 08c6 1F91      		pop r17
 1257 08c8 0F91      		pop r16
 1258 08ca FF90      		pop r15
 1259 08cc EF90      		pop r14
 1260 08ce 0895      		ret
 1261               		.size	NutChat_P, .-NutChat_P
 1262               	.global	NutChat
 1263               		.type	NutChat, @function
 1264               	NutChat:
 1265 08d0 0F93      		push r16
 1266 08d2 1F93      		push r17
 1267 08d4 CF93      		push r28
 1268 08d6 DF93      		push r29
 1269               	/* prologue: function */
 1270               	/* frame size = 0 */
 1271 08d8 8C01      		movw r16,r24
 1272 08da CB01      		movw r24,r22
 1273 08dc 0E94 0000 		call strdup
 1274 08e0 EC01      		movw r28,r24
 1275 08e2 0097      		sbiw r24,0
 1276 08e4 01F4      		brne .L153
 1277 08e6 0FEF      		ldi r16,lo8(-1)
 1278 08e8 1FEF      		ldi r17,hi8(-1)
 1279 08ea 00C0      		rjmp .L154
 1280               	.L153:
 1281 08ec C801      		movw r24,r16
 1282 08ee BE01      		movw r22,r28
 1283 08f0 0E94 0000 		call NutChatProc
 1284 08f4 8C01      		movw r16,r24
 1285 08f6 CE01      		movw r24,r28
 1286 08f8 0E94 0000 		call free
 1287               	.L154:
 1288 08fc C801      		movw r24,r16
 1289               	/* epilogue start */
 1290 08fe DF91      		pop r29
 1291 0900 CF91      		pop r28
 1292 0902 1F91      		pop r17
 1293 0904 0F91      		pop r16
 1294 0906 0895      		ret
 1295               		.size	NutChat, .-NutChat
 1296               		.comm chat_report,2,1
 1297               	.global __do_copy_data
 1298               	.global __do_clear_bss
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccgsi0RQ.s 			page 24


DEFINED SYMBOLS
                            *ABS*:00000000 chat.c
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccgsi0RQ.s:2      *ABS*:0000003f __SREG__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccgsi0RQ.s:3      *ABS*:0000003e __SP_H__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccgsi0RQ.s:4      *ABS*:0000003d __SP_L__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccgsi0RQ.s:5      *ABS*:00000034 __CCP__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccgsi0RQ.s:6      *ABS*:00000000 __tmp_reg__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccgsi0RQ.s:7      *ABS*:00000001 __zero_reg__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccgsi0RQ.s:11     .text:00000000 NutChatDestroy
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccgsi0RQ.s:49     .text:0000003c NutChatCreate
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccgsi0RQ.s:77     .text:00000066 NutChatExpectString
                            *COM*:00000002 chat_report
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccgsi0RQ.s:315    .text:0000021e NutChatSendString
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccgsi0RQ.s:562    .text:000003de NutChatSend
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccgsi0RQ.s:830    .text:000005c0 NutChatExpect
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccgsi0RQ.s:980    .text:000006c4 NutChatProc
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccgsi0RQ.s:1221   .text:00000882 NutChat_P
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccgsi0RQ.s:1264   .text:000008d0 NutChat

UNDEFINED SYMBOLS
free
malloc
_read
NutSleep
NutDelay
_write
atol
__mulsi3
_ioctl
strcmp
strlen_P
strcpy_P
strdup
__do_copy_data
__do_clear_bss
