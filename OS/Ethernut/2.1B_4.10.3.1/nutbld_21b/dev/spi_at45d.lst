GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccFuFWva.s 			page 1


   1               		.file	"spi_at45d.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__  = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.text
   9               		.type	At45dStatus, @function
  10               	At45dStatus:
  11 0000 CF92      		push r12
  12 0002 DF92      		push r13
  13 0004 EF92      		push r14
  14 0006 FF92      		push r15
  15 0008 0F93      		push r16
  16 000a 1F93      		push r17
  17 000c DF93      		push r29
  18 000e CF93      		push r28
  19 0010 00D0      		rcall .
  20 0012 CDB7      		in r28,__SP_L__
  21 0014 DEB7      		in r29,__SP_H__
  22               	/* prologue: function */
  23               	/* frame size = 2 */
  24 0016 6C01      		movw r12,r24
  25 0018 87ED      		ldi r24,lo8(-41)
  26 001a 8983      		std Y+1,r24
  27 001c 8FEF      		ldi r24,lo8(-1)
  28 001e 8A83      		std Y+2,r24
  29 0020 D601      		movw r26,r12
  30 0022 ED90      		ld r14,X+
  31 0024 FC90      		ld r15,X
  32 0026 D701      		movw r26,r14
  33 0028 1A96      		adiw r26,10
  34 002a ED91      		ld r30,X+
  35 002c FC91      		ld r31,X
  36 002e 1B97      		sbiw r26,10+1
  37 0030 C601      		movw r24,r12
  38 0032 48EE      		ldi r20,lo8(1000)
  39 0034 53E0      		ldi r21,hi8(1000)
  40 0036 60E0      		ldi r22,hlo8(1000)
  41 0038 70E0      		ldi r23,hhi8(1000)
  42 003a 0995      		icall
  43 003c 8C01      		movw r16,r24
  44 003e 0097      		sbiw r24,0
  45 0040 01F4      		brne .L2
  46 0042 D701      		movw r26,r14
  47 0044 1E96      		adiw r26,14
  48 0046 ED91      		ld r30,X+
  49 0048 FC91      		ld r31,X
  50 004a 1F97      		sbiw r26,14+1
  51 004c C601      		movw r24,r12
  52 004e AE01      		movw r20,r28
  53 0050 4F5F      		subi r20,lo8(-(1))
  54 0052 5F4F      		sbci r21,hi8(-(1))
  55 0054 BA01      		movw r22,r20
  56 0056 22E0      		ldi r18,lo8(2)
  57 0058 30E0      		ldi r19,hi8(2)
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccFuFWva.s 			page 2


  58 005a 0995      		icall
  59 005c 8C01      		movw r16,r24
  60 005e 0097      		sbiw r24,0
  61 0060 01F4      		brne .L3
  62 0062 D701      		movw r26,r14
  63 0064 5096      		adiw r26,16
  64 0066 ED91      		ld r30,X+
  65 0068 FC91      		ld r31,X
  66 006a 5197      		sbiw r26,16+1
  67 006c C601      		movw r24,r12
  68 006e 40E0      		ldi r20,lo8(0)
  69 0070 50E0      		ldi r21,hi8(0)
  70 0072 60E0      		ldi r22,hlo8(0)
  71 0074 70E0      		ldi r23,hhi8(0)
  72 0076 0995      		icall
  73 0078 8A81      		ldd r24,Y+2
  74 007a 082F      		mov r16,r24
  75               	.L3:
  76 007c D701      		movw r26,r14
  77 007e 1C96      		adiw r26,12
  78 0080 ED91      		ld r30,X+
  79 0082 FC91      		ld r31,X
  80 0084 1D97      		sbiw r26,12+1
  81 0086 C601      		movw r24,r12
  82 0088 0995      		icall
  83               	.L2:
  84 008a 802F      		mov r24,r16
  85               	/* epilogue start */
  86 008c 0F90      		pop __tmp_reg__
  87 008e 0F90      		pop __tmp_reg__
  88 0090 CF91      		pop r28
  89 0092 DF91      		pop r29
  90 0094 1F91      		pop r17
  91 0096 0F91      		pop r16
  92 0098 FF90      		pop r15
  93 009a EF90      		pop r14
  94 009c DF90      		pop r13
  95 009e CF90      		pop r12
  96 00a0 0895      		ret
  97               		.size	At45dStatus, .-At45dStatus
  98               	.global	SpiAt45dStatus
  99               		.type	SpiAt45dStatus, @function
 100               	SpiAt45dStatus:
 101               	/* prologue: function */
 102               	/* frame size = 0 */
 103 00a2 FC01      		movw r30,r24
 104 00a4 8785      		ldd r24,Z+15
 105 00a6 9089      		ldd r25,Z+16
 106 00a8 0E94 0000 		call At45dStatus
 107               	/* epilogue start */
 108 00ac 0895      		ret
 109               		.size	SpiAt45dStatus, .-SpiAt45dStatus
 110               	.global	SpiAt45dChipErase
 111               		.type	SpiAt45dChipErase, @function
 112               	SpiAt45dChipErase:
 113               	/* prologue: function */
 114               	/* frame size = 0 */
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccFuFWva.s 			page 3


 115 00ae 8FEF      		ldi r24,lo8(-1)
 116 00b0 9FEF      		ldi r25,hi8(-1)
 117               	/* epilogue start */
 118 00b2 0895      		ret
 119               		.size	SpiAt45dChipErase, .-SpiAt45dChipErase
 120               	.global	SpiAt45dPageWrite_P
 121               		.type	SpiAt45dPageWrite_P, @function
 122               	SpiAt45dPageWrite_P:
 123               	/* prologue: function */
 124               	/* frame size = 0 */
 125 00b4 8FEF      		ldi r24,lo8(-1)
 126 00b6 9FEF      		ldi r25,hi8(-1)
 127               	/* epilogue start */
 128 00b8 0895      		ret
 129               		.size	SpiAt45dPageWrite_P, .-SpiAt45dPageWrite_P
 130               	.global	SpiAt45dPages
 131               		.type	SpiAt45dPages, @function
 132               	SpiAt45dPages:
 133               	/* prologue: function */
 134               	/* frame size = 0 */
 135 00ba DC01      		movw r26,r24
 136 00bc 5196      		adiw r26,17
 137 00be ED91      		ld r30,X+
 138 00c0 FC91      		ld r31,X
 139 00c2 5297      		sbiw r26,17+1
 140 00c4 0190      		ld __tmp_reg__,Z+
 141 00c6 F081      		ld r31,Z
 142 00c8 E02D      		mov r30,__tmp_reg__
 143 00ca 6181      		ldd r22,Z+1
 144 00cc 7281      		ldd r23,Z+2
 145 00ce 8381      		ldd r24,Z+3
 146 00d0 9481      		ldd r25,Z+4
 147               	/* epilogue start */
 148 00d2 0895      		ret
 149               		.size	SpiAt45dPages, .-SpiAt45dPages
 150               	.global	SpiAt45dPageSize
 151               		.type	SpiAt45dPageSize, @function
 152               	SpiAt45dPageSize:
 153               	/* prologue: function */
 154               	/* frame size = 0 */
 155 00d4 DC01      		movw r26,r24
 156 00d6 5196      		adiw r26,17
 157 00d8 ED91      		ld r30,X+
 158 00da FC91      		ld r31,X
 159 00dc 5297      		sbiw r26,17+1
 160 00de 0190      		ld __tmp_reg__,Z+
 161 00e0 F081      		ld r31,Z
 162 00e2 E02D      		mov r30,__tmp_reg__
 163 00e4 8581      		ldd r24,Z+5
 164 00e6 9681      		ldd r25,Z+6
 165               	/* epilogue start */
 166 00e8 0895      		ret
 167               		.size	SpiAt45dPageSize, .-SpiAt45dPageSize
 168               	.global	SpiAt45dIOCtl
 169               		.type	SpiAt45dIOCtl, @function
 170               	SpiAt45dIOCtl:
 171               	/* prologue: function */
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccFuFWva.s 			page 4


 172               	/* frame size = 0 */
 173 00ea FA01      		movw r30,r20
 174 00ec 82E1      		ldi r24,hi8(4608)
 175 00ee 6030      		cpi r22,lo8(4608)
 176 00f0 7807      		cpc r23,r24
 177 00f2 01F0      		breq .L17
 178 00f4 6150      		subi r22,lo8(4609)
 179 00f6 7241      		sbci r23,hi8(4609)
 180 00f8 01F0      		breq .L18
 181 00fa 2FEF      		ldi r18,lo8(-1)
 182 00fc 3FEF      		ldi r19,hi8(-1)
 183 00fe 00C0      		rjmp .L19
 184               	.L17:
 185 0100 81E0      		ldi r24,lo8(1)
 186 0102 90E0      		ldi r25,hi8(1)
 187 0104 9183      		std Z+1,r25
 188 0106 8083      		st Z,r24
 189 0108 00C0      		rjmp .L21
 190               	.L18:
 191 010a 1182      		std Z+1,__zero_reg__
 192 010c 1082      		st Z,__zero_reg__
 193               	.L21:
 194 010e 20E0      		ldi r18,lo8(0)
 195 0110 30E0      		ldi r19,hi8(0)
 196               	.L19:
 197 0112 C901      		movw r24,r18
 198               	/* epilogue start */
 199 0114 0895      		ret
 200               		.size	SpiAt45dIOCtl, .-SpiAt45dIOCtl
 201               		.type	At45dCommand, @function
 202               	At45dCommand:
 203 0116 2F92      		push r2
 204 0118 3F92      		push r3
 205 011a 4F92      		push r4
 206 011c 5F92      		push r5
 207 011e 6F92      		push r6
 208 0120 7F92      		push r7
 209 0122 8F92      		push r8
 210 0124 9F92      		push r9
 211 0126 AF92      		push r10
 212 0128 BF92      		push r11
 213 012a CF92      		push r12
 214 012c DF92      		push r13
 215 012e EF92      		push r14
 216 0130 FF92      		push r15
 217 0132 0F93      		push r16
 218 0134 1F93      		push r17
 219 0136 DF93      		push r29
 220 0138 CF93      		push r28
 221 013a CDB7      		in r28,__SP_L__
 222 013c DEB7      		in r29,__SP_H__
 223 013e 2B97      		sbiw r28,11
 224 0140 0FB6      		in __tmp_reg__,__SREG__
 225 0142 F894      		cli
 226 0144 DEBF      		out __SP_H__,r29
 227 0146 0FBE      		out __SREG__,__tmp_reg__
 228 0148 CDBF      		out __SP_L__,r28
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccFuFWva.s 			page 5


 229               	/* prologue: function */
 230               	/* frame size = 11 */
 231 014a 1C01      		movw r2,r24
 232 014c 962E      		mov r9,r22
 233 014e 2901      		movw r4,r18
 234 0150 3A01      		movw r6,r20
 235 0152 802E      		mov r8,r16
 236 0154 1B87      		std Y+11,r17
 237 0156 FA86      		std Y+10,r15
 238 0158 E986      		std Y+9,r14
 239 015a DC01      		movw r26,r24
 240 015c ED90      		ld r14,X+
 241 015e FC90      		ld r15,X
 242 0160 CE01      		movw r24,r28
 243 0162 0196      		adiw r24,1
 244 0164 60E0      		ldi r22,lo8(0)
 245 0166 70E0      		ldi r23,hi8(0)
 246 0168 402F      		mov r20,r16
 247 016a 512F      		mov r21,r17
 248 016c 0E94 0000 		call memset
 249 0170 9982      		std Y+1,r9
 250 0172 4114      		cp r4,__zero_reg__
 251 0174 5104      		cpc r5,__zero_reg__
 252 0176 6104      		cpc r6,__zero_reg__
 253 0178 7104      		cpc r7,__zero_reg__
 254 017a 01F0      		breq .L23
 255 017c C301      		movw r24,r6
 256 017e AA27      		clr r26
 257 0180 BB27      		clr r27
 258 0182 8A83      		std Y+2,r24
 259 0184 BB27      		clr r27
 260 0186 A72D      		mov r26,r7
 261 0188 962D      		mov r25,r6
 262 018a 852D      		mov r24,r5
 263 018c 8B83      		std Y+3,r24
 264 018e 4C82      		std Y+4,r4
 265               	.L23:
 266 0190 D701      		movw r26,r14
 267 0192 1A96      		adiw r26,10
 268 0194 ED91      		ld r30,X+
 269 0196 FC91      		ld r31,X
 270 0198 1B97      		sbiw r26,10+1
 271 019a C101      		movw r24,r2
 272 019c 48EE      		ldi r20,lo8(1000)
 273 019e 53E0      		ldi r21,hi8(1000)
 274 01a0 60E0      		ldi r22,hlo8(1000)
 275 01a2 70E0      		ldi r23,hhi8(1000)
 276 01a4 0995      		icall
 277 01a6 8C01      		movw r16,r24
 278 01a8 0097      		sbiw r24,0
 279 01aa 01F4      		brne .L24
 280 01ac D701      		movw r26,r14
 281 01ae 1E96      		adiw r26,14
 282 01b0 ED91      		ld r30,X+
 283 01b2 FC91      		ld r31,X
 284 01b4 1F97      		sbiw r26,14+1
 285 01b6 C101      		movw r24,r2
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccFuFWva.s 			page 6


 286 01b8 BE01      		movw r22,r28
 287 01ba 6F5F      		subi r22,lo8(-(1))
 288 01bc 7F4F      		sbci r23,hi8(-(1))
 289 01be 40E0      		ldi r20,lo8(0)
 290 01c0 50E0      		ldi r21,hi8(0)
 291 01c2 282D      		mov r18,r8
 292 01c4 3B85      		ldd r19,Y+11
 293 01c6 0995      		icall
 294 01c8 8C01      		movw r16,r24
 295 01ca 0097      		sbiw r24,0
 296 01cc 01F4      		brne .L25
 297 01ce A114      		cp r10,__zero_reg__
 298 01d0 B104      		cpc r11,__zero_reg__
 299 01d2 01F0      		breq .L25
 300 01d4 D701      		movw r26,r14
 301 01d6 1E96      		adiw r26,14
 302 01d8 ED91      		ld r30,X+
 303 01da FC91      		ld r31,X
 304 01dc 1F97      		sbiw r26,14+1
 305 01de C101      		movw r24,r2
 306 01e0 6985      		ldd r22,Y+9
 307 01e2 7A85      		ldd r23,Y+10
 308 01e4 A601      		movw r20,r12
 309 01e6 9501      		movw r18,r10
 310 01e8 0995      		icall
 311 01ea 8C01      		movw r16,r24
 312               	.L25:
 313 01ec D701      		movw r26,r14
 314 01ee 1C96      		adiw r26,12
 315 01f0 ED91      		ld r30,X+
 316 01f2 FC91      		ld r31,X
 317 01f4 1D97      		sbiw r26,12+1
 318 01f6 C101      		movw r24,r2
 319 01f8 0995      		icall
 320               	.L24:
 321 01fa C801      		movw r24,r16
 322               	/* epilogue start */
 323 01fc 2B96      		adiw r28,11
 324 01fe 0FB6      		in __tmp_reg__,__SREG__
 325 0200 F894      		cli
 326 0202 DEBF      		out __SP_H__,r29
 327 0204 0FBE      		out __SREG__,__tmp_reg__
 328 0206 CDBF      		out __SP_L__,r28
 329 0208 CF91      		pop r28
 330 020a DF91      		pop r29
 331 020c 1F91      		pop r17
 332 020e 0F91      		pop r16
 333 0210 FF90      		pop r15
 334 0212 EF90      		pop r14
 335 0214 DF90      		pop r13
 336 0216 CF90      		pop r12
 337 0218 BF90      		pop r11
 338 021a AF90      		pop r10
 339 021c 9F90      		pop r9
 340 021e 8F90      		pop r8
 341 0220 7F90      		pop r7
 342 0222 6F90      		pop r6
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccFuFWva.s 			page 7


 343 0224 5F90      		pop r5
 344 0226 4F90      		pop r4
 345 0228 3F90      		pop r3
 346 022a 2F90      		pop r2
 347 022c 0895      		ret
 348               		.size	At45dCommand, .-At45dCommand
 349               	.global	SpiAt45dPageRead
 350               		.type	SpiAt45dPageRead, @function
 351               	SpiAt45dPageRead:
 352 022e 8F92      		push r8
 353 0230 9F92      		push r9
 354 0232 AF92      		push r10
 355 0234 BF92      		push r11
 356 0236 CF92      		push r12
 357 0238 DF92      		push r13
 358 023a EF92      		push r14
 359 023c FF92      		push r15
 360 023e 0F93      		push r16
 361 0240 1F93      		push r17
 362 0242 CF93      		push r28
 363 0244 DF93      		push r29
 364               	/* prologue: function */
 365               	/* frame size = 0 */
 366 0246 5C01      		movw r10,r24
 367 0248 6A01      		movw r12,r20
 368 024a 7B01      		movw r14,r22
 369 024c 4901      		movw r8,r18
 370 024e E801      		movw r28,r16
 371 0250 DC01      		movw r26,r24
 372 0252 5196      		adiw r26,17
 373 0254 ED91      		ld r30,X+
 374 0256 FC91      		ld r31,X
 375 0258 5297      		sbiw r26,17+1
 376 025a 0190      		ld __tmp_reg__,Z+
 377 025c F081      		ld r31,Z
 378 025e E02D      		mov r30,__tmp_reg__
 379 0260 8181      		ldd r24,Z+1
 380 0262 9281      		ldd r25,Z+2
 381 0264 A381      		ldd r26,Z+3
 382 0266 B481      		ldd r27,Z+4
 383 0268 4817      		cp r20,r24
 384 026a 5907      		cpc r21,r25
 385 026c 6A07      		cpc r22,r26
 386 026e 7B07      		cpc r23,r27
 387 0270 00F4      		brsh .L28
 388 0272 0080      		ld r0,Z
 389 0274 00C0      		rjmp 2f
 390 0276 CC0C      	1:	lsl r12
 391 0278 DD1C      		rol r13
 392 027a EE1C      		rol r14
 393 027c FF1C      		rol r15
 394 027e 0A94      	2:	dec r0
 395 0280 02F4      		brpl 1b
 396 0282 F501      		movw r30,r10
 397 0284 8785      		ldd r24,Z+15
 398 0286 9089      		ldd r25,Z+16
 399 0288 68EE      		ldi r22,lo8(-24)
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccFuFWva.s 			page 8


 400 028a A701      		movw r20,r14
 401 028c 9601      		movw r18,r12
 402 028e 08E0      		ldi r16,lo8(8)
 403 0290 10E0      		ldi r17,hi8(8)
 404 0292 EE24      		clr r14
 405 0294 FF24      		clr r15
 406 0296 6401      		movw r12,r8
 407 0298 5E01      		movw r10,r28
 408 029a 0E94 0000 		call At45dCommand
 409 029e 892B      		or r24,r25
 410 02a0 01F0      		breq .L29
 411               	.L28:
 412 02a2 CFEF      		ldi r28,lo8(-1)
 413 02a4 DFEF      		ldi r29,hi8(-1)
 414               	.L29:
 415 02a6 CE01      		movw r24,r28
 416               	/* epilogue start */
 417 02a8 DF91      		pop r29
 418 02aa CF91      		pop r28
 419 02ac 1F91      		pop r17
 420 02ae 0F91      		pop r16
 421 02b0 FF90      		pop r15
 422 02b2 EF90      		pop r14
 423 02b4 DF90      		pop r13
 424 02b6 CF90      		pop r12
 425 02b8 BF90      		pop r11
 426 02ba AF90      		pop r10
 427 02bc 9F90      		pop r9
 428 02be 8F90      		pop r8
 429 02c0 0895      		ret
 430               		.size	SpiAt45dPageRead, .-SpiAt45dPageRead
 431               	.global	SpiAt45dPageErase
 432               		.type	SpiAt45dPageErase, @function
 433               	SpiAt45dPageErase:
 434 02c2 AF92      		push r10
 435 02c4 BF92      		push r11
 436 02c6 CF92      		push r12
 437 02c8 DF92      		push r13
 438 02ca EF92      		push r14
 439 02cc FF92      		push r15
 440 02ce 0F93      		push r16
 441 02d0 1F93      		push r17
 442 02d2 CF93      		push r28
 443 02d4 DF93      		push r29
 444               	/* prologue: function */
 445               	/* frame size = 0 */
 446 02d6 EC01      		movw r28,r24
 447 02d8 9A01      		movw r18,r20
 448 02da AB01      		movw r20,r22
 449 02dc E989      		ldd r30,Y+17
 450 02de FA89      		ldd r31,Y+18
 451 02e0 0190      		ld __tmp_reg__,Z+
 452 02e2 F081      		ld r31,Z
 453 02e4 E02D      		mov r30,__tmp_reg__
 454 02e6 8181      		ldd r24,Z+1
 455 02e8 9281      		ldd r25,Z+2
 456 02ea A381      		ldd r26,Z+3
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccFuFWva.s 			page 9


 457 02ec B481      		ldd r27,Z+4
 458 02ee 2817      		cp r18,r24
 459 02f0 3907      		cpc r19,r25
 460 02f2 4A07      		cpc r20,r26
 461 02f4 5B07      		cpc r21,r27
 462 02f6 00F0      		brlo .L32
 463 02f8 2FEF      		ldi r18,lo8(-1)
 464 02fa 3FEF      		ldi r19,hi8(-1)
 465 02fc 00C0      		rjmp .L33
 466               	.L32:
 467 02fe 0080      		ld r0,Z
 468 0300 00C0      		rjmp 2f
 469 0302 220F      	1:	lsl r18
 470 0304 331F      		rol r19
 471 0306 441F      		rol r20
 472 0308 551F      		rol r21
 473 030a 0A94      	2:	dec r0
 474 030c 02F4      		brpl 1b
 475 030e 8F85      		ldd r24,Y+15
 476 0310 9889      		ldd r25,Y+16
 477 0312 61E8      		ldi r22,lo8(-127)
 478 0314 04E0      		ldi r16,lo8(4)
 479 0316 10E0      		ldi r17,hi8(4)
 480 0318 EE24      		clr r14
 481 031a FF24      		clr r15
 482 031c CC24      		clr r12
 483 031e DD24      		clr r13
 484 0320 AA24      		clr r10
 485 0322 BB24      		clr r11
 486 0324 0E94 0000 		call At45dCommand
 487 0328 9C01      		movw r18,r24
 488               	.L33:
 489 032a C901      		movw r24,r18
 490               	/* epilogue start */
 491 032c DF91      		pop r29
 492 032e CF91      		pop r28
 493 0330 1F91      		pop r17
 494 0332 0F91      		pop r16
 495 0334 FF90      		pop r15
 496 0336 EF90      		pop r14
 497 0338 DF90      		pop r13
 498 033a CF90      		pop r12
 499 033c BF90      		pop r11
 500 033e AF90      		pop r10
 501 0340 0895      		ret
 502               		.size	SpiAt45dPageErase, .-SpiAt45dPageErase
 503               	.global	SpiAt45dCommand
 504               		.type	SpiAt45dCommand, @function
 505               	SpiAt45dCommand:
 506 0342 AF92      		push r10
 507 0344 BF92      		push r11
 508 0346 CF92      		push r12
 509 0348 DF92      		push r13
 510 034a EF92      		push r14
 511 034c FF92      		push r15
 512 034e 0F93      		push r16
 513 0350 1F93      		push r17
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccFuFWva.s 			page 10


 514               	/* prologue: function */
 515               	/* frame size = 0 */
 516 0352 FC01      		movw r30,r24
 517 0354 8785      		ldd r24,Z+15
 518 0356 9089      		ldd r25,Z+16
 519 0358 0E94 0000 		call At45dCommand
 520               	/* epilogue start */
 521 035c 1F91      		pop r17
 522 035e 0F91      		pop r16
 523 0360 FF90      		pop r15
 524 0362 EF90      		pop r14
 525 0364 DF90      		pop r13
 526 0366 CF90      		pop r12
 527 0368 BF90      		pop r11
 528 036a AF90      		pop r10
 529 036c 0895      		ret
 530               		.size	SpiAt45dCommand, .-SpiAt45dCommand
 531               		.type	At45dWaitReady, @function
 532               	At45dWaitReady:
 533 036e CF92      		push r12
 534 0370 DF92      		push r13
 535 0372 EF92      		push r14
 536 0374 FF92      		push r15
 537 0376 0F93      		push r16
 538 0378 1F93      		push r17
 539 037a CF93      		push r28
 540 037c DF93      		push r29
 541               	/* prologue: function */
 542               	/* frame size = 0 */
 543 037e 6C01      		movw r12,r24
 544 0380 7A01      		movw r14,r20
 545 0382 8B01      		movw r16,r22
 546 0384 E901      		movw r28,r18
 547 0386 00C0      		rjmp .L38
 548               	.L42:
 549 0388 2097      		sbiw r28,0
 550 038a 01F4      		brne .L39
 551 038c 61E0      		ldi r22,lo8(1)
 552 038e 70E0      		ldi r23,hi8(1)
 553 0390 80E0      		ldi r24,hlo8(1)
 554 0392 90E0      		ldi r25,hhi8(1)
 555 0394 0E94 0000 		call NutSleep
 556               	.L39:
 557 0398 E114      		cp r14,__zero_reg__
 558 039a F104      		cpc r15,__zero_reg__
 559 039c 0105      		cpc r16,__zero_reg__
 560 039e 1105      		cpc r17,__zero_reg__
 561 03a0 01F4      		brne .L40
 562 03a2 2FEF      		ldi r18,lo8(-1)
 563 03a4 3FEF      		ldi r19,hi8(-1)
 564 03a6 00C0      		rjmp .L41
 565               	.L40:
 566 03a8 0894      		sec
 567 03aa E108      		sbc r14,__zero_reg__
 568 03ac F108      		sbc r15,__zero_reg__
 569 03ae 0109      		sbc r16,__zero_reg__
 570 03b0 1109      		sbc r17,__zero_reg__
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccFuFWva.s 			page 11


 571               	.L38:
 572 03b2 C601      		movw r24,r12
 573 03b4 0E94 0000 		call At45dStatus
 574 03b8 87FF      		sbrs r24,7
 575 03ba 00C0      		rjmp .L42
 576 03bc 20E0      		ldi r18,lo8(0)
 577 03be 30E0      		ldi r19,hi8(0)
 578               	.L41:
 579 03c0 C901      		movw r24,r18
 580               	/* epilogue start */
 581 03c2 DF91      		pop r29
 582 03c4 CF91      		pop r28
 583 03c6 1F91      		pop r17
 584 03c8 0F91      		pop r16
 585 03ca FF90      		pop r15
 586 03cc EF90      		pop r14
 587 03ce DF90      		pop r13
 588 03d0 CF90      		pop r12
 589 03d2 0895      		ret
 590               		.size	At45dWaitReady, .-At45dWaitReady
 591               	.global	SpiAt45dPageWrite
 592               		.type	SpiAt45dPageWrite, @function
 593               	SpiAt45dPageWrite:
 594 03d4 2F92      		push r2
 595 03d6 3F92      		push r3
 596 03d8 4F92      		push r4
 597 03da 5F92      		push r5
 598 03dc 6F92      		push r6
 599 03de 7F92      		push r7
 600 03e0 8F92      		push r8
 601 03e2 9F92      		push r9
 602 03e4 AF92      		push r10
 603 03e6 BF92      		push r11
 604 03e8 CF92      		push r12
 605 03ea DF92      		push r13
 606 03ec EF92      		push r14
 607 03ee FF92      		push r15
 608 03f0 0F93      		push r16
 609 03f2 1F93      		push r17
 610 03f4 DF93      		push r29
 611 03f6 CF93      		push r28
 612 03f8 CDB7      		in r28,__SP_L__
 613 03fa DEB7      		in r29,__SP_H__
 614 03fc 2B97      		sbiw r28,11
 615 03fe 0FB6      		in __tmp_reg__,__SREG__
 616 0400 F894      		cli
 617 0402 DEBF      		out __SP_H__,r29
 618 0404 0FBE      		out __SREG__,__tmp_reg__
 619 0406 CDBF      		out __SP_L__,r28
 620               	/* prologue: function */
 621               	/* frame size = 11 */
 622 0408 FC01      		movw r30,r24
 623 040a 3A01      		movw r6,r20
 624 040c 4B01      		movw r8,r22
 625 040e 1801      		movw r2,r16
 626 0410 0115      		cp r16,__zero_reg__
 627 0412 1105      		cpc r17,__zero_reg__
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccFuFWva.s 			page 12


 628 0414 01F4      		brne .+2
 629 0416 00C0      		rjmp .L45
 630 0418 3987      		std Y+9,r19
 631 041a 2887      		std Y+8,r18
 632 041c 2785      		ldd r18,Z+15
 633 041e 3089      		ldd r19,Z+16
 634 0420 3A83      		std Y+2,r19
 635 0422 2983      		std Y+1,r18
 636 0424 0188      		ldd __tmp_reg__,Z+17
 637 0426 F289      		ldd r31,Z+18
 638 0428 E02D      		mov r30,__tmp_reg__
 639 042a 2081      		ld r18,Z
 640 042c 3181      		ldd r19,Z+1
 641 042e D901      		movw r26,r18
 642 0430 BC91      		ld r27,X
 643 0432 BF83      		std Y+7,r27
 644 0434 F901      		movw r30,r18
 645 0436 0580      		ldd __tmp_reg__,Z+5
 646 0438 F681      		ldd r31,Z+6
 647 043a E02D      		mov r30,__tmp_reg__
 648 043c FB87      		std Y+11,r31
 649 043e EA87      		std Y+10,r30
 650 0440 D901      		movw r26,r18
 651 0442 1196      		adiw r26,1
 652 0444 8D91      		ld r24,X+
 653 0446 9D91      		ld r25,X+
 654 0448 0D90      		ld __tmp_reg__,X+
 655 044a BC91      		ld r27,X
 656 044c A02D      		mov r26,__tmp_reg__
 657 044e 8B83      		std Y+3,r24
 658 0450 9C83      		std Y+4,r25
 659 0452 AD83      		std Y+5,r26
 660 0454 BE83      		std Y+6,r27
 661 0456 4424      		clr r4
 662 0458 4A94      		dec r4
 663 045a 542C      		mov r5,r4
 664               	.L49:
 665 045c EA85      		ldd r30,Y+10
 666 045e FB85      		ldd r31,Y+11
 667 0460 2E16      		cp r2,r30
 668 0462 3F06      		cpc r3,r31
 669 0464 04F4      		brge .L46
 670 0466 3B86      		std Y+11,r3
 671 0468 2A86      		std Y+10,r2
 672               	.L46:
 673 046a 8981      		ldd r24,Y+1
 674 046c 9A81      		ldd r25,Y+2
 675 046e 64E8      		ldi r22,lo8(-124)
 676 0470 20E0      		ldi r18,lo8(0)
 677 0472 30E0      		ldi r19,hi8(0)
 678 0474 40E0      		ldi r20,hlo8(0)
 679 0476 50E0      		ldi r21,hhi8(0)
 680 0478 04E0      		ldi r16,lo8(4)
 681 047a 10E0      		ldi r17,hi8(4)
 682 047c E884      		ldd r14,Y+8
 683 047e F984      		ldd r15,Y+9
 684 0480 CC24      		clr r12
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccFuFWva.s 			page 13


 685 0482 DD24      		clr r13
 686 0484 AA84      		ldd r10,Y+10
 687 0486 BB84      		ldd r11,Y+11
 688 0488 0E94 0000 		call At45dCommand
 689 048c 892B      		or r24,r25
 690 048e 01F0      		breq .+2
 691 0490 00C0      		rjmp .L47
 692 0492 A401      		movw r20,r8
 693 0494 9301      		movw r18,r6
 694 0496 0F80      		ldd r0,Y+7
 695 0498 00C0      		rjmp 2f
 696 049a 220F      	1:	lsl r18
 697 049c 331F      		rol r19
 698 049e 441F      		rol r20
 699 04a0 551F      		rol r21
 700 04a2 0A94      	2:	dec r0
 701 04a4 02F4      		brpl 1b
 702 04a6 8981      		ldd r24,Y+1
 703 04a8 9A81      		ldd r25,Y+2
 704 04aa 63E8      		ldi r22,lo8(-125)
 705 04ac EE24      		clr r14
 706 04ae FF24      		clr r15
 707 04b0 AA24      		clr r10
 708 04b2 BB24      		clr r11
 709 04b4 0E94 0000 		call At45dCommand
 710 04b8 892B      		or r24,r25
 711 04ba 01F4      		brne .L47
 712 04bc 8981      		ldd r24,Y+1
 713 04be 9A81      		ldd r25,Y+2
 714 04c0 48EE      		ldi r20,lo8(1000)
 715 04c2 53E0      		ldi r21,hi8(1000)
 716 04c4 60E0      		ldi r22,hlo8(1000)
 717 04c6 70E0      		ldi r23,hhi8(1000)
 718 04c8 21E0      		ldi r18,lo8(1)
 719 04ca 30E0      		ldi r19,hi8(1)
 720 04cc 0E94 0000 		call At45dWaitReady
 721 04d0 892B      		or r24,r25
 722 04d2 01F4      		brne .L47
 723 04d4 C201      		movw r24,r4
 724 04d6 57FE      		sbrs r5,7
 725 04d8 00C0      		rjmp .L48
 726 04da 80E0      		ldi r24,lo8(0)
 727 04dc 90E0      		ldi r25,hi8(0)
 728               	.L48:
 729 04de 4A84      		ldd r4,Y+10
 730 04e0 5B84      		ldd r5,Y+11
 731 04e2 480E      		add r4,r24
 732 04e4 591E      		adc r5,r25
 733 04e6 0894      		sec
 734 04e8 611C      		adc r6,__zero_reg__
 735 04ea 711C      		adc r7,__zero_reg__
 736 04ec 811C      		adc r8,__zero_reg__
 737 04ee 911C      		adc r9,__zero_reg__
 738 04f0 8B81      		ldd r24,Y+3
 739 04f2 9C81      		ldd r25,Y+4
 740 04f4 AD81      		ldd r26,Y+5
 741 04f6 BE81      		ldd r27,Y+6
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccFuFWva.s 			page 14


 742 04f8 6816      		cp r6,r24
 743 04fa 7906      		cpc r7,r25
 744 04fc 8A06      		cpc r8,r26
 745 04fe 9B06      		cpc r9,r27
 746 0500 00F4      		brsh .L47
 747 0502 AA85      		ldd r26,Y+10
 748 0504 BB85      		ldd r27,Y+11
 749 0506 2A1A      		sub r2,r26
 750 0508 3B0A      		sbc r3,r27
 751 050a 01F0      		breq .L47
 752 050c E885      		ldd r30,Y+8
 753 050e F985      		ldd r31,Y+9
 754 0510 EA0F      		add r30,r26
 755 0512 FB1F      		adc r31,r27
 756 0514 F987      		std Y+9,r31
 757 0516 E887      		std Y+8,r30
 758 0518 00C0      		rjmp .L49
 759               	.L45:
 760 051a 4424      		clr r4
 761 051c 5524      		clr r5
 762               	.L47:
 763 051e C201      		movw r24,r4
 764               	/* epilogue start */
 765 0520 2B96      		adiw r28,11
 766 0522 0FB6      		in __tmp_reg__,__SREG__
 767 0524 F894      		cli
 768 0526 DEBF      		out __SP_H__,r29
 769 0528 0FBE      		out __SREG__,__tmp_reg__
 770 052a CDBF      		out __SP_L__,r28
 771 052c CF91      		pop r28
 772 052e DF91      		pop r29
 773 0530 1F91      		pop r17
 774 0532 0F91      		pop r16
 775 0534 FF90      		pop r15
 776 0536 EF90      		pop r14
 777 0538 DF90      		pop r13
 778 053a CF90      		pop r12
 779 053c BF90      		pop r11
 780 053e AF90      		pop r10
 781 0540 9F90      		pop r9
 782 0542 8F90      		pop r8
 783 0544 7F90      		pop r7
 784 0546 6F90      		pop r6
 785 0548 5F90      		pop r5
 786 054a 4F90      		pop r4
 787 054c 3F90      		pop r3
 788 054e 2F90      		pop r2
 789 0550 0895      		ret
 790               		.size	SpiAt45dPageWrite, .-SpiAt45dPageWrite
 791               	.global	SpiAt45dInit
 792               		.type	SpiAt45dInit, @function
 793               	SpiAt45dInit:
 794 0552 0F93      		push r16
 795 0554 1F93      		push r17
 796 0556 CF93      		push r28
 797 0558 DF93      		push r29
 798               	/* prologue: function */
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccFuFWva.s 			page 15


 799               	/* frame size = 0 */
 800 055a FC01      		movw r30,r24
 801 055c 1189      		ldd r17,Z+17
 802 055e 0289      		ldd r16,Z+18
 803 0560 C785      		ldd r28,Z+15
 804 0562 D089      		ldd r29,Z+16
 805 0564 CE01      		movw r24,r28
 806 0566 4AE0      		ldi r20,lo8(10)
 807 0568 50E0      		ldi r21,hi8(10)
 808 056a 60E0      		ldi r22,hlo8(10)
 809 056c 70E0      		ldi r23,hhi8(10)
 810 056e 21E0      		ldi r18,lo8(1)
 811 0570 30E0      		ldi r19,hi8(1)
 812 0572 0E94 0000 		call At45dWaitReady
 813 0576 892B      		or r24,r25
 814 0578 01F0      		breq .+2
 815 057a 00C0      		rjmp .L52
 816 057c CE01      		movw r24,r28
 817 057e 0E94 0000 		call At45dStatus
 818 0582 8F3F      		cpi r24,lo8(-1)
 819 0584 01F4      		brne .+2
 820 0586 00C0      		rjmp .L52
 821 0588 582F      		mov r21,r24
 822 058a 5D73      		andi r21,lo8(61)
 823 058c 4091 0000 		lds r20,at45d_known_types
 824 0590 4150      		subi r20,lo8(-(-1))
 825 0592 842F      		mov r24,r20
 826 0594 9927      		clr r25
 827 0596 87FD      		sbrc r24,7
 828 0598 9095      		com r25
 829 059a 4F5F      		subi r20,lo8(-(1))
 830 059c DC01      		movw r26,r24
 831 059e 63E0      		ldi r22,3
 832 05a0 AA0F      	1:	lsl r26
 833 05a2 BB1F      		rol r27
 834 05a4 6A95      		dec r22
 835 05a6 01F4      		brne 1b
 836 05a8 A050      		subi r26,lo8(-(at45d_info+7))
 837 05aa B040      		sbci r27,hi8(-(at45d_info+7))
 838 05ac 20E0      		ldi r18,lo8(0)
 839 05ae 30E0      		ldi r19,hi8(0)
 840 05b0 BC01      		movw r22,r24
 841 05b2 00C0      		rjmp .L53
 842               	.L55:
 843 05b4 FB01      		movw r30,r22
 844 05b6 E21B      		sub r30,r18
 845 05b8 F30B      		sbc r31,r19
 846 05ba 8C91      		ld r24,X
 847 05bc 2F5F      		subi r18,lo8(-(1))
 848 05be 3F4F      		sbci r19,hi8(-(1))
 849 05c0 1897      		sbiw r26,8
 850 05c2 5817      		cp r21,r24
 851 05c4 01F4      		brne .L53
 852 05c6 212F      		mov r18,r17
 853 05c8 302F      		mov r19,r16
 854 05ca 842F      		mov r24,r20
 855 05cc 9927      		clr r25
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccFuFWva.s 			page 16


 856 05ce 87FD      		sbrc r24,7
 857 05d0 9095      		com r25
 858 05d2 53E0      		ldi r21,3
 859 05d4 880F      	1:	lsl r24
 860 05d6 991F      		rol r25
 861 05d8 5A95      		dec r21
 862 05da 01F4      		brne 1b
 863 05dc 8050      		subi r24,lo8(-(at45d_info))
 864 05de 9040      		sbci r25,hi8(-(at45d_info))
 865 05e0 D901      		movw r26,r18
 866 05e2 8D93      		st X+,r24
 867 05e4 9C93      		st X,r25
 868 05e6 43E0      		ldi r20,3
 869 05e8 EE0F      	1:	lsl r30
 870 05ea FF1F      		rol r31
 871 05ec 4A95      		dec r20
 872 05ee 01F4      		brne 1b
 873 05f0 E050      		subi r30,lo8(-(at45d_info))
 874 05f2 F040      		sbci r31,hi8(-(at45d_info))
 875 05f4 8181      		ldd r24,Z+1
 876 05f6 9281      		ldd r25,Z+2
 877 05f8 A381      		ldd r26,Z+3
 878 05fa B481      		ldd r27,Z+4
 879 05fc E901      		movw r28,r18
 880 05fe 8A83      		std Y+2,r24
 881 0600 9B83      		std Y+3,r25
 882 0602 AC83      		std Y+4,r26
 883 0604 BD83      		std Y+5,r27
 884 0606 8581      		ldd r24,Z+5
 885 0608 9681      		ldd r25,Z+6
 886 060a A0E0      		ldi r26,lo8(0)
 887 060c B0E0      		ldi r27,hi8(0)
 888 060e F901      		movw r30,r18
 889 0610 8683      		std Z+6,r24
 890 0612 9783      		std Z+7,r25
 891 0614 A087      		std Z+8,r26
 892 0616 B187      		std Z+9,r27
 893 0618 20E0      		ldi r18,lo8(0)
 894 061a 30E0      		ldi r19,hi8(0)
 895 061c 00C0      		rjmp .L54
 896               	.L53:
 897 061e 4150      		subi r20,lo8(-(-1))
 898 0620 47FF      		sbrs r20,7
 899 0622 00C0      		rjmp .L55
 900               	.L52:
 901 0624 2FEF      		ldi r18,lo8(-1)
 902 0626 3FEF      		ldi r19,hi8(-1)
 903               	.L54:
 904 0628 C901      		movw r24,r18
 905               	/* epilogue start */
 906 062a DF91      		pop r29
 907 062c CF91      		pop r28
 908 062e 1F91      		pop r17
 909 0630 0F91      		pop r16
 910 0632 0895      		ret
 911               		.size	SpiAt45dInit, .-SpiAt45dInit
 912               	.global	SpiAt45dWaitReady
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccFuFWva.s 			page 17


 913               		.type	SpiAt45dWaitReady, @function
 914               	SpiAt45dWaitReady:
 915               	/* prologue: function */
 916               	/* frame size = 0 */
 917 0634 FC01      		movw r30,r24
 918 0636 8785      		ldd r24,Z+15
 919 0638 9089      		ldd r25,Z+16
 920 063a 0E94 0000 		call At45dWaitReady
 921               	/* epilogue start */
 922 063e 0895      		ret
 923               		.size	SpiAt45dWaitReady, .-SpiAt45dWaitReady
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccFuFWva.s 			page 18


DEFINED SYMBOLS
                            *ABS*:00000000 spi_at45d.c
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccFuFWva.s:2      *ABS*:0000003f __SREG__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccFuFWva.s:3      *ABS*:0000003e __SP_H__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccFuFWva.s:4      *ABS*:0000003d __SP_L__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccFuFWva.s:5      *ABS*:00000034 __CCP__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccFuFWva.s:6      *ABS*:00000000 __tmp_reg__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccFuFWva.s:7      *ABS*:00000001 __zero_reg__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccFuFWva.s:10     .text:00000000 At45dStatus
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccFuFWva.s:100    .text:000000a2 SpiAt45dStatus
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccFuFWva.s:112    .text:000000ae SpiAt45dChipErase
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccFuFWva.s:122    .text:000000b4 SpiAt45dPageWrite_P
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccFuFWva.s:132    .text:000000ba SpiAt45dPages
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccFuFWva.s:152    .text:000000d4 SpiAt45dPageSize
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccFuFWva.s:170    .text:000000ea SpiAt45dIOCtl
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccFuFWva.s:202    .text:00000116 At45dCommand
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccFuFWva.s:351    .text:0000022e SpiAt45dPageRead
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccFuFWva.s:433    .text:000002c2 SpiAt45dPageErase
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccFuFWva.s:505    .text:00000342 SpiAt45dCommand
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccFuFWva.s:532    .text:0000036e At45dWaitReady
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccFuFWva.s:593    .text:000003d4 SpiAt45dPageWrite
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccFuFWva.s:793    .text:00000552 SpiAt45dInit
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccFuFWva.s:914    .text:00000634 SpiAt45dWaitReady

UNDEFINED SYMBOLS
memset
NutSleep
at45d_known_types
at45d_info
