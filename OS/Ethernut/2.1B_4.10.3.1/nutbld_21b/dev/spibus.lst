GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc1vfd3N.s 			page 1


   1               		.file	"spibus.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__  = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.text
   9               	.global	NutSpiBusWait
  10               		.type	NutSpiBusWait, @function
  11               	NutSpiBusWait:
  12               	/* prologue: function */
  13               	/* frame size = 0 */
  14 0000 80E0      		ldi r24,lo8(0)
  15 0002 90E0      		ldi r25,hi8(0)
  16               	/* epilogue start */
  17 0004 0895      		ret
  18               		.size	NutSpiBusWait, .-NutSpiBusWait
  19               	.global	NutSpiBusSetMode
  20               		.type	NutSpiBusSetMode, @function
  21               	NutSpiBusSetMode:
  22               	/* prologue: function */
  23               	/* frame size = 0 */
  24 0006 FC01      		movw r30,r24
  25 0008 8085      		ldd r24,Z+8
  26 000a 9185      		ldd r25,Z+9
  27 000c 2FEF      		ldi r18,hi8(-1)
  28 000e 6F3F      		cpi r22,lo8(-1)
  29 0010 7207      		cpc r23,r18
  30 0012 01F0      		breq .L4
  31 0014 7068      		ori r23,hi8(-32768)
  32 0016 7187      		std Z+9,r23
  33 0018 6087      		std Z+8,r22
  34               	.L4:
  35 001a 0895      		ret
  36               		.size	NutSpiBusSetMode, .-NutSpiBusSetMode
  37               	.global	NutSpiBusSetRate
  38               		.type	NutSpiBusSetRate, @function
  39               	NutSpiBusSetRate:
  40               	/* prologue: function */
  41               	/* frame size = 0 */
  42 001c FC01      		movw r30,r24
  43 001e 2481      		ldd r18,Z+4
  44 0020 3581      		ldd r19,Z+5
  45 0022 A681      		ldd r26,Z+6
  46 0024 B781      		ldd r27,Z+7
  47 0026 4F3F      		cpi r20,lo8(-1)
  48 0028 8FEF      		ldi r24,hi8(-1)
  49 002a 5807      		cpc r21,r24
  50 002c 8FEF      		ldi r24,hlo8(-1)
  51 002e 6807      		cpc r22,r24
  52 0030 8FEF      		ldi r24,hhi8(-1)
  53 0032 7807      		cpc r23,r24
  54 0034 01F0      		breq .L7
  55 0036 4483      		std Z+4,r20
  56 0038 5583      		std Z+5,r21
  57 003a 6683      		std Z+6,r22
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc1vfd3N.s 			page 2


  58 003c 7783      		std Z+7,r23
  59 003e 8085      		ldd r24,Z+8
  60 0040 9185      		ldd r25,Z+9
  61 0042 9068      		ori r25,hi8(-32768)
  62 0044 9187      		std Z+9,r25
  63 0046 8087      		std Z+8,r24
  64               	.L7:
  65 0048 B901      		movw r22,r18
  66 004a CD01      		movw r24,r26
  67               	/* epilogue start */
  68 004c 0895      		ret
  69               		.size	NutSpiBusSetRate, .-NutSpiBusSetRate
  70               	.global	NutSpiBusSetBits
  71               		.type	NutSpiBusSetBits, @function
  72               	NutSpiBusSetBits:
  73               	/* prologue: function */
  74               	/* frame size = 0 */
  75 004e FC01      		movw r30,r24
  76 0050 2285      		ldd r18,Z+10
  77 0052 6F3F      		cpi r22,lo8(-1)
  78 0054 01F0      		breq .L10
  79 0056 6287      		std Z+10,r22
  80 0058 8085      		ldd r24,Z+8
  81 005a 9185      		ldd r25,Z+9
  82 005c 9068      		ori r25,hi8(-32768)
  83 005e 9187      		std Z+9,r25
  84 0060 8087      		std Z+8,r24
  85               	.L10:
  86 0062 822F      		mov r24,r18
  87               	/* epilogue start */
  88 0064 0895      		ret
  89               		.size	NutSpiBusSetBits, .-NutSpiBusSetBits
  90               	.global	NutRegisterSpiDevice
  91               		.type	NutRegisterSpiDevice, @function
  92               	NutRegisterSpiDevice:
  93 0066 0F93      		push r16
  94 0068 1F93      		push r17
  95 006a CF93      		push r28
  96 006c DF93      		push r29
  97               	/* prologue: function */
  98               	/* frame size = 0 */
  99 006e 8C01      		movw r16,r24
 100 0070 EB01      		movw r28,r22
 101 0072 DC01      		movw r26,r24
 102 0074 1F96      		adiw r26,15
 103 0076 ED91      		ld r30,X+
 104 0078 FC91      		ld r31,X
 105 007a 5097      		sbiw r26,15+1
 106 007c 7183      		std Z+1,r23
 107 007e 6083      		st Z,r22
 108 0080 4387      		std Z+11,r20
 109 0082 2885      		ldd r18,Y+8
 110 0084 3985      		ldd r19,Y+9
 111 0086 CF01      		movw r24,r30
 112 0088 F901      		movw r30,r18
 113 008a 0995      		icall
 114 008c 9C01      		movw r18,r24
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc1vfd3N.s 			page 3


 115 008e 0097      		sbiw r24,0
 116 0090 01F4      		brne .L13
 117 0092 CE01      		movw r24,r28
 118 0094 0E94 0000 		call NutEventPost
 119 0098 C801      		movw r24,r16
 120 009a 60E0      		ldi r22,lo8(0)
 121 009c 70E0      		ldi r23,hi8(0)
 122 009e 40E0      		ldi r20,lo8(0)
 123 00a0 0E94 0000 		call NutRegisterDevice
 124 00a4 9C01      		movw r18,r24
 125               	.L13:
 126 00a6 C901      		movw r24,r18
 127               	/* epilogue start */
 128 00a8 DF91      		pop r29
 129 00aa CF91      		pop r28
 130 00ac 1F91      		pop r17
 131 00ae 0F91      		pop r16
 132 00b0 0895      		ret
 133               		.size	NutRegisterSpiDevice, .-NutRegisterSpiDevice
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc1vfd3N.s 			page 4


DEFINED SYMBOLS
                            *ABS*:00000000 spibus.c
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc1vfd3N.s:2      *ABS*:0000003f __SREG__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc1vfd3N.s:3      *ABS*:0000003e __SP_H__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc1vfd3N.s:4      *ABS*:0000003d __SP_L__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc1vfd3N.s:5      *ABS*:00000034 __CCP__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc1vfd3N.s:6      *ABS*:00000000 __tmp_reg__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc1vfd3N.s:7      *ABS*:00000001 __zero_reg__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc1vfd3N.s:11     .text:00000000 NutSpiBusWait
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc1vfd3N.s:21     .text:00000006 NutSpiBusSetMode
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc1vfd3N.s:39     .text:0000001c NutSpiBusSetRate
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc1vfd3N.s:72     .text:0000004e NutSpiBusSetBits
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc1vfd3N.s:92     .text:00000066 NutRegisterSpiDevice

UNDEFINED SYMBOLS
NutEventPost
NutRegisterDevice
