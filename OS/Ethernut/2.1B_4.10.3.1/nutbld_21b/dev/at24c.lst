GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccjj36Kc.s 			page 1


   1               		.file	"at24c.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__  = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.text
   9               	.global	At24cWrite
  10               		.type	At24cWrite, @function
  11               	At24cWrite:
  12 0000 2F92      		push r2
  13 0002 3F92      		push r3
  14 0004 4F92      		push r4
  15 0006 5F92      		push r5
  16 0008 6F92      		push r6
  17 000a 7F92      		push r7
  18 000c 8F92      		push r8
  19 000e 9F92      		push r9
  20 0010 AF92      		push r10
  21 0012 BF92      		push r11
  22 0014 CF92      		push r12
  23 0016 DF92      		push r13
  24 0018 EF92      		push r14
  25 001a FF92      		push r15
  26 001c 0F93      		push r16
  27 001e 1F93      		push r17
  28 0020 DF93      		push r29
  29 0022 CF93      		push r28
  30 0024 CDB7      		in r28,__SP_L__
  31 0026 DEB7      		in r29,__SP_H__
  32 0028 2B97      		sbiw r28,11
  33 002a 0FB6      		in __tmp_reg__,__SREG__
  34 002c F894      		cli
  35 002e DEBF      		out __SP_H__,r29
  36 0030 0FBE      		out __SREG__,__tmp_reg__
  37 0032 CDBF      		out __SP_L__,r28
  38               	/* prologue: function */
  39               	/* frame size = 11 */
  40 0034 9D83      		std Y+5,r25
  41 0036 8C83      		std Y+4,r24
  42 0038 1901      		movw r2,r18
  43 003a 2A01      		movw r4,r20
  44 003c EE82      		std Y+6,r14
  45 003e FF82      		std Y+7,r15
  46 0040 0887      		std Y+8,r16
  47 0042 1987      		std Y+9,r17
  48 0044 7B83      		std Y+3,r23
  49 0046 6A83      		std Y+2,r22
  50 0048 1B86      		std Y+11,__zero_reg__
  51 004a 1A86      		std Y+10,__zero_reg__
  52 004c 00C0      		rjmp .L2
  53               	.L8:
  54 004e AC81      		ldd r26,Y+4
  55 0050 BD81      		ldd r27,Y+5
  56 0052 1296      		adiw r26,2
  57 0054 EC90      		ld r14,X
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccjj36Kc.s 			page 2


  58 0056 FF24      		clr r15
  59 0058 00E0      		ldi r16,lo8(0)
  60 005a 10E0      		ldi r17,hi8(0)
  61 005c 6E81      		ldd r22,Y+6
  62 005e 7F81      		ldd r23,Y+7
  63 0060 8885      		ldd r24,Y+8
  64 0062 9985      		ldd r25,Y+9
  65 0064 A801      		movw r20,r16
  66 0066 9701      		movw r18,r14
  67 0068 0E94 0000 		call __udivmodsi4
  68 006c 3701      		movw r6,r14
  69 006e 4801      		movw r8,r16
  70 0070 661A      		sub r6,r22
  71 0072 770A      		sbc r7,r23
  72 0074 880A      		sbc r8,r24
  73 0076 990A      		sbc r9,r25
  74 0078 2614      		cp r2,r6
  75 007a 3704      		cpc r3,r7
  76 007c 4804      		cpc r4,r8
  77 007e 5904      		cpc r5,r9
  78 0080 00F4      		brsh .L3
  79 0082 4201      		movw r8,r4
  80 0084 3101      		movw r6,r2
  81               	.L3:
  82 0086 EC81      		ldd r30,Y+4
  83 0088 FD81      		ldd r31,Y+5
  84 008a F085      		ldd r31,Z+8
  85 008c F983      		std Y+1,r31
  86               	.L6:
  87 008e AC81      		ldd r26,Y+4
  88 0090 BD81      		ldd r27,Y+5
  89 0092 8C91      		ld r24,X
  90 0094 4E81      		ldd r20,Y+6
  91 0096 5F81      		ldd r21,Y+7
  92 0098 6885      		ldd r22,Y+8
  93 009a 7985      		ldd r23,Y+9
  94 009c 1196      		adiw r26,1
  95 009e 2C91      		ld r18,X
  96 00a0 0A81      		ldd r16,Y+2
  97 00a2 1B81      		ldd r17,Y+3
  98 00a4 7301      		movw r14,r6
  99 00a6 94EF      		ldi r25,lo8(500)
 100 00a8 A92E      		mov r10,r25
 101 00aa 91E0      		ldi r25,hi8(500)
 102 00ac B92E      		mov r11,r25
 103 00ae C12C      		mov r12,__zero_reg__
 104 00b0 D12C      		mov r13,__zero_reg__
 105 00b2 0E94 0000 		call TwMasterRegWrite
 106 00b6 0E94 0000 		call TwMasterError
 107 00ba 0097      		sbiw r24,0
 108 00bc 01F0      		breq .L4
 109 00be 0497      		sbiw r24,4
 110 00c0 04F4      		brge .L5
 111 00c2 EFEF      		ldi r30,lo8(-1)
 112 00c4 FFEF      		ldi r31,hi8(-1)
 113 00c6 FB87      		std Y+11,r31
 114 00c8 EA87      		std Y+10,r30
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccjj36Kc.s 			page 3


 115 00ca 00C0      		rjmp .L4
 116               	.L5:
 117 00cc F981      		ldd r31,Y+1
 118 00ce F150      		subi r31,lo8(-(-1))
 119 00d0 F983      		std Y+1,r31
 120 00d2 61E0      		ldi r22,lo8(1)
 121 00d4 70E0      		ldi r23,hi8(1)
 122 00d6 80E0      		ldi r24,hlo8(1)
 123 00d8 90E0      		ldi r25,hhi8(1)
 124 00da 0E94 0000 		call NutSleep
 125 00de 8981      		ldd r24,Y+1
 126 00e0 8823      		tst r24
 127 00e2 01F4      		brne .L6
 128 00e4 AEEF      		ldi r26,lo8(-2)
 129 00e6 BFEF      		ldi r27,hi8(-2)
 130 00e8 BB87      		std Y+11,r27
 131 00ea AA87      		std Y+10,r26
 132               	.L4:
 133 00ec EA81      		ldd r30,Y+2
 134 00ee FB81      		ldd r31,Y+3
 135 00f0 E60D      		add r30,r6
 136 00f2 F71D      		adc r31,r7
 137 00f4 FB83      		std Y+3,r31
 138 00f6 EA83      		std Y+2,r30
 139 00f8 8E81      		ldd r24,Y+6
 140 00fa 9F81      		ldd r25,Y+7
 141 00fc A885      		ldd r26,Y+8
 142 00fe B985      		ldd r27,Y+9
 143 0100 860D      		add r24,r6
 144 0102 971D      		adc r25,r7
 145 0104 A81D      		adc r26,r8
 146 0106 B91D      		adc r27,r9
 147 0108 8E83      		std Y+6,r24
 148 010a 9F83      		std Y+7,r25
 149 010c A887      		std Y+8,r26
 150 010e B987      		std Y+9,r27
 151 0110 2618      		sub r2,r6
 152 0112 3708      		sbc r3,r7
 153 0114 4808      		sbc r4,r8
 154 0116 5908      		sbc r5,r9
 155               	.L2:
 156 0118 2114      		cp r2,__zero_reg__
 157 011a 3104      		cpc r3,__zero_reg__
 158 011c 4104      		cpc r4,__zero_reg__
 159 011e 5104      		cpc r5,__zero_reg__
 160 0120 01F0      		breq .L7
 161 0122 AA85      		ldd r26,Y+10
 162 0124 BB85      		ldd r27,Y+11
 163 0126 AB2B      		or r26,r27
 164 0128 01F4      		brne .+2
 165 012a 00C0      		rjmp .L8
 166               	.L7:
 167 012c 8A85      		ldd r24,Y+10
 168 012e 9B85      		ldd r25,Y+11
 169               	/* epilogue start */
 170 0130 2B96      		adiw r28,11
 171 0132 0FB6      		in __tmp_reg__,__SREG__
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccjj36Kc.s 			page 4


 172 0134 F894      		cli
 173 0136 DEBF      		out __SP_H__,r29
 174 0138 0FBE      		out __SREG__,__tmp_reg__
 175 013a CDBF      		out __SP_L__,r28
 176 013c CF91      		pop r28
 177 013e DF91      		pop r29
 178 0140 1F91      		pop r17
 179 0142 0F91      		pop r16
 180 0144 FF90      		pop r15
 181 0146 EF90      		pop r14
 182 0148 DF90      		pop r13
 183 014a CF90      		pop r12
 184 014c BF90      		pop r11
 185 014e AF90      		pop r10
 186 0150 9F90      		pop r9
 187 0152 8F90      		pop r8
 188 0154 7F90      		pop r7
 189 0156 6F90      		pop r6
 190 0158 5F90      		pop r5
 191 015a 4F90      		pop r4
 192 015c 3F90      		pop r3
 193 015e 2F90      		pop r2
 194 0160 0895      		ret
 195               		.size	At24cWrite, .-At24cWrite
 196               	.global	At24cRead
 197               		.type	At24cRead, @function
 198               	At24cRead:
 199 0162 2F92      		push r2
 200 0164 3F92      		push r3
 201 0166 4F92      		push r4
 202 0168 5F92      		push r5
 203 016a 6F92      		push r6
 204 016c 7F92      		push r7
 205 016e 9F92      		push r9
 206 0170 AF92      		push r10
 207 0172 BF92      		push r11
 208 0174 CF92      		push r12
 209 0176 DF92      		push r13
 210 0178 EF92      		push r14
 211 017a FF92      		push r15
 212 017c 0F93      		push r16
 213 017e 1F93      		push r17
 214 0180 DF93      		push r29
 215 0182 CF93      		push r28
 216 0184 00D0      		rcall .
 217 0186 00D0      		rcall .
 218 0188 00D0      		rcall .
 219 018a CDB7      		in r28,__SP_L__
 220 018c DEB7      		in r29,__SP_H__
 221               	/* prologue: function */
 222               	/* frame size = 6 */
 223 018e 9E83      		std Y+6,r25
 224 0190 8D83      		std Y+5,r24
 225 0192 1B01      		movw r2,r22
 226 0194 2983      		std Y+1,r18
 227 0196 3A83      		std Y+2,r19
 228 0198 4B83      		std Y+3,r20
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccjj36Kc.s 			page 5


 229 019a 5C83      		std Y+4,r21
 230 019c 2701      		movw r4,r14
 231 019e 3801      		movw r6,r16
 232 01a0 FC01      		movw r30,r24
 233 01a2 9084      		ldd r9,Z+8
 234               	.L15:
 235 01a4 ED81      		ldd r30,Y+5
 236 01a6 FE81      		ldd r31,Y+6
 237 01a8 8081      		ld r24,Z
 238 01aa B301      		movw r22,r6
 239 01ac A201      		movw r20,r4
 240 01ae 2181      		ldd r18,Z+1
 241 01b0 8101      		movw r16,r2
 242 01b2 E980      		ldd r14,Y+1
 243 01b4 FA80      		ldd r15,Y+2
 244 01b6 34EF      		ldi r19,lo8(500)
 245 01b8 A32E      		mov r10,r19
 246 01ba 31E0      		ldi r19,hi8(500)
 247 01bc B32E      		mov r11,r19
 248 01be C12C      		mov r12,__zero_reg__
 249 01c0 D12C      		mov r13,__zero_reg__
 250 01c2 0E94 0000 		call TwMasterRegRead
 251 01c6 0E94 0000 		call TwMasterError
 252 01ca 0097      		sbiw r24,0
 253 01cc 01F4      		brne .L12
 254 01ce 20E0      		ldi r18,lo8(0)
 255 01d0 30E0      		ldi r19,hi8(0)
 256 01d2 00C0      		rjmp .L13
 257               	.L12:
 258 01d4 0497      		sbiw r24,4
 259 01d6 01F0      		breq .L14
 260 01d8 2EEF      		ldi r18,lo8(-2)
 261 01da 3FEF      		ldi r19,hi8(-2)
 262 01dc 00C0      		rjmp .L13
 263               	.L14:
 264 01de 9A94      		dec r9
 265 01e0 61E0      		ldi r22,lo8(1)
 266 01e2 70E0      		ldi r23,hi8(1)
 267 01e4 80E0      		ldi r24,hlo8(1)
 268 01e6 90E0      		ldi r25,hhi8(1)
 269 01e8 0E94 0000 		call NutSleep
 270 01ec 9920      		tst r9
 271 01ee 01F4      		brne .L15
 272 01f0 2FEF      		ldi r18,lo8(-1)
 273 01f2 3FEF      		ldi r19,hi8(-1)
 274               	.L13:
 275 01f4 C901      		movw r24,r18
 276               	/* epilogue start */
 277 01f6 2696      		adiw r28,6
 278 01f8 0FB6      		in __tmp_reg__,__SREG__
 279 01fa F894      		cli
 280 01fc DEBF      		out __SP_H__,r29
 281 01fe 0FBE      		out __SREG__,__tmp_reg__
 282 0200 CDBF      		out __SP_L__,r28
 283 0202 CF91      		pop r28
 284 0204 DF91      		pop r29
 285 0206 1F91      		pop r17
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccjj36Kc.s 			page 6


 286 0208 0F91      		pop r16
 287 020a FF90      		pop r15
 288 020c EF90      		pop r14
 289 020e DF90      		pop r13
 290 0210 CF90      		pop r12
 291 0212 BF90      		pop r11
 292 0214 AF90      		pop r10
 293 0216 9F90      		pop r9
 294 0218 7F90      		pop r7
 295 021a 6F90      		pop r6
 296 021c 5F90      		pop r5
 297 021e 4F90      		pop r4
 298 0220 3F90      		pop r3
 299 0222 2F90      		pop r2
 300 0224 0895      		ret
 301               		.size	At24cRead, .-At24cRead
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccjj36Kc.s 			page 7


DEFINED SYMBOLS
                            *ABS*:00000000 at24c.c
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccjj36Kc.s:2      *ABS*:0000003f __SREG__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccjj36Kc.s:3      *ABS*:0000003e __SP_H__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccjj36Kc.s:4      *ABS*:0000003d __SP_L__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccjj36Kc.s:5      *ABS*:00000034 __CCP__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccjj36Kc.s:6      *ABS*:00000000 __tmp_reg__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccjj36Kc.s:7      *ABS*:00000001 __zero_reg__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccjj36Kc.s:11     .text:00000000 At24cWrite
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccjj36Kc.s:198    .text:00000162 At24cRead

UNDEFINED SYMBOLS
__udivmodsi4
TwMasterRegWrite
TwMasterError
NutSleep
TwMasterRegRead
