GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccL7EWva.s 			page 1


   1               		.file	"fgets.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__  = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.text
   9               	.global	fgets
  10               		.type	fgets, @function
  11               	fgets:
  12 0000 CF92      		push r12
  13 0002 DF92      		push r13
  14 0004 EF92      		push r14
  15 0006 FF92      		push r15
  16 0008 0F93      		push r16
  17 000a 1F93      		push r17
  18 000c CF93      		push r28
  19 000e DF93      		push r29
  20               	/* prologue: function */
  21               	/* frame size = 0 */
  22 0010 7C01      		movw r14,r24
  23 0012 6A01      		movw r12,r20
  24 0014 8B01      		movw r16,r22
  25 0016 E701      		movw r28,r14
  26 0018 00C0      		rjmp .L2
  27               	.L6:
  28 001a C601      		movw r24,r12
  29 001c 0E94 0000 		call fgetc
  30 0020 2FEF      		ldi r18,hi8(-1)
  31 0022 8F3F      		cpi r24,lo8(-1)
  32 0024 9207      		cpc r25,r18
  33 0026 01F4      		brne .L3
  34 0028 1882      		st Y,__zero_reg__
  35 002a EE24      		clr r14
  36 002c FF24      		clr r15
  37 002e 00C0      		rjmp .L4
  38               	.L3:
  39 0030 8993      		st Y+,r24
  40 0032 0150      		subi r16,lo8(-(-1))
  41 0034 1040      		sbci r17,hi8(-(-1))
  42 0036 0A97      		sbiw r24,10
  43 0038 01F0      		breq .L5
  44               	.L2:
  45 003a 0230      		cpi r16,2
  46 003c 1105      		cpc r17,__zero_reg__
  47 003e 04F4      		brge .L6
  48               	.L5:
  49 0040 1882      		st Y,__zero_reg__
  50               	.L4:
  51 0042 C701      		movw r24,r14
  52               	/* epilogue start */
  53 0044 DF91      		pop r29
  54 0046 CF91      		pop r28
  55 0048 1F91      		pop r17
  56 004a 0F91      		pop r16
  57 004c FF90      		pop r15
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccL7EWva.s 			page 2


  58 004e EF90      		pop r14
  59 0050 DF90      		pop r13
  60 0052 CF90      		pop r12
  61 0054 0895      		ret
  62               		.size	fgets, .-fgets
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccL7EWva.s 			page 3


DEFINED SYMBOLS
                            *ABS*:00000000 fgets.c
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccL7EWva.s:2      *ABS*:0000003f __SREG__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccL7EWva.s:3      *ABS*:0000003e __SP_H__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccL7EWva.s:4      *ABS*:0000003d __SP_L__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccL7EWva.s:5      *ABS*:00000034 __CCP__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccL7EWva.s:6      *ABS*:00000000 __tmp_reg__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccL7EWva.s:7      *ABS*:00000001 __zero_reg__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccL7EWva.s:11     .text:00000000 fgets

UNDEFINED SYMBOLS
fgetc
