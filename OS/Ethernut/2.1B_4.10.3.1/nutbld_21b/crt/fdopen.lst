GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccjGHUlV.s 			page 1


   1               		.file	"fdopen.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__  = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.text
   9               	.global	_fdopen
  10               		.type	_fdopen, @function
  11               	_fdopen:
  12 0000 EF92      		push r14
  13 0002 FF92      		push r15
  14 0004 0F93      		push r16
  15 0006 1F93      		push r17
  16 0008 CF93      		push r28
  17 000a DF93      		push r29
  18               	/* prologue: function */
  19               	/* frame size = 0 */
  20 000c 7C01      		movw r14,r24
  21 000e CB01      		movw r24,r22
  22 0010 0E94 0000 		call _fmode
  23 0014 8C01      		movw r16,r24
  24 0016 8FEF      		ldi r24,hi8(-1)
  25 0018 0F3F      		cpi r16,lo8(-1)
  26 001a 1807      		cpc r17,r24
  27 001c 01F0      		breq .L10
  28               	.L2:
  29 001e E0E0      		ldi r30,lo8(__iob+6)
  30 0020 F0E0      		ldi r31,hi8(__iob+6)
  31 0022 C3E0      		ldi r28,lo8(3)
  32 0024 D0E0      		ldi r29,hi8(3)
  33 0026 00C0      		rjmp .L4
  34               	.L5:
  35 0028 2196      		adiw r28,1
  36 002a 3296      		adiw r30,2
  37 002c C830      		cpi r28,8
  38 002e D105      		cpc r29,__zero_reg__
  39 0030 01F4      		brne .L4
  40 0032 87E1      		ldi r24,lo8(23)
  41 0034 90E0      		ldi r25,hi8(23)
  42 0036 9093 0000 		sts (errno)+1,r25
  43 003a 8093 0000 		sts errno,r24
  44               	.L10:
  45 003e E0E0      		ldi r30,lo8(0)
  46 0040 F0E0      		ldi r31,hi8(0)
  47 0042 00C0      		rjmp .L3
  48               	.L4:
  49 0044 8081      		ld r24,Z
  50 0046 9181      		ldd r25,Z+1
  51 0048 892B      		or r24,r25
  52 004a 01F4      		brne .L5
  53 004c 87E0      		ldi r24,lo8(7)
  54 004e 90E0      		ldi r25,hi8(7)
  55 0050 0E94 0000 		call malloc
  56 0054 DC01      		movw r26,r24
  57 0056 FE01      		movw r30,r28
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccjGHUlV.s 			page 2


  58 0058 EE0F      		lsl r30
  59 005a FF1F      		rol r31
  60 005c E050      		subi r30,lo8(-(__iob))
  61 005e F040      		sbci r31,hi8(-(__iob))
  62 0060 B183      		std Z+1,r27
  63 0062 A083      		st Z,r26
  64 0064 1097      		sbiw r26,0
  65 0066 01F0      		breq .L6
  66 0068 1196      		adiw r26,1
  67 006a FC92      		st X,r15
  68 006c EE92      		st -X,r14
  69 006e 1396      		adiw r26,2+1
  70 0070 1C93      		st X,r17
  71 0072 0E93      		st -X,r16
  72 0074 1297      		sbiw r26,2
  73 0076 1496      		adiw r26,4
  74 0078 1C92      		st X,__zero_reg__
  75 007a 1497      		sbiw r26,4
  76 007c 1696      		adiw r26,5+1
  77 007e 1C92      		st X,__zero_reg__
  78 0080 1E92      		st -X,__zero_reg__
  79 0082 1597      		sbiw r26,5
  80 0084 00C0      		rjmp .L7
  81               	.L6:
  82 0086 8CE0      		ldi r24,lo8(12)
  83 0088 90E0      		ldi r25,hi8(12)
  84 008a 9093 0000 		sts (errno)+1,r25
  85 008e 8093 0000 		sts errno,r24
  86               	.L7:
  87 0092 CC0F      		lsl r28
  88 0094 DD1F      		rol r29
  89 0096 C050      		subi r28,lo8(-(__iob))
  90 0098 D040      		sbci r29,hi8(-(__iob))
  91 009a E881      		ld r30,Y
  92 009c F981      		ldd r31,Y+1
  93               	.L3:
  94 009e CF01      		movw r24,r30
  95               	/* epilogue start */
  96 00a0 DF91      		pop r29
  97 00a2 CF91      		pop r28
  98 00a4 1F91      		pop r17
  99 00a6 0F91      		pop r16
 100 00a8 FF90      		pop r15
 101 00aa EF90      		pop r14
 102 00ac 0895      		ret
 103               		.size	_fdopen, .-_fdopen
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccjGHUlV.s 			page 3


DEFINED SYMBOLS
                            *ABS*:00000000 fdopen.c
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccjGHUlV.s:2      *ABS*:0000003f __SREG__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccjGHUlV.s:3      *ABS*:0000003e __SP_H__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccjGHUlV.s:4      *ABS*:0000003d __SP_L__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccjGHUlV.s:5      *ABS*:00000034 __CCP__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccjGHUlV.s:6      *ABS*:00000000 __tmp_reg__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccjGHUlV.s:7      *ABS*:00000001 __zero_reg__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccjGHUlV.s:11     .text:00000000 _fdopen

UNDEFINED SYMBOLS
_fmode
__iob
errno
malloc
