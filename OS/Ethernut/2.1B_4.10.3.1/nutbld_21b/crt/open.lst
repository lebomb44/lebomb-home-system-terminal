GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cca8Visj.s 			page 1


   1               		.file	"open.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__  = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.text
   9               	.global	_open
  10               		.type	_open, @function
  11               	_open:
  12 0000 DF92      		push r13
  13 0002 EF92      		push r14
  14 0004 FF92      		push r15
  15 0006 0F93      		push r16
  16 0008 1F93      		push r17
  17 000a DF93      		push r29
  18 000c CF93      		push r28
  19 000e CDB7      		in r28,__SP_L__
  20 0010 DEB7      		in r29,__SP_H__
  21 0012 2997      		sbiw r28,9
  22 0014 0FB6      		in __tmp_reg__,__SREG__
  23 0016 F894      		cli
  24 0018 DEBF      		out __SP_H__,r29
  25 001a 0FBE      		out __SREG__,__tmp_reg__
  26 001c CDBF      		out __SP_L__,r28
  27               	/* prologue: function */
  28               	/* frame size = 9 */
  29 001e D82E      		mov r13,r24
  30 0020 7B01      		movw r14,r22
  31 0022 FE01      		movw r30,r28
  32 0024 3196      		adiw r30,1
  33 0026 282F      		mov r18,r24
  34 0028 392F      		mov r19,r25
  35 002a 8901      		movw r16,r18
  36 002c AE01      		movw r20,r28
  37 002e 475F      		subi r20,lo8(-(9))
  38 0030 5F4F      		sbci r21,hi8(-(9))
  39 0032 00C0      		rjmp .L2
  40               	.L4:
  41 0034 8193      		st Z+,r24
  42 0036 0F5F      		subi r16,lo8(-(1))
  43 0038 1F4F      		sbci r17,hi8(-(1))
  44               	.L2:
  45 003a 202F      		mov r18,r16
  46 003c 2D19      		sub r18,r13
  47 003e D801      		movw r26,r16
  48 0040 8C91      		ld r24,X
  49 0042 8823      		tst r24
  50 0044 01F0      		breq .L3
  51 0046 8A33      		cpi r24,lo8(58)
  52 0048 01F0      		breq .L3
  53 004a E417      		cp r30,r20
  54 004c F507      		cpc r31,r21
  55 004e 01F4      		brne .L4
  56               	.L3:
  57 0050 CE01      		movw r24,r28
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cca8Visj.s 			page 2


  58 0052 0196      		adiw r24,1
  59 0054 FC01      		movw r30,r24
  60 0056 E20F      		add r30,r18
  61 0058 F11D      		adc r31,__zero_reg__
  62 005a 1082      		st Z,__zero_reg__
  63 005c 0E94 0000 		call NutDeviceLookup
  64 0060 DC01      		movw r26,r24
  65 0062 0097      		sbiw r24,0
  66 0064 01F4      		brne .L5
  67 0066 82E0      		ldi r24,lo8(2)
  68 0068 90E0      		ldi r25,hi8(2)
  69 006a 9093 0000 		sts (errno)+1,r25
  70 006e 8093 0000 		sts errno,r24
  71 0072 2FEF      		ldi r18,lo8(-1)
  72 0074 3FEF      		ldi r19,hi8(-1)
  73 0076 00C0      		rjmp .L6
  74               	.L5:
  75 0078 F801      		movw r30,r16
  76 007a 8081      		ld r24,Z
  77 007c 8A33      		cpi r24,lo8(58)
  78 007e 01F0      		breq .L7
  79 0080 60E0      		ldi r22,lo8(0)
  80 0082 70E0      		ldi r23,hi8(0)
  81 0084 00C0      		rjmp .L8
  82               	.L7:
  83 0086 B801      		movw r22,r16
  84 0088 6F5F      		subi r22,lo8(-(1))
  85 008a 7F4F      		sbci r23,hi8(-(1))
  86               	.L8:
  87 008c 5D96      		adiw r26,29
  88 008e ED91      		ld r30,X+
  89 0090 FC91      		ld r31,X
  90 0092 5E97      		sbiw r26,29+1
  91 0094 CD01      		movw r24,r26
  92 0096 A701      		movw r20,r14
  93 0098 20E0      		ldi r18,lo8(0)
  94 009a 30E0      		ldi r19,hi8(0)
  95 009c 0995      		icall
  96 009e 9C01      		movw r18,r24
  97               	.L6:
  98 00a0 C901      		movw r24,r18
  99               	/* epilogue start */
 100 00a2 2996      		adiw r28,9
 101 00a4 0FB6      		in __tmp_reg__,__SREG__
 102 00a6 F894      		cli
 103 00a8 DEBF      		out __SP_H__,r29
 104 00aa 0FBE      		out __SREG__,__tmp_reg__
 105 00ac CDBF      		out __SP_L__,r28
 106 00ae CF91      		pop r28
 107 00b0 DF91      		pop r29
 108 00b2 1F91      		pop r17
 109 00b4 0F91      		pop r16
 110 00b6 FF90      		pop r15
 111 00b8 EF90      		pop r14
 112 00ba DF90      		pop r13
 113 00bc 0895      		ret
 114               		.size	_open, .-_open
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cca8Visj.s 			page 3


GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cca8Visj.s 			page 4


DEFINED SYMBOLS
                            *ABS*:00000000 open.c
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cca8Visj.s:2      *ABS*:0000003f __SREG__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cca8Visj.s:3      *ABS*:0000003e __SP_H__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cca8Visj.s:4      *ABS*:0000003d __SP_L__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cca8Visj.s:5      *ABS*:00000034 __CCP__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cca8Visj.s:6      *ABS*:00000000 __tmp_reg__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cca8Visj.s:7      *ABS*:00000001 __zero_reg__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cca8Visj.s:11     .text:00000000 _open

UNDEFINED SYMBOLS
NutDeviceLookup
errno
