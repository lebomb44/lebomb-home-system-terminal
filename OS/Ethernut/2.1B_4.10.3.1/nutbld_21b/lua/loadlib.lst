GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccWohXoL.s 			page 1


   1               		.file	"loadlib.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__  = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.data
   9               	.LC0:
  10 0000 6572 726F 		.string	"error loading module '%s' from file '%s':\n\t%s"
  10      7220 6C6F 
  10      6164 696E 
  10      6720 6D6F 
  10      6475 6C65 
  11               		.text
  12               		.type	loaderror, @function
  13               	loaderror:
  14 0000 CF92      		push r12
  15 0002 DF92      		push r13
  16 0004 EF92      		push r14
  17 0006 FF92      		push r15
  18 0008 0F93      		push r16
  19 000a 1F93      		push r17
  20               	/* prologue: function */
  21               	/* frame size = 0 */
  22 000c 8C01      		movw r16,r24
  23 000e 6B01      		movw r12,r22
  24 0010 61E0      		ldi r22,lo8(1)
  25 0012 70E0      		ldi r23,hi8(1)
  26 0014 40E0      		ldi r20,lo8(0)
  27 0016 50E0      		ldi r21,hi8(0)
  28 0018 0E94 0000 		call lua_tolstring
  29 001c 7C01      		movw r14,r24
  30 001e C801      		movw r24,r16
  31 0020 6FEF      		ldi r22,lo8(-1)
  32 0022 7FEF      		ldi r23,hi8(-1)
  33 0024 40E0      		ldi r20,lo8(0)
  34 0026 50E0      		ldi r21,hi8(0)
  35 0028 0E94 0000 		call lua_tolstring
  36 002c 2DB7      		in r18,__SP_L__
  37 002e 3EB7      		in r19,__SP_H__
  38 0030 2A50      		subi r18,lo8(-(-10))
  39 0032 3040      		sbci r19,hi8(-(-10))
  40 0034 0FB6      		in __tmp_reg__,__SREG__
  41 0036 F894      		cli
  42 0038 3EBF      		out __SP_H__,r19
  43 003a 0FBE      		out __SREG__,__tmp_reg__
  44 003c 2DBF      		out __SP_L__,r18
  45 003e EDB7      		in r30,__SP_L__
  46 0040 FEB7      		in r31,__SP_H__
  47 0042 3196      		adiw r30,1
  48 0044 ADB7      		in r26,__SP_L__
  49 0046 BEB7      		in r27,__SP_H__
  50 0048 1296      		adiw r26,1+1
  51 004a 1C93      		st X,r17
  52 004c 0E93      		st -X,r16
  53 004e 1197      		sbiw r26,1
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccWohXoL.s 			page 2


  54 0050 20E0      		ldi r18,lo8(.LC0)
  55 0052 30E0      		ldi r19,hi8(.LC0)
  56 0054 3383      		std Z+3,r19
  57 0056 2283      		std Z+2,r18
  58 0058 F582      		std Z+5,r15
  59 005a E482      		std Z+4,r14
  60 005c D782      		std Z+7,r13
  61 005e C682      		std Z+6,r12
  62 0060 9187      		std Z+9,r25
  63 0062 8087      		std Z+8,r24
  64 0064 0E94 0000 		call luaL_error
  65 0068 2DB7      		in r18,__SP_L__
  66 006a 3EB7      		in r19,__SP_H__
  67 006c 265F      		subi r18,lo8(-(10))
  68 006e 3F4F      		sbci r19,hi8(-(10))
  69 0070 0FB6      		in __tmp_reg__,__SREG__
  70 0072 F894      		cli
  71 0074 3EBF      		out __SP_H__,r19
  72 0076 0FBE      		out __SREG__,__tmp_reg__
  73 0078 2DBF      		out __SP_L__,r18
  74               	/* epilogue start */
  75 007a 1F91      		pop r17
  76 007c 0F91      		pop r16
  77 007e FF90      		pop r15
  78 0080 EF90      		pop r14
  79 0082 DF90      		pop r13
  80 0084 CF90      		pop r12
  81 0086 0895      		ret
  82               		.size	loaderror, .-loaderror
  83               		.data
  84               	.LC1:
  85 002e 5F4C 4F41 		.string	"_LOADED"
  85      4445 4400 
  86               	.LC2:
  87 0036 6C6F 6F70 		.string	"loop or previous error loading module '%s'"
  87      206F 7220 
  87      7072 6576 
  87      696F 7573 
  87      2065 7272 
  88               	.LC3:
  89 0061 6C6F 6164 		.string	"loaders"
  89      6572 7300 
  90               	.LC4:
  91 0069 2770 6163 		.string	"'package.loaders' must be a table"
  91      6B61 6765 
  91      2E6C 6F61 
  91      6465 7273 
  91      2720 6D75 
  92               	.LC5:
  93 008b 00        		.string	""
  94               	.LC6:
  95 008c 6D6F 6475 		.string	"module '%s' not found:%s"
  95      6C65 2027 
  95      2573 2720 
  95      6E6F 7420 
  95      666F 756E 
  96               		.text
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccWohXoL.s 			page 3


  97               		.type	ll_require, @function
  98               	ll_require:
  99 0088 AF92      		push r10
 100 008a BF92      		push r11
 101 008c CF92      		push r12
 102 008e DF92      		push r13
 103 0090 EF92      		push r14
 104 0092 FF92      		push r15
 105 0094 0F93      		push r16
 106 0096 1F93      		push r17
 107 0098 DF93      		push r29
 108 009a CF93      		push r28
 109 009c 0F92      		push __tmp_reg__
 110 009e CDB7      		in r28,__SP_L__
 111 00a0 DEB7      		in r29,__SP_H__
 112               	/* prologue: function */
 113               	/* frame size = 1 */
 114 00a2 8C01      		movw r16,r24
 115 00a4 61E0      		ldi r22,lo8(1)
 116 00a6 70E0      		ldi r23,hi8(1)
 117 00a8 40E0      		ldi r20,lo8(0)
 118 00aa 50E0      		ldi r21,hi8(0)
 119 00ac 0E94 0000 		call luaL_checklstring
 120 00b0 7C01      		movw r14,r24
 121 00b2 C801      		movw r24,r16
 122 00b4 61E0      		ldi r22,lo8(1)
 123 00b6 70E0      		ldi r23,hi8(1)
 124 00b8 0E94 0000 		call lua_settop
 125 00bc C801      		movw r24,r16
 126 00be 60EF      		ldi r22,lo8(-10000)
 127 00c0 78ED      		ldi r23,hi8(-10000)
 128 00c2 40E0      		ldi r20,lo8(.LC1)
 129 00c4 50E0      		ldi r21,hi8(.LC1)
 130 00c6 0E94 0000 		call lua_getfield
 131 00ca C801      		movw r24,r16
 132 00cc 62E0      		ldi r22,lo8(2)
 133 00ce 70E0      		ldi r23,hi8(2)
 134 00d0 A701      		movw r20,r14
 135 00d2 0E94 0000 		call lua_getfield
 136 00d6 C801      		movw r24,r16
 137 00d8 6FEF      		ldi r22,lo8(-1)
 138 00da 7FEF      		ldi r23,hi8(-1)
 139 00dc 0E94 0000 		call lua_toboolean
 140 00e0 892B      		or r24,r25
 141 00e2 01F0      		breq .L4
 142 00e4 C801      		movw r24,r16
 143 00e6 6FEF      		ldi r22,lo8(-1)
 144 00e8 7FEF      		ldi r23,hi8(-1)
 145 00ea 0E94 0000 		call lua_touserdata
 146 00ee 8050      		subi r24,lo8(sentinel_)
 147 00f0 9040      		sbci r25,hi8(sentinel_)
 148 00f2 01F0      		breq .+2
 149 00f4 00C0      		rjmp .L5
 150 00f6 00D0      		rcall .
 151 00f8 00D0      		rcall .
 152 00fa 00D0      		rcall .
 153 00fc EDB7      		in r30,__SP_L__
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccWohXoL.s 			page 4


 154 00fe FEB7      		in r31,__SP_H__
 155 0100 3196      		adiw r30,1
 156 0102 ADB7      		in r26,__SP_L__
 157 0104 BEB7      		in r27,__SP_H__
 158 0106 1296      		adiw r26,1+1
 159 0108 1C93      		st X,r17
 160 010a 0E93      		st -X,r16
 161 010c 1197      		sbiw r26,1
 162 010e 80E0      		ldi r24,lo8(.LC2)
 163 0110 90E0      		ldi r25,hi8(.LC2)
 164 0112 9383      		std Z+3,r25
 165 0114 8283      		std Z+2,r24
 166 0116 F582      		std Z+5,r15
 167 0118 E482      		std Z+4,r14
 168 011a 0E94 0000 		call luaL_error
 169 011e EDB7      		in r30,__SP_L__
 170 0120 FEB7      		in r31,__SP_H__
 171 0122 3696      		adiw r30,6
 172 0124 0FB6      		in __tmp_reg__,__SREG__
 173 0126 F894      		cli
 174 0128 FEBF      		out __SP_H__,r31
 175 012a 0FBE      		out __SREG__,__tmp_reg__
 176 012c EDBF      		out __SP_L__,r30
 177 012e 00C0      		rjmp .L5
 178               	.L4:
 179 0130 C701      		movw r24,r14
 180 0132 BE01      		movw r22,r28
 181 0134 6F5F      		subi r22,lo8(-(1))
 182 0136 7F4F      		sbci r23,hi8(-(1))
 183 0138 0E94 0000 		call luaR_findglobal
 184 013c 9B01      		movw r18,r22
 185 013e AC01      		movw r20,r24
 186 0140 8981      		ldd r24,Y+1
 187 0142 8230      		cpi r24,lo8(2)
 188 0144 01F4      		brne .L6
 189 0146 C801      		movw r24,r16
 190 0148 B901      		movw r22,r18
 191 014a 0E94 0000 		call lua_pushrotable
 192 014e 00C0      		rjmp .L5
 193               	.L6:
 194 0150 C801      		movw r24,r16
 195 0152 6FEE      		ldi r22,lo8(-10001)
 196 0154 78ED      		ldi r23,hi8(-10001)
 197 0156 40E0      		ldi r20,lo8(.LC3)
 198 0158 50E0      		ldi r21,hi8(.LC3)
 199 015a 0E94 0000 		call lua_getfield
 200 015e C801      		movw r24,r16
 201 0160 6FEF      		ldi r22,lo8(-1)
 202 0162 7FEF      		ldi r23,hi8(-1)
 203 0164 0E94 0000 		call lua_type
 204 0168 0797      		sbiw r24,7
 205 016a 01F0      		breq .L7
 206 016c 00D0      		rcall .
 207 016e 00D0      		rcall .
 208 0170 ADB7      		in r26,__SP_L__
 209 0172 BEB7      		in r27,__SP_H__
 210 0174 1296      		adiw r26,1+1
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccWohXoL.s 			page 5


 211 0176 1C93      		st X,r17
 212 0178 0E93      		st -X,r16
 213 017a 1197      		sbiw r26,1
 214 017c 80E0      		ldi r24,lo8(.LC4)
 215 017e 90E0      		ldi r25,hi8(.LC4)
 216 0180 1496      		adiw r26,3+1
 217 0182 9C93      		st X,r25
 218 0184 8E93      		st -X,r24
 219 0186 1397      		sbiw r26,3
 220 0188 0E94 0000 		call luaL_error
 221 018c 0F90      		pop __tmp_reg__
 222 018e 0F90      		pop __tmp_reg__
 223 0190 0F90      		pop __tmp_reg__
 224 0192 0F90      		pop __tmp_reg__
 225               	.L7:
 226 0194 C801      		movw r24,r16
 227 0196 60E0      		ldi r22,lo8(.LC5)
 228 0198 70E0      		ldi r23,hi8(.LC5)
 229 019a 40E0      		ldi r20,lo8(0)
 230 019c 50E0      		ldi r21,hi8(0)
 231 019e 0E94 0000 		call lua_pushlstring
 232 01a2 91E0      		ldi r25,lo8(1)
 233 01a4 C92E      		mov r12,r25
 234 01a6 D12C      		mov r13,__zero_reg__
 235 01a8 80E0      		ldi r24,lo8(.LC6)
 236 01aa A82E      		mov r10,r24
 237 01ac 80E0      		ldi r24,hi8(.LC6)
 238 01ae B82E      		mov r11,r24
 239               	.L12:
 240 01b0 C801      		movw r24,r16
 241 01b2 6EEF      		ldi r22,lo8(-2)
 242 01b4 7FEF      		ldi r23,hi8(-2)
 243 01b6 A601      		movw r20,r12
 244 01b8 0E94 0000 		call lua_rawgeti
 245 01bc C801      		movw r24,r16
 246 01be 6FEF      		ldi r22,lo8(-1)
 247 01c0 7FEF      		ldi r23,hi8(-1)
 248 01c2 0E94 0000 		call lua_type
 249 01c6 892B      		or r24,r25
 250 01c8 01F4      		brne .L8
 251 01ca C801      		movw r24,r16
 252 01cc 6EEF      		ldi r22,lo8(-2)
 253 01ce 7FEF      		ldi r23,hi8(-2)
 254 01d0 40E0      		ldi r20,lo8(0)
 255 01d2 50E0      		ldi r21,hi8(0)
 256 01d4 0E94 0000 		call lua_tolstring
 257 01d8 EDB7      		in r30,__SP_L__
 258 01da FEB7      		in r31,__SP_H__
 259 01dc 3897      		sbiw r30,8
 260 01de 0FB6      		in __tmp_reg__,__SREG__
 261 01e0 F894      		cli
 262 01e2 FEBF      		out __SP_H__,r31
 263 01e4 0FBE      		out __SREG__,__tmp_reg__
 264 01e6 EDBF      		out __SP_L__,r30
 265 01e8 3196      		adiw r30,1
 266 01ea ADB7      		in r26,__SP_L__
 267 01ec BEB7      		in r27,__SP_H__
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccWohXoL.s 			page 6


 268 01ee 1296      		adiw r26,1+1
 269 01f0 1C93      		st X,r17
 270 01f2 0E93      		st -X,r16
 271 01f4 1197      		sbiw r26,1
 272 01f6 B382      		std Z+3,r11
 273 01f8 A282      		std Z+2,r10
 274 01fa F582      		std Z+5,r15
 275 01fc E482      		std Z+4,r14
 276 01fe 9783      		std Z+7,r25
 277 0200 8683      		std Z+6,r24
 278 0202 0E94 0000 		call luaL_error
 279 0206 EDB7      		in r30,__SP_L__
 280 0208 FEB7      		in r31,__SP_H__
 281 020a 3896      		adiw r30,8
 282 020c 0FB6      		in __tmp_reg__,__SREG__
 283 020e F894      		cli
 284 0210 FEBF      		out __SP_H__,r31
 285 0212 0FBE      		out __SREG__,__tmp_reg__
 286 0214 EDBF      		out __SP_L__,r30
 287               	.L8:
 288 0216 C801      		movw r24,r16
 289 0218 B701      		movw r22,r14
 290 021a 0E94 0000 		call lua_pushstring
 291 021e C801      		movw r24,r16
 292 0220 61E0      		ldi r22,lo8(1)
 293 0222 70E0      		ldi r23,hi8(1)
 294 0224 41E0      		ldi r20,lo8(1)
 295 0226 50E0      		ldi r21,hi8(1)
 296 0228 0E94 0000 		call lua_call
 297 022c C801      		movw r24,r16
 298 022e 6FEF      		ldi r22,lo8(-1)
 299 0230 7FEF      		ldi r23,hi8(-1)
 300 0232 0E94 0000 		call lua_type
 301 0236 0897      		sbiw r24,8
 302 0238 01F0      		breq .L9
 303 023a C801      		movw r24,r16
 304 023c 6FEF      		ldi r22,lo8(-1)
 305 023e 7FEF      		ldi r23,hi8(-1)
 306 0240 0E94 0000 		call lua_isstring
 307 0244 892B      		or r24,r25
 308 0246 01F0      		breq .L10
 309 0248 C801      		movw r24,r16
 310 024a 62E0      		ldi r22,lo8(2)
 311 024c 70E0      		ldi r23,hi8(2)
 312 024e 0E94 0000 		call lua_concat
 313 0252 00C0      		rjmp .L11
 314               	.L10:
 315 0254 C801      		movw r24,r16
 316 0256 6EEF      		ldi r22,lo8(-2)
 317 0258 7FEF      		ldi r23,hi8(-2)
 318 025a 0E94 0000 		call lua_settop
 319               	.L11:
 320 025e 0894      		sec
 321 0260 C11C      		adc r12,__zero_reg__
 322 0262 D11C      		adc r13,__zero_reg__
 323 0264 00C0      		rjmp .L12
 324               	.L9:
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccWohXoL.s 			page 7


 325 0266 C801      		movw r24,r16
 326 0268 60E0      		ldi r22,lo8(sentinel_)
 327 026a 70E0      		ldi r23,hi8(sentinel_)
 328 026c 0E94 0000 		call lua_pushlightuserdata
 329 0270 C801      		movw r24,r16
 330 0272 62E0      		ldi r22,lo8(2)
 331 0274 70E0      		ldi r23,hi8(2)
 332 0276 A701      		movw r20,r14
 333 0278 0E94 0000 		call lua_setfield
 334 027c C801      		movw r24,r16
 335 027e B701      		movw r22,r14
 336 0280 0E94 0000 		call lua_pushstring
 337 0284 C801      		movw r24,r16
 338 0286 61E0      		ldi r22,lo8(1)
 339 0288 70E0      		ldi r23,hi8(1)
 340 028a 41E0      		ldi r20,lo8(1)
 341 028c 50E0      		ldi r21,hi8(1)
 342 028e 0E94 0000 		call lua_call
 343 0292 C801      		movw r24,r16
 344 0294 6FEF      		ldi r22,lo8(-1)
 345 0296 7FEF      		ldi r23,hi8(-1)
 346 0298 0E94 0000 		call lua_type
 347 029c 892B      		or r24,r25
 348 029e 01F0      		breq .L13
 349 02a0 C801      		movw r24,r16
 350 02a2 62E0      		ldi r22,lo8(2)
 351 02a4 70E0      		ldi r23,hi8(2)
 352 02a6 A701      		movw r20,r14
 353 02a8 0E94 0000 		call lua_setfield
 354               	.L13:
 355 02ac C801      		movw r24,r16
 356 02ae 62E0      		ldi r22,lo8(2)
 357 02b0 70E0      		ldi r23,hi8(2)
 358 02b2 A701      		movw r20,r14
 359 02b4 0E94 0000 		call lua_getfield
 360 02b8 C801      		movw r24,r16
 361 02ba 6FEF      		ldi r22,lo8(-1)
 362 02bc 7FEF      		ldi r23,hi8(-1)
 363 02be 0E94 0000 		call lua_touserdata
 364 02c2 8050      		subi r24,lo8(sentinel_)
 365 02c4 9040      		sbci r25,hi8(sentinel_)
 366 02c6 01F4      		brne .L5
 367 02c8 C801      		movw r24,r16
 368 02ca 61E0      		ldi r22,lo8(1)
 369 02cc 70E0      		ldi r23,hi8(1)
 370 02ce 0E94 0000 		call lua_pushboolean
 371 02d2 C801      		movw r24,r16
 372 02d4 6FEF      		ldi r22,lo8(-1)
 373 02d6 7FEF      		ldi r23,hi8(-1)
 374 02d8 0E94 0000 		call lua_pushvalue
 375 02dc C801      		movw r24,r16
 376 02de 62E0      		ldi r22,lo8(2)
 377 02e0 70E0      		ldi r23,hi8(2)
 378 02e2 A701      		movw r20,r14
 379 02e4 0E94 0000 		call lua_setfield
 380               	.L5:
 381 02e8 81E0      		ldi r24,lo8(1)
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccWohXoL.s 			page 8


 382 02ea 90E0      		ldi r25,hi8(1)
 383               	/* epilogue start */
 384 02ec 0F90      		pop __tmp_reg__
 385 02ee CF91      		pop r28
 386 02f0 DF91      		pop r29
 387 02f2 1F91      		pop r17
 388 02f4 0F91      		pop r16
 389 02f6 FF90      		pop r15
 390 02f8 EF90      		pop r14
 391 02fa DF90      		pop r13
 392 02fc CF90      		pop r12
 393 02fe BF90      		pop r11
 394 0300 AF90      		pop r10
 395 0302 0895      		ret
 396               		.size	ll_require, .-ll_require
 397               		.data
 398               	.LC7:
 399 00a5 6E61 6D65 		.string	"name conflict for module '%s'"
 399      2063 6F6E 
 399      666C 6963 
 399      7420 666F 
 399      7220 6D6F 
 400               	.LC8:
 401 00c3 5F4E 414D 		.string	"_NAME"
 401      4500 
 402               	.LC9:
 403 00c9 5F4D 00   		.string	"_M"
 404               	.LC10:
 405 00cc 5F50 4143 		.string	"_PACKAGE"
 405      4B41 4745 
 405      00
 406               	.LC11:
 407 00d5 6600      		.string	"f"
 408               	.LC12:
 409 00d7 276D 6F64 		.string	"'module' not called from a Lua function"
 409      756C 6527 
 409      206E 6F74 
 409      2063 616C 
 409      6C65 6420 
 410               		.text
 411               		.type	ll_module, @function
 412               	ll_module:
 413 0304 CF92      		push r12
 414 0306 DF92      		push r13
 415 0308 EF92      		push r14
 416 030a FF92      		push r15
 417 030c 0F93      		push r16
 418 030e 1F93      		push r17
 419 0310 DF93      		push r29
 420 0312 CF93      		push r28
 421 0314 CDB7      		in r28,__SP_L__
 422 0316 DEB7      		in r29,__SP_H__
 423 0318 C055      		subi r28,lo8(-(-80))
 424 031a D040      		sbci r29,hi8(-(-80))
 425 031c 0FB6      		in __tmp_reg__,__SREG__
 426 031e F894      		cli
 427 0320 DEBF      		out __SP_H__,r29
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccWohXoL.s 			page 9


 428 0322 0FBE      		out __SREG__,__tmp_reg__
 429 0324 CDBF      		out __SP_L__,r28
 430               	/* prologue: function */
 431               	/* frame size = 80 */
 432 0326 8C01      		movw r16,r24
 433 0328 61E0      		ldi r22,lo8(1)
 434 032a 70E0      		ldi r23,hi8(1)
 435 032c 40E0      		ldi r20,lo8(0)
 436 032e 50E0      		ldi r21,hi8(0)
 437 0330 0E94 0000 		call luaL_checklstring
 438 0334 7C01      		movw r14,r24
 439 0336 C801      		movw r24,r16
 440 0338 0E94 0000 		call lua_gettop
 441 033c 6C01      		movw r12,r24
 442 033e 0894      		sec
 443 0340 C11C      		adc r12,__zero_reg__
 444 0342 D11C      		adc r13,__zero_reg__
 445 0344 C801      		movw r24,r16
 446 0346 60EF      		ldi r22,lo8(-10000)
 447 0348 78ED      		ldi r23,hi8(-10000)
 448 034a 40E0      		ldi r20,lo8(.LC1)
 449 034c 50E0      		ldi r21,hi8(.LC1)
 450 034e 0E94 0000 		call lua_getfield
 451 0352 C801      		movw r24,r16
 452 0354 B601      		movw r22,r12
 453 0356 A701      		movw r20,r14
 454 0358 0E94 0000 		call lua_getfield
 455 035c C801      		movw r24,r16
 456 035e 6FEF      		ldi r22,lo8(-1)
 457 0360 7FEF      		ldi r23,hi8(-1)
 458 0362 0E94 0000 		call lua_type
 459 0366 0797      		sbiw r24,7
 460 0368 01F0      		breq .L16
 461 036a C801      		movw r24,r16
 462 036c 6EEF      		ldi r22,lo8(-2)
 463 036e 7FEF      		ldi r23,hi8(-2)
 464 0370 0E94 0000 		call lua_settop
 465 0374 C801      		movw r24,r16
 466 0376 6EEE      		ldi r22,lo8(-10002)
 467 0378 78ED      		ldi r23,hi8(-10002)
 468 037a A701      		movw r20,r14
 469 037c 21E0      		ldi r18,lo8(1)
 470 037e 30E0      		ldi r19,hi8(1)
 471 0380 0E94 0000 		call luaL_findtable
 472 0384 892B      		or r24,r25
 473 0386 01F0      		breq .L17
 474 0388 00D0      		rcall .
 475 038a 00D0      		rcall .
 476 038c 00D0      		rcall .
 477 038e EDB7      		in r30,__SP_L__
 478 0390 FEB7      		in r31,__SP_H__
 479 0392 3196      		adiw r30,1
 480 0394 ADB7      		in r26,__SP_L__
 481 0396 BEB7      		in r27,__SP_H__
 482 0398 1296      		adiw r26,1+1
 483 039a 1C93      		st X,r17
 484 039c 0E93      		st -X,r16
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccWohXoL.s 			page 10


 485 039e 1197      		sbiw r26,1
 486 03a0 80E0      		ldi r24,lo8(.LC7)
 487 03a2 90E0      		ldi r25,hi8(.LC7)
 488 03a4 9383      		std Z+3,r25
 489 03a6 8283      		std Z+2,r24
 490 03a8 F582      		std Z+5,r15
 491 03aa E482      		std Z+4,r14
 492 03ac 0E94 0000 		call luaL_error
 493 03b0 9C01      		movw r18,r24
 494 03b2 EDB7      		in r30,__SP_L__
 495 03b4 FEB7      		in r31,__SP_H__
 496 03b6 3696      		adiw r30,6
 497 03b8 0FB6      		in __tmp_reg__,__SREG__
 498 03ba F894      		cli
 499 03bc FEBF      		out __SP_H__,r31
 500 03be 0FBE      		out __SREG__,__tmp_reg__
 501 03c0 EDBF      		out __SP_L__,r30
 502 03c2 00C0      		rjmp .L18
 503               	.L17:
 504 03c4 C801      		movw r24,r16
 505 03c6 6FEF      		ldi r22,lo8(-1)
 506 03c8 7FEF      		ldi r23,hi8(-1)
 507 03ca 0E94 0000 		call lua_pushvalue
 508 03ce C801      		movw r24,r16
 509 03d0 B601      		movw r22,r12
 510 03d2 A701      		movw r20,r14
 511 03d4 0E94 0000 		call lua_setfield
 512               	.L16:
 513 03d8 C801      		movw r24,r16
 514 03da 6FEF      		ldi r22,lo8(-1)
 515 03dc 7FEF      		ldi r23,hi8(-1)
 516 03de 40E0      		ldi r20,lo8(.LC8)
 517 03e0 50E0      		ldi r21,hi8(.LC8)
 518 03e2 0E94 0000 		call lua_getfield
 519 03e6 C801      		movw r24,r16
 520 03e8 6FEF      		ldi r22,lo8(-1)
 521 03ea 7FEF      		ldi r23,hi8(-1)
 522 03ec 0E94 0000 		call lua_type
 523 03f0 892B      		or r24,r25
 524 03f2 01F0      		breq .L19
 525 03f4 C801      		movw r24,r16
 526 03f6 6EEF      		ldi r22,lo8(-2)
 527 03f8 7FEF      		ldi r23,hi8(-2)
 528 03fa 0E94 0000 		call lua_settop
 529 03fe 00C0      		rjmp .L20
 530               	.L19:
 531 0400 C801      		movw r24,r16
 532 0402 6EEF      		ldi r22,lo8(-2)
 533 0404 7FEF      		ldi r23,hi8(-2)
 534 0406 0E94 0000 		call lua_settop
 535 040a C801      		movw r24,r16
 536 040c 6FEF      		ldi r22,lo8(-1)
 537 040e 7FEF      		ldi r23,hi8(-1)
 538 0410 0E94 0000 		call lua_pushvalue
 539 0414 C801      		movw r24,r16
 540 0416 6EEF      		ldi r22,lo8(-2)
 541 0418 7FEF      		ldi r23,hi8(-2)
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccWohXoL.s 			page 11


 542 041a 40E0      		ldi r20,lo8(.LC9)
 543 041c 50E0      		ldi r21,hi8(.LC9)
 544 041e 0E94 0000 		call lua_setfield
 545 0422 C801      		movw r24,r16
 546 0424 B701      		movw r22,r14
 547 0426 0E94 0000 		call lua_pushstring
 548 042a C801      		movw r24,r16
 549 042c 6EEF      		ldi r22,lo8(-2)
 550 042e 7FEF      		ldi r23,hi8(-2)
 551 0430 40E0      		ldi r20,lo8(.LC8)
 552 0432 50E0      		ldi r21,hi8(.LC8)
 553 0434 0E94 0000 		call lua_setfield
 554 0438 C701      		movw r24,r14
 555 043a 6EE2      		ldi r22,lo8(46)
 556 043c 70E0      		ldi r23,hi8(46)
 557 043e 0E94 0000 		call strrchr
 558 0442 AC01      		movw r20,r24
 559 0444 0097      		sbiw r24,0
 560 0446 01F4      		brne .L21
 561 0448 A701      		movw r20,r14
 562 044a 00C0      		rjmp .L22
 563               	.L21:
 564 044c 4F5F      		subi r20,lo8(-(1))
 565 044e 5F4F      		sbci r21,hi8(-(1))
 566               	.L22:
 567 0450 4E19      		sub r20,r14
 568 0452 5F09      		sbc r21,r15
 569 0454 C801      		movw r24,r16
 570 0456 B701      		movw r22,r14
 571 0458 0E94 0000 		call lua_pushlstring
 572 045c C801      		movw r24,r16
 573 045e 6EEF      		ldi r22,lo8(-2)
 574 0460 7FEF      		ldi r23,hi8(-2)
 575 0462 40E0      		ldi r20,lo8(.LC10)
 576 0464 50E0      		ldi r21,hi8(.LC10)
 577 0466 0E94 0000 		call lua_setfield
 578               	.L20:
 579 046a C801      		movw r24,r16
 580 046c 6FEF      		ldi r22,lo8(-1)
 581 046e 7FEF      		ldi r23,hi8(-1)
 582 0470 0E94 0000 		call lua_pushvalue
 583 0474 C801      		movw r24,r16
 584 0476 61E0      		ldi r22,lo8(1)
 585 0478 70E0      		ldi r23,hi8(1)
 586 047a 7E01      		movw r14,r28
 587 047c 0894      		sec
 588 047e E11C      		adc r14,__zero_reg__
 589 0480 F11C      		adc r15,__zero_reg__
 590 0482 A701      		movw r20,r14
 591 0484 0E94 0000 		call lua_getstack
 592 0488 892B      		or r24,r25
 593 048a 01F0      		breq .L23
 594 048c C801      		movw r24,r16
 595 048e 60E0      		ldi r22,lo8(.LC11)
 596 0490 70E0      		ldi r23,hi8(.LC11)
 597 0492 A701      		movw r20,r14
 598 0494 0E94 0000 		call lua_getinfo
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccWohXoL.s 			page 12


 599 0498 892B      		or r24,r25
 600 049a 01F0      		breq .L23
 601 049c C801      		movw r24,r16
 602 049e 6FEF      		ldi r22,lo8(-1)
 603 04a0 7FEF      		ldi r23,hi8(-1)
 604 04a2 0E94 0000 		call lua_iscfunction
 605 04a6 892B      		or r24,r25
 606 04a8 01F0      		breq .L24
 607               	.L23:
 608 04aa 00D0      		rcall .
 609 04ac 00D0      		rcall .
 610 04ae ADB7      		in r26,__SP_L__
 611 04b0 BEB7      		in r27,__SP_H__
 612 04b2 1296      		adiw r26,1+1
 613 04b4 1C93      		st X,r17
 614 04b6 0E93      		st -X,r16
 615 04b8 1197      		sbiw r26,1
 616 04ba 80E0      		ldi r24,lo8(.LC12)
 617 04bc 90E0      		ldi r25,hi8(.LC12)
 618 04be 1496      		adiw r26,3+1
 619 04c0 9C93      		st X,r25
 620 04c2 8E93      		st -X,r24
 621 04c4 1397      		sbiw r26,3
 622 04c6 0E94 0000 		call luaL_error
 623 04ca 0F90      		pop __tmp_reg__
 624 04cc 0F90      		pop __tmp_reg__
 625 04ce 0F90      		pop __tmp_reg__
 626 04d0 0F90      		pop __tmp_reg__
 627               	.L24:
 628 04d2 C801      		movw r24,r16
 629 04d4 6EEF      		ldi r22,lo8(-2)
 630 04d6 7FEF      		ldi r23,hi8(-2)
 631 04d8 0E94 0000 		call lua_pushvalue
 632 04dc C801      		movw r24,r16
 633 04de 6EEF      		ldi r22,lo8(-2)
 634 04e0 7FEF      		ldi r23,hi8(-2)
 635 04e2 0E94 0000 		call lua_setfenv
 636 04e6 C801      		movw r24,r16
 637 04e8 6EEF      		ldi r22,lo8(-2)
 638 04ea 7FEF      		ldi r23,hi8(-2)
 639 04ec 0E94 0000 		call lua_settop
 640 04f0 22E0      		ldi r18,lo8(2)
 641 04f2 E22E      		mov r14,r18
 642 04f4 F12C      		mov r15,__zero_reg__
 643 04f6 00C0      		rjmp .L25
 644               	.L26:
 645 04f8 C801      		movw r24,r16
 646 04fa B701      		movw r22,r14
 647 04fc 0E94 0000 		call lua_pushvalue
 648 0500 C801      		movw r24,r16
 649 0502 6EEF      		ldi r22,lo8(-2)
 650 0504 7FEF      		ldi r23,hi8(-2)
 651 0506 0E94 0000 		call lua_pushvalue
 652 050a C801      		movw r24,r16
 653 050c 61E0      		ldi r22,lo8(1)
 654 050e 70E0      		ldi r23,hi8(1)
 655 0510 40E0      		ldi r20,lo8(0)
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccWohXoL.s 			page 13


 656 0512 50E0      		ldi r21,hi8(0)
 657 0514 0E94 0000 		call lua_call
 658 0518 0894      		sec
 659 051a E11C      		adc r14,__zero_reg__
 660 051c F11C      		adc r15,__zero_reg__
 661               	.L25:
 662 051e EC14      		cp r14,r12
 663 0520 FD04      		cpc r15,r13
 664 0522 04F0      		brlt .L26
 665 0524 20E0      		ldi r18,lo8(0)
 666 0526 30E0      		ldi r19,hi8(0)
 667               	.L18:
 668 0528 C901      		movw r24,r18
 669               	/* epilogue start */
 670 052a C05B      		subi r28,lo8(-(80))
 671 052c DF4F      		sbci r29,hi8(-(80))
 672 052e 0FB6      		in __tmp_reg__,__SREG__
 673 0530 F894      		cli
 674 0532 DEBF      		out __SP_H__,r29
 675 0534 0FBE      		out __SREG__,__tmp_reg__
 676 0536 CDBF      		out __SP_L__,r28
 677 0538 CF91      		pop r28
 678 053a DF91      		pop r29
 679 053c 1F91      		pop r17
 680 053e 0F91      		pop r16
 681 0540 FF90      		pop r15
 682 0542 EF90      		pop r14
 683 0544 DF90      		pop r13
 684 0546 CF90      		pop r12
 685 0548 0895      		ret
 686               		.size	ll_module, .-ll_module
 687               		.data
 688               	.LC13:
 689 00ff 7072 656C 		.string	"preload"
 689      6F61 6400 
 690               	.LC14:
 691 0107 2770 6163 		.string	"'package.preload' must be a table"
 691      6B61 6765 
 691      2E70 7265 
 691      6C6F 6164 
 691      2720 6D75 
 692               	.LC15:
 693 0129 0A09 6E6F 		.string	"\n\tno field package.preload['%s']"
 693      2066 6965 
 693      6C64 2070 
 693      6163 6B61 
 693      6765 2E70 
 694               		.text
 695               		.type	loader_preload, @function
 696               	loader_preload:
 697 054a 0F93      		push r16
 698 054c 1F93      		push r17
 699 054e CF93      		push r28
 700 0550 DF93      		push r29
 701               	/* prologue: function */
 702               	/* frame size = 0 */
 703 0552 EC01      		movw r28,r24
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccWohXoL.s 			page 14


 704 0554 61E0      		ldi r22,lo8(1)
 705 0556 70E0      		ldi r23,hi8(1)
 706 0558 40E0      		ldi r20,lo8(0)
 707 055a 50E0      		ldi r21,hi8(0)
 708 055c 0E94 0000 		call luaL_checklstring
 709 0560 8C01      		movw r16,r24
 710 0562 CE01      		movw r24,r28
 711 0564 6FEE      		ldi r22,lo8(-10001)
 712 0566 78ED      		ldi r23,hi8(-10001)
 713 0568 40E0      		ldi r20,lo8(.LC13)
 714 056a 50E0      		ldi r21,hi8(.LC13)
 715 056c 0E94 0000 		call lua_getfield
 716 0570 CE01      		movw r24,r28
 717 0572 6FEF      		ldi r22,lo8(-1)
 718 0574 7FEF      		ldi r23,hi8(-1)
 719 0576 0E94 0000 		call lua_type
 720 057a 0797      		sbiw r24,7
 721 057c 01F0      		breq .L29
 722 057e 00D0      		rcall .
 723 0580 00D0      		rcall .
 724 0582 ADB7      		in r26,__SP_L__
 725 0584 BEB7      		in r27,__SP_H__
 726 0586 1296      		adiw r26,1+1
 727 0588 DC93      		st X,r29
 728 058a CE93      		st -X,r28
 729 058c 1197      		sbiw r26,1
 730 058e 80E0      		ldi r24,lo8(.LC14)
 731 0590 90E0      		ldi r25,hi8(.LC14)
 732 0592 1496      		adiw r26,3+1
 733 0594 9C93      		st X,r25
 734 0596 8E93      		st -X,r24
 735 0598 1397      		sbiw r26,3
 736 059a 0E94 0000 		call luaL_error
 737 059e 0F90      		pop __tmp_reg__
 738 05a0 0F90      		pop __tmp_reg__
 739 05a2 0F90      		pop __tmp_reg__
 740 05a4 0F90      		pop __tmp_reg__
 741               	.L29:
 742 05a6 CE01      		movw r24,r28
 743 05a8 6FEF      		ldi r22,lo8(-1)
 744 05aa 7FEF      		ldi r23,hi8(-1)
 745 05ac A801      		movw r20,r16
 746 05ae 0E94 0000 		call lua_getfield
 747 05b2 CE01      		movw r24,r28
 748 05b4 6FEF      		ldi r22,lo8(-1)
 749 05b6 7FEF      		ldi r23,hi8(-1)
 750 05b8 0E94 0000 		call lua_type
 751 05bc 892B      		or r24,r25
 752 05be 01F4      		brne .L30
 753 05c0 00D0      		rcall .
 754 05c2 00D0      		rcall .
 755 05c4 00D0      		rcall .
 756 05c6 EDB7      		in r30,__SP_L__
 757 05c8 FEB7      		in r31,__SP_H__
 758 05ca 3196      		adiw r30,1
 759 05cc ADB7      		in r26,__SP_L__
 760 05ce BEB7      		in r27,__SP_H__
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccWohXoL.s 			page 15


 761 05d0 1296      		adiw r26,1+1
 762 05d2 DC93      		st X,r29
 763 05d4 CE93      		st -X,r28
 764 05d6 1197      		sbiw r26,1
 765 05d8 80E0      		ldi r24,lo8(.LC15)
 766 05da 90E0      		ldi r25,hi8(.LC15)
 767 05dc 9383      		std Z+3,r25
 768 05de 8283      		std Z+2,r24
 769 05e0 1583      		std Z+5,r17
 770 05e2 0483      		std Z+4,r16
 771 05e4 0E94 0000 		call lua_pushfstring
 772 05e8 EDB7      		in r30,__SP_L__
 773 05ea FEB7      		in r31,__SP_H__
 774 05ec 3696      		adiw r30,6
 775 05ee 0FB6      		in __tmp_reg__,__SREG__
 776 05f0 F894      		cli
 777 05f2 FEBF      		out __SP_H__,r31
 778 05f4 0FBE      		out __SREG__,__tmp_reg__
 779 05f6 EDBF      		out __SP_L__,r30
 780               	.L30:
 781 05f8 81E0      		ldi r24,lo8(1)
 782 05fa 90E0      		ldi r25,hi8(1)
 783               	/* epilogue start */
 784 05fc DF91      		pop r29
 785 05fe CF91      		pop r28
 786 0600 1F91      		pop r17
 787 0602 0F91      		pop r16
 788 0604 0895      		ret
 789               		.size	loader_preload, .-loader_preload
 790               		.data
 791               	.LC16:
 792 014a 2E00      		.string	"."
 793               	.LC17:
 794 014c 5F00      		.string	"_"
 795               	.LC18:
 796 014e 6C75 616F 		.string	"luaopen_%s"
 796      7065 6E5F 
 796      2573 00
 797               		.text
 798               		.type	mkfuncname, @function
 799               	mkfuncname:
 800 0606 0F93      		push r16
 801 0608 1F93      		push r17
 802 060a CF93      		push r28
 803 060c DF93      		push r29
 804               	/* prologue: function */
 805               	/* frame size = 0 */
 806 060e EC01      		movw r28,r24
 807 0610 8B01      		movw r16,r22
 808 0612 CB01      		movw r24,r22
 809 0614 6DE2      		ldi r22,lo8(45)
 810 0616 70E0      		ldi r23,hi8(45)
 811 0618 0E94 0000 		call strchr
 812 061c 0097      		sbiw r24,0
 813 061e 01F0      		breq .L33
 814 0620 8C01      		movw r16,r24
 815 0622 0F5F      		subi r16,lo8(-(1))
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccWohXoL.s 			page 16


 816 0624 1F4F      		sbci r17,hi8(-(1))
 817               	.L33:
 818 0626 CE01      		movw r24,r28
 819 0628 B801      		movw r22,r16
 820 062a 40E0      		ldi r20,lo8(.LC16)
 821 062c 50E0      		ldi r21,hi8(.LC16)
 822 062e 20E0      		ldi r18,lo8(.LC17)
 823 0630 30E0      		ldi r19,hi8(.LC17)
 824 0632 0E94 0000 		call luaL_gsub
 825 0636 00D0      		rcall .
 826 0638 00D0      		rcall .
 827 063a 00D0      		rcall .
 828 063c EDB7      		in r30,__SP_L__
 829 063e FEB7      		in r31,__SP_H__
 830 0640 3196      		adiw r30,1
 831 0642 ADB7      		in r26,__SP_L__
 832 0644 BEB7      		in r27,__SP_H__
 833 0646 1296      		adiw r26,1+1
 834 0648 DC93      		st X,r29
 835 064a CE93      		st -X,r28
 836 064c 1197      		sbiw r26,1
 837 064e 20E0      		ldi r18,lo8(.LC18)
 838 0650 30E0      		ldi r19,hi8(.LC18)
 839 0652 3383      		std Z+3,r19
 840 0654 2283      		std Z+2,r18
 841 0656 9583      		std Z+5,r25
 842 0658 8483      		std Z+4,r24
 843 065a 0E94 0000 		call lua_pushfstring
 844 065e 182F      		mov r17,r24
 845 0660 092F      		mov r16,r25
 846 0662 8DB7      		in r24,__SP_L__
 847 0664 9EB7      		in r25,__SP_H__
 848 0666 0696      		adiw r24,6
 849 0668 0FB6      		in __tmp_reg__,__SREG__
 850 066a F894      		cli
 851 066c 9EBF      		out __SP_H__,r25
 852 066e 0FBE      		out __SREG__,__tmp_reg__
 853 0670 8DBF      		out __SP_L__,r24
 854 0672 CE01      		movw r24,r28
 855 0674 6EEF      		ldi r22,lo8(-2)
 856 0676 7FEF      		ldi r23,hi8(-2)
 857 0678 0E94 0000 		call lua_remove
 858 067c 812F      		mov r24,r17
 859 067e 902F      		mov r25,r16
 860               	/* epilogue start */
 861 0680 DF91      		pop r29
 862 0682 CF91      		pop r28
 863 0684 1F91      		pop r17
 864 0686 0F91      		pop r16
 865 0688 0895      		ret
 866               		.size	mkfuncname, .-mkfuncname
 867               		.data
 868               	.LC19:
 869 0159 2F00      		.string	"/"
 870               	.LC20:
 871 015b 2770 6163 		.string	"'package.%s' must be a string"
 871      6B61 6765 
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccWohXoL.s 			page 17


 871      2E25 7327 
 871      206D 7573 
 871      7420 6265 
 872               	.LC21:
 873 0179 3F00      		.string	"?"
 874               	.LC22:
 875 017b 7200      		.string	"r"
 876               	.LC23:
 877 017d 0A09 6E6F 		.string	"\n\tno file '%s'"
 877      2066 696C 
 877      6520 2725 
 877      7327 00
 878               		.text
 879               		.type	findfile, @function
 880               	findfile:
 881 068a AF92      		push r10
 882 068c BF92      		push r11
 883 068e CF92      		push r12
 884 0690 DF92      		push r13
 885 0692 EF92      		push r14
 886 0694 FF92      		push r15
 887 0696 0F93      		push r16
 888 0698 1F93      		push r17
 889 069a CF93      		push r28
 890 069c DF93      		push r29
 891               	/* prologue: function */
 892               	/* frame size = 0 */
 893 069e 7C01      		movw r14,r24
 894 06a0 EA01      		movw r28,r20
 895 06a2 40E0      		ldi r20,lo8(.LC16)
 896 06a4 50E0      		ldi r21,hi8(.LC16)
 897 06a6 20E0      		ldi r18,lo8(.LC19)
 898 06a8 30E0      		ldi r19,hi8(.LC19)
 899 06aa 0E94 0000 		call luaL_gsub
 900 06ae 6C01      		movw r12,r24
 901 06b0 C701      		movw r24,r14
 902 06b2 6FEE      		ldi r22,lo8(-10001)
 903 06b4 78ED      		ldi r23,hi8(-10001)
 904 06b6 AE01      		movw r20,r28
 905 06b8 0E94 0000 		call lua_getfield
 906 06bc C701      		movw r24,r14
 907 06be 6FEF      		ldi r22,lo8(-1)
 908 06c0 7FEF      		ldi r23,hi8(-1)
 909 06c2 40E0      		ldi r20,lo8(0)
 910 06c4 50E0      		ldi r21,hi8(0)
 911 06c6 0E94 0000 		call lua_tolstring
 912 06ca 8C01      		movw r16,r24
 913 06cc 0097      		sbiw r24,0
 914 06ce 01F4      		brne .L36
 915 06d0 00D0      		rcall .
 916 06d2 00D0      		rcall .
 917 06d4 00D0      		rcall .
 918 06d6 EDB7      		in r30,__SP_L__
 919 06d8 FEB7      		in r31,__SP_H__
 920 06da 3196      		adiw r30,1
 921 06dc ADB7      		in r26,__SP_L__
 922 06de BEB7      		in r27,__SP_H__
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccWohXoL.s 			page 18


 923 06e0 1296      		adiw r26,1+1
 924 06e2 FC92      		st X,r15
 925 06e4 EE92      		st -X,r14
 926 06e6 1197      		sbiw r26,1
 927 06e8 80E0      		ldi r24,lo8(.LC20)
 928 06ea 90E0      		ldi r25,hi8(.LC20)
 929 06ec 9383      		std Z+3,r25
 930 06ee 8283      		std Z+2,r24
 931 06f0 D583      		std Z+5,r29
 932 06f2 C483      		std Z+4,r28
 933 06f4 0E94 0000 		call luaL_error
 934 06f8 EDB7      		in r30,__SP_L__
 935 06fa FEB7      		in r31,__SP_H__
 936 06fc 3696      		adiw r30,6
 937 06fe 0FB6      		in __tmp_reg__,__SREG__
 938 0700 F894      		cli
 939 0702 FEBF      		out __SP_H__,r31
 940 0704 0FBE      		out __SREG__,__tmp_reg__
 941 0706 EDBF      		out __SP_L__,r30
 942               	.L36:
 943 0708 C701      		movw r24,r14
 944 070a 60E0      		ldi r22,lo8(.LC5)
 945 070c 70E0      		ldi r23,hi8(.LC5)
 946 070e 40E0      		ldi r20,lo8(0)
 947 0710 50E0      		ldi r21,hi8(0)
 948 0712 0E94 0000 		call lua_pushlstring
 949 0716 30E0      		ldi r19,lo8(.LC23)
 950 0718 A32E      		mov r10,r19
 951 071a 30E0      		ldi r19,hi8(.LC23)
 952 071c B32E      		mov r11,r19
 953 071e 00C0      		rjmp .L37
 954               	.L44:
 955 0720 C701      		movw r24,r14
 956 0722 6FEF      		ldi r22,lo8(-1)
 957 0724 7FEF      		ldi r23,hi8(-1)
 958 0726 40E0      		ldi r20,lo8(0)
 959 0728 50E0      		ldi r21,hi8(0)
 960 072a 0E94 0000 		call lua_tolstring
 961 072e BC01      		movw r22,r24
 962 0730 C701      		movw r24,r14
 963 0732 40E0      		ldi r20,lo8(.LC21)
 964 0734 50E0      		ldi r21,hi8(.LC21)
 965 0736 9601      		movw r18,r12
 966 0738 0E94 0000 		call luaL_gsub
 967 073c 8C01      		movw r16,r24
 968 073e C701      		movw r24,r14
 969 0740 6EEF      		ldi r22,lo8(-2)
 970 0742 7FEF      		ldi r23,hi8(-2)
 971 0744 0E94 0000 		call lua_remove
 972 0748 C801      		movw r24,r16
 973 074a 60E0      		ldi r22,lo8(.LC22)
 974 074c 70E0      		ldi r23,hi8(.LC22)
 975 074e 0E94 0000 		call fopen
 976 0752 0097      		sbiw r24,0
 977 0754 01F0      		breq .L38
 978 0756 0E94 0000 		call fclose
 979 075a 00C0      		rjmp .L39
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccWohXoL.s 			page 19


 980               	.L38:
 981 075c 00D0      		rcall .
 982 075e 00D0      		rcall .
 983 0760 00D0      		rcall .
 984 0762 EDB7      		in r30,__SP_L__
 985 0764 FEB7      		in r31,__SP_H__
 986 0766 3196      		adiw r30,1
 987 0768 ADB7      		in r26,__SP_L__
 988 076a BEB7      		in r27,__SP_H__
 989 076c 1296      		adiw r26,1+1
 990 076e FC92      		st X,r15
 991 0770 EE92      		st -X,r14
 992 0772 1197      		sbiw r26,1
 993 0774 B382      		std Z+3,r11
 994 0776 A282      		std Z+2,r10
 995 0778 1583      		std Z+5,r17
 996 077a 0483      		std Z+4,r16
 997 077c 0E94 0000 		call lua_pushfstring
 998 0780 EDB7      		in r30,__SP_L__
 999 0782 FEB7      		in r31,__SP_H__
 1000 0784 3696      		adiw r30,6
 1001 0786 0FB6      		in __tmp_reg__,__SREG__
 1002 0788 F894      		cli
 1003 078a FEBF      		out __SP_H__,r31
 1004 078c 0FBE      		out __SREG__,__tmp_reg__
 1005 078e EDBF      		out __SP_L__,r30
 1006 0790 C701      		movw r24,r14
 1007 0792 6EEF      		ldi r22,lo8(-2)
 1008 0794 7FEF      		ldi r23,hi8(-2)
 1009 0796 0E94 0000 		call lua_remove
 1010 079a C701      		movw r24,r14
 1011 079c 62E0      		ldi r22,lo8(2)
 1012 079e 70E0      		ldi r23,hi8(2)
 1013 07a0 0E94 0000 		call lua_concat
 1014 07a4 00C0      		rjmp .L40
 1015               	.L41:
 1016 07a6 E801      		movw r28,r16
 1017 07a8 2196      		adiw r28,1
 1018               	.L40:
 1019 07aa 8E01      		movw r16,r28
 1020               	.L37:
 1021 07ac D801      		movw r26,r16
 1022 07ae 8C91      		ld r24,X
 1023 07b0 8B33      		cpi r24,lo8(59)
 1024 07b2 01F0      		breq .L41
 1025 07b4 8823      		tst r24
 1026 07b6 01F0      		breq .L42
 1027 07b8 C801      		movw r24,r16
 1028 07ba 6BE3      		ldi r22,lo8(59)
 1029 07bc 70E0      		ldi r23,hi8(59)
 1030 07be 0E94 0000 		call strchr
 1031 07c2 EC01      		movw r28,r24
 1032 07c4 0097      		sbiw r24,0
 1033 07c6 01F4      		brne .L43
 1034 07c8 E801      		movw r28,r16
 1035 07ca 0990      		ld __tmp_reg__,Y+
 1036 07cc 0020      		tst __tmp_reg__
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccWohXoL.s 			page 20


 1037 07ce 01F4      		brne .-6
 1038 07d0 2197      		sbiw r28,1
 1039 07d2 C01B      		sub r28,r16
 1040 07d4 D10B      		sbc r29,r17
 1041 07d6 C00F      		add r28,r16
 1042 07d8 D11F      		adc r29,r17
 1043               	.L43:
 1044 07da AE01      		movw r20,r28
 1045 07dc 401B      		sub r20,r16
 1046 07de 510B      		sbc r21,r17
 1047 07e0 C701      		movw r24,r14
 1048 07e2 B801      		movw r22,r16
 1049 07e4 0E94 0000 		call lua_pushlstring
 1050 07e8 2097      		sbiw r28,0
 1051 07ea 01F0      		breq .+2
 1052 07ec 00C0      		rjmp .L44
 1053               	.L42:
 1054 07ee 00E0      		ldi r16,lo8(0)
 1055 07f0 10E0      		ldi r17,hi8(0)
 1056               	.L39:
 1057 07f2 C801      		movw r24,r16
 1058               	/* epilogue start */
 1059 07f4 DF91      		pop r29
 1060 07f6 CF91      		pop r28
 1061 07f8 1F91      		pop r17
 1062 07fa 0F91      		pop r16
 1063 07fc FF90      		pop r15
 1064 07fe EF90      		pop r14
 1065 0800 DF90      		pop r13
 1066 0802 CF90      		pop r12
 1067 0804 BF90      		pop r11
 1068 0806 AF90      		pop r10
 1069 0808 0895      		ret
 1070               		.size	findfile, .-findfile
 1071               		.data
 1072               	.LC24:
 1073 018c 2573 2573 		.string	"%s%s"
 1073      00
 1074               	.LC25:
 1075 0191 4C4F 4144 		.string	"LOADLIB: "
 1075      4C49 423A 
 1075      2000 
 1076               	.LC26:
 1077 019b 5F4C 4F41 		.string	"_LOADLIB"
 1077      444C 4942 
 1077      00
 1078               	.LC27:
 1079 01a4 6479 6E61 		.string	"dynamic libraries not enabled; check your Lua installation"
 1079      6D69 6320 
 1079      6C69 6272 
 1079      6172 6965 
 1079      7320 6E6F 
 1080               		.text
 1081               		.type	ll_loadfunc, @function
 1082               	ll_loadfunc:
 1083 080a AF92      		push r10
 1084 080c BF92      		push r11
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccWohXoL.s 			page 21


 1085 080e CF92      		push r12
 1086 0810 DF92      		push r13
 1087 0812 EF92      		push r14
 1088 0814 FF92      		push r15
 1089 0816 0F93      		push r16
 1090 0818 1F93      		push r17
 1091 081a CF93      		push r28
 1092 081c DF93      		push r29
 1093               	/* prologue: function */
 1094               	/* frame size = 0 */
 1095 081e EC01      		movw r28,r24
 1096 0820 7B01      		movw r14,r22
 1097 0822 8DB7      		in r24,__SP_L__
 1098 0824 9EB7      		in r25,__SP_H__
 1099 0826 0897      		sbiw r24,8
 1100 0828 0FB6      		in __tmp_reg__,__SREG__
 1101 082a F894      		cli
 1102 082c 9EBF      		out __SP_H__,r25
 1103 082e 0FBE      		out __SREG__,__tmp_reg__
 1104 0830 8DBF      		out __SP_L__,r24
 1105 0832 EDB7      		in r30,__SP_L__
 1106 0834 FEB7      		in r31,__SP_H__
 1107 0836 3196      		adiw r30,1
 1108 0838 ADB7      		in r26,__SP_L__
 1109 083a BEB7      		in r27,__SP_H__
 1110 083c 1296      		adiw r26,1+1
 1111 083e DC93      		st X,r29
 1112 0840 CE93      		st -X,r28
 1113 0842 1197      		sbiw r26,1
 1114 0844 50E0      		ldi r21,lo8(.LC24)
 1115 0846 A52E      		mov r10,r21
 1116 0848 50E0      		ldi r21,hi8(.LC24)
 1117 084a B52E      		mov r11,r21
 1118 084c B382      		std Z+3,r11
 1119 084e A282      		std Z+2,r10
 1120 0850 40E0      		ldi r20,lo8(.LC25)
 1121 0852 C42E      		mov r12,r20
 1122 0854 40E0      		ldi r20,hi8(.LC25)
 1123 0856 D42E      		mov r13,r20
 1124 0858 D582      		std Z+5,r13
 1125 085a C482      		std Z+4,r12
 1126 085c 7783      		std Z+7,r23
 1127 085e 6683      		std Z+6,r22
 1128 0860 0E94 0000 		call lua_pushfstring
 1129 0864 EDB7      		in r30,__SP_L__
 1130 0866 FEB7      		in r31,__SP_H__
 1131 0868 3896      		adiw r30,8
 1132 086a 0FB6      		in __tmp_reg__,__SREG__
 1133 086c F894      		cli
 1134 086e FEBF      		out __SP_H__,r31
 1135 0870 0FBE      		out __SREG__,__tmp_reg__
 1136 0872 EDBF      		out __SP_L__,r30
 1137 0874 CE01      		movw r24,r28
 1138 0876 60EF      		ldi r22,lo8(-10000)
 1139 0878 78ED      		ldi r23,hi8(-10000)
 1140 087a 0E94 0000 		call lua_gettable
 1141 087e CE01      		movw r24,r28
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccWohXoL.s 			page 22


 1142 0880 6FEF      		ldi r22,lo8(-1)
 1143 0882 7FEF      		ldi r23,hi8(-1)
 1144 0884 0E94 0000 		call lua_type
 1145 0888 892B      		or r24,r25
 1146 088a 01F0      		breq .L47
 1147 088c CE01      		movw r24,r28
 1148 088e 6FEF      		ldi r22,lo8(-1)
 1149 0890 7FEF      		ldi r23,hi8(-1)
 1150 0892 0E94 0000 		call lua_touserdata
 1151 0896 8C01      		movw r16,r24
 1152 0898 00C0      		rjmp .L48
 1153               	.L47:
 1154 089a CE01      		movw r24,r28
 1155 089c 6EEF      		ldi r22,lo8(-2)
 1156 089e 7FEF      		ldi r23,hi8(-2)
 1157 08a0 0E94 0000 		call lua_settop
 1158 08a4 CE01      		movw r24,r28
 1159 08a6 62E0      		ldi r22,lo8(2)
 1160 08a8 70E0      		ldi r23,hi8(2)
 1161 08aa 0E94 0000 		call lua_newuserdata
 1162 08ae 8C01      		movw r16,r24
 1163 08b0 DC01      		movw r26,r24
 1164 08b2 1D92      		st X+,__zero_reg__
 1165 08b4 1C92      		st X,__zero_reg__
 1166 08b6 CE01      		movw r24,r28
 1167 08b8 60EF      		ldi r22,lo8(-10000)
 1168 08ba 78ED      		ldi r23,hi8(-10000)
 1169 08bc 40E0      		ldi r20,lo8(.LC26)
 1170 08be 50E0      		ldi r21,hi8(.LC26)
 1171 08c0 0E94 0000 		call lua_getfield
 1172 08c4 CE01      		movw r24,r28
 1173 08c6 6EEF      		ldi r22,lo8(-2)
 1174 08c8 7FEF      		ldi r23,hi8(-2)
 1175 08ca 0E94 0000 		call lua_setmetatable
 1176 08ce EDB7      		in r30,__SP_L__
 1177 08d0 FEB7      		in r31,__SP_H__
 1178 08d2 3897      		sbiw r30,8
 1179 08d4 0FB6      		in __tmp_reg__,__SREG__
 1180 08d6 F894      		cli
 1181 08d8 FEBF      		out __SP_H__,r31
 1182 08da 0FBE      		out __SREG__,__tmp_reg__
 1183 08dc EDBF      		out __SP_L__,r30
 1184 08de 3196      		adiw r30,1
 1185 08e0 ADB7      		in r26,__SP_L__
 1186 08e2 BEB7      		in r27,__SP_H__
 1187 08e4 1296      		adiw r26,1+1
 1188 08e6 DC93      		st X,r29
 1189 08e8 CE93      		st -X,r28
 1190 08ea 1197      		sbiw r26,1
 1191 08ec B382      		std Z+3,r11
 1192 08ee A282      		std Z+2,r10
 1193 08f0 D582      		std Z+5,r13
 1194 08f2 C482      		std Z+4,r12
 1195 08f4 F782      		std Z+7,r15
 1196 08f6 E682      		std Z+6,r14
 1197 08f8 0E94 0000 		call lua_pushfstring
 1198 08fc EDB7      		in r30,__SP_L__
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccWohXoL.s 			page 23


 1199 08fe FEB7      		in r31,__SP_H__
 1200 0900 3896      		adiw r30,8
 1201 0902 0FB6      		in __tmp_reg__,__SREG__
 1202 0904 F894      		cli
 1203 0906 FEBF      		out __SP_H__,r31
 1204 0908 0FBE      		out __SREG__,__tmp_reg__
 1205 090a EDBF      		out __SP_L__,r30
 1206 090c CE01      		movw r24,r28
 1207 090e 6EEF      		ldi r22,lo8(-2)
 1208 0910 7FEF      		ldi r23,hi8(-2)
 1209 0912 0E94 0000 		call lua_pushvalue
 1210 0916 CE01      		movw r24,r28
 1211 0918 60EF      		ldi r22,lo8(-10000)
 1212 091a 78ED      		ldi r23,hi8(-10000)
 1213 091c 0E94 0000 		call lua_settable
 1214               	.L48:
 1215 0920 D801      		movw r26,r16
 1216 0922 8D91      		ld r24,X+
 1217 0924 9C91      		ld r25,X
 1218 0926 892B      		or r24,r25
 1219 0928 01F4      		brne .L49
 1220 092a CE01      		movw r24,r28
 1221 092c 60E0      		ldi r22,lo8(.LC27)
 1222 092e 70E0      		ldi r23,hi8(.LC27)
 1223 0930 4AE3      		ldi r20,lo8(58)
 1224 0932 50E0      		ldi r21,hi8(58)
 1225 0934 0E94 0000 		call lua_pushlstring
 1226 0938 F801      		movw r30,r16
 1227 093a 1182      		std Z+1,__zero_reg__
 1228 093c 1082      		st Z,__zero_reg__
 1229               	.L49:
 1230 093e D801      		movw r26,r16
 1231 0940 8D91      		ld r24,X+
 1232 0942 9C91      		ld r25,X
 1233 0944 892B      		or r24,r25
 1234 0946 01F4      		brne .L50
 1235 0948 21E0      		ldi r18,lo8(1)
 1236 094a 30E0      		ldi r19,hi8(1)
 1237 094c 00C0      		rjmp .L51
 1238               	.L50:
 1239 094e CE01      		movw r24,r28
 1240 0950 60E0      		ldi r22,lo8(.LC27)
 1241 0952 70E0      		ldi r23,hi8(.LC27)
 1242 0954 4AE3      		ldi r20,lo8(58)
 1243 0956 50E0      		ldi r21,hi8(58)
 1244 0958 0E94 0000 		call lua_pushlstring
 1245 095c 22E0      		ldi r18,lo8(2)
 1246 095e 30E0      		ldi r19,hi8(2)
 1247               	.L51:
 1248 0960 C901      		movw r24,r18
 1249               	/* epilogue start */
 1250 0962 DF91      		pop r29
 1251 0964 CF91      		pop r28
 1252 0966 1F91      		pop r17
 1253 0968 0F91      		pop r16
 1254 096a FF90      		pop r15
 1255 096c EF90      		pop r14
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccWohXoL.s 			page 24


 1256 096e DF90      		pop r13
 1257 0970 CF90      		pop r12
 1258 0972 BF90      		pop r11
 1259 0974 AF90      		pop r10
 1260 0976 0895      		ret
 1261               		.size	ll_loadfunc, .-ll_loadfunc
 1262               		.data
 1263               	.LC28:
 1264 01df 6370 6174 		.string	"cpath"
 1264      6800 
 1265               	.LC29:
 1266 01e5 0A09 6E6F 		.string	"\n\tno module '%s' in file '%s'"
 1266      206D 6F64 
 1266      756C 6520 
 1266      2725 7327 
 1266      2069 6E20 
 1267               		.text
 1268               		.type	loader_Croot, @function
 1269               	loader_Croot:
 1270 0978 EF92      		push r14
 1271 097a FF92      		push r15
 1272 097c 0F93      		push r16
 1273 097e 1F93      		push r17
 1274 0980 CF93      		push r28
 1275 0982 DF93      		push r29
 1276               	/* prologue: function */
 1277               	/* frame size = 0 */
 1278 0984 EC01      		movw r28,r24
 1279 0986 61E0      		ldi r22,lo8(1)
 1280 0988 70E0      		ldi r23,hi8(1)
 1281 098a 40E0      		ldi r20,lo8(0)
 1282 098c 50E0      		ldi r21,hi8(0)
 1283 098e 0E94 0000 		call luaL_checklstring
 1284 0992 7C01      		movw r14,r24
 1285 0994 6EE2      		ldi r22,lo8(46)
 1286 0996 70E0      		ldi r23,hi8(46)
 1287 0998 0E94 0000 		call strchr
 1288 099c AC01      		movw r20,r24
 1289 099e 0097      		sbiw r24,0
 1290 09a0 01F4      		brne .L54
 1291 09a2 20E0      		ldi r18,lo8(0)
 1292 09a4 30E0      		ldi r19,hi8(0)
 1293 09a6 00C0      		rjmp .L55
 1294               	.L54:
 1295 09a8 4E19      		sub r20,r14
 1296 09aa 5F09      		sbc r21,r15
 1297 09ac CE01      		movw r24,r28
 1298 09ae B701      		movw r22,r14
 1299 09b0 0E94 0000 		call lua_pushlstring
 1300 09b4 CE01      		movw r24,r28
 1301 09b6 6FEF      		ldi r22,lo8(-1)
 1302 09b8 7FEF      		ldi r23,hi8(-1)
 1303 09ba 40E0      		ldi r20,lo8(0)
 1304 09bc 50E0      		ldi r21,hi8(0)
 1305 09be 0E94 0000 		call lua_tolstring
 1306 09c2 BC01      		movw r22,r24
 1307 09c4 CE01      		movw r24,r28
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccWohXoL.s 			page 25


 1308 09c6 40E0      		ldi r20,lo8(.LC28)
 1309 09c8 50E0      		ldi r21,hi8(.LC28)
 1310 09ca 0E94 0000 		call findfile
 1311 09ce 8C01      		movw r16,r24
 1312 09d0 0097      		sbiw r24,0
 1313 09d2 01F0      		breq .L56
 1314 09d4 CE01      		movw r24,r28
 1315 09d6 B701      		movw r22,r14
 1316 09d8 0E94 0000 		call mkfuncname
 1317 09dc AC01      		movw r20,r24
 1318 09de CE01      		movw r24,r28
 1319 09e0 B801      		movw r22,r16
 1320 09e2 0E94 0000 		call ll_loadfunc
 1321 09e6 0097      		sbiw r24,0
 1322 09e8 01F0      		breq .L56
 1323 09ea 0297      		sbiw r24,2
 1324 09ec 01F0      		breq .L57
 1325 09ee CE01      		movw r24,r28
 1326 09f0 B801      		movw r22,r16
 1327 09f2 0E94 0000 		call loaderror
 1328               	.L57:
 1329 09f6 8DB7      		in r24,__SP_L__
 1330 09f8 9EB7      		in r25,__SP_H__
 1331 09fa 0897      		sbiw r24,8
 1332 09fc 0FB6      		in __tmp_reg__,__SREG__
 1333 09fe F894      		cli
 1334 0a00 9EBF      		out __SP_H__,r25
 1335 0a02 0FBE      		out __SREG__,__tmp_reg__
 1336 0a04 8DBF      		out __SP_L__,r24
 1337 0a06 EDB7      		in r30,__SP_L__
 1338 0a08 FEB7      		in r31,__SP_H__
 1339 0a0a 3196      		adiw r30,1
 1340 0a0c ADB7      		in r26,__SP_L__
 1341 0a0e BEB7      		in r27,__SP_H__
 1342 0a10 1296      		adiw r26,1+1
 1343 0a12 DC93      		st X,r29
 1344 0a14 CE93      		st -X,r28
 1345 0a16 1197      		sbiw r26,1
 1346 0a18 80E0      		ldi r24,lo8(.LC29)
 1347 0a1a 90E0      		ldi r25,hi8(.LC29)
 1348 0a1c 9383      		std Z+3,r25
 1349 0a1e 8283      		std Z+2,r24
 1350 0a20 F582      		std Z+5,r15
 1351 0a22 E482      		std Z+4,r14
 1352 0a24 1783      		std Z+7,r17
 1353 0a26 0683      		std Z+6,r16
 1354 0a28 0E94 0000 		call lua_pushfstring
 1355 0a2c 21E0      		ldi r18,lo8(1)
 1356 0a2e 30E0      		ldi r19,hi8(1)
 1357 0a30 8DB7      		in r24,__SP_L__
 1358 0a32 9EB7      		in r25,__SP_H__
 1359 0a34 0896      		adiw r24,8
 1360 0a36 0FB6      		in __tmp_reg__,__SREG__
 1361 0a38 F894      		cli
 1362 0a3a 9EBF      		out __SP_H__,r25
 1363 0a3c 0FBE      		out __SREG__,__tmp_reg__
 1364 0a3e 8DBF      		out __SP_L__,r24
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccWohXoL.s 			page 26


 1365 0a40 00C0      		rjmp .L55
 1366               	.L56:
 1367 0a42 21E0      		ldi r18,lo8(1)
 1368 0a44 30E0      		ldi r19,hi8(1)
 1369               	.L55:
 1370 0a46 C901      		movw r24,r18
 1371               	/* epilogue start */
 1372 0a48 DF91      		pop r29
 1373 0a4a CF91      		pop r28
 1374 0a4c 1F91      		pop r17
 1375 0a4e 0F91      		pop r16
 1376 0a50 FF90      		pop r15
 1377 0a52 EF90      		pop r14
 1378 0a54 0895      		ret
 1379               		.size	loader_Croot, .-loader_Croot
 1380               		.type	loader_C, @function
 1381               	loader_C:
 1382 0a56 EF92      		push r14
 1383 0a58 FF92      		push r15
 1384 0a5a 0F93      		push r16
 1385 0a5c 1F93      		push r17
 1386 0a5e CF93      		push r28
 1387 0a60 DF93      		push r29
 1388               	/* prologue: function */
 1389               	/* frame size = 0 */
 1390 0a62 8C01      		movw r16,r24
 1391 0a64 61E0      		ldi r22,lo8(1)
 1392 0a66 70E0      		ldi r23,hi8(1)
 1393 0a68 40E0      		ldi r20,lo8(0)
 1394 0a6a 50E0      		ldi r21,hi8(0)
 1395 0a6c 0E94 0000 		call luaL_checklstring
 1396 0a70 7C01      		movw r14,r24
 1397 0a72 C801      		movw r24,r16
 1398 0a74 B701      		movw r22,r14
 1399 0a76 40E0      		ldi r20,lo8(.LC28)
 1400 0a78 50E0      		ldi r21,hi8(.LC28)
 1401 0a7a 0E94 0000 		call findfile
 1402 0a7e EC01      		movw r28,r24
 1403 0a80 0097      		sbiw r24,0
 1404 0a82 01F0      		breq .L60
 1405 0a84 C801      		movw r24,r16
 1406 0a86 B701      		movw r22,r14
 1407 0a88 0E94 0000 		call mkfuncname
 1408 0a8c AC01      		movw r20,r24
 1409 0a8e C801      		movw r24,r16
 1410 0a90 BE01      		movw r22,r28
 1411 0a92 0E94 0000 		call ll_loadfunc
 1412 0a96 892B      		or r24,r25
 1413 0a98 01F0      		breq .L60
 1414 0a9a C801      		movw r24,r16
 1415 0a9c BE01      		movw r22,r28
 1416 0a9e 0E94 0000 		call loaderror
 1417               	.L60:
 1418 0aa2 81E0      		ldi r24,lo8(1)
 1419 0aa4 90E0      		ldi r25,hi8(1)
 1420               	/* epilogue start */
 1421 0aa6 DF91      		pop r29
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccWohXoL.s 			page 27


 1422 0aa8 CF91      		pop r28
 1423 0aaa 1F91      		pop r17
 1424 0aac 0F91      		pop r16
 1425 0aae FF90      		pop r15
 1426 0ab0 EF90      		pop r14
 1427 0ab2 0895      		ret
 1428               		.size	loader_C, .-loader_C
 1429               		.data
 1430               	.LC30:
 1431 0203 7061 7468 		.string	"path"
 1431      00
 1432               		.text
 1433               		.type	loader_Lua, @function
 1434               	loader_Lua:
 1435 0ab4 0F93      		push r16
 1436 0ab6 1F93      		push r17
 1437 0ab8 CF93      		push r28
 1438 0aba DF93      		push r29
 1439               	/* prologue: function */
 1440               	/* frame size = 0 */
 1441 0abc 8C01      		movw r16,r24
 1442 0abe 61E0      		ldi r22,lo8(1)
 1443 0ac0 70E0      		ldi r23,hi8(1)
 1444 0ac2 40E0      		ldi r20,lo8(0)
 1445 0ac4 50E0      		ldi r21,hi8(0)
 1446 0ac6 0E94 0000 		call luaL_checklstring
 1447 0aca BC01      		movw r22,r24
 1448 0acc C801      		movw r24,r16
 1449 0ace 40E0      		ldi r20,lo8(.LC30)
 1450 0ad0 50E0      		ldi r21,hi8(.LC30)
 1451 0ad2 0E94 0000 		call findfile
 1452 0ad6 EC01      		movw r28,r24
 1453 0ad8 0097      		sbiw r24,0
 1454 0ada 01F0      		breq .L63
 1455 0adc C801      		movw r24,r16
 1456 0ade BE01      		movw r22,r28
 1457 0ae0 0E94 0000 		call luaL_loadfile
 1458 0ae4 892B      		or r24,r25
 1459 0ae6 01F0      		breq .L63
 1460 0ae8 C801      		movw r24,r16
 1461 0aea BE01      		movw r22,r28
 1462 0aec 0E94 0000 		call loaderror
 1463               	.L63:
 1464 0af0 81E0      		ldi r24,lo8(1)
 1465 0af2 90E0      		ldi r25,hi8(1)
 1466               	/* epilogue start */
 1467 0af4 DF91      		pop r29
 1468 0af6 CF91      		pop r28
 1469 0af8 1F91      		pop r17
 1470 0afa 0F91      		pop r16
 1471 0afc 0895      		ret
 1472               		.size	loader_Lua, .-loader_Lua
 1473               		.data
 1474               	.LC31:
 1475 0208 5F5F 696E 		.string	"__index"
 1475      6465 7800 
 1476               		.text
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccWohXoL.s 			page 28


 1477               		.type	ll_seeall, @function
 1478               	ll_seeall:
 1479 0afe CF93      		push r28
 1480 0b00 DF93      		push r29
 1481               	/* prologue: function */
 1482               	/* frame size = 0 */
 1483 0b02 EC01      		movw r28,r24
 1484 0b04 61E0      		ldi r22,lo8(1)
 1485 0b06 70E0      		ldi r23,hi8(1)
 1486 0b08 47E0      		ldi r20,lo8(7)
 1487 0b0a 50E0      		ldi r21,hi8(7)
 1488 0b0c 0E94 0000 		call luaL_checktype
 1489 0b10 CE01      		movw r24,r28
 1490 0b12 61E0      		ldi r22,lo8(1)
 1491 0b14 70E0      		ldi r23,hi8(1)
 1492 0b16 0E94 0000 		call lua_getmetatable
 1493 0b1a 892B      		or r24,r25
 1494 0b1c 01F4      		brne .L66
 1495 0b1e CE01      		movw r24,r28
 1496 0b20 60E0      		ldi r22,lo8(0)
 1497 0b22 70E0      		ldi r23,hi8(0)
 1498 0b24 41E0      		ldi r20,lo8(1)
 1499 0b26 50E0      		ldi r21,hi8(1)
 1500 0b28 0E94 0000 		call lua_createtable
 1501 0b2c CE01      		movw r24,r28
 1502 0b2e 6FEF      		ldi r22,lo8(-1)
 1503 0b30 7FEF      		ldi r23,hi8(-1)
 1504 0b32 0E94 0000 		call lua_pushvalue
 1505 0b36 CE01      		movw r24,r28
 1506 0b38 61E0      		ldi r22,lo8(1)
 1507 0b3a 70E0      		ldi r23,hi8(1)
 1508 0b3c 0E94 0000 		call lua_setmetatable
 1509               	.L66:
 1510 0b40 CE01      		movw r24,r28
 1511 0b42 6EEE      		ldi r22,lo8(-10002)
 1512 0b44 78ED      		ldi r23,hi8(-10002)
 1513 0b46 0E94 0000 		call lua_pushvalue
 1514 0b4a CE01      		movw r24,r28
 1515 0b4c 6EEF      		ldi r22,lo8(-2)
 1516 0b4e 7FEF      		ldi r23,hi8(-2)
 1517 0b50 40E0      		ldi r20,lo8(.LC31)
 1518 0b52 50E0      		ldi r21,hi8(.LC31)
 1519 0b54 0E94 0000 		call lua_setfield
 1520 0b58 80E0      		ldi r24,lo8(0)
 1521 0b5a 90E0      		ldi r25,hi8(0)
 1522               	/* epilogue start */
 1523 0b5c DF91      		pop r29
 1524 0b5e CF91      		pop r28
 1525 0b60 0895      		ret
 1526               		.size	ll_seeall, .-ll_seeall
 1527               		.data
 1528               	.LC32:
 1529 0210 696E 6974 		.string	"init"
 1529      00
 1530               	.LC33:
 1531 0215 6162 7365 		.string	"absent"
 1531      6E74 00
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccWohXoL.s 			page 29


 1532               		.text
 1533               		.type	ll_loadlib, @function
 1534               	ll_loadlib:
 1535 0b62 0F93      		push r16
 1536 0b64 1F93      		push r17
 1537 0b66 CF93      		push r28
 1538 0b68 DF93      		push r29
 1539               	/* prologue: function */
 1540               	/* frame size = 0 */
 1541 0b6a EC01      		movw r28,r24
 1542 0b6c 61E0      		ldi r22,lo8(1)
 1543 0b6e 70E0      		ldi r23,hi8(1)
 1544 0b70 40E0      		ldi r20,lo8(0)
 1545 0b72 50E0      		ldi r21,hi8(0)
 1546 0b74 0E94 0000 		call luaL_checklstring
 1547 0b78 8C01      		movw r16,r24
 1548 0b7a CE01      		movw r24,r28
 1549 0b7c 62E0      		ldi r22,lo8(2)
 1550 0b7e 70E0      		ldi r23,hi8(2)
 1551 0b80 40E0      		ldi r20,lo8(0)
 1552 0b82 50E0      		ldi r21,hi8(0)
 1553 0b84 0E94 0000 		call luaL_checklstring
 1554 0b88 AC01      		movw r20,r24
 1555 0b8a CE01      		movw r24,r28
 1556 0b8c B801      		movw r22,r16
 1557 0b8e 0E94 0000 		call ll_loadfunc
 1558 0b92 8C01      		movw r16,r24
 1559 0b94 0097      		sbiw r24,0
 1560 0b96 01F4      		brne .L69
 1561 0b98 21E0      		ldi r18,lo8(1)
 1562 0b9a 30E0      		ldi r19,hi8(1)
 1563 0b9c 00C0      		rjmp .L70
 1564               	.L69:
 1565 0b9e CE01      		movw r24,r28
 1566 0ba0 0E94 0000 		call lua_pushnil
 1567 0ba4 CE01      		movw r24,r28
 1568 0ba6 6EEF      		ldi r22,lo8(-2)
 1569 0ba8 7FEF      		ldi r23,hi8(-2)
 1570 0baa 0E94 0000 		call lua_insert
 1571 0bae 0130      		cpi r16,1
 1572 0bb0 1105      		cpc r17,__zero_reg__
 1573 0bb2 01F0      		breq .L71
 1574 0bb4 60E0      		ldi r22,lo8(.LC32)
 1575 0bb6 70E0      		ldi r23,hi8(.LC32)
 1576 0bb8 00C0      		rjmp .L72
 1577               	.L71:
 1578 0bba 60E0      		ldi r22,lo8(.LC33)
 1579 0bbc 70E0      		ldi r23,hi8(.LC33)
 1580               	.L72:
 1581 0bbe CE01      		movw r24,r28
 1582 0bc0 0E94 0000 		call lua_pushstring
 1583 0bc4 23E0      		ldi r18,lo8(3)
 1584 0bc6 30E0      		ldi r19,hi8(3)
 1585               	.L70:
 1586 0bc8 C901      		movw r24,r18
 1587               	/* epilogue start */
 1588 0bca DF91      		pop r29
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccWohXoL.s 			page 30


 1589 0bcc CF91      		pop r28
 1590 0bce 1F91      		pop r17
 1591 0bd0 0F91      		pop r16
 1592 0bd2 0895      		ret
 1593               		.size	ll_loadlib, .-ll_loadlib
 1594               		.data
 1595               	.LC34:
 1596 021c 3B3B 00   		.string	";;"
 1597               	.LC35:
 1598 021f 3B01 3B00 		.string	";\001;"
 1599               	.LC36:
 1600 0223 0100      		.string	"\001"
 1601               		.text
 1602               		.type	setpath, @function
 1603               	setpath:
 1604 0bd4 EF92      		push r14
 1605 0bd6 FF92      		push r15
 1606 0bd8 0F93      		push r16
 1607 0bda 1F93      		push r17
 1608 0bdc CF93      		push r28
 1609 0bde DF93      		push r29
 1610               	/* prologue: function */
 1611               	/* frame size = 0 */
 1612 0be0 EC01      		movw r28,r24
 1613 0be2 7B01      		movw r14,r22
 1614 0be4 CA01      		movw r24,r20
 1615 0be6 8901      		movw r16,r18
 1616 0be8 0E94 0000 		call getenv
 1617 0bec BC01      		movw r22,r24
 1618 0bee 0097      		sbiw r24,0
 1619 0bf0 01F4      		brne .L75
 1620 0bf2 CE01      		movw r24,r28
 1621 0bf4 B801      		movw r22,r16
 1622 0bf6 0E94 0000 		call lua_pushstring
 1623 0bfa 00C0      		rjmp .L76
 1624               	.L75:
 1625 0bfc CE01      		movw r24,r28
 1626 0bfe 40E0      		ldi r20,lo8(.LC34)
 1627 0c00 50E0      		ldi r21,hi8(.LC34)
 1628 0c02 20E0      		ldi r18,lo8(.LC35)
 1629 0c04 30E0      		ldi r19,hi8(.LC35)
 1630 0c06 0E94 0000 		call luaL_gsub
 1631 0c0a BC01      		movw r22,r24
 1632 0c0c CE01      		movw r24,r28
 1633 0c0e 40E0      		ldi r20,lo8(.LC36)
 1634 0c10 50E0      		ldi r21,hi8(.LC36)
 1635 0c12 9801      		movw r18,r16
 1636 0c14 0E94 0000 		call luaL_gsub
 1637 0c18 CE01      		movw r24,r28
 1638 0c1a 6EEF      		ldi r22,lo8(-2)
 1639 0c1c 7FEF      		ldi r23,hi8(-2)
 1640 0c1e 0E94 0000 		call lua_remove
 1641               	.L76:
 1642 0c22 CE01      		movw r24,r28
 1643 0c24 6EEF      		ldi r22,lo8(-2)
 1644 0c26 7FEF      		ldi r23,hi8(-2)
 1645 0c28 A701      		movw r20,r14
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccWohXoL.s 			page 31


 1646 0c2a 0E94 0000 		call lua_setfield
 1647               	/* epilogue start */
 1648 0c2e DF91      		pop r29
 1649 0c30 CF91      		pop r28
 1650 0c32 1F91      		pop r17
 1651 0c34 0F91      		pop r16
 1652 0c36 FF90      		pop r15
 1653 0c38 EF90      		pop r14
 1654 0c3a 0895      		ret
 1655               		.size	setpath, .-setpath
 1656               		.data
 1657               	.LC37:
 1658 0225 5F5F 6763 		.string	"__gc"
 1658      00
 1659               	.LC38:
 1660 022a 7061 636B 		.string	"package"
 1660      6167 6500 
 1661               	.LC39:
 1662 0232 4C55 415F 		.string	"LUA_PATH"
 1662      5041 5448 
 1662      00
 1663               	.LC40:
 1664 023b 2E2F 3F2E 		.ascii	"./?.lua;/usr/local/share/lua/5.1/?.lua;/usr/local/share/lua/"
 1664      6C75 613B 
 1664      2F75 7372 
 1664      2F6C 6F63 
 1664      616C 2F73 
 1665 0277 352E 312F 		.ascii	"5.1/?/init.lu"
 1665      3F2F 696E 
 1665      6974 2E6C 
 1665      75
 1666 0284 613B 2F75 		.string	"a;/usr/local/lib/lua/5.1/?.lua;/usr/local/lib/lua/5.1/?/init.lua"
 1666      7372 2F6C 
 1666      6F63 616C 
 1666      2F6C 6962 
 1666      2F6C 7561 
 1667               	.LC41:
 1668 02c5 4C55 415F 		.string	"LUA_CPATH"
 1668      4350 4154 
 1668      4800 
 1669               	.LC42:
 1670 02cf 2E2F 3F2E 		.ascii	"./?."
 1671 02d3 736F 3B2F 		.string	"so;/usr/local/lib/lua/5.1/?.so;/usr/local/lib/lua/5.1/loadall.so"
 1671      7573 722F 
 1671      6C6F 6361 
 1671      6C2F 6C69 
 1671      622F 6C75 
 1672               	.LC43:
 1673 0314 2F0A 3B0A 		.string	"/\n;\n?\n!\n-"
 1673      3F0A 210A 
 1673      2D00 
 1674               	.LC44:
 1675 031e 636F 6E66 		.string	"config"
 1675      6967 00
 1676               	.LC45:
 1677 0325 6C6F 6164 		.string	"loaded"
 1677      6564 00
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccWohXoL.s 			page 32


 1678               		.text
 1679               	.global	luaopen_package
 1680               		.type	luaopen_package, @function
 1681               	luaopen_package:
 1682 0c3c EF92      		push r14
 1683 0c3e FF92      		push r15
 1684 0c40 0F93      		push r16
 1685 0c42 1F93      		push r17
 1686 0c44 CF93      		push r28
 1687 0c46 DF93      		push r29
 1688               	/* prologue: function */
 1689               	/* frame size = 0 */
 1690 0c48 EC01      		movw r28,r24
 1691 0c4a 60E0      		ldi r22,lo8(.LC26)
 1692 0c4c 70E0      		ldi r23,hi8(.LC26)
 1693 0c4e 0E94 0000 		call luaL_newmetatable
 1694 0c52 CE01      		movw r24,r28
 1695 0c54 60E0      		ldi r22,lo8(gs(gctm))
 1696 0c56 70E0      		ldi r23,hi8(gs(gctm))
 1697 0c58 0E94 0000 		call lua_pushlightfunction
 1698 0c5c CE01      		movw r24,r28
 1699 0c5e 6EEF      		ldi r22,lo8(-2)
 1700 0c60 7FEF      		ldi r23,hi8(-2)
 1701 0c62 40E0      		ldi r20,lo8(.LC37)
 1702 0c64 50E0      		ldi r21,hi8(.LC37)
 1703 0c66 0E94 0000 		call lua_setfield
 1704 0c6a CE01      		movw r24,r28
 1705 0c6c 60E0      		ldi r22,lo8(.LC38)
 1706 0c6e 70E0      		ldi r23,hi8(.LC38)
 1707 0c70 40E0      		ldi r20,lo8(pk_funcs)
 1708 0c72 50E0      		ldi r21,hi8(pk_funcs)
 1709 0c74 0E94 0000 		call luaL_register_light
 1710 0c78 CE01      		movw r24,r28
 1711 0c7a 6FEF      		ldi r22,lo8(-1)
 1712 0c7c 7FEF      		ldi r23,hi8(-1)
 1713 0c7e 0E94 0000 		call lua_pushvalue
 1714 0c82 CE01      		movw r24,r28
 1715 0c84 6FEE      		ldi r22,lo8(-10001)
 1716 0c86 78ED      		ldi r23,hi8(-10001)
 1717 0c88 0E94 0000 		call lua_replace
 1718 0c8c CE01      		movw r24,r28
 1719 0c8e 60E0      		ldi r22,lo8(0)
 1720 0c90 70E0      		ldi r23,hi8(0)
 1721 0c92 44E0      		ldi r20,lo8(4)
 1722 0c94 50E0      		ldi r21,hi8(4)
 1723 0c96 0E94 0000 		call lua_createtable
 1724 0c9a 60E0      		ldi r22,lo8(loaders)
 1725 0c9c E62E      		mov r14,r22
 1726 0c9e 60E0      		ldi r22,hi8(loaders)
 1727 0ca0 F62E      		mov r15,r22
 1728 0ca2 00E0      		ldi r16,lo8(0)
 1729 0ca4 10E0      		ldi r17,hi8(0)
 1730 0ca6 00C0      		rjmp .L79
 1731               	.L80:
 1732 0ca8 CE01      		movw r24,r28
 1733 0caa 40E0      		ldi r20,lo8(0)
 1734 0cac 50E0      		ldi r21,hi8(0)
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccWohXoL.s 			page 33


 1735 0cae 0E94 0000 		call lua_pushcclosure
 1736 0cb2 0F5F      		subi r16,lo8(-(1))
 1737 0cb4 1F4F      		sbci r17,hi8(-(1))
 1738 0cb6 CE01      		movw r24,r28
 1739 0cb8 6EEF      		ldi r22,lo8(-2)
 1740 0cba 7FEF      		ldi r23,hi8(-2)
 1741 0cbc A801      		movw r20,r16
 1742 0cbe 0E94 0000 		call lua_rawseti
 1743               	.L79:
 1744 0cc2 F701      		movw r30,r14
 1745 0cc4 6191      		ld r22,Z+
 1746 0cc6 7191      		ld r23,Z+
 1747 0cc8 7F01      		movw r14,r30
 1748 0cca 6115      		cp r22,__zero_reg__
 1749 0ccc 7105      		cpc r23,__zero_reg__
 1750 0cce 01F4      		brne .L80
 1751 0cd0 CE01      		movw r24,r28
 1752 0cd2 6EEF      		ldi r22,lo8(-2)
 1753 0cd4 7FEF      		ldi r23,hi8(-2)
 1754 0cd6 40E0      		ldi r20,lo8(.LC3)
 1755 0cd8 50E0      		ldi r21,hi8(.LC3)
 1756 0cda 0E94 0000 		call lua_setfield
 1757 0cde CE01      		movw r24,r28
 1758 0ce0 60E0      		ldi r22,lo8(.LC30)
 1759 0ce2 70E0      		ldi r23,hi8(.LC30)
 1760 0ce4 40E0      		ldi r20,lo8(.LC39)
 1761 0ce6 50E0      		ldi r21,hi8(.LC39)
 1762 0ce8 20E0      		ldi r18,lo8(.LC40)
 1763 0cea 30E0      		ldi r19,hi8(.LC40)
 1764 0cec 0E94 0000 		call setpath
 1765 0cf0 CE01      		movw r24,r28
 1766 0cf2 60E0      		ldi r22,lo8(.LC28)
 1767 0cf4 70E0      		ldi r23,hi8(.LC28)
 1768 0cf6 40E0      		ldi r20,lo8(.LC41)
 1769 0cf8 50E0      		ldi r21,hi8(.LC41)
 1770 0cfa 20E0      		ldi r18,lo8(.LC42)
 1771 0cfc 30E0      		ldi r19,hi8(.LC42)
 1772 0cfe 0E94 0000 		call setpath
 1773 0d02 CE01      		movw r24,r28
 1774 0d04 60E0      		ldi r22,lo8(.LC43)
 1775 0d06 70E0      		ldi r23,hi8(.LC43)
 1776 0d08 49E0      		ldi r20,lo8(9)
 1777 0d0a 50E0      		ldi r21,hi8(9)
 1778 0d0c 0E94 0000 		call lua_pushlstring
 1779 0d10 CE01      		movw r24,r28
 1780 0d12 6EEF      		ldi r22,lo8(-2)
 1781 0d14 7FEF      		ldi r23,hi8(-2)
 1782 0d16 40E0      		ldi r20,lo8(.LC44)
 1783 0d18 50E0      		ldi r21,hi8(.LC44)
 1784 0d1a 0E94 0000 		call lua_setfield
 1785 0d1e CE01      		movw r24,r28
 1786 0d20 60EF      		ldi r22,lo8(-10000)
 1787 0d22 78ED      		ldi r23,hi8(-10000)
 1788 0d24 40E0      		ldi r20,lo8(.LC1)
 1789 0d26 50E0      		ldi r21,hi8(.LC1)
 1790 0d28 22E0      		ldi r18,lo8(2)
 1791 0d2a 30E0      		ldi r19,hi8(2)
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccWohXoL.s 			page 34


 1792 0d2c 0E94 0000 		call luaL_findtable
 1793 0d30 CE01      		movw r24,r28
 1794 0d32 6EEF      		ldi r22,lo8(-2)
 1795 0d34 7FEF      		ldi r23,hi8(-2)
 1796 0d36 40E0      		ldi r20,lo8(.LC45)
 1797 0d38 50E0      		ldi r21,hi8(.LC45)
 1798 0d3a 0E94 0000 		call lua_setfield
 1799 0d3e CE01      		movw r24,r28
 1800 0d40 60E0      		ldi r22,lo8(0)
 1801 0d42 70E0      		ldi r23,hi8(0)
 1802 0d44 40E0      		ldi r20,lo8(0)
 1803 0d46 50E0      		ldi r21,hi8(0)
 1804 0d48 0E94 0000 		call lua_createtable
 1805 0d4c CE01      		movw r24,r28
 1806 0d4e 6EEF      		ldi r22,lo8(-2)
 1807 0d50 7FEF      		ldi r23,hi8(-2)
 1808 0d52 40E0      		ldi r20,lo8(.LC13)
 1809 0d54 50E0      		ldi r21,hi8(.LC13)
 1810 0d56 0E94 0000 		call lua_setfield
 1811 0d5a CE01      		movw r24,r28
 1812 0d5c 6EEE      		ldi r22,lo8(-10002)
 1813 0d5e 78ED      		ldi r23,hi8(-10002)
 1814 0d60 0E94 0000 		call lua_pushvalue
 1815 0d64 CE01      		movw r24,r28
 1816 0d66 60E0      		ldi r22,lo8(0)
 1817 0d68 70E0      		ldi r23,hi8(0)
 1818 0d6a 40E0      		ldi r20,lo8(ll_funcs)
 1819 0d6c 50E0      		ldi r21,hi8(ll_funcs)
 1820 0d6e 0E94 0000 		call luaL_register
 1821 0d72 CE01      		movw r24,r28
 1822 0d74 6EEF      		ldi r22,lo8(-2)
 1823 0d76 7FEF      		ldi r23,hi8(-2)
 1824 0d78 0E94 0000 		call lua_settop
 1825 0d7c 81E0      		ldi r24,lo8(1)
 1826 0d7e 90E0      		ldi r25,hi8(1)
 1827               	/* epilogue start */
 1828 0d80 DF91      		pop r29
 1829 0d82 CF91      		pop r28
 1830 0d84 1F91      		pop r17
 1831 0d86 0F91      		pop r16
 1832 0d88 FF90      		pop r15
 1833 0d8a EF90      		pop r14
 1834 0d8c 0895      		ret
 1835               		.size	luaopen_package, .-luaopen_package
 1836               		.type	gctm, @function
 1837               	gctm:
 1838               	/* prologue: function */
 1839               	/* frame size = 0 */
 1840 0d8e 61E0      		ldi r22,lo8(1)
 1841 0d90 70E0      		ldi r23,hi8(1)
 1842 0d92 40E0      		ldi r20,lo8(.LC26)
 1843 0d94 50E0      		ldi r21,hi8(.LC26)
 1844 0d96 0E94 0000 		call luaL_checkudata
 1845 0d9a FC01      		movw r30,r24
 1846 0d9c 1182      		std Z+1,__zero_reg__
 1847 0d9e 1082      		st Z,__zero_reg__
 1848 0da0 80E0      		ldi r24,lo8(0)
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccWohXoL.s 			page 35


 1849 0da2 90E0      		ldi r25,hi8(0)
 1850               	/* epilogue start */
 1851 0da4 0895      		ret
 1852               		.size	gctm, .-gctm
 1853               		.data
 1854               	.LC46:
 1855 032c 6C6F 6164 		.string	"loadlib"
 1855      6C69 6200 
 1856               	.LC47:
 1857 0334 7365 6561 		.string	"seeall"
 1857      6C6C 00
 1858               		.type	pk_funcs, @object
 1859               		.size	pk_funcs, 12
 1860               	pk_funcs:
 1861 033b 0000      		.word	.LC46
 1862 033d 0000      		.word	gs(ll_loadlib)
 1863 033f 0000      		.word	.LC47
 1864 0341 0000      		.word	gs(ll_seeall)
 1865 0343 0000      		.word	0
 1866 0345 0000      		.word	0
 1867               		.type	loaders, @object
 1868               		.size	loaders, 10
 1869               	loaders:
 1870 0347 0000      		.word	gs(loader_preload)
 1871 0349 0000      		.word	gs(loader_Lua)
 1872 034b 0000      		.word	gs(loader_C)
 1873 034d 0000      		.word	gs(loader_Croot)
 1874 034f 0000      		.word	0
 1875               	.LC48:
 1876 0351 6D6F 6475 		.string	"module"
 1876      6C65 00
 1877               	.LC49:
 1878 0358 7265 7175 		.string	"require"
 1878      6972 6500 
 1879               		.type	ll_funcs, @object
 1880               		.size	ll_funcs, 12
 1881               	ll_funcs:
 1882 0360 0000      		.word	.LC48
 1883 0362 0000      		.word	gs(ll_module)
 1884 0364 0000      		.word	.LC49
 1885 0366 0000      		.word	gs(ll_require)
 1886 0368 0000      		.word	0
 1887 036a 0000      		.word	0
 1888               		.type	sentinel_, @object
 1889               		.size	sentinel_, 2
 1890               	sentinel_:
 1891 036c 0000      		.skip 2,0
 1892               	.global __do_copy_data
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccWohXoL.s 			page 36


DEFINED SYMBOLS
                            *ABS*:00000000 loadlib.c
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccWohXoL.s:2      *ABS*:0000003f __SREG__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccWohXoL.s:3      *ABS*:0000003e __SP_H__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccWohXoL.s:4      *ABS*:0000003d __SP_L__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccWohXoL.s:5      *ABS*:00000034 __CCP__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccWohXoL.s:6      *ABS*:00000000 __tmp_reg__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccWohXoL.s:7      *ABS*:00000001 __zero_reg__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccWohXoL.s:13     .text:00000000 loaderror
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccWohXoL.s:98     .text:00000088 ll_require
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccWohXoL.s:1890   .data:0000036c sentinel_
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccWohXoL.s:412    .text:00000304 ll_module
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccWohXoL.s:696    .text:0000054a loader_preload
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccWohXoL.s:799    .text:00000606 mkfuncname
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccWohXoL.s:880    .text:0000068a findfile
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccWohXoL.s:1082   .text:0000080a ll_loadfunc
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccWohXoL.s:1269   .text:00000978 loader_Croot
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccWohXoL.s:1381   .text:00000a56 loader_C
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccWohXoL.s:1434   .text:00000ab4 loader_Lua
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccWohXoL.s:1478   .text:00000afe ll_seeall
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccWohXoL.s:1534   .text:00000b62 ll_loadlib
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccWohXoL.s:1603   .text:00000bd4 setpath
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccWohXoL.s:1681   .text:00000c3c luaopen_package
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccWohXoL.s:1837   .text:00000d8e gctm
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccWohXoL.s:1860   .data:0000033b pk_funcs
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccWohXoL.s:1869   .data:00000347 loaders
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccWohXoL.s:1881   .data:00000360 ll_funcs

UNDEFINED SYMBOLS
lua_tolstring
luaL_error
luaL_checklstring
lua_settop
lua_getfield
lua_toboolean
lua_touserdata
luaR_findglobal
lua_pushrotable
lua_type
lua_pushlstring
lua_rawgeti
lua_pushstring
lua_call
lua_isstring
lua_concat
lua_pushlightuserdata
lua_setfield
lua_pushboolean
lua_pushvalue
lua_gettop
luaL_findtable
strrchr
lua_getstack
lua_getinfo
lua_iscfunction
lua_setfenv
lua_pushfstring
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccWohXoL.s 			page 37


strchr
luaL_gsub
lua_remove
fopen
fclose
lua_gettable
lua_newuserdata
lua_setmetatable
lua_settable
luaL_loadfile
luaL_checktype
lua_getmetatable
lua_createtable
lua_pushnil
lua_insert
getenv
luaL_newmetatable
lua_pushlightfunction
luaL_register_light
lua_replace
lua_pushcclosure
lua_rawseti
luaL_register
luaL_checkudata
__do_copy_data
