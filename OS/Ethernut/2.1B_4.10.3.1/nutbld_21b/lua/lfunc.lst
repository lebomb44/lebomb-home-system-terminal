GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccalViDu.s 			page 1


   1               		.file	"lfunc.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__  = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.text
   9               	.global	luaF_getlocalname
  10               		.type	luaF_getlocalname, @function
  11               	luaF_getlocalname:
  12 0000 0F93      		push r16
  13 0002 1F93      		push r17
  14 0004 CF93      		push r28
  15 0006 DF93      		push r29
  16               	/* prologue: function */
  17               	/* frame size = 0 */
  18 0008 EC01      		movw r28,r24
  19 000a 0C8D      		ldd r16,Y+28
  20 000c 1D8D      		ldd r17,Y+29
  21 000e A0E0      		ldi r26,lo8(0)
  22 0010 B0E0      		ldi r27,hi8(0)
  23 0012 20E0      		ldi r18,lo8(0)
  24 0014 30E0      		ldi r19,hi8(0)
  25 0016 00C0      		rjmp .L2
  26               	.L6:
  27 0018 8481      		ldd r24,Z+4
  28 001a 9581      		ldd r25,Z+5
  29 001c 4817      		cp r20,r24
  30 001e 5907      		cpc r21,r25
  31 0020 04F4      		brge .L3
  32 0022 6150      		subi r22,lo8(-(-1))
  33 0024 7040      		sbci r23,hi8(-(-1))
  34 0026 01F4      		brne .L3
  35 0028 2081      		ld r18,Z
  36 002a 3181      		ldd r19,Z+1
  37 002c 275F      		subi r18,lo8(-(9))
  38 002e 3F4F      		sbci r19,hi8(-(9))
  39 0030 00C0      		rjmp .L4
  40               	.L3:
  41 0032 1196      		adiw r26,1
  42 0034 2A5F      		subi r18,lo8(-(6))
  43 0036 3F4F      		sbci r19,hi8(-(6))
  44               	.L2:
  45 0038 A017      		cp r26,r16
  46 003a B107      		cpc r27,r17
  47 003c 04F4      		brge .L5
  48 003e EC85      		ldd r30,Y+12
  49 0040 FD85      		ldd r31,Y+13
  50 0042 E20F      		add r30,r18
  51 0044 F31F      		adc r31,r19
  52 0046 8281      		ldd r24,Z+2
  53 0048 9381      		ldd r25,Z+3
  54 004a 4817      		cp r20,r24
  55 004c 5907      		cpc r21,r25
  56 004e 04F4      		brge .L6
  57               	.L5:
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccalViDu.s 			page 2


  58 0050 20E0      		ldi r18,lo8(0)
  59 0052 30E0      		ldi r19,hi8(0)
  60               	.L4:
  61 0054 C901      		movw r24,r18
  62               	/* epilogue start */
  63 0056 DF91      		pop r29
  64 0058 CF91      		pop r28
  65 005a 1F91      		pop r17
  66 005c 0F91      		pop r16
  67 005e 0895      		ret
  68               		.size	luaF_getlocalname, .-luaF_getlocalname
  69               	.global	luaF_freeclosure
  70               		.type	luaF_freeclosure, @function
  71               	luaF_freeclosure:
  72               	/* prologue: function */
  73               	/* frame size = 0 */
  74 0060 9C01      		movw r18,r24
  75 0062 FB01      		movw r30,r22
  76 0064 8481      		ldd r24,Z+4
  77 0066 8823      		tst r24
  78 0068 01F0      		breq .L9
  79 006a 8581      		ldd r24,Z+5
  80 006c 90E0      		ldi r25,lo8(0)
  81 006e 0197      		sbiw r24,1
  82 0070 AC01      		movw r20,r24
  83 0072 440F      		lsl r20
  84 0074 551F      		rol r21
  85 0076 480F      		add r20,r24
  86 0078 591F      		adc r21,r25
  87 007a 440F      		lsl r20
  88 007c 551F      		rol r21
  89 007e 4E5E      		subi r20,lo8(-(18))
  90 0080 5F4F      		sbci r21,hi8(-(18))
  91 0082 00C0      		rjmp .L10
  92               	.L9:
  93 0084 8581      		ldd r24,Z+5
  94 0086 482F      		mov r20,r24
  95 0088 50E0      		ldi r21,lo8(0)
  96 008a 4A5F      		subi r20,lo8(-(6))
  97 008c 5F4F      		sbci r21,hi8(-(6))
  98 008e 440F      		lsl r20
  99 0090 551F      		rol r21
 100               	.L10:
 101 0092 C901      		movw r24,r18
 102 0094 BF01      		movw r22,r30
 103 0096 20E0      		ldi r18,lo8(0)
 104 0098 30E0      		ldi r19,hi8(0)
 105 009a 0E94 0000 		call luaM_realloc_
 106               	/* epilogue start */
 107 009e 0895      		ret
 108               		.size	luaF_freeclosure, .-luaF_freeclosure
 109               	.global	luaF_freeproto
 110               		.type	luaF_freeproto, @function
 111               	luaF_freeproto:
 112 00a0 EF92      		push r14
 113 00a2 FF92      		push r15
 114 00a4 0F93      		push r16
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccalViDu.s 			page 3


 115 00a6 1F93      		push r17
 116               	/* prologue: function */
 117               	/* frame size = 0 */
 118 00a8 7C01      		movw r14,r24
 119 00aa 8B01      		movw r16,r22
 120 00ac FB01      		movw r30,r22
 121 00ae 6681      		ldd r22,Z+6
 122 00b0 7781      		ldd r23,Z+7
 123 00b2 4689      		ldd r20,Z+22
 124 00b4 5789      		ldd r21,Z+23
 125 00b6 440F      		lsl r20
 126 00b8 551F      		rol r21
 127 00ba 440F      		lsl r20
 128 00bc 551F      		rol r21
 129 00be 20E0      		ldi r18,lo8(0)
 130 00c0 30E0      		ldi r19,hi8(0)
 131 00c2 0E94 0000 		call luaM_realloc_
 132 00c6 F801      		movw r30,r16
 133 00c8 6085      		ldd r22,Z+8
 134 00ca 7185      		ldd r23,Z+9
 135 00cc 428D      		ldd r20,Z+26
 136 00ce 538D      		ldd r21,Z+27
 137 00d0 440F      		lsl r20
 138 00d2 551F      		rol r21
 139 00d4 C701      		movw r24,r14
 140 00d6 20E0      		ldi r18,lo8(0)
 141 00d8 30E0      		ldi r19,hi8(0)
 142 00da 0E94 0000 		call luaM_realloc_
 143 00de F801      		movw r30,r16
 144 00e0 6481      		ldd r22,Z+4
 145 00e2 7581      		ldd r23,Z+5
 146 00e4 8489      		ldd r24,Z+20
 147 00e6 9589      		ldd r25,Z+21
 148 00e8 AC01      		movw r20,r24
 149 00ea 440F      		lsl r20
 150 00ec 551F      		rol r21
 151 00ee 480F      		add r20,r24
 152 00f0 591F      		adc r21,r25
 153 00f2 440F      		lsl r20
 154 00f4 551F      		rol r21
 155 00f6 C701      		movw r24,r14
 156 00f8 20E0      		ldi r18,lo8(0)
 157 00fa 30E0      		ldi r19,hi8(0)
 158 00fc 0E94 0000 		call luaM_realloc_
 159 0100 F801      		movw r30,r16
 160 0102 6285      		ldd r22,Z+10
 161 0104 7385      		ldd r23,Z+11
 162 0106 408D      		ldd r20,Z+24
 163 0108 518D      		ldd r21,Z+25
 164 010a 440F      		lsl r20
 165 010c 551F      		rol r21
 166 010e C701      		movw r24,r14
 167 0110 20E0      		ldi r18,lo8(0)
 168 0112 30E0      		ldi r19,hi8(0)
 169 0114 0E94 0000 		call luaM_realloc_
 170 0118 F801      		movw r30,r16
 171 011a 6485      		ldd r22,Z+12
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccalViDu.s 			page 4


 172 011c 7585      		ldd r23,Z+13
 173 011e 848D      		ldd r24,Z+28
 174 0120 958D      		ldd r25,Z+29
 175 0122 AC01      		movw r20,r24
 176 0124 440F      		lsl r20
 177 0126 551F      		rol r21
 178 0128 480F      		add r20,r24
 179 012a 591F      		adc r21,r25
 180 012c 440F      		lsl r20
 181 012e 551F      		rol r21
 182 0130 C701      		movw r24,r14
 183 0132 20E0      		ldi r18,lo8(0)
 184 0134 30E0      		ldi r19,hi8(0)
 185 0136 0E94 0000 		call luaM_realloc_
 186 013a F801      		movw r30,r16
 187 013c 6685      		ldd r22,Z+14
 188 013e 7785      		ldd r23,Z+15
 189 0140 4289      		ldd r20,Z+18
 190 0142 5389      		ldd r21,Z+19
 191 0144 440F      		lsl r20
 192 0146 551F      		rol r21
 193 0148 C701      		movw r24,r14
 194 014a 20E0      		ldi r18,lo8(0)
 195 014c 30E0      		ldi r19,hi8(0)
 196 014e 0E94 0000 		call luaM_realloc_
 197 0152 C701      		movw r24,r14
 198 0154 B801      		movw r22,r16
 199 0156 48E2      		ldi r20,lo8(40)
 200 0158 50E0      		ldi r21,hi8(40)
 201 015a 20E0      		ldi r18,lo8(0)
 202 015c 30E0      		ldi r19,hi8(0)
 203 015e 0E94 0000 		call luaM_realloc_
 204               	/* epilogue start */
 205 0162 1F91      		pop r17
 206 0164 0F91      		pop r16
 207 0166 FF90      		pop r15
 208 0168 EF90      		pop r14
 209 016a 0895      		ret
 210               		.size	luaF_freeproto, .-luaF_freeproto
 211               	.global	luaF_freeupval
 212               		.type	luaF_freeupval, @function
 213               	luaF_freeupval:
 214 016c CF93      		push r28
 215 016e DF93      		push r29
 216               	/* prologue: function */
 217               	/* frame size = 0 */
 218 0170 AC01      		movw r20,r24
 219 0172 EB01      		movw r28,r22
 220 0174 9B01      		movw r18,r22
 221 0176 2A5F      		subi r18,lo8(-(6))
 222 0178 3F4F      		sbci r19,hi8(-(6))
 223 017a 8C81      		ldd r24,Y+4
 224 017c 9D81      		ldd r25,Y+5
 225 017e 8217      		cp r24,r18
 226 0180 9307      		cpc r25,r19
 227 0182 01F0      		breq .L15
 228 0184 E885      		ldd r30,Y+8
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccalViDu.s 			page 5


 229 0186 F985      		ldd r31,Y+9
 230 0188 8E81      		ldd r24,Y+6
 231 018a 9F81      		ldd r25,Y+7
 232 018c 9783      		std Z+7,r25
 233 018e 8683      		std Z+6,r24
 234 0190 AE81      		ldd r26,Y+6
 235 0192 BF81      		ldd r27,Y+7
 236 0194 1996      		adiw r26,8+1
 237 0196 FC93      		st X,r31
 238 0198 EE93      		st -X,r30
 239 019a 1897      		sbiw r26,8
 240               	.L15:
 241 019c CA01      		movw r24,r20
 242 019e BE01      		movw r22,r28
 243 01a0 4CE0      		ldi r20,lo8(12)
 244 01a2 50E0      		ldi r21,hi8(12)
 245 01a4 20E0      		ldi r18,lo8(0)
 246 01a6 30E0      		ldi r19,hi8(0)
 247 01a8 0E94 0000 		call luaM_realloc_
 248               	/* epilogue start */
 249 01ac DF91      		pop r29
 250 01ae CF91      		pop r28
 251 01b0 0895      		ret
 252               		.size	luaF_freeupval, .-luaF_freeupval
 253               	.global	luaF_findupval
 254               		.type	luaF_findupval, @function
 255               	luaF_findupval:
 256 01b2 EF92      		push r14
 257 01b4 FF92      		push r15
 258 01b6 0F93      		push r16
 259 01b8 1F93      		push r17
 260 01ba CF93      		push r28
 261 01bc DF93      		push r29
 262               	/* prologue: function */
 263               	/* frame size = 0 */
 264 01be FC01      		movw r30,r24
 265 01c0 7B01      		movw r14,r22
 266 01c2 C185      		ldd r28,Z+9
 267 01c4 D285      		ldd r29,Z+10
 268 01c6 8C01      		movw r16,r24
 269 01c8 0D5C      		subi r16,lo8(-(51))
 270 01ca 1F4F      		sbci r17,hi8(-(51))
 271 01cc A3A9      		ldd r26,Z+51
 272 01ce B4A9      		ldd r27,Z+52
 273 01d0 00C0      		rjmp .L18
 274               	.L22:
 275 01d2 5A2F      		mov r21,r26
 276 01d4 4B2F      		mov r20,r27
 277 01d6 8E15      		cp r24,r14
 278 01d8 9F05      		cpc r25,r15
 279 01da 01F4      		brne .L19
 280 01dc FD01      		movw r30,r26
 281 01de 2381      		ldd r18,Z+3
 282 01e0 8C85      		ldd r24,Y+12
 283 01e2 33E0      		ldi r19,lo8(3)
 284 01e4 8327      		eor r24,r19
 285 01e6 8223      		and r24,r18
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccalViDu.s 			page 6


 286 01e8 90E0      		ldi r25,lo8(0)
 287 01ea 8370      		andi r24,lo8(3)
 288 01ec 9070      		andi r25,hi8(3)
 289 01ee 892B      		or r24,r25
 290 01f0 01F0      		breq .L20
 291 01f2 2327      		eor r18,r19
 292 01f4 2383      		std Z+3,r18
 293 01f6 00C0      		rjmp .L20
 294               	.L19:
 295 01f8 8D01      		movw r16,r26
 296 01fa 0D90      		ld __tmp_reg__,X+
 297 01fc BC91      		ld r27,X
 298 01fe A02D      		mov r26,__tmp_reg__
 299               	.L18:
 300 0200 1097      		sbiw r26,0
 301 0202 01F0      		breq .L21
 302 0204 1496      		adiw r26,4
 303 0206 8D91      		ld r24,X+
 304 0208 9C91      		ld r25,X
 305 020a 1597      		sbiw r26,4+1
 306 020c 8E15      		cp r24,r14
 307 020e 9F05      		cpc r25,r15
 308 0210 00F4      		brsh .L22
 309               	.L21:
 310 0212 CF01      		movw r24,r30
 311 0214 60E0      		ldi r22,lo8(0)
 312 0216 70E0      		ldi r23,hi8(0)
 313 0218 40E0      		ldi r20,lo8(0)
 314 021a 50E0      		ldi r21,hi8(0)
 315 021c 2CE0      		ldi r18,lo8(12)
 316 021e 30E0      		ldi r19,hi8(12)
 317 0220 0E94 0000 		call luaM_realloc_
 318 0224 FC01      		movw r30,r24
 319 0226 8CE0      		ldi r24,lo8(12)
 320 0228 8283      		std Z+2,r24
 321 022a 8C85      		ldd r24,Y+12
 322 022c 8370      		andi r24,lo8(3)
 323 022e 8383      		std Z+3,r24
 324 0230 F582      		std Z+5,r15
 325 0232 E482      		std Z+4,r14
 326 0234 D801      		movw r26,r16
 327 0236 2D91      		ld r18,X+
 328 0238 3C91      		ld r19,X
 329 023a 1197      		sbiw r26,1
 330 023c 3183      		std Z+1,r19
 331 023e 2083      		st Z,r18
 332 0240 ED93      		st X+,r30
 333 0242 FC93      		st X,r31
 334 0244 C05C      		subi r28,lo8(-(64))
 335 0246 DF4F      		sbci r29,hi8(-(64))
 336 0248 D783      		std Z+7,r29
 337 024a C683      		std Z+6,r28
 338 024c 9E01      		movw r18,r28
 339 024e 285F      		subi r18,lo8(-(8))
 340 0250 3F4F      		sbci r19,hi8(-(8))
 341 0252 E901      		movw r28,r18
 342 0254 A881      		ld r26,Y
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccalViDu.s 			page 7


 343 0256 B981      		ldd r27,Y+1
 344 0258 B187      		std Z+9,r27
 345 025a A087      		std Z+8,r26
 346 025c 1796      		adiw r26,6+1
 347 025e FC93      		st X,r31
 348 0260 EE93      		st -X,r30
 349 0262 1697      		sbiw r26,6
 350 0264 F983      		std Y+1,r31
 351 0266 E883      		st Y,r30
 352 0268 5E2F      		mov r21,r30
 353 026a 492F      		mov r20,r25
 354               	.L20:
 355 026c 852F      		mov r24,r21
 356 026e 942F      		mov r25,r20
 357               	/* epilogue start */
 358 0270 DF91      		pop r29
 359 0272 CF91      		pop r28
 360 0274 1F91      		pop r17
 361 0276 0F91      		pop r16
 362 0278 FF90      		pop r15
 363 027a EF90      		pop r14
 364 027c 0895      		ret
 365               		.size	luaF_findupval, .-luaF_findupval
 366               	.global	luaF_newproto
 367               		.type	luaF_newproto, @function
 368               	luaF_newproto:
 369 027e DF92      		push r13
 370 0280 EF92      		push r14
 371 0282 FF92      		push r15
 372 0284 0F93      		push r16
 373 0286 1F93      		push r17
 374               	/* prologue: function */
 375               	/* frame size = 0 */
 376 0288 8C01      		movw r16,r24
 377 028a 60E0      		ldi r22,lo8(0)
 378 028c 70E0      		ldi r23,hi8(0)
 379 028e 40E0      		ldi r20,lo8(0)
 380 0290 50E0      		ldi r21,hi8(0)
 381 0292 28E2      		ldi r18,lo8(40)
 382 0294 30E0      		ldi r19,hi8(40)
 383 0296 0E94 0000 		call luaM_realloc_
 384 029a D92E      		mov r13,r25
 385 029c E82E      		mov r14,r24
 386 029e F92E      		mov r15,r25
 387 02a0 C801      		movw r24,r16
 388 02a2 B701      		movw r22,r14
 389 02a4 4BE0      		ldi r20,lo8(11)
 390 02a6 0E94 0000 		call luaC_link
 391 02aa F701      		movw r30,r14
 392 02ac 1582      		std Z+5,__zero_reg__
 393 02ae 1482      		std Z+4,__zero_reg__
 394 02b0 158A      		std Z+21,__zero_reg__
 395 02b2 148A      		std Z+20,__zero_reg__
 396 02b4 1186      		std Z+9,__zero_reg__
 397 02b6 1086      		std Z+8,__zero_reg__
 398 02b8 138E      		std Z+27,__zero_reg__
 399 02ba 128E      		std Z+26,__zero_reg__
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccalViDu.s 			page 8


 400 02bc 1782      		std Z+7,__zero_reg__
 401 02be 1682      		std Z+6,__zero_reg__
 402 02c0 178A      		std Z+23,__zero_reg__
 403 02c2 168A      		std Z+22,__zero_reg__
 404 02c4 118E      		std Z+25,__zero_reg__
 405 02c6 108E      		std Z+24,__zero_reg__
 406 02c8 138A      		std Z+19,__zero_reg__
 407 02ca 128A      		std Z+18,__zero_reg__
 408 02cc 14A2      		std Z+36,__zero_reg__
 409 02ce 1786      		std Z+15,__zero_reg__
 410 02d0 1686      		std Z+14,__zero_reg__
 411 02d2 15A2      		std Z+37,__zero_reg__
 412 02d4 16A2      		std Z+38,__zero_reg__
 413 02d6 17A2      		std Z+39,__zero_reg__
 414 02d8 1386      		std Z+11,__zero_reg__
 415 02da 1286      		std Z+10,__zero_reg__
 416 02dc 158E      		std Z+29,__zero_reg__
 417 02de 148E      		std Z+28,__zero_reg__
 418 02e0 1586      		std Z+13,__zero_reg__
 419 02e2 1486      		std Z+12,__zero_reg__
 420 02e4 178E      		std Z+31,__zero_reg__
 421 02e6 168E      		std Z+30,__zero_reg__
 422 02e8 11A2      		std Z+33,__zero_reg__
 423 02ea 10A2      		std Z+32,__zero_reg__
 424 02ec 118A      		std Z+17,__zero_reg__
 425 02ee 108A      		std Z+16,__zero_reg__
 426 02f0 8E2D      		mov r24,r14
 427 02f2 9D2D      		mov r25,r13
 428               	/* epilogue start */
 429 02f4 1F91      		pop r17
 430 02f6 0F91      		pop r16
 431 02f8 FF90      		pop r15
 432 02fa EF90      		pop r14
 433 02fc DF90      		pop r13
 434 02fe 0895      		ret
 435               		.size	luaF_newproto, .-luaF_newproto
 436               	.global	luaF_newupval
 437               		.type	luaF_newupval, @function
 438               	luaF_newupval:
 439 0300 DF92      		push r13
 440 0302 EF92      		push r14
 441 0304 FF92      		push r15
 442 0306 0F93      		push r16
 443 0308 1F93      		push r17
 444               	/* prologue: function */
 445               	/* frame size = 0 */
 446 030a 7C01      		movw r14,r24
 447 030c 60E0      		ldi r22,lo8(0)
 448 030e 70E0      		ldi r23,hi8(0)
 449 0310 40E0      		ldi r20,lo8(0)
 450 0312 50E0      		ldi r21,hi8(0)
 451 0314 2CE0      		ldi r18,lo8(12)
 452 0316 30E0      		ldi r19,hi8(12)
 453 0318 0E94 0000 		call luaM_realloc_
 454 031c D92E      		mov r13,r25
 455 031e 082F      		mov r16,r24
 456 0320 192F      		mov r17,r25
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccalViDu.s 			page 9


 457 0322 C701      		movw r24,r14
 458 0324 B801      		movw r22,r16
 459 0326 4CE0      		ldi r20,lo8(12)
 460 0328 0E94 0000 		call luaC_link
 461 032c C801      		movw r24,r16
 462 032e 0696      		adiw r24,6
 463 0330 F801      		movw r30,r16
 464 0332 9583      		std Z+5,r25
 465 0334 8483      		std Z+4,r24
 466 0336 1386      		std Z+11,__zero_reg__
 467 0338 1286      		std Z+10,__zero_reg__
 468 033a 802F      		mov r24,r16
 469 033c 9D2D      		mov r25,r13
 470               	/* epilogue start */
 471 033e 1F91      		pop r17
 472 0340 0F91      		pop r16
 473 0342 FF90      		pop r15
 474 0344 EF90      		pop r14
 475 0346 DF90      		pop r13
 476 0348 0895      		ret
 477               		.size	luaF_newupval, .-luaF_newupval
 478               	.global	luaF_newLclosure
 479               		.type	luaF_newLclosure, @function
 480               	luaF_newLclosure:
 481 034a CF92      		push r12
 482 034c DF92      		push r13
 483 034e EF92      		push r14
 484 0350 FF92      		push r15
 485 0352 0F93      		push r16
 486 0354 1F93      		push r17
 487 0356 CF93      		push r28
 488 0358 DF93      		push r29
 489               	/* prologue: function */
 490               	/* frame size = 0 */
 491 035a 8C01      		movw r16,r24
 492 035c 6B01      		movw r12,r22
 493 035e 7A01      		movw r14,r20
 494 0360 9B01      		movw r18,r22
 495 0362 2A5F      		subi r18,lo8(-(6))
 496 0364 3F4F      		sbci r19,hi8(-(6))
 497 0366 220F      		lsl r18
 498 0368 331F      		rol r19
 499 036a 60E0      		ldi r22,lo8(0)
 500 036c 70E0      		ldi r23,hi8(0)
 501 036e 40E0      		ldi r20,lo8(0)
 502 0370 50E0      		ldi r21,hi8(0)
 503 0372 0E94 0000 		call luaM_realloc_
 504 0376 EC01      		movw r28,r24
 505 0378 C801      		movw r24,r16
 506 037a BE01      		movw r22,r28
 507 037c 48E0      		ldi r20,lo8(8)
 508 037e 0E94 0000 		call luaC_link
 509 0382 1C82      		std Y+4,__zero_reg__
 510 0384 F986      		std Y+9,r15
 511 0386 E886      		std Y+8,r14
 512 0388 CD82      		std Y+5,r12
 513 038a F601      		movw r30,r12
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccalViDu.s 			page 10


 514 038c 3596      		adiw r30,5
 515 038e EE0F      		lsl r30
 516 0390 FF1F      		rol r31
 517 0392 EC0F      		add r30,r28
 518 0394 FD1F      		adc r31,r29
 519 0396 00C0      		rjmp .L29
 520               	.L30:
 521 0398 0894      		sec
 522 039a C108      		sbc r12,__zero_reg__
 523 039c D108      		sbc r13,__zero_reg__
 524 039e 1182      		std Z+1,__zero_reg__
 525 03a0 1082      		st Z,__zero_reg__
 526 03a2 3297      		sbiw r30,2
 527               	.L29:
 528 03a4 C114      		cp r12,__zero_reg__
 529 03a6 D104      		cpc r13,__zero_reg__
 530 03a8 01F4      		brne .L30
 531 03aa CE01      		movw r24,r28
 532               	/* epilogue start */
 533 03ac DF91      		pop r29
 534 03ae CF91      		pop r28
 535 03b0 1F91      		pop r17
 536 03b2 0F91      		pop r16
 537 03b4 FF90      		pop r15
 538 03b6 EF90      		pop r14
 539 03b8 DF90      		pop r13
 540 03ba CF90      		pop r12
 541 03bc 0895      		ret
 542               		.size	luaF_newLclosure, .-luaF_newLclosure
 543               	.global	luaF_newCclosure
 544               		.type	luaF_newCclosure, @function
 545               	luaF_newCclosure:
 546 03be 8F92      		push r8
 547 03c0 9F92      		push r9
 548 03c2 BF92      		push r11
 549 03c4 CF92      		push r12
 550 03c6 DF92      		push r13
 551 03c8 EF92      		push r14
 552 03ca FF92      		push r15
 553 03cc 0F93      		push r16
 554 03ce 1F93      		push r17
 555               	/* prologue: function */
 556               	/* frame size = 0 */
 557 03d0 7C01      		movw r14,r24
 558 03d2 6B01      		movw r12,r22
 559 03d4 4A01      		movw r8,r20
 560 03d6 CB01      		movw r24,r22
 561 03d8 0197      		sbiw r24,1
 562 03da 9C01      		movw r18,r24
 563 03dc 220F      		lsl r18
 564 03de 331F      		rol r19
 565 03e0 280F      		add r18,r24
 566 03e2 391F      		adc r19,r25
 567 03e4 220F      		lsl r18
 568 03e6 331F      		rol r19
 569 03e8 2E5E      		subi r18,lo8(-(18))
 570 03ea 3F4F      		sbci r19,hi8(-(18))
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccalViDu.s 			page 11


 571 03ec C701      		movw r24,r14
 572 03ee 60E0      		ldi r22,lo8(0)
 573 03f0 70E0      		ldi r23,hi8(0)
 574 03f2 40E0      		ldi r20,lo8(0)
 575 03f4 50E0      		ldi r21,hi8(0)
 576 03f6 0E94 0000 		call luaM_realloc_
 577 03fa B92E      		mov r11,r25
 578 03fc 082F      		mov r16,r24
 579 03fe 192F      		mov r17,r25
 580 0400 C701      		movw r24,r14
 581 0402 B801      		movw r22,r16
 582 0404 48E0      		ldi r20,lo8(8)
 583 0406 0E94 0000 		call luaC_link
 584 040a 81E0      		ldi r24,lo8(1)
 585 040c F801      		movw r30,r16
 586 040e 8483      		std Z+4,r24
 587 0410 9186      		std Z+9,r9
 588 0412 8086      		std Z+8,r8
 589 0414 C582      		std Z+5,r12
 590 0416 802F      		mov r24,r16
 591 0418 9B2D      		mov r25,r11
 592               	/* epilogue start */
 593 041a 1F91      		pop r17
 594 041c 0F91      		pop r16
 595 041e FF90      		pop r15
 596 0420 EF90      		pop r14
 597 0422 DF90      		pop r13
 598 0424 CF90      		pop r12
 599 0426 BF90      		pop r11
 600 0428 9F90      		pop r9
 601 042a 8F90      		pop r8
 602 042c 0895      		ret
 603               		.size	luaF_newCclosure, .-luaF_newCclosure
 604               	.global	luaF_close
 605               		.type	luaF_close, @function
 606               	luaF_close:
 607 042e BF92      		push r11
 608 0430 CF92      		push r12
 609 0432 DF92      		push r13
 610 0434 EF92      		push r14
 611 0436 FF92      		push r15
 612 0438 0F93      		push r16
 613 043a 1F93      		push r17
 614 043c CF93      		push r28
 615 043e DF93      		push r29
 616               	/* prologue: function */
 617               	/* frame size = 0 */
 618 0440 8C01      		movw r16,r24
 619 0442 6B01      		movw r12,r22
 620 0444 FC01      		movw r30,r24
 621 0446 E184      		ldd r14,Z+9
 622 0448 F284      		ldd r15,Z+10
 623 044a 83E0      		ldi r24,lo8(3)
 624 044c B82E      		mov r11,r24
 625 044e 00C0      		rjmp .L40
 626               	.L38:
 627 0450 8881      		ld r24,Y
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccalViDu.s 			page 12


 628 0452 9981      		ldd r25,Y+1
 629 0454 F801      		movw r30,r16
 630 0456 94AB      		std Z+52,r25
 631 0458 83AB      		std Z+51,r24
 632 045a F701      		movw r30,r14
 633 045c 8485      		ldd r24,Z+12
 634 045e 8B25      		eor r24,r11
 635 0460 2B81      		ldd r18,Y+3
 636 0462 8223      		and r24,r18
 637 0464 90E0      		ldi r25,lo8(0)
 638 0466 8370      		andi r24,lo8(3)
 639 0468 9070      		andi r25,hi8(3)
 640 046a 892B      		or r24,r25
 641 046c 01F0      		breq .L36
 642 046e C801      		movw r24,r16
 643 0470 BE01      		movw r22,r28
 644 0472 0E94 0000 		call luaF_freeupval
 645 0476 00C0      		rjmp .L40
 646               	.L36:
 647 0478 A885      		ldd r26,Y+8
 648 047a B985      		ldd r27,Y+9
 649 047c 8E81      		ldd r24,Y+6
 650 047e 9F81      		ldd r25,Y+7
 651 0480 1796      		adiw r26,6+1
 652 0482 9C93      		st X,r25
 653 0484 8E93      		st -X,r24
 654 0486 1697      		sbiw r26,6
 655 0488 EE81      		ldd r30,Y+6
 656 048a FF81      		ldd r31,Y+7
 657 048c B187      		std Z+9,r27
 658 048e A087      		std Z+8,r26
 659 0490 EC81      		ldd r30,Y+4
 660 0492 FD81      		ldd r31,Y+5
 661 0494 8081      		ld r24,Z
 662 0496 9181      		ldd r25,Z+1
 663 0498 A281      		ldd r26,Z+2
 664 049a B381      		ldd r27,Z+3
 665 049c 8E83      		std Y+6,r24
 666 049e 9F83      		std Y+7,r25
 667 04a0 A887      		std Y+8,r26
 668 04a2 B987      		std Y+9,r27
 669 04a4 8481      		ldd r24,Z+4
 670 04a6 9581      		ldd r25,Z+5
 671 04a8 9B87      		std Y+11,r25
 672 04aa 8A87      		std Y+10,r24
 673 04ac CE01      		movw r24,r28
 674 04ae 0696      		adiw r24,6
 675 04b0 9D83      		std Y+5,r25
 676 04b2 8C83      		std Y+4,r24
 677 04b4 C801      		movw r24,r16
 678 04b6 BE01      		movw r22,r28
 679 04b8 0E94 0000 		call luaC_linkupval
 680               	.L40:
 681 04bc F801      		movw r30,r16
 682 04be C3A9      		ldd r28,Z+51
 683 04c0 D4A9      		ldd r29,Z+52
 684 04c2 2097      		sbiw r28,0
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccalViDu.s 			page 13


 685 04c4 01F0      		breq .L39
 686 04c6 8C81      		ldd r24,Y+4
 687 04c8 9D81      		ldd r25,Y+5
 688 04ca 8C15      		cp r24,r12
 689 04cc 9D05      		cpc r25,r13
 690 04ce 00F0      		brlo .+2
 691 04d0 00C0      		rjmp .L38
 692               	.L39:
 693               	/* epilogue start */
 694 04d2 DF91      		pop r29
 695 04d4 CF91      		pop r28
 696 04d6 1F91      		pop r17
 697 04d8 0F91      		pop r16
 698 04da FF90      		pop r15
 699 04dc EF90      		pop r14
 700 04de DF90      		pop r13
 701 04e0 CF90      		pop r12
 702 04e2 BF90      		pop r11
 703 04e4 0895      		ret
 704               		.size	luaF_close, .-luaF_close
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccalViDu.s 			page 14


DEFINED SYMBOLS
                            *ABS*:00000000 lfunc.c
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccalViDu.s:2      *ABS*:0000003f __SREG__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccalViDu.s:3      *ABS*:0000003e __SP_H__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccalViDu.s:4      *ABS*:0000003d __SP_L__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccalViDu.s:5      *ABS*:00000034 __CCP__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccalViDu.s:6      *ABS*:00000000 __tmp_reg__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccalViDu.s:7      *ABS*:00000001 __zero_reg__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccalViDu.s:11     .text:00000000 luaF_getlocalname
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccalViDu.s:71     .text:00000060 luaF_freeclosure
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccalViDu.s:111    .text:000000a0 luaF_freeproto
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccalViDu.s:213    .text:0000016c luaF_freeupval
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccalViDu.s:255    .text:000001b2 luaF_findupval
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccalViDu.s:368    .text:0000027e luaF_newproto
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccalViDu.s:438    .text:00000300 luaF_newupval
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccalViDu.s:480    .text:0000034a luaF_newLclosure
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccalViDu.s:545    .text:000003be luaF_newCclosure
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccalViDu.s:606    .text:0000042e luaF_close

UNDEFINED SYMBOLS
luaM_realloc_
luaC_link
luaC_linkupval
