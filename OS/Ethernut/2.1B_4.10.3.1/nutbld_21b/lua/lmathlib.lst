GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccSpViDu.s 			page 1


   1               		.file	"lmathlib.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__  = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.text
   9               		.type	math_tan, @function
  10               	math_tan:
  11 0000 0F93      		push r16
  12 0002 1F93      		push r17
  13               	/* prologue: function */
  14               	/* frame size = 0 */
  15 0004 8C01      		movw r16,r24
  16 0006 61E0      		ldi r22,lo8(1)
  17 0008 70E0      		ldi r23,hi8(1)
  18 000a 0E94 0000 		call luaL_checknumber
  19 000e 0E94 0000 		call __floatsisf
  20 0012 0E94 0000 		call tan
  21 0016 0E94 0000 		call __fixsfsi
  22 001a AB01      		movw r20,r22
  23 001c BC01      		movw r22,r24
  24 001e C801      		movw r24,r16
  25 0020 0E94 0000 		call lua_pushnumber
  26 0024 81E0      		ldi r24,lo8(1)
  27 0026 90E0      		ldi r25,hi8(1)
  28               	/* epilogue start */
  29 0028 1F91      		pop r17
  30 002a 0F91      		pop r16
  31 002c 0895      		ret
  32               		.size	math_tan, .-math_tan
  33               		.type	math_rad, @function
  34               	math_rad:
  35 002e 0F93      		push r16
  36 0030 1F93      		push r17
  37               	/* prologue: function */
  38               	/* frame size = 0 */
  39 0032 8C01      		movw r16,r24
  40 0034 61E0      		ldi r22,lo8(1)
  41 0036 70E0      		ldi r23,hi8(1)
  42 0038 0E94 0000 		call luaL_checknumber
  43 003c 0E94 0000 		call __floatsisf
  44 0040 25E3      		ldi r18,lo8(0x3c8efa35)
  45 0042 3AEF      		ldi r19,hi8(0x3c8efa35)
  46 0044 4EE8      		ldi r20,hlo8(0x3c8efa35)
  47 0046 5CE3      		ldi r21,hhi8(0x3c8efa35)
  48 0048 0E94 0000 		call __mulsf3
  49 004c 0E94 0000 		call __fixsfsi
  50 0050 AB01      		movw r20,r22
  51 0052 BC01      		movw r22,r24
  52 0054 C801      		movw r24,r16
  53 0056 0E94 0000 		call lua_pushnumber
  54 005a 81E0      		ldi r24,lo8(1)
  55 005c 90E0      		ldi r25,hi8(1)
  56               	/* epilogue start */
  57 005e 1F91      		pop r17
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccSpViDu.s 			page 2


  58 0060 0F91      		pop r16
  59 0062 0895      		ret
  60               		.size	math_rad, .-math_rad
  61               		.type	math_deg, @function
  62               	math_deg:
  63 0064 0F93      		push r16
  64 0066 1F93      		push r17
  65               	/* prologue: function */
  66               	/* frame size = 0 */
  67 0068 8C01      		movw r16,r24
  68 006a 61E0      		ldi r22,lo8(1)
  69 006c 70E0      		ldi r23,hi8(1)
  70 006e 0E94 0000 		call luaL_checknumber
  71 0072 0E94 0000 		call __floatsisf
  72 0076 25E3      		ldi r18,lo8(0x3c8efa35)
  73 0078 3AEF      		ldi r19,hi8(0x3c8efa35)
  74 007a 4EE8      		ldi r20,hlo8(0x3c8efa35)
  75 007c 5CE3      		ldi r21,hhi8(0x3c8efa35)
  76 007e 0E94 0000 		call __divsf3
  77 0082 0E94 0000 		call __fixsfsi
  78 0086 AB01      		movw r20,r22
  79 0088 BC01      		movw r22,r24
  80 008a C801      		movw r24,r16
  81 008c 0E94 0000 		call lua_pushnumber
  82 0090 81E0      		ldi r24,lo8(1)
  83 0092 90E0      		ldi r25,hi8(1)
  84               	/* epilogue start */
  85 0094 1F91      		pop r17
  86 0096 0F91      		pop r16
  87 0098 0895      		ret
  88               		.size	math_deg, .-math_deg
  89               		.type	math_abs, @function
  90               	math_abs:
  91 009a 0F93      		push r16
  92 009c 1F93      		push r17
  93               	/* prologue: function */
  94               	/* frame size = 0 */
  95 009e 8C01      		movw r16,r24
  96 00a0 61E0      		ldi r22,lo8(1)
  97 00a2 70E0      		ldi r23,hi8(1)
  98 00a4 0E94 0000 		call luaL_checknumber
  99 00a8 0E94 0000 		call __floatsisf
 100 00ac 9F77      		andi r25,0x7f
 101 00ae 0E94 0000 		call __fixsfsi
 102 00b2 AB01      		movw r20,r22
 103 00b4 BC01      		movw r22,r24
 104 00b6 C801      		movw r24,r16
 105 00b8 0E94 0000 		call lua_pushnumber
 106 00bc 81E0      		ldi r24,lo8(1)
 107 00be 90E0      		ldi r25,hi8(1)
 108               	/* epilogue start */
 109 00c0 1F91      		pop r17
 110 00c2 0F91      		pop r16
 111 00c4 0895      		ret
 112               		.size	math_abs, .-math_abs
 113               		.type	math_tanh, @function
 114               	math_tanh:
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccSpViDu.s 			page 3


 115 00c6 0F93      		push r16
 116 00c8 1F93      		push r17
 117               	/* prologue: function */
 118               	/* frame size = 0 */
 119 00ca 8C01      		movw r16,r24
 120 00cc 61E0      		ldi r22,lo8(1)
 121 00ce 70E0      		ldi r23,hi8(1)
 122 00d0 0E94 0000 		call luaL_checknumber
 123 00d4 0E94 0000 		call __floatsisf
 124 00d8 0E94 0000 		call tanh
 125 00dc 0E94 0000 		call __fixsfsi
 126 00e0 AB01      		movw r20,r22
 127 00e2 BC01      		movw r22,r24
 128 00e4 C801      		movw r24,r16
 129 00e6 0E94 0000 		call lua_pushnumber
 130 00ea 81E0      		ldi r24,lo8(1)
 131 00ec 90E0      		ldi r25,hi8(1)
 132               	/* epilogue start */
 133 00ee 1F91      		pop r17
 134 00f0 0F91      		pop r16
 135 00f2 0895      		ret
 136               		.size	math_tanh, .-math_tanh
 137               		.type	math_sqrt, @function
 138               	math_sqrt:
 139 00f4 0F93      		push r16
 140 00f6 1F93      		push r17
 141               	/* prologue: function */
 142               	/* frame size = 0 */
 143 00f8 8C01      		movw r16,r24
 144 00fa 61E0      		ldi r22,lo8(1)
 145 00fc 70E0      		ldi r23,hi8(1)
 146 00fe 0E94 0000 		call luaL_checknumber
 147 0102 0E94 0000 		call __floatsisf
 148 0106 0E94 0000 		call sqrt
 149 010a 0E94 0000 		call __fixsfsi
 150 010e AB01      		movw r20,r22
 151 0110 BC01      		movw r22,r24
 152 0112 C801      		movw r24,r16
 153 0114 0E94 0000 		call lua_pushnumber
 154 0118 81E0      		ldi r24,lo8(1)
 155 011a 90E0      		ldi r25,hi8(1)
 156               	/* epilogue start */
 157 011c 1F91      		pop r17
 158 011e 0F91      		pop r16
 159 0120 0895      		ret
 160               		.size	math_sqrt, .-math_sqrt
 161               		.type	math_sin, @function
 162               	math_sin:
 163 0122 0F93      		push r16
 164 0124 1F93      		push r17
 165               	/* prologue: function */
 166               	/* frame size = 0 */
 167 0126 8C01      		movw r16,r24
 168 0128 61E0      		ldi r22,lo8(1)
 169 012a 70E0      		ldi r23,hi8(1)
 170 012c 0E94 0000 		call luaL_checknumber
 171 0130 0E94 0000 		call __floatsisf
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccSpViDu.s 			page 4


 172 0134 0E94 0000 		call sin
 173 0138 0E94 0000 		call __fixsfsi
 174 013c AB01      		movw r20,r22
 175 013e BC01      		movw r22,r24
 176 0140 C801      		movw r24,r16
 177 0142 0E94 0000 		call lua_pushnumber
 178 0146 81E0      		ldi r24,lo8(1)
 179 0148 90E0      		ldi r25,hi8(1)
 180               	/* epilogue start */
 181 014a 1F91      		pop r17
 182 014c 0F91      		pop r16
 183 014e 0895      		ret
 184               		.size	math_sin, .-math_sin
 185               		.type	math_sinh, @function
 186               	math_sinh:
 187 0150 0F93      		push r16
 188 0152 1F93      		push r17
 189               	/* prologue: function */
 190               	/* frame size = 0 */
 191 0154 8C01      		movw r16,r24
 192 0156 61E0      		ldi r22,lo8(1)
 193 0158 70E0      		ldi r23,hi8(1)
 194 015a 0E94 0000 		call luaL_checknumber
 195 015e 0E94 0000 		call __floatsisf
 196 0162 0E94 0000 		call sinh
 197 0166 0E94 0000 		call __fixsfsi
 198 016a AB01      		movw r20,r22
 199 016c BC01      		movw r22,r24
 200 016e C801      		movw r24,r16
 201 0170 0E94 0000 		call lua_pushnumber
 202 0174 81E0      		ldi r24,lo8(1)
 203 0176 90E0      		ldi r25,hi8(1)
 204               	/* epilogue start */
 205 0178 1F91      		pop r17
 206 017a 0F91      		pop r16
 207 017c 0895      		ret
 208               		.size	math_sinh, .-math_sinh
 209               		.type	math_randomseed, @function
 210               	math_randomseed:
 211               	/* prologue: function */
 212               	/* frame size = 0 */
 213 017e 61E0      		ldi r22,lo8(1)
 214 0180 70E0      		ldi r23,hi8(1)
 215 0182 0E94 0000 		call luaL_checkinteger
 216 0186 0E94 0000 		call srand
 217 018a 80E0      		ldi r24,lo8(0)
 218 018c 90E0      		ldi r25,hi8(0)
 219               	/* epilogue start */
 220 018e 0895      		ret
 221               		.size	math_randomseed, .-math_randomseed
 222               		.type	math_min, @function
 223               	math_min:
 224 0190 AF92      		push r10
 225 0192 BF92      		push r11
 226 0194 CF92      		push r12
 227 0196 DF92      		push r13
 228 0198 EF92      		push r14
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccSpViDu.s 			page 5


 229 019a FF92      		push r15
 230 019c 0F93      		push r16
 231 019e 1F93      		push r17
 232 01a0 CF93      		push r28
 233 01a2 DF93      		push r29
 234               	/* prologue: function */
 235               	/* frame size = 0 */
 236 01a4 6C01      		movw r12,r24
 237 01a6 0E94 0000 		call lua_gettop
 238 01aa 5C01      		movw r10,r24
 239 01ac C601      		movw r24,r12
 240 01ae 61E0      		ldi r22,lo8(1)
 241 01b0 70E0      		ldi r23,hi8(1)
 242 01b2 0E94 0000 		call luaL_checknumber
 243 01b6 7B01      		movw r14,r22
 244 01b8 8C01      		movw r16,r24
 245 01ba C2E0      		ldi r28,lo8(2)
 246 01bc D0E0      		ldi r29,hi8(2)
 247 01be 00C0      		rjmp .L20
 248               	.L22:
 249 01c0 C601      		movw r24,r12
 250 01c2 BE01      		movw r22,r28
 251 01c4 0E94 0000 		call luaL_checknumber
 252 01c8 6E15      		cp r22,r14
 253 01ca 7F05      		cpc r23,r15
 254 01cc 8007      		cpc r24,r16
 255 01ce 9107      		cpc r25,r17
 256 01d0 04F4      		brge .L21
 257 01d2 7B01      		movw r14,r22
 258 01d4 8C01      		movw r16,r24
 259               	.L21:
 260 01d6 2196      		adiw r28,1
 261               	.L20:
 262 01d8 AC16      		cp r10,r28
 263 01da BD06      		cpc r11,r29
 264 01dc 04F4      		brge .L22
 265 01de C601      		movw r24,r12
 266 01e0 B801      		movw r22,r16
 267 01e2 A701      		movw r20,r14
 268 01e4 0E94 0000 		call lua_pushnumber
 269 01e8 81E0      		ldi r24,lo8(1)
 270 01ea 90E0      		ldi r25,hi8(1)
 271               	/* epilogue start */
 272 01ec DF91      		pop r29
 273 01ee CF91      		pop r28
 274 01f0 1F91      		pop r17
 275 01f2 0F91      		pop r16
 276 01f4 FF90      		pop r15
 277 01f6 EF90      		pop r14
 278 01f8 DF90      		pop r13
 279 01fa CF90      		pop r12
 280 01fc BF90      		pop r11
 281 01fe AF90      		pop r10
 282 0200 0895      		ret
 283               		.size	math_min, .-math_min
 284               		.type	math_max, @function
 285               	math_max:
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccSpViDu.s 			page 6


 286 0202 AF92      		push r10
 287 0204 BF92      		push r11
 288 0206 CF92      		push r12
 289 0208 DF92      		push r13
 290 020a EF92      		push r14
 291 020c FF92      		push r15
 292 020e 0F93      		push r16
 293 0210 1F93      		push r17
 294 0212 CF93      		push r28
 295 0214 DF93      		push r29
 296               	/* prologue: function */
 297               	/* frame size = 0 */
 298 0216 6C01      		movw r12,r24
 299 0218 0E94 0000 		call lua_gettop
 300 021c 5C01      		movw r10,r24
 301 021e C601      		movw r24,r12
 302 0220 61E0      		ldi r22,lo8(1)
 303 0222 70E0      		ldi r23,hi8(1)
 304 0224 0E94 0000 		call luaL_checknumber
 305 0228 7B01      		movw r14,r22
 306 022a 8C01      		movw r16,r24
 307 022c C2E0      		ldi r28,lo8(2)
 308 022e D0E0      		ldi r29,hi8(2)
 309 0230 00C0      		rjmp .L25
 310               	.L27:
 311 0232 C601      		movw r24,r12
 312 0234 BE01      		movw r22,r28
 313 0236 0E94 0000 		call luaL_checknumber
 314 023a E616      		cp r14,r22
 315 023c F706      		cpc r15,r23
 316 023e 0807      		cpc r16,r24
 317 0240 1907      		cpc r17,r25
 318 0242 04F4      		brge .L26
 319 0244 7B01      		movw r14,r22
 320 0246 8C01      		movw r16,r24
 321               	.L26:
 322 0248 2196      		adiw r28,1
 323               	.L25:
 324 024a AC16      		cp r10,r28
 325 024c BD06      		cpc r11,r29
 326 024e 04F4      		brge .L27
 327 0250 C601      		movw r24,r12
 328 0252 B801      		movw r22,r16
 329 0254 A701      		movw r20,r14
 330 0256 0E94 0000 		call lua_pushnumber
 331 025a 81E0      		ldi r24,lo8(1)
 332 025c 90E0      		ldi r25,hi8(1)
 333               	/* epilogue start */
 334 025e DF91      		pop r29
 335 0260 CF91      		pop r28
 336 0262 1F91      		pop r17
 337 0264 0F91      		pop r16
 338 0266 FF90      		pop r15
 339 0268 EF90      		pop r14
 340 026a DF90      		pop r13
 341 026c CF90      		pop r12
 342 026e BF90      		pop r11
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccSpViDu.s 			page 7


 343 0270 AF90      		pop r10
 344 0272 0895      		ret
 345               		.size	math_max, .-math_max
 346               		.type	math_floor, @function
 347               	math_floor:
 348 0274 0F93      		push r16
 349 0276 1F93      		push r17
 350               	/* prologue: function */
 351               	/* frame size = 0 */
 352 0278 8C01      		movw r16,r24
 353 027a 61E0      		ldi r22,lo8(1)
 354 027c 70E0      		ldi r23,hi8(1)
 355 027e 0E94 0000 		call luaL_checknumber
 356 0282 0E94 0000 		call __floatsisf
 357 0286 0E94 0000 		call floor
 358 028a 0E94 0000 		call __fixsfsi
 359 028e AB01      		movw r20,r22
 360 0290 BC01      		movw r22,r24
 361 0292 C801      		movw r24,r16
 362 0294 0E94 0000 		call lua_pushnumber
 363 0298 81E0      		ldi r24,lo8(1)
 364 029a 90E0      		ldi r25,hi8(1)
 365               	/* epilogue start */
 366 029c 1F91      		pop r17
 367 029e 0F91      		pop r16
 368 02a0 0895      		ret
 369               		.size	math_floor, .-math_floor
 370               		.data
 371               	.LC0:
 372 0000 696E 7465 		.string	"interval is empty"
 372      7276 616C 
 372      2069 7320 
 372      656D 7074 
 372      7900 
 373               	.LC1:
 374 0012 7772 6F6E 		.string	"wrong number of arguments"
 374      6720 6E75 
 374      6D62 6572 
 374      206F 6620 
 374      6172 6775 
 375               		.text
 376               		.type	math_random, @function
 377               	math_random:
 378 02a2 AF92      		push r10
 379 02a4 BF92      		push r11
 380 02a6 CF92      		push r12
 381 02a8 DF92      		push r13
 382 02aa EF92      		push r14
 383 02ac FF92      		push r15
 384 02ae 0F93      		push r16
 385 02b0 1F93      		push r17
 386 02b2 CF93      		push r28
 387 02b4 DF93      		push r29
 388               	/* prologue: function */
 389               	/* frame size = 0 */
 390 02b6 6C01      		movw r12,r24
 391 02b8 0E94 0000 		call rand
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccSpViDu.s 			page 8


 392 02bc 6FEF      		ldi r22,lo8(32767)
 393 02be 7FE7      		ldi r23,hi8(32767)
 394 02c0 0E94 0000 		call __divmodhi4
 395 02c4 6FEF      		ldi r22,lo8(32767)
 396 02c6 7FE7      		ldi r23,hi8(32767)
 397 02c8 0E94 0000 		call __divmodhi4
 398 02cc 7B01      		movw r14,r22
 399 02ce 0027      		clr r16
 400 02d0 F7FC      		sbrc r15,7
 401 02d2 0095      		com r16
 402 02d4 102F      		mov r17,r16
 403 02d6 C601      		movw r24,r12
 404 02d8 0E94 0000 		call lua_gettop
 405 02dc 8130      		cpi r24,1
 406 02de 9105      		cpc r25,__zero_reg__
 407 02e0 01F0      		breq .L34
 408 02e2 8230      		cpi r24,2
 409 02e4 9105      		cpc r25,__zero_reg__
 410 02e6 01F0      		breq .L35
 411 02e8 892B      		or r24,r25
 412 02ea 01F0      		breq .+2
 413 02ec 00C0      		rjmp .L40
 414 02ee C601      		movw r24,r12
 415 02f0 B801      		movw r22,r16
 416 02f2 A701      		movw r20,r14
 417 02f4 00C0      		rjmp .L41
 418               	.L34:
 419 02f6 C601      		movw r24,r12
 420 02f8 61E0      		ldi r22,lo8(1)
 421 02fa 70E0      		ldi r23,hi8(1)
 422 02fc 0E94 0000 		call luaL_checkinteger
 423 0300 EC01      		movw r28,r24
 424 0302 1816      		cp __zero_reg__,r24
 425 0304 1906      		cpc __zero_reg__,r25
 426 0306 04F0      		brlt .L37
 427 0308 C601      		movw r24,r12
 428 030a 61E0      		ldi r22,lo8(1)
 429 030c 70E0      		ldi r23,hi8(1)
 430 030e 40E0      		ldi r20,lo8(.LC0)
 431 0310 50E0      		ldi r21,hi8(.LC0)
 432 0312 0E94 0000 		call luaL_argerror
 433               	.L37:
 434 0316 BE01      		movw r22,r28
 435 0318 8827      		clr r24
 436 031a 77FD      		sbrc r23,7
 437 031c 8095      		com r24
 438 031e 982F      		mov r25,r24
 439 0320 A801      		movw r20,r16
 440 0322 9701      		movw r18,r14
 441 0324 0E94 0000 		call __mulsi3
 442 0328 0E94 0000 		call __floatsisf
 443 032c 0E94 0000 		call floor
 444 0330 20E0      		ldi r18,lo8(0x3f800000)
 445 0332 30E0      		ldi r19,hi8(0x3f800000)
 446 0334 40E8      		ldi r20,hlo8(0x3f800000)
 447 0336 5FE3      		ldi r21,hhi8(0x3f800000)
 448               	.L42:
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccSpViDu.s 			page 9


 449 0338 0E94 0000 		call __addsf3
 450 033c 0E94 0000 		call __fixsfsi
 451 0340 AB01      		movw r20,r22
 452 0342 BC01      		movw r22,r24
 453 0344 C601      		movw r24,r12
 454               	.L41:
 455 0346 0E94 0000 		call lua_pushnumber
 456 034a 21E0      		ldi r18,lo8(1)
 457 034c 30E0      		ldi r19,hi8(1)
 458 034e 00C0      		rjmp .L36
 459               	.L35:
 460 0350 C601      		movw r24,r12
 461 0352 61E0      		ldi r22,lo8(1)
 462 0354 70E0      		ldi r23,hi8(1)
 463 0356 0E94 0000 		call luaL_checkinteger
 464 035a 5C01      		movw r10,r24
 465 035c C601      		movw r24,r12
 466 035e 62E0      		ldi r22,lo8(2)
 467 0360 70E0      		ldi r23,hi8(2)
 468 0362 0E94 0000 		call luaL_checkinteger
 469 0366 EC01      		movw r28,r24
 470 0368 8A15      		cp r24,r10
 471 036a 9B05      		cpc r25,r11
 472 036c 04F4      		brge .L38
 473 036e C601      		movw r24,r12
 474 0370 62E0      		ldi r22,lo8(2)
 475 0372 70E0      		ldi r23,hi8(2)
 476 0374 40E0      		ldi r20,lo8(.LC0)
 477 0376 50E0      		ldi r21,hi8(.LC0)
 478 0378 0E94 0000 		call luaL_argerror
 479               	.L38:
 480 037c 2196      		adiw r28,1
 481 037e CA19      		sub r28,r10
 482 0380 DB09      		sbc r29,r11
 483 0382 BE01      		movw r22,r28
 484 0384 8827      		clr r24
 485 0386 77FD      		sbrc r23,7
 486 0388 8095      		com r24
 487 038a 982F      		mov r25,r24
 488 038c A801      		movw r20,r16
 489 038e 9701      		movw r18,r14
 490 0390 0E94 0000 		call __mulsi3
 491 0394 0E94 0000 		call __floatsisf
 492 0398 0E94 0000 		call floor
 493 039c 7B01      		movw r14,r22
 494 039e 8C01      		movw r16,r24
 495 03a0 B501      		movw r22,r10
 496 03a2 8827      		clr r24
 497 03a4 77FD      		sbrc r23,7
 498 03a6 8095      		com r24
 499 03a8 982F      		mov r25,r24
 500 03aa 0E94 0000 		call __floatsisf
 501 03ae 9B01      		movw r18,r22
 502 03b0 AC01      		movw r20,r24
 503 03b2 C801      		movw r24,r16
 504 03b4 B701      		movw r22,r14
 505 03b6 00C0      		rjmp .L42
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccSpViDu.s 			page 10


 506               	.L40:
 507 03b8 00D0      		rcall .
 508 03ba 00D0      		rcall .
 509 03bc EDB7      		in r30,__SP_L__
 510 03be FEB7      		in r31,__SP_H__
 511 03c0 D282      		std Z+2,r13
 512 03c2 C182      		std Z+1,r12
 513 03c4 80E0      		ldi r24,lo8(.LC1)
 514 03c6 90E0      		ldi r25,hi8(.LC1)
 515 03c8 9483      		std Z+4,r25
 516 03ca 8383      		std Z+3,r24
 517 03cc 0E94 0000 		call luaL_error
 518 03d0 9C01      		movw r18,r24
 519 03d2 0F90      		pop __tmp_reg__
 520 03d4 0F90      		pop __tmp_reg__
 521 03d6 0F90      		pop __tmp_reg__
 522 03d8 0F90      		pop __tmp_reg__
 523               	.L36:
 524 03da C901      		movw r24,r18
 525               	/* epilogue start */
 526 03dc DF91      		pop r29
 527 03de CF91      		pop r28
 528 03e0 1F91      		pop r17
 529 03e2 0F91      		pop r16
 530 03e4 FF90      		pop r15
 531 03e6 EF90      		pop r14
 532 03e8 DF90      		pop r13
 533 03ea CF90      		pop r12
 534 03ec BF90      		pop r11
 535 03ee AF90      		pop r10
 536 03f0 0895      		ret
 537               		.size	math_random, .-math_random
 538               		.type	math_pow, @function
 539               	math_pow:
 540 03f2 8F92      		push r8
 541 03f4 9F92      		push r9
 542 03f6 AF92      		push r10
 543 03f8 BF92      		push r11
 544 03fa CF92      		push r12
 545 03fc DF92      		push r13
 546 03fe EF92      		push r14
 547 0400 FF92      		push r15
 548 0402 0F93      		push r16
 549 0404 1F93      		push r17
 550               	/* prologue: function */
 551               	/* frame size = 0 */
 552 0406 4C01      		movw r8,r24
 553 0408 61E0      		ldi r22,lo8(1)
 554 040a 70E0      		ldi r23,hi8(1)
 555 040c 0E94 0000 		call luaL_checknumber
 556 0410 5B01      		movw r10,r22
 557 0412 6C01      		movw r12,r24
 558 0414 C401      		movw r24,r8
 559 0416 62E0      		ldi r22,lo8(2)
 560 0418 70E0      		ldi r23,hi8(2)
 561 041a 0E94 0000 		call luaL_checknumber
 562 041e 7B01      		movw r14,r22
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccSpViDu.s 			page 11


 563 0420 8C01      		movw r16,r24
 564 0422 C601      		movw r24,r12
 565 0424 B501      		movw r22,r10
 566 0426 0E94 0000 		call __floatsisf
 567 042a 5B01      		movw r10,r22
 568 042c 6C01      		movw r12,r24
 569 042e C801      		movw r24,r16
 570 0430 B701      		movw r22,r14
 571 0432 0E94 0000 		call __floatsisf
 572 0436 9B01      		movw r18,r22
 573 0438 AC01      		movw r20,r24
 574 043a C601      		movw r24,r12
 575 043c B501      		movw r22,r10
 576 043e 0E94 0000 		call pow
 577 0442 9B01      		movw r18,r22
 578 0444 AC01      		movw r20,r24
 579 0446 CA01      		movw r24,r20
 580 0448 B901      		movw r22,r18
 581 044a 0E94 0000 		call __fixsfsi
 582 044e AB01      		movw r20,r22
 583 0450 BC01      		movw r22,r24
 584 0452 C401      		movw r24,r8
 585 0454 0E94 0000 		call lua_pushnumber
 586 0458 81E0      		ldi r24,lo8(1)
 587 045a 90E0      		ldi r25,hi8(1)
 588               	/* epilogue start */
 589 045c 1F91      		pop r17
 590 045e 0F91      		pop r16
 591 0460 FF90      		pop r15
 592 0462 EF90      		pop r14
 593 0464 DF90      		pop r13
 594 0466 CF90      		pop r12
 595 0468 BF90      		pop r11
 596 046a AF90      		pop r10
 597 046c 9F90      		pop r9
 598 046e 8F90      		pop r8
 599 0470 0895      		ret
 600               		.size	math_pow, .-math_pow
 601               		.type	math_modf, @function
 602               	math_modf:
 603 0472 CF92      		push r12
 604 0474 DF92      		push r13
 605 0476 EF92      		push r14
 606 0478 FF92      		push r15
 607 047a 0F93      		push r16
 608 047c 1F93      		push r17
 609 047e DF93      		push r29
 610 0480 CF93      		push r28
 611 0482 00D0      		rcall .
 612 0484 00D0      		rcall .
 613 0486 CDB7      		in r28,__SP_L__
 614 0488 DEB7      		in r29,__SP_H__
 615               	/* prologue: function */
 616               	/* frame size = 4 */
 617 048a 6C01      		movw r12,r24
 618 048c 61E0      		ldi r22,lo8(1)
 619 048e 70E0      		ldi r23,hi8(1)
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccSpViDu.s 			page 12


 620 0490 0E94 0000 		call luaL_checknumber
 621 0494 0E94 0000 		call __floatsisf
 622 0498 AE01      		movw r20,r28
 623 049a 4F5F      		subi r20,lo8(-(1))
 624 049c 5F4F      		sbci r21,hi8(-(1))
 625 049e 0E94 0000 		call modf
 626 04a2 7B01      		movw r14,r22
 627 04a4 8C01      		movw r16,r24
 628 04a6 6981      		ldd r22,Y+1
 629 04a8 7A81      		ldd r23,Y+2
 630 04aa 8B81      		ldd r24,Y+3
 631 04ac 9C81      		ldd r25,Y+4
 632 04ae 0E94 0000 		call __fixsfsi
 633 04b2 AB01      		movw r20,r22
 634 04b4 BC01      		movw r22,r24
 635 04b6 C601      		movw r24,r12
 636 04b8 0E94 0000 		call lua_pushnumber
 637 04bc C801      		movw r24,r16
 638 04be B701      		movw r22,r14
 639 04c0 0E94 0000 		call __fixsfsi
 640 04c4 AB01      		movw r20,r22
 641 04c6 BC01      		movw r22,r24
 642 04c8 C601      		movw r24,r12
 643 04ca 0E94 0000 		call lua_pushnumber
 644 04ce 82E0      		ldi r24,lo8(2)
 645 04d0 90E0      		ldi r25,hi8(2)
 646               	/* epilogue start */
 647 04d2 0F90      		pop __tmp_reg__
 648 04d4 0F90      		pop __tmp_reg__
 649 04d6 0F90      		pop __tmp_reg__
 650 04d8 0F90      		pop __tmp_reg__
 651 04da CF91      		pop r28
 652 04dc DF91      		pop r29
 653 04de 1F91      		pop r17
 654 04e0 0F91      		pop r16
 655 04e2 FF90      		pop r15
 656 04e4 EF90      		pop r14
 657 04e6 DF90      		pop r13
 658 04e8 CF90      		pop r12
 659 04ea 0895      		ret
 660               		.size	math_modf, .-math_modf
 661               		.type	math_log, @function
 662               	math_log:
 663 04ec 0F93      		push r16
 664 04ee 1F93      		push r17
 665               	/* prologue: function */
 666               	/* frame size = 0 */
 667 04f0 8C01      		movw r16,r24
 668 04f2 61E0      		ldi r22,lo8(1)
 669 04f4 70E0      		ldi r23,hi8(1)
 670 04f6 0E94 0000 		call luaL_checknumber
 671 04fa 0E94 0000 		call __floatsisf
 672 04fe 0E94 0000 		call log
 673 0502 0E94 0000 		call __fixsfsi
 674 0506 AB01      		movw r20,r22
 675 0508 BC01      		movw r22,r24
 676 050a C801      		movw r24,r16
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccSpViDu.s 			page 13


 677 050c 0E94 0000 		call lua_pushnumber
 678 0510 81E0      		ldi r24,lo8(1)
 679 0512 90E0      		ldi r25,hi8(1)
 680               	/* epilogue start */
 681 0514 1F91      		pop r17
 682 0516 0F91      		pop r16
 683 0518 0895      		ret
 684               		.size	math_log, .-math_log
 685               		.type	math_log10, @function
 686               	math_log10:
 687 051a 0F93      		push r16
 688 051c 1F93      		push r17
 689               	/* prologue: function */
 690               	/* frame size = 0 */
 691 051e 8C01      		movw r16,r24
 692 0520 61E0      		ldi r22,lo8(1)
 693 0522 70E0      		ldi r23,hi8(1)
 694 0524 0E94 0000 		call luaL_checknumber
 695 0528 0E94 0000 		call __floatsisf
 696 052c 0E94 0000 		call log10
 697 0530 0E94 0000 		call __fixsfsi
 698 0534 AB01      		movw r20,r22
 699 0536 BC01      		movw r22,r24
 700 0538 C801      		movw r24,r16
 701 053a 0E94 0000 		call lua_pushnumber
 702 053e 81E0      		ldi r24,lo8(1)
 703 0540 90E0      		ldi r25,hi8(1)
 704               	/* epilogue start */
 705 0542 1F91      		pop r17
 706 0544 0F91      		pop r16
 707 0546 0895      		ret
 708               		.size	math_log10, .-math_log10
 709               		.type	math_ldexp, @function
 710               	math_ldexp:
 711 0548 AF92      		push r10
 712 054a BF92      		push r11
 713 054c CF92      		push r12
 714 054e DF92      		push r13
 715 0550 EF92      		push r14
 716 0552 FF92      		push r15
 717 0554 0F93      		push r16
 718 0556 1F93      		push r17
 719               	/* prologue: function */
 720               	/* frame size = 0 */
 721 0558 6C01      		movw r12,r24
 722 055a 61E0      		ldi r22,lo8(1)
 723 055c 70E0      		ldi r23,hi8(1)
 724 055e 0E94 0000 		call luaL_checknumber
 725 0562 7B01      		movw r14,r22
 726 0564 8C01      		movw r16,r24
 727 0566 C601      		movw r24,r12
 728 0568 62E0      		ldi r22,lo8(2)
 729 056a 70E0      		ldi r23,hi8(2)
 730 056c 0E94 0000 		call luaL_checkinteger
 731 0570 5C01      		movw r10,r24
 732 0572 C801      		movw r24,r16
 733 0574 B701      		movw r22,r14
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccSpViDu.s 			page 14


 734 0576 0E94 0000 		call __floatsisf
 735 057a A501      		movw r20,r10
 736 057c 0E94 0000 		call ldexp
 737 0580 0E94 0000 		call __fixsfsi
 738 0584 AB01      		movw r20,r22
 739 0586 BC01      		movw r22,r24
 740 0588 C601      		movw r24,r12
 741 058a 0E94 0000 		call lua_pushnumber
 742 058e 81E0      		ldi r24,lo8(1)
 743 0590 90E0      		ldi r25,hi8(1)
 744               	/* epilogue start */
 745 0592 1F91      		pop r17
 746 0594 0F91      		pop r16
 747 0596 FF90      		pop r15
 748 0598 EF90      		pop r14
 749 059a DF90      		pop r13
 750 059c CF90      		pop r12
 751 059e BF90      		pop r11
 752 05a0 AF90      		pop r10
 753 05a2 0895      		ret
 754               		.size	math_ldexp, .-math_ldexp
 755               		.type	math_frexp, @function
 756               	math_frexp:
 757 05a4 0F93      		push r16
 758 05a6 1F93      		push r17
 759 05a8 DF93      		push r29
 760 05aa CF93      		push r28
 761 05ac 00D0      		rcall .
 762 05ae CDB7      		in r28,__SP_L__
 763 05b0 DEB7      		in r29,__SP_H__
 764               	/* prologue: function */
 765               	/* frame size = 2 */
 766 05b2 8C01      		movw r16,r24
 767 05b4 61E0      		ldi r22,lo8(1)
 768 05b6 70E0      		ldi r23,hi8(1)
 769 05b8 0E94 0000 		call luaL_checknumber
 770 05bc 0E94 0000 		call __floatsisf
 771 05c0 AE01      		movw r20,r28
 772 05c2 4F5F      		subi r20,lo8(-(1))
 773 05c4 5F4F      		sbci r21,hi8(-(1))
 774 05c6 0E94 0000 		call frexp
 775 05ca 0E94 0000 		call __fixsfsi
 776 05ce AB01      		movw r20,r22
 777 05d0 BC01      		movw r22,r24
 778 05d2 C801      		movw r24,r16
 779 05d4 0E94 0000 		call lua_pushnumber
 780 05d8 6981      		ldd r22,Y+1
 781 05da 7A81      		ldd r23,Y+2
 782 05dc C801      		movw r24,r16
 783 05de 0E94 0000 		call lua_pushinteger
 784 05e2 82E0      		ldi r24,lo8(2)
 785 05e4 90E0      		ldi r25,hi8(2)
 786               	/* epilogue start */
 787 05e6 0F90      		pop __tmp_reg__
 788 05e8 0F90      		pop __tmp_reg__
 789 05ea CF91      		pop r28
 790 05ec DF91      		pop r29
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccSpViDu.s 			page 15


 791 05ee 1F91      		pop r17
 792 05f0 0F91      		pop r16
 793 05f2 0895      		ret
 794               		.size	math_frexp, .-math_frexp
 795               		.type	math_fmod, @function
 796               	math_fmod:
 797 05f4 8F92      		push r8
 798 05f6 9F92      		push r9
 799 05f8 AF92      		push r10
 800 05fa BF92      		push r11
 801 05fc CF92      		push r12
 802 05fe DF92      		push r13
 803 0600 EF92      		push r14
 804 0602 FF92      		push r15
 805 0604 0F93      		push r16
 806 0606 1F93      		push r17
 807               	/* prologue: function */
 808               	/* frame size = 0 */
 809 0608 4C01      		movw r8,r24
 810 060a 61E0      		ldi r22,lo8(1)
 811 060c 70E0      		ldi r23,hi8(1)
 812 060e 0E94 0000 		call luaL_checknumber
 813 0612 5B01      		movw r10,r22
 814 0614 6C01      		movw r12,r24
 815 0616 C401      		movw r24,r8
 816 0618 62E0      		ldi r22,lo8(2)
 817 061a 70E0      		ldi r23,hi8(2)
 818 061c 0E94 0000 		call luaL_checknumber
 819 0620 7B01      		movw r14,r22
 820 0622 8C01      		movw r16,r24
 821 0624 C601      		movw r24,r12
 822 0626 B501      		movw r22,r10
 823 0628 0E94 0000 		call __floatsisf
 824 062c 5B01      		movw r10,r22
 825 062e 6C01      		movw r12,r24
 826 0630 C801      		movw r24,r16
 827 0632 B701      		movw r22,r14
 828 0634 0E94 0000 		call __floatsisf
 829 0638 9B01      		movw r18,r22
 830 063a AC01      		movw r20,r24
 831 063c C601      		movw r24,r12
 832 063e B501      		movw r22,r10
 833 0640 0E94 0000 		call fmod
 834 0644 9B01      		movw r18,r22
 835 0646 AC01      		movw r20,r24
 836 0648 CA01      		movw r24,r20
 837 064a B901      		movw r22,r18
 838 064c 0E94 0000 		call __fixsfsi
 839 0650 AB01      		movw r20,r22
 840 0652 BC01      		movw r22,r24
 841 0654 C401      		movw r24,r8
 842 0656 0E94 0000 		call lua_pushnumber
 843 065a 81E0      		ldi r24,lo8(1)
 844 065c 90E0      		ldi r25,hi8(1)
 845               	/* epilogue start */
 846 065e 1F91      		pop r17
 847 0660 0F91      		pop r16
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccSpViDu.s 			page 16


 848 0662 FF90      		pop r15
 849 0664 EF90      		pop r14
 850 0666 DF90      		pop r13
 851 0668 CF90      		pop r12
 852 066a BF90      		pop r11
 853 066c AF90      		pop r10
 854 066e 9F90      		pop r9
 855 0670 8F90      		pop r8
 856 0672 0895      		ret
 857               		.size	math_fmod, .-math_fmod
 858               		.type	math_exp, @function
 859               	math_exp:
 860 0674 0F93      		push r16
 861 0676 1F93      		push r17
 862               	/* prologue: function */
 863               	/* frame size = 0 */
 864 0678 8C01      		movw r16,r24
 865 067a 61E0      		ldi r22,lo8(1)
 866 067c 70E0      		ldi r23,hi8(1)
 867 067e 0E94 0000 		call luaL_checknumber
 868 0682 0E94 0000 		call __floatsisf
 869 0686 0E94 0000 		call exp
 870 068a 0E94 0000 		call __fixsfsi
 871 068e AB01      		movw r20,r22
 872 0690 BC01      		movw r22,r24
 873 0692 C801      		movw r24,r16
 874 0694 0E94 0000 		call lua_pushnumber
 875 0698 81E0      		ldi r24,lo8(1)
 876 069a 90E0      		ldi r25,hi8(1)
 877               	/* epilogue start */
 878 069c 1F91      		pop r17
 879 069e 0F91      		pop r16
 880 06a0 0895      		ret
 881               		.size	math_exp, .-math_exp
 882               		.type	math_cos, @function
 883               	math_cos:
 884 06a2 0F93      		push r16
 885 06a4 1F93      		push r17
 886               	/* prologue: function */
 887               	/* frame size = 0 */
 888 06a6 8C01      		movw r16,r24
 889 06a8 61E0      		ldi r22,lo8(1)
 890 06aa 70E0      		ldi r23,hi8(1)
 891 06ac 0E94 0000 		call luaL_checknumber
 892 06b0 0E94 0000 		call __floatsisf
 893 06b4 0E94 0000 		call cos
 894 06b8 0E94 0000 		call __fixsfsi
 895 06bc AB01      		movw r20,r22
 896 06be BC01      		movw r22,r24
 897 06c0 C801      		movw r24,r16
 898 06c2 0E94 0000 		call lua_pushnumber
 899 06c6 81E0      		ldi r24,lo8(1)
 900 06c8 90E0      		ldi r25,hi8(1)
 901               	/* epilogue start */
 902 06ca 1F91      		pop r17
 903 06cc 0F91      		pop r16
 904 06ce 0895      		ret
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccSpViDu.s 			page 17


 905               		.size	math_cos, .-math_cos
 906               		.type	math_cosh, @function
 907               	math_cosh:
 908 06d0 0F93      		push r16
 909 06d2 1F93      		push r17
 910               	/* prologue: function */
 911               	/* frame size = 0 */
 912 06d4 8C01      		movw r16,r24
 913 06d6 61E0      		ldi r22,lo8(1)
 914 06d8 70E0      		ldi r23,hi8(1)
 915 06da 0E94 0000 		call luaL_checknumber
 916 06de 0E94 0000 		call __floatsisf
 917 06e2 0E94 0000 		call cosh
 918 06e6 0E94 0000 		call __fixsfsi
 919 06ea AB01      		movw r20,r22
 920 06ec BC01      		movw r22,r24
 921 06ee C801      		movw r24,r16
 922 06f0 0E94 0000 		call lua_pushnumber
 923 06f4 81E0      		ldi r24,lo8(1)
 924 06f6 90E0      		ldi r25,hi8(1)
 925               	/* epilogue start */
 926 06f8 1F91      		pop r17
 927 06fa 0F91      		pop r16
 928 06fc 0895      		ret
 929               		.size	math_cosh, .-math_cosh
 930               		.type	math_ceil, @function
 931               	math_ceil:
 932 06fe 0F93      		push r16
 933 0700 1F93      		push r17
 934               	/* prologue: function */
 935               	/* frame size = 0 */
 936 0702 8C01      		movw r16,r24
 937 0704 61E0      		ldi r22,lo8(1)
 938 0706 70E0      		ldi r23,hi8(1)
 939 0708 0E94 0000 		call luaL_checknumber
 940 070c 0E94 0000 		call __floatsisf
 941 0710 0E94 0000 		call ceil
 942 0714 0E94 0000 		call __fixsfsi
 943 0718 AB01      		movw r20,r22
 944 071a BC01      		movw r22,r24
 945 071c C801      		movw r24,r16
 946 071e 0E94 0000 		call lua_pushnumber
 947 0722 81E0      		ldi r24,lo8(1)
 948 0724 90E0      		ldi r25,hi8(1)
 949               	/* epilogue start */
 950 0726 1F91      		pop r17
 951 0728 0F91      		pop r16
 952 072a 0895      		ret
 953               		.size	math_ceil, .-math_ceil
 954               		.type	math_atan, @function
 955               	math_atan:
 956 072c 0F93      		push r16
 957 072e 1F93      		push r17
 958               	/* prologue: function */
 959               	/* frame size = 0 */
 960 0730 8C01      		movw r16,r24
 961 0732 61E0      		ldi r22,lo8(1)
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccSpViDu.s 			page 18


 962 0734 70E0      		ldi r23,hi8(1)
 963 0736 0E94 0000 		call luaL_checknumber
 964 073a 0E94 0000 		call __floatsisf
 965 073e 0E94 0000 		call atan
 966 0742 0E94 0000 		call __fixsfsi
 967 0746 AB01      		movw r20,r22
 968 0748 BC01      		movw r22,r24
 969 074a C801      		movw r24,r16
 970 074c 0E94 0000 		call lua_pushnumber
 971 0750 81E0      		ldi r24,lo8(1)
 972 0752 90E0      		ldi r25,hi8(1)
 973               	/* epilogue start */
 974 0754 1F91      		pop r17
 975 0756 0F91      		pop r16
 976 0758 0895      		ret
 977               		.size	math_atan, .-math_atan
 978               		.type	math_atan2, @function
 979               	math_atan2:
 980 075a 8F92      		push r8
 981 075c 9F92      		push r9
 982 075e AF92      		push r10
 983 0760 BF92      		push r11
 984 0762 CF92      		push r12
 985 0764 DF92      		push r13
 986 0766 EF92      		push r14
 987 0768 FF92      		push r15
 988 076a 0F93      		push r16
 989 076c 1F93      		push r17
 990               	/* prologue: function */
 991               	/* frame size = 0 */
 992 076e 4C01      		movw r8,r24
 993 0770 61E0      		ldi r22,lo8(1)
 994 0772 70E0      		ldi r23,hi8(1)
 995 0774 0E94 0000 		call luaL_checknumber
 996 0778 5B01      		movw r10,r22
 997 077a 6C01      		movw r12,r24
 998 077c C401      		movw r24,r8
 999 077e 62E0      		ldi r22,lo8(2)
 1000 0780 70E0      		ldi r23,hi8(2)
 1001 0782 0E94 0000 		call luaL_checknumber
 1002 0786 7B01      		movw r14,r22
 1003 0788 8C01      		movw r16,r24
 1004 078a C601      		movw r24,r12
 1005 078c B501      		movw r22,r10
 1006 078e 0E94 0000 		call __floatsisf
 1007 0792 5B01      		movw r10,r22
 1008 0794 6C01      		movw r12,r24
 1009 0796 C801      		movw r24,r16
 1010 0798 B701      		movw r22,r14
 1011 079a 0E94 0000 		call __floatsisf
 1012 079e 9B01      		movw r18,r22
 1013 07a0 AC01      		movw r20,r24
 1014 07a2 C601      		movw r24,r12
 1015 07a4 B501      		movw r22,r10
 1016 07a6 0E94 0000 		call atan2
 1017 07aa 0E94 0000 		call __fixsfsi
 1018 07ae AB01      		movw r20,r22
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccSpViDu.s 			page 19


 1019 07b0 BC01      		movw r22,r24
 1020 07b2 C401      		movw r24,r8
 1021 07b4 0E94 0000 		call lua_pushnumber
 1022 07b8 81E0      		ldi r24,lo8(1)
 1023 07ba 90E0      		ldi r25,hi8(1)
 1024               	/* epilogue start */
 1025 07bc 1F91      		pop r17
 1026 07be 0F91      		pop r16
 1027 07c0 FF90      		pop r15
 1028 07c2 EF90      		pop r14
 1029 07c4 DF90      		pop r13
 1030 07c6 CF90      		pop r12
 1031 07c8 BF90      		pop r11
 1032 07ca AF90      		pop r10
 1033 07cc 9F90      		pop r9
 1034 07ce 8F90      		pop r8
 1035 07d0 0895      		ret
 1036               		.size	math_atan2, .-math_atan2
 1037               		.type	math_asin, @function
 1038               	math_asin:
 1039 07d2 0F93      		push r16
 1040 07d4 1F93      		push r17
 1041               	/* prologue: function */
 1042               	/* frame size = 0 */
 1043 07d6 8C01      		movw r16,r24
 1044 07d8 61E0      		ldi r22,lo8(1)
 1045 07da 70E0      		ldi r23,hi8(1)
 1046 07dc 0E94 0000 		call luaL_checknumber
 1047 07e0 0E94 0000 		call __floatsisf
 1048 07e4 0E94 0000 		call asin
 1049 07e8 0E94 0000 		call __fixsfsi
 1050 07ec AB01      		movw r20,r22
 1051 07ee BC01      		movw r22,r24
 1052 07f0 C801      		movw r24,r16
 1053 07f2 0E94 0000 		call lua_pushnumber
 1054 07f6 81E0      		ldi r24,lo8(1)
 1055 07f8 90E0      		ldi r25,hi8(1)
 1056               	/* epilogue start */
 1057 07fa 1F91      		pop r17
 1058 07fc 0F91      		pop r16
 1059 07fe 0895      		ret
 1060               		.size	math_asin, .-math_asin
 1061               		.type	math_acos, @function
 1062               	math_acos:
 1063 0800 0F93      		push r16
 1064 0802 1F93      		push r17
 1065               	/* prologue: function */
 1066               	/* frame size = 0 */
 1067 0804 8C01      		movw r16,r24
 1068 0806 61E0      		ldi r22,lo8(1)
 1069 0808 70E0      		ldi r23,hi8(1)
 1070 080a 0E94 0000 		call luaL_checknumber
 1071 080e 0E94 0000 		call __floatsisf
 1072 0812 0E94 0000 		call acos
 1073 0816 0E94 0000 		call __fixsfsi
 1074 081a AB01      		movw r20,r22
 1075 081c BC01      		movw r22,r24
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccSpViDu.s 			page 20


 1076 081e C801      		movw r24,r16
 1077 0820 0E94 0000 		call lua_pushnumber
 1078 0824 81E0      		ldi r24,lo8(1)
 1079 0826 90E0      		ldi r25,hi8(1)
 1080               	/* epilogue start */
 1081 0828 1F91      		pop r17
 1082 082a 0F91      		pop r16
 1083 082c 0895      		ret
 1084               		.size	math_acos, .-math_acos
 1085               		.data
 1086               	.LC2:
 1087 002c 6D61 7468 		.string	"math"
 1087      00
 1088               	.LC3:
 1089 0031 7069 00   		.string	"pi"
 1090               	.LC4:
 1091 0034 6875 6765 		.string	"huge"
 1091      00
 1092               	.LC5:
 1093 0039 666D 6F64 		.string	"fmod"
 1093      00
 1094               	.LC6:
 1095 003e 6D6F 6400 		.string	"mod"
 1096               		.text
 1097               	.global	luaopen_math
 1098               		.type	luaopen_math, @function
 1099               	luaopen_math:
 1100 082e 0F93      		push r16
 1101 0830 1F93      		push r17
 1102               	/* prologue: function */
 1103               	/* frame size = 0 */
 1104 0832 8C01      		movw r16,r24
 1105 0834 60E0      		ldi r22,lo8(.LC2)
 1106 0836 70E0      		ldi r23,hi8(.LC2)
 1107 0838 40E0      		ldi r20,lo8(mathlib)
 1108 083a 50E0      		ldi r21,hi8(mathlib)
 1109 083c 0E94 0000 		call luaL_register
 1110 0840 C801      		movw r24,r16
 1111 0842 43E0      		ldi r20,lo8(3)
 1112 0844 50E0      		ldi r21,hi8(3)
 1113 0846 60E0      		ldi r22,hlo8(3)
 1114 0848 70E0      		ldi r23,hhi8(3)
 1115 084a 0E94 0000 		call lua_pushnumber
 1116 084e C801      		movw r24,r16
 1117 0850 6EEF      		ldi r22,lo8(-2)
 1118 0852 7FEF      		ldi r23,hi8(-2)
 1119 0854 40E0      		ldi r20,lo8(.LC3)
 1120 0856 50E0      		ldi r21,hi8(.LC3)
 1121 0858 0E94 0000 		call lua_setfield
 1122 085c C801      		movw r24,r16
 1123 085e 4FEF      		ldi r20,lo8(32767)
 1124 0860 5FE7      		ldi r21,hi8(32767)
 1125 0862 60E0      		ldi r22,hlo8(32767)
 1126 0864 70E0      		ldi r23,hhi8(32767)
 1127 0866 0E94 0000 		call lua_pushnumber
 1128 086a C801      		movw r24,r16
 1129 086c 6EEF      		ldi r22,lo8(-2)
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccSpViDu.s 			page 21


 1130 086e 7FEF      		ldi r23,hi8(-2)
 1131 0870 40E0      		ldi r20,lo8(.LC4)
 1132 0872 50E0      		ldi r21,hi8(.LC4)
 1133 0874 0E94 0000 		call lua_setfield
 1134 0878 C801      		movw r24,r16
 1135 087a 6FEF      		ldi r22,lo8(-1)
 1136 087c 7FEF      		ldi r23,hi8(-1)
 1137 087e 40E0      		ldi r20,lo8(.LC5)
 1138 0880 50E0      		ldi r21,hi8(.LC5)
 1139 0882 0E94 0000 		call lua_getfield
 1140 0886 C801      		movw r24,r16
 1141 0888 6EEF      		ldi r22,lo8(-2)
 1142 088a 7FEF      		ldi r23,hi8(-2)
 1143 088c 40E0      		ldi r20,lo8(.LC6)
 1144 088e 50E0      		ldi r21,hi8(.LC6)
 1145 0890 0E94 0000 		call lua_setfield
 1146 0894 81E0      		ldi r24,lo8(1)
 1147 0896 90E0      		ldi r25,hi8(1)
 1148               	/* epilogue start */
 1149 0898 1F91      		pop r17
 1150 089a 0F91      		pop r16
 1151 089c 0895      		ret
 1152               		.size	luaopen_math, .-luaopen_math
 1153               	.global	mathlib
 1154               		.data
 1155               	.LC7:
 1156 0042 6162 7300 		.string	"abs"
 1157               	.LC8:
 1158 0046 6163 6F73 		.string	"acos"
 1158      00
 1159               	.LC9:
 1160 004b 6173 696E 		.string	"asin"
 1160      00
 1161               	.LC10:
 1162 0050 6174 616E 		.string	"atan2"
 1162      3200 
 1163               	.LC11:
 1164 0056 6174 616E 		.string	"atan"
 1164      00
 1165               	.LC12:
 1166 005b 6365 696C 		.string	"ceil"
 1166      00
 1167               	.LC13:
 1168 0060 636F 7368 		.string	"cosh"
 1168      00
 1169               	.LC14:
 1170 0065 636F 7300 		.string	"cos"
 1171               	.LC15:
 1172 0069 6465 6700 		.string	"deg"
 1173               	.LC16:
 1174 006d 6578 7000 		.string	"exp"
 1175               	.LC17:
 1176 0071 666C 6F6F 		.string	"floor"
 1176      7200 
 1177               	.LC18:
 1178 0077 6672 6578 		.string	"frexp"
 1178      7000 
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccSpViDu.s 			page 22


 1179               	.LC19:
 1180 007d 6C64 6578 		.string	"ldexp"
 1180      7000 
 1181               	.LC20:
 1182 0083 6C6F 6731 		.string	"log10"
 1182      3000 
 1183               	.LC21:
 1184 0089 6C6F 6700 		.string	"log"
 1185               	.LC22:
 1186 008d 6D61 7800 		.string	"max"
 1187               	.LC23:
 1188 0091 6D69 6E00 		.string	"min"
 1189               	.LC24:
 1190 0095 6D6F 6466 		.string	"modf"
 1190      00
 1191               	.LC25:
 1192 009a 706F 7700 		.string	"pow"
 1193               	.LC26:
 1194 009e 7261 6400 		.string	"rad"
 1195               	.LC27:
 1196 00a2 7261 6E64 		.string	"random"
 1196      6F6D 00
 1197               	.LC28:
 1198 00a9 7261 6E64 		.string	"randomseed"
 1198      6F6D 7365 
 1198      6564 00
 1199               	.LC29:
 1200 00b4 7369 6E68 		.string	"sinh"
 1200      00
 1201               	.LC30:
 1202 00b9 7369 6E00 		.string	"sin"
 1203               	.LC31:
 1204 00bd 7371 7274 		.string	"sqrt"
 1204      00
 1205               	.LC32:
 1206 00c2 7461 6E68 		.string	"tanh"
 1206      00
 1207               	.LC33:
 1208 00c7 7461 6E00 		.string	"tan"
 1209               		.type	mathlib, @object
 1210               		.size	mathlib, 116
 1211               	mathlib:
 1212 00cb 0000      		.word	.LC7
 1213 00cd 0000      		.word	gs(math_abs)
 1214 00cf 0000      		.word	.LC8
 1215 00d1 0000      		.word	gs(math_acos)
 1216 00d3 0000      		.word	.LC9
 1217 00d5 0000      		.word	gs(math_asin)
 1218 00d7 0000      		.word	.LC10
 1219 00d9 0000      		.word	gs(math_atan2)
 1220 00db 0000      		.word	.LC11
 1221 00dd 0000      		.word	gs(math_atan)
 1222 00df 0000      		.word	.LC12
 1223 00e1 0000      		.word	gs(math_ceil)
 1224 00e3 0000      		.word	.LC13
 1225 00e5 0000      		.word	gs(math_cosh)
 1226 00e7 0000      		.word	.LC14
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccSpViDu.s 			page 23


 1227 00e9 0000      		.word	gs(math_cos)
 1228 00eb 0000      		.word	.LC15
 1229 00ed 0000      		.word	gs(math_deg)
 1230 00ef 0000      		.word	.LC16
 1231 00f1 0000      		.word	gs(math_exp)
 1232 00f3 0000      		.word	.LC17
 1233 00f5 0000      		.word	gs(math_floor)
 1234 00f7 0000      		.word	.LC5
 1235 00f9 0000      		.word	gs(math_fmod)
 1236 00fb 0000      		.word	.LC18
 1237 00fd 0000      		.word	gs(math_frexp)
 1238 00ff 0000      		.word	.LC19
 1239 0101 0000      		.word	gs(math_ldexp)
 1240 0103 0000      		.word	.LC20
 1241 0105 0000      		.word	gs(math_log10)
 1242 0107 0000      		.word	.LC21
 1243 0109 0000      		.word	gs(math_log)
 1244 010b 0000      		.word	.LC22
 1245 010d 0000      		.word	gs(math_max)
 1246 010f 0000      		.word	.LC23
 1247 0111 0000      		.word	gs(math_min)
 1248 0113 0000      		.word	.LC24
 1249 0115 0000      		.word	gs(math_modf)
 1250 0117 0000      		.word	.LC25
 1251 0119 0000      		.word	gs(math_pow)
 1252 011b 0000      		.word	.LC26
 1253 011d 0000      		.word	gs(math_rad)
 1254 011f 0000      		.word	.LC27
 1255 0121 0000      		.word	gs(math_random)
 1256 0123 0000      		.word	.LC28
 1257 0125 0000      		.word	gs(math_randomseed)
 1258 0127 0000      		.word	.LC29
 1259 0129 0000      		.word	gs(math_sinh)
 1260 012b 0000      		.word	.LC30
 1261 012d 0000      		.word	gs(math_sin)
 1262 012f 0000      		.word	.LC31
 1263 0131 0000      		.word	gs(math_sqrt)
 1264 0133 0000      		.word	.LC32
 1265 0135 0000      		.word	gs(math_tanh)
 1266 0137 0000      		.word	.LC33
 1267 0139 0000      		.word	gs(math_tan)
 1268 013b 0000      		.word	0
 1269 013d 0000      		.word	0
 1270               	.global	mathlib_vals
 1271               		.type	mathlib_vals, @object
 1272               		.size	mathlib_vals, 18
 1273               	mathlib_vals:
 1274 013f 0000      		.word	.LC3
 1275 0141 03        		.byte	3
 1276 0142 00        		.byte	0
 1277 0143 00        		.byte	0
 1278 0144 00        		.byte	0
 1279 0145 0000      		.word	.LC4
 1280 0147 FF        		.byte	-1
 1281 0148 7F        		.byte	127
 1282 0149 00        		.byte	0
 1283 014a 00        		.byte	0
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccSpViDu.s 			page 24


 1284 014b 0000      		.word	0
 1285 014d 00        		.byte	0
 1286 014e 00        		.byte	0
 1287 014f 00        		.byte	0
 1288 0150 00        		.byte	0
 1289               	.global __do_copy_data
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccSpViDu.s 			page 25


DEFINED SYMBOLS
                            *ABS*:00000000 lmathlib.c
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccSpViDu.s:2      *ABS*:0000003f __SREG__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccSpViDu.s:3      *ABS*:0000003e __SP_H__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccSpViDu.s:4      *ABS*:0000003d __SP_L__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccSpViDu.s:5      *ABS*:00000034 __CCP__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccSpViDu.s:6      *ABS*:00000000 __tmp_reg__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccSpViDu.s:7      *ABS*:00000001 __zero_reg__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccSpViDu.s:10     .text:00000000 math_tan
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccSpViDu.s:34     .text:0000002e math_rad
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccSpViDu.s:62     .text:00000064 math_deg
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccSpViDu.s:90     .text:0000009a math_abs
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccSpViDu.s:114    .text:000000c6 math_tanh
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccSpViDu.s:138    .text:000000f4 math_sqrt
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccSpViDu.s:162    .text:00000122 math_sin
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccSpViDu.s:186    .text:00000150 math_sinh
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccSpViDu.s:210    .text:0000017e math_randomseed
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccSpViDu.s:223    .text:00000190 math_min
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccSpViDu.s:285    .text:00000202 math_max
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccSpViDu.s:347    .text:00000274 math_floor
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccSpViDu.s:377    .text:000002a2 math_random
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccSpViDu.s:539    .text:000003f2 math_pow
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccSpViDu.s:602    .text:00000472 math_modf
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccSpViDu.s:662    .text:000004ec math_log
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccSpViDu.s:686    .text:0000051a math_log10
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccSpViDu.s:710    .text:00000548 math_ldexp
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccSpViDu.s:756    .text:000005a4 math_frexp
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccSpViDu.s:796    .text:000005f4 math_fmod
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccSpViDu.s:859    .text:00000674 math_exp
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccSpViDu.s:883    .text:000006a2 math_cos
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccSpViDu.s:907    .text:000006d0 math_cosh
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccSpViDu.s:931    .text:000006fe math_ceil
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccSpViDu.s:955    .text:0000072c math_atan
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccSpViDu.s:979    .text:0000075a math_atan2
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccSpViDu.s:1038   .text:000007d2 math_asin
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccSpViDu.s:1062   .text:00000800 math_acos
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccSpViDu.s:1099   .text:0000082e luaopen_math
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccSpViDu.s:1211   .data:000000cb mathlib
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccSpViDu.s:1273   .data:0000013f mathlib_vals

UNDEFINED SYMBOLS
luaL_checknumber
__floatsisf
tan
__fixsfsi
lua_pushnumber
__mulsf3
__divsf3
tanh
sqrt
sin
sinh
luaL_checkinteger
srand
lua_gettop
floor
rand
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccSpViDu.s 			page 26


__divmodhi4
luaL_argerror
__mulsi3
__addsf3
luaL_error
pow
modf
log
log10
ldexp
frexp
lua_pushinteger
fmod
exp
cos
cosh
ceil
atan
atan2
asin
acos
luaL_register
lua_setfield
lua_getfield
__do_copy_data
