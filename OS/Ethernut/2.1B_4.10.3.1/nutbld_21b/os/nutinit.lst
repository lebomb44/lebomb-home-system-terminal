GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccVn6osD.s 			page 1


   1               		.file	"nutinit.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__  = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.section	.init1,"ax",@progbits
   9               		.type	NutInitXRAM, @function
  10               	NutInitXRAM:
  11               	/* prologue: naked */
  12               	/* frame size = 0 */
  13 0000 80EC      		ldi r24,lo8(-64)
  14 0002 85BF      		out 85-32,r24
  15               	/* epilogue start */
  16               		.size	NutInitXRAM, .-NutInitXRAM
  17               		.text
  18               	.global	NutThreadSetSleepMode
  19               		.type	NutThreadSetSleepMode, @function
  20               	NutThreadSetSleepMode:
  21               	/* prologue: function */
  22               	/* frame size = 0 */
  23 0000 9091 0000 		lds r25,idle_sleep_mode
  24 0004 8093 0000 		sts idle_sleep_mode,r24
  25 0008 892F      		mov r24,r25
  26               	/* epilogue start */
  27 000a 0895      		ret
  28               		.size	NutThreadSetSleepMode, .-NutThreadSetSleepMode
  29               		.section	.init5,"ax",@progbits
  30               		.type	NutInitSP, @function
  31               	NutInitSP:
  32               	/* prologue: naked */
  33               	/* frame size = 0 */
  34 0000 8FEF      		ldi r24,lo8(32767)
  35 0002 9FE7      		ldi r25,hi8(32767)
  36 0004 9EBF      		out (93)+1-32,r25
  37 0006 8DBF      		out 93-32,r24
  38               	/* epilogue start */
  39               		.size	NutInitSP, .-NutInitSP
  40               		.section	.init1
  41               		.type	NutCustomInit, @function
  42               	NutCustomInit:
  43               	/* prologue: naked */
  44               	/* frame size = 0 */
  45 0004 87E0      		ldi r24,lo8(7)
  46 0006 89B9      		out 41-32,r24
  47 0008 8093 9900 		sts 153,r24
  48               	/* epilogue start */
  49               		.size	NutCustomInit, .-NutCustomInit
  50               		.section	.init5
  51               		.type	NutInitHeap, @function
  52               	NutInitHeap:
  53               	/* prologue: naked */
  54               	/* frame size = 0 */
  55 0008 8FEF      		ldi r24,lo8(32767)
  56 000a 9FE7      		ldi r25,hi8(32767)
  57 000c 8050      		subi r24,lo8(__heap_start)
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccVn6osD.s 			page 2


  58 000e 9040      		sbci r25,hi8(__heap_start)
  59 0010 8158      		subi r24,lo8(385)
  60 0012 9140      		sbci r25,hi8(385)
  61 0014 00F0      		brlo .L11
  62 0016 4FEF      		ldi r20,lo8(32511)
  63 0018 5EE7      		ldi r21,hi8(32511)
  64 001a 4050      		subi r20,lo8(__heap_start)
  65 001c 5040      		sbci r21,hi8(__heap_start)
  66 001e 80E0      		ldi r24,lo8(heapFreeList)
  67 0020 90E0      		ldi r25,hi8(heapFreeList)
  68 0022 60E0      		ldi r22,lo8(__heap_start)
  69 0024 70E0      		ldi r23,hi8(__heap_start)
  70 0026 0E94 0000 		call NutHeapRootAdd
  71               	.L11:
  72               	/* epilogue start */
  73               		.size	NutInitHeap, .-NutInitHeap
  74               		.data
  75               	.LC0:
  76 0000 6964 6C65 		.string	"idle"
  76      00
  77               		.section	.init8,"ax",@progbits
  78               	.global	NutInit
  79               		.type	NutInit, @function
  80               	NutInit:
  81               	/* prologue: naked */
  82               	/* frame size = 0 */
  83 0000 0E94 0000 		call NutLoadConfig
  84 0004 80E0      		ldi r24,lo8(.LC0)
  85 0006 90E0      		ldi r25,hi8(.LC0)
  86 0008 60E0      		ldi r22,lo8(gs(NutIdle))
  87 000a 70E0      		ldi r23,hi8(gs(NutIdle))
  88 000c 40E0      		ldi r20,lo8(0)
  89 000e 50E0      		ldi r21,hi8(0)
  90 0010 20E8      		ldi r18,lo8(128)
  91 0012 30E0      		ldi r19,hi8(128)
  92 0014 0E94 0000 		call NutThreadCreate
  93               	/* epilogue start */
  94               		.size	NutInit, .-NutInit
  95               		.data
  96               	.LC1:
  97 0005 6D61 696E 		.string	"main"
  97      00
  98               		.text
  99               	.global	NutIdle
 100               		.type	NutIdle, @function
 101               	NutIdle:
 102               	/* prologue: function */
 103               	/* frame size = 0 */
 104 000c 0E94 0000 		call NutTimerInit
 105 0010 80E0      		ldi r24,lo8(.LC1)
 106 0012 90E0      		ldi r25,hi8(.LC1)
 107 0014 60E0      		ldi r22,lo8(gs(NutAppMain))
 108 0016 70E0      		ldi r23,hi8(gs(NutAppMain))
 109 0018 40E0      		ldi r20,lo8(0)
 110 001a 50E0      		ldi r21,hi8(0)
 111 001c 20E0      		ldi r18,lo8(1024)
 112 001e 34E0      		ldi r19,hi8(1024)
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccVn6osD.s 			page 3


 113 0020 0E94 0000 		call NutThreadCreate
 114 0024 8EEF      		ldi r24,lo8(-2)
 115 0026 0E94 0000 		call NutThreadSetPriority
 116               	.L19:
 117 002a 0E94 0000 		call NutThreadYield
 118 002e 0E94 0000 		call NutThreadDestroy
 119 0032 2091 0000 		lds r18,idle_sleep_mode
 120 0036 2F3F      		cpi r18,lo8(-1)
 121 0038 01F0      		breq .L19
 122 003a 95B7      		in r25,85-32
 123 003c 85B7      		in r24,85-32
 124 003e 837E      		andi r24,lo8(-29)
 125 0040 822B      		or r24,r18
 126 0042 85BF      		out 85-32,r24
 127 0044 85B7      		in r24,85-32
 128 0046 8062      		ori r24,lo8(32)
 129 0048 85BF      		out 85-32,r24
 130               	/* #APP */
 131               	 ;  370 "../../nut/os/../arch/avr/os/nutinit.c" 1
 132 004a 8895      		sleep
 133               		
 134               	 ;  0 "" 2
 135               	/* #NOAPP */
 136 004c 85B7      		in r24,85-32
 137 004e 8F7D      		andi r24,lo8(-33)
 138 0050 85BF      		out 85-32,r24
 139 0052 85B7      		in r24,85-32
 140 0054 9C71      		andi r25,lo8(28)
 141 0056 837E      		andi r24,lo8(-29)
 142 0058 982B      		or r25,r24
 143 005a 95BF      		out 85-32,r25
 144 005c 00C0      		rjmp .L19
 145               		.size	NutIdle, .-NutIdle
 146               	.global	ms62_5
 147               	.global	ms62_5
 148               		.section .bss
 149               		.type	ms62_5, @object
 150               		.size	ms62_5, 1
 151               	ms62_5:
 152 0000 00        		.skip 1,0
 153               	.global	idle_sleep_mode
 154               		.data
 155               		.type	idle_sleep_mode, @object
 156               		.size	idle_sleep_mode, 1
 157               	idle_sleep_mode:
 158 000a FF        		.byte	-1
 159               		.comm nutmem_onchip,64,1
 160               	.global __do_copy_data
 161               	.global __do_clear_bss
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccVn6osD.s 			page 4


DEFINED SYMBOLS
                            *ABS*:00000000 nutinit.c
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccVn6osD.s:2      *ABS*:0000003f __SREG__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccVn6osD.s:3      *ABS*:0000003e __SP_H__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccVn6osD.s:4      *ABS*:0000003d __SP_L__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccVn6osD.s:5      *ABS*:00000034 __CCP__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccVn6osD.s:6      *ABS*:00000000 __tmp_reg__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccVn6osD.s:7      *ABS*:00000001 __zero_reg__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccVn6osD.s:10     .init1:00000000 NutInitXRAM
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccVn6osD.s:20     .text:00000000 NutThreadSetSleepMode
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccVn6osD.s:157    .data:0000000a idle_sleep_mode
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccVn6osD.s:31     .init5:00000000 NutInitSP
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccVn6osD.s:42     .init1:00000004 NutCustomInit
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccVn6osD.s:52     .init5:00000008 NutInitHeap
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccVn6osD.s:80     .init8:00000000 NutInit
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccVn6osD.s:101    .text:0000000c NutIdle
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccVn6osD.s:151    .bss:00000000 ms62_5
                            *COM*:00000040 nutmem_onchip

UNDEFINED SYMBOLS
__heap_start
heapFreeList
NutHeapRootAdd
NutLoadConfig
NutThreadCreate
NutTimerInit
NutAppMain
NutThreadSetPriority
NutThreadYield
NutThreadDestroy
__do_copy_data
__do_clear_bss
