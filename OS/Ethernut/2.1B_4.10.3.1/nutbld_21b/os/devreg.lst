GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccHli0RQ.s 			page 1


   1               		.file	"devreg.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__  = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.text
   9               	.global	NutDeviceLookup
  10               		.type	NutDeviceLookup, @function
  11               	NutDeviceLookup:
  12 0000 0F93      		push r16
  13 0002 1F93      		push r17
  14 0004 CF93      		push r28
  15 0006 DF93      		push r29
  16               	/* prologue: function */
  17               	/* frame size = 0 */
  18 0008 8C01      		movw r16,r24
  19 000a C091 0000 		lds r28,nutDeviceList
  20 000e D091 0000 		lds r29,(nutDeviceList)+1
  21 0012 00C0      		rjmp .L2
  22               	.L4:
  23 0014 CE01      		movw r24,r28
  24 0016 0296      		adiw r24,2
  25 0018 B801      		movw r22,r16
  26 001a 0E94 0000 		call strcmp
  27 001e 0097      		sbiw r24,0
  28 0020 01F0      		breq .L3
  29 0022 0990      		ld __tmp_reg__,Y+
  30 0024 D881      		ld r29,Y
  31 0026 C02D      		mov r28,__tmp_reg__
  32               	.L2:
  33 0028 2097      		sbiw r28,0
  34 002a 01F4      		brne .L4
  35               	.L3:
  36 002c CE01      		movw r24,r28
  37               	/* epilogue start */
  38 002e DF91      		pop r29
  39 0030 CF91      		pop r28
  40 0032 1F91      		pop r17
  41 0034 0F91      		pop r16
  42 0036 0895      		ret
  43               		.size	NutDeviceLookup, .-NutDeviceLookup
  44               	.global	NutRegisterDevice
  45               		.type	NutRegisterDevice, @function
  46               	NutRegisterDevice:
  47 0038 CF93      		push r28
  48 003a DF93      		push r29
  49               	/* prologue: function */
  50               	/* frame size = 0 */
  51 003c EC01      		movw r28,r24
  52 003e 6115      		cp r22,__zero_reg__
  53 0040 7105      		cpc r23,__zero_reg__
  54 0042 01F0      		breq .L7
  55 0044 7D87      		std Y+13,r23
  56 0046 6C87      		std Y+12,r22
  57               	.L7:
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccHli0RQ.s 			page 2


  58 0048 4111      		cpse r20,__zero_reg__
  59 004a 4E87      		std Y+14,r20
  60               	.L8:
  61 004c CE01      		movw r24,r28
  62 004e 0296      		adiw r24,2
  63 0050 0E94 0000 		call NutDeviceLookup
  64 0054 892B      		or r24,r25
  65 0056 01F4      		brne .L9
  66 0058 EB89      		ldd r30,Y+19
  67 005a FC89      		ldd r31,Y+20
  68 005c 3097      		sbiw r30,0
  69 005e 01F0      		breq .L10
  70 0060 CE01      		movw r24,r28
  71 0062 0995      		icall
  72 0064 892B      		or r24,r25
  73 0066 01F4      		brne .L9
  74               	.L10:
  75 0068 8091 0000 		lds r24,nutDeviceList
  76 006c 9091 0000 		lds r25,(nutDeviceList)+1
  77 0070 9983      		std Y+1,r25
  78 0072 8883      		st Y,r24
  79 0074 D093 0000 		sts (nutDeviceList)+1,r29
  80 0078 C093 0000 		sts nutDeviceList,r28
  81 007c 20E0      		ldi r18,lo8(0)
  82 007e 30E0      		ldi r19,hi8(0)
  83 0080 00C0      		rjmp .L11
  84               	.L9:
  85 0082 2FEF      		ldi r18,lo8(-1)
  86 0084 3FEF      		ldi r19,hi8(-1)
  87               	.L11:
  88 0086 C901      		movw r24,r18
  89               	/* epilogue start */
  90 0088 DF91      		pop r29
  91 008a CF91      		pop r28
  92 008c 0895      		ret
  93               		.size	NutRegisterDevice, .-NutRegisterDevice
  94               	.global	nutDeviceList
  95               	.global	nutDeviceList
  96               		.section .bss
  97               		.type	nutDeviceList, @object
  98               		.size	nutDeviceList, 2
  99               	nutDeviceList:
 100 0000 0000      		.skip 2,0
 101               	.global __do_clear_bss
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccHli0RQ.s 			page 3


DEFINED SYMBOLS
                            *ABS*:00000000 devreg.c
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccHli0RQ.s:2      *ABS*:0000003f __SREG__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccHli0RQ.s:3      *ABS*:0000003e __SP_H__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccHli0RQ.s:4      *ABS*:0000003d __SP_L__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccHli0RQ.s:5      *ABS*:00000034 __CCP__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccHli0RQ.s:6      *ABS*:00000000 __tmp_reg__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccHli0RQ.s:7      *ABS*:00000001 __zero_reg__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccHli0RQ.s:11     .text:00000000 NutDeviceLookup
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccHli0RQ.s:99     .bss:00000000 nutDeviceList
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccHli0RQ.s:46     .text:00000038 NutRegisterDevice

UNDEFINED SYMBOLS
strcmp
__do_clear_bss
