GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc8PViDu.s 			page 1


   1               		.file	"heap.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__  = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.text
   9               	.global	NutHeapRootAlloc
  10               		.type	NutHeapRootAlloc, @function
  11               	NutHeapRootAlloc:
  12 0000 CF93      		push r28
  13 0002 DF93      		push r29
  14               	/* prologue: function */
  15               	/* frame size = 0 */
  16 0004 DC01      		movw r26,r24
  17 0006 6E5F      		subi r22,lo8(-(2))
  18 0008 7F4F      		sbci r23,hi8(-(2))
  19 000a 6430      		cpi r22,4
  20 000c 7105      		cpc r23,__zero_reg__
  21 000e 00F4      		brsh .L2
  22 0010 64E0      		ldi r22,lo8(4)
  23 0012 70E0      		ldi r23,hi8(4)
  24               	.L2:
  25 0014 6F5F      		subi r22,lo8(-(1))
  26 0016 7F4F      		sbci r23,hi8(-(1))
  27 0018 6E7F      		andi r22,lo8(-2)
  28 001a ED91      		ld r30,X+
  29 001c FC91      		ld r31,X
  30 001e 1197      		sbiw r26,1
  31 0020 AD01      		movw r20,r26
  32 0022 A0E0      		ldi r26,lo8(0)
  33 0024 B0E0      		ldi r27,hi8(0)
  34 0026 C0E0      		ldi r28,lo8(0)
  35 0028 D0E0      		ldi r29,hi8(0)
  36 002a 00C0      		rjmp .L3
  37               	.L8:
  38 002c 2081      		ld r18,Z
  39 002e 3181      		ldd r19,Z+1
  40 0030 2617      		cp r18,r22
  41 0032 3707      		cpc r19,r23
  42 0034 00F0      		brlo .L4
  43 0036 1097      		sbiw r26,0
  44 0038 01F0      		breq .L5
  45 003a 8D91      		ld r24,X+
  46 003c 9C91      		ld r25,X
  47 003e 1197      		sbiw r26,1
  48 0040 2817      		cp r18,r24
  49 0042 3907      		cpc r19,r25
  50 0044 00F4      		brsh .L4
  51               	.L5:
  52 0046 2617      		cp r18,r22
  53 0048 3707      		cpc r19,r23
  54 004a 01F4      		brne .L6
  55 004c DF01      		movw r26,r30
  56 004e EA01      		movw r28,r20
  57 0050 00C0      		rjmp .L7
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc8PViDu.s 			page 2


  58               	.L6:
  59 0052 DF01      		movw r26,r30
  60 0054 EA01      		movw r28,r20
  61               	.L4:
  62 0056 AF01      		movw r20,r30
  63 0058 4E5F      		subi r20,lo8(-(2))
  64 005a 5F4F      		sbci r21,hi8(-(2))
  65 005c 0280      		ldd __tmp_reg__,Z+2
  66 005e F381      		ldd r31,Z+3
  67 0060 E02D      		mov r30,__tmp_reg__
  68               	.L3:
  69 0062 3097      		sbiw r30,0
  70 0064 01F4      		brne .L8
  71 0066 9D01      		movw r18,r26
  72 0068 1097      		sbiw r26,0
  73 006a 01F0      		breq .L9
  74               	.L7:
  75 006c 8D91      		ld r24,X+
  76 006e 9C91      		ld r25,X
  77 0070 1197      		sbiw r26,1
  78 0072 861B      		sub r24,r22
  79 0074 970B      		sbc r25,r23
  80 0076 1296      		adiw r26,2
  81 0078 2D91      		ld r18,X+
  82 007a 3C91      		ld r19,X
  83 007c 1397      		sbiw r26,2+1
  84 007e 8430      		cpi r24,4
  85 0080 9105      		cpc r25,__zero_reg__
  86 0082 00F0      		brlo .L10
  87 0084 FD01      		movw r30,r26
  88 0086 E60F      		add r30,r22
  89 0088 F71F      		adc r31,r23
  90 008a 9183      		std Z+1,r25
  91 008c 8083      		st Z,r24
  92 008e 3383      		std Z+3,r19
  93 0090 2283      		std Z+2,r18
  94 0092 1196      		adiw r26,1
  95 0094 7C93      		st X,r23
  96 0096 6E93      		st -X,r22
  97 0098 F983      		std Y+1,r31
  98 009a E883      		st Y,r30
  99 009c 00C0      		rjmp .L11
 100               	.L10:
 101 009e 3983      		std Y+1,r19
 102 00a0 2883      		st Y,r18
 103               	.L11:
 104 00a2 9D01      		movw r18,r26
 105 00a4 2E5F      		subi r18,lo8(-(2))
 106 00a6 3F4F      		sbci r19,hi8(-(2))
 107               	.L9:
 108 00a8 C901      		movw r24,r18
 109               	/* epilogue start */
 110 00aa DF91      		pop r29
 111 00ac CF91      		pop r28
 112 00ae 0895      		ret
 113               		.size	NutHeapRootAlloc, .-NutHeapRootAlloc
 114               	.global	NutHeapRootFree
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc8PViDu.s 			page 3


 115               		.type	NutHeapRootFree, @function
 116               	NutHeapRootFree:
 117 00b0 CF93      		push r28
 118 00b2 DF93      		push r29
 119               	/* prologue: function */
 120               	/* frame size = 0 */
 121 00b4 EC01      		movw r28,r24
 122 00b6 6115      		cp r22,__zero_reg__
 123 00b8 7105      		cpc r23,__zero_reg__
 124 00ba 01F4      		brne .L14
 125 00bc 2DEF      		ldi r18,lo8(-3)
 126 00be 3FEF      		ldi r19,hi8(-3)
 127 00c0 00C0      		rjmp .L15
 128               	.L14:
 129 00c2 DB01      		movw r26,r22
 130 00c4 1297      		sbiw r26,2
 131 00c6 E881      		ld r30,Y
 132 00c8 F981      		ldd r31,Y+1
 133 00ca 00C0      		rjmp .L16
 134               	.L22:
 135 00cc 2081      		ld r18,Z
 136 00ce 3181      		ldd r19,Z+1
 137 00d0 CF01      		movw r24,r30
 138 00d2 820F      		add r24,r18
 139 00d4 931F      		adc r25,r19
 140 00d6 8A17      		cp r24,r26
 141 00d8 9B07      		cpc r25,r27
 142 00da 01F4      		brne .L17
 143 00dc 6D91      		ld r22,X+
 144 00de 7C91      		ld r23,X
 145 00e0 620F      		add r22,r18
 146 00e2 731F      		adc r23,r19
 147 00e4 7183      		std Z+1,r23
 148 00e6 6083      		st Z,r22
 149 00e8 DF01      		movw r26,r30
 150 00ea A60F      		add r26,r22
 151 00ec B71F      		adc r27,r23
 152 00ee 8281      		ldd r24,Z+2
 153 00f0 9381      		ldd r25,Z+3
 154 00f2 A817      		cp r26,r24
 155 00f4 B907      		cpc r27,r25
 156 00f6 01F0      		breq .+2
 157 00f8 00C0      		rjmp .L24
 158               	.L18:
 159 00fa 8D91      		ld r24,X+
 160 00fc 9C91      		ld r25,X
 161 00fe 1197      		sbiw r26,1
 162 0100 680F      		add r22,r24
 163 0102 791F      		adc r23,r25
 164 0104 7183      		std Z+1,r23
 165 0106 6083      		st Z,r22
 166 0108 1296      		adiw r26,2
 167 010a 8D91      		ld r24,X+
 168 010c 9C91      		ld r25,X
 169 010e 1397      		sbiw r26,2+1
 170 0110 9383      		std Z+3,r25
 171 0112 8283      		std Z+2,r24
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc8PViDu.s 			page 4


 172 0114 00C0      		rjmp .L24
 173               	.L17:
 174 0116 AE17      		cp r26,r30
 175 0118 BF07      		cpc r27,r31
 176 011a 00F4      		brsh .L19
 177 011c B983      		std Y+1,r27
 178 011e A883      		st Y,r26
 179 0120 4D91      		ld r20,X+
 180 0122 5C91      		ld r21,X
 181 0124 1197      		sbiw r26,1
 182 0126 CD01      		movw r24,r26
 183 0128 840F      		add r24,r20
 184 012a 951F      		adc r25,r21
 185 012c 8E17      		cp r24,r30
 186 012e 9F07      		cpc r25,r31
 187 0130 01F4      		brne .L20
 188 0132 240F      		add r18,r20
 189 0134 351F      		adc r19,r21
 190 0136 1196      		adiw r26,1
 191 0138 3C93      		st X,r19
 192 013a 2E93      		st -X,r18
 193 013c 8281      		ldd r24,Z+2
 194 013e 9381      		ldd r25,Z+3
 195 0140 1396      		adiw r26,2+1
 196 0142 9C93      		st X,r25
 197 0144 8E93      		st -X,r24
 198 0146 1297      		sbiw r26,2
 199 0148 00C0      		rjmp .L24
 200               	.L20:
 201 014a 1396      		adiw r26,2+1
 202 014c FC93      		st X,r31
 203 014e EE93      		st -X,r30
 204 0150 1297      		sbiw r26,2
 205 0152 00C0      		rjmp .L24
 206               	.L19:
 207 0154 A817      		cp r26,r24
 208 0156 B907      		cpc r27,r25
 209 0158 00F4      		brsh .L21
 210 015a 2FEF      		ldi r18,lo8(-1)
 211 015c 3FEF      		ldi r19,hi8(-1)
 212 015e 00C0      		rjmp .L15
 213               	.L21:
 214 0160 EF01      		movw r28,r30
 215 0162 2296      		adiw r28,2
 216 0164 0280      		ldd __tmp_reg__,Z+2
 217 0166 F381      		ldd r31,Z+3
 218 0168 E02D      		mov r30,__tmp_reg__
 219               	.L16:
 220 016a 3097      		sbiw r30,0
 221 016c 01F0      		breq .+2
 222 016e 00C0      		rjmp .L22
 223 0170 1396      		adiw r26,2+1
 224 0172 1C92      		st X,__zero_reg__
 225 0174 1E92      		st -X,__zero_reg__
 226 0176 1297      		sbiw r26,2
 227 0178 B983      		std Y+1,r27
 228 017a A883      		st Y,r26
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc8PViDu.s 			page 5


 229               	.L24:
 230 017c 20E0      		ldi r18,lo8(0)
 231 017e 30E0      		ldi r19,hi8(0)
 232               	.L15:
 233 0180 C901      		movw r24,r18
 234               	/* epilogue start */
 235 0182 DF91      		pop r29
 236 0184 CF91      		pop r28
 237 0186 0895      		ret
 238               		.size	NutHeapRootFree, .-NutHeapRootFree
 239               	.global	NutHeapRootAdd
 240               		.type	NutHeapRootAdd, @function
 241               	NutHeapRootAdd:
 242               	/* prologue: function */
 243               	/* frame size = 0 */
 244 0188 6F5F      		subi r22,lo8(-(1))
 245 018a 7F4F      		sbci r23,hi8(-(1))
 246 018c FB01      		movw r30,r22
 247 018e EE7F      		andi r30,lo8(-2)
 248 0190 6150      		subi r22,lo8(-(-1))
 249 0192 7040      		sbci r23,hi8(-(-1))
 250 0194 640F      		add r22,r20
 251 0196 751F      		adc r23,r21
 252 0198 6E1B      		sub r22,r30
 253 019a 7F0B      		sbc r23,r31
 254 019c 6E7F      		andi r22,lo8(-2)
 255 019e 6193      		st Z+,r22
 256 01a0 7193      		st Z+,r23
 257 01a2 BF01      		movw r22,r30
 258 01a4 0E94 0000 		call NutHeapRootFree
 259               	/* epilogue start */
 260 01a8 0895      		ret
 261               		.size	NutHeapRootAdd, .-NutHeapRootAdd
 262               	.global	NutHeapRootAvailable
 263               		.type	NutHeapRootAvailable, @function
 264               	NutHeapRootAvailable:
 265               	/* prologue: function */
 266               	/* frame size = 0 */
 267 01aa FC01      		movw r30,r24
 268 01ac 0190      		ld __tmp_reg__,Z+
 269 01ae F081      		ld r31,Z
 270 01b0 E02D      		mov r30,__tmp_reg__
 271 01b2 20E0      		ldi r18,lo8(0)
 272 01b4 30E0      		ldi r19,hi8(0)
 273 01b6 00C0      		rjmp .L28
 274               	.L29:
 275 01b8 8081      		ld r24,Z
 276 01ba 9181      		ldd r25,Z+1
 277 01bc 0297      		sbiw r24,2
 278 01be 280F      		add r18,r24
 279 01c0 391F      		adc r19,r25
 280 01c2 0280      		ldd __tmp_reg__,Z+2
 281 01c4 F381      		ldd r31,Z+3
 282 01c6 E02D      		mov r30,__tmp_reg__
 283               	.L28:
 284 01c8 3097      		sbiw r30,0
 285 01ca 01F4      		brne .L29
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc8PViDu.s 			page 6


 286 01cc C901      		movw r24,r18
 287               	/* epilogue start */
 288 01ce 0895      		ret
 289               		.size	NutHeapRootAvailable, .-NutHeapRootAvailable
 290               	.global	NutHeapRootRegionAvailable
 291               		.type	NutHeapRootRegionAvailable, @function
 292               	NutHeapRootRegionAvailable:
 293               	/* prologue: function */
 294               	/* frame size = 0 */
 295 01d0 FC01      		movw r30,r24
 296 01d2 0190      		ld __tmp_reg__,Z+
 297 01d4 F081      		ld r31,Z
 298 01d6 E02D      		mov r30,__tmp_reg__
 299 01d8 20E0      		ldi r18,lo8(0)
 300 01da 30E0      		ldi r19,hi8(0)
 301 01dc 00C0      		rjmp .L32
 302               	.L34:
 303 01de 8081      		ld r24,Z
 304 01e0 9181      		ldd r25,Z+1
 305 01e2 2817      		cp r18,r24
 306 01e4 3907      		cpc r19,r25
 307 01e6 00F4      		brsh .L33
 308 01e8 9C01      		movw r18,r24
 309               	.L33:
 310 01ea 0280      		ldd __tmp_reg__,Z+2
 311 01ec F381      		ldd r31,Z+3
 312 01ee E02D      		mov r30,__tmp_reg__
 313               	.L32:
 314 01f0 3097      		sbiw r30,0
 315 01f2 01F4      		brne .L34
 316 01f4 2250      		subi r18,lo8(-(-2))
 317 01f6 3040      		sbci r19,hi8(-(-2))
 318 01f8 C901      		movw r24,r18
 319               	/* epilogue start */
 320 01fa 0895      		ret
 321               		.size	NutHeapRootRegionAvailable, .-NutHeapRootRegionAvailable
 322               	.global	NutHeapCheck
 323               		.type	NutHeapCheck, @function
 324               	NutHeapCheck:
 325               	/* prologue: function */
 326               	/* frame size = 0 */
 327 01fc 80E0      		ldi r24,lo8(0)
 328 01fe 90E0      		ldi r25,hi8(0)
 329               	/* epilogue start */
 330 0200 0895      		ret
 331               		.size	NutHeapCheck, .-NutHeapCheck
 332               		.data
 333               	.LC0:
 334 0000 2570 2825 		.string	"%p(%d)\n"
 334      6429 0A00 
 335               		.text
 336               	.global	NutHeapDump
 337               		.type	NutHeapDump, @function
 338               	NutHeapDump:
 339 0202 EF92      		push r14
 340 0204 FF92      		push r15
 341 0206 0F93      		push r16
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc8PViDu.s 			page 7


 342 0208 1F93      		push r17
 343 020a CF93      		push r28
 344 020c DF93      		push r29
 345               	/* prologue: function */
 346               	/* frame size = 0 */
 347 020e 8C01      		movw r16,r24
 348 0210 C091 0000 		lds r28,heapFreeList
 349 0214 D091 0000 		lds r29,(heapFreeList)+1
 350 0218 80E0      		ldi r24,lo8(.LC0)
 351 021a E82E      		mov r14,r24
 352 021c 80E0      		ldi r24,hi8(.LC0)
 353 021e F82E      		mov r15,r24
 354 0220 00C0      		rjmp .L39
 355               	.L40:
 356 0222 8DB7      		in r24,__SP_L__
 357 0224 9EB7      		in r25,__SP_H__
 358 0226 0897      		sbiw r24,8
 359 0228 0FB6      		in __tmp_reg__,__SREG__
 360 022a F894      		cli
 361 022c 9EBF      		out __SP_H__,r25
 362 022e 0FBE      		out __SREG__,__tmp_reg__
 363 0230 8DBF      		out __SP_L__,r24
 364 0232 EDB7      		in r30,__SP_L__
 365 0234 FEB7      		in r31,__SP_H__
 366 0236 3196      		adiw r30,1
 367 0238 ADB7      		in r26,__SP_L__
 368 023a BEB7      		in r27,__SP_H__
 369 023c 1296      		adiw r26,1+1
 370 023e 1C93      		st X,r17
 371 0240 0E93      		st -X,r16
 372 0242 1197      		sbiw r26,1
 373 0244 F382      		std Z+3,r15
 374 0246 E282      		std Z+2,r14
 375 0248 D583      		std Z+5,r29
 376 024a C483      		std Z+4,r28
 377 024c 8881      		ld r24,Y
 378 024e 9981      		ldd r25,Y+1
 379 0250 9783      		std Z+7,r25
 380 0252 8683      		std Z+6,r24
 381 0254 0E94 0000 		call fprintf
 382 0258 0A80      		ldd __tmp_reg__,Y+2
 383 025a DB81      		ldd r29,Y+3
 384 025c C02D      		mov r28,__tmp_reg__
 385 025e 8DB7      		in r24,__SP_L__
 386 0260 9EB7      		in r25,__SP_H__
 387 0262 0896      		adiw r24,8
 388 0264 0FB6      		in __tmp_reg__,__SREG__
 389 0266 F894      		cli
 390 0268 9EBF      		out __SP_H__,r25
 391 026a 0FBE      		out __SREG__,__tmp_reg__
 392 026c 8DBF      		out __SP_L__,r24
 393               	.L39:
 394 026e 2097      		sbiw r28,0
 395 0270 01F4      		brne .L40
 396               	/* epilogue start */
 397 0272 DF91      		pop r29
 398 0274 CF91      		pop r28
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc8PViDu.s 			page 8


 399 0276 1F91      		pop r17
 400 0278 0F91      		pop r16
 401 027a FF90      		pop r15
 402 027c EF90      		pop r14
 403 027e 0895      		ret
 404               		.size	NutHeapDump, .-NutHeapDump
 405               	.global	NutHeapRootRealloc
 406               		.type	NutHeapRootRealloc, @function
 407               	NutHeapRootRealloc:
 408 0280 AF92      		push r10
 409 0282 BF92      		push r11
 410 0284 CF92      		push r12
 411 0286 DF92      		push r13
 412 0288 EF92      		push r14
 413 028a FF92      		push r15
 414 028c 0F93      		push r16
 415 028e 1F93      		push r17
 416 0290 CF93      		push r28
 417 0292 DF93      		push r29
 418               	/* prologue: function */
 419               	/* frame size = 0 */
 420 0294 6C01      		movw r12,r24
 421 0296 7B01      		movw r14,r22
 422 0298 6115      		cp r22,__zero_reg__
 423 029a 7105      		cpc r23,__zero_reg__
 424 029c 01F4      		brne .L43
 425 029e BA01      		movw r22,r20
 426 02a0 0E94 0000 		call NutHeapRootAlloc
 427 02a4 7C01      		movw r14,r24
 428 02a6 00C0      		rjmp .L44
 429               	.L43:
 430 02a8 4115      		cp r20,__zero_reg__
 431 02aa 5105      		cpc r21,__zero_reg__
 432 02ac 01F4      		brne .L45
 433 02ae 0E94 0000 		call NutHeapRootFree
 434 02b2 892B      		or r24,r25
 435 02b4 01F4      		brne .+2
 436 02b6 00C0      		rjmp .L44
 437 02b8 00C0      		rjmp .L58
 438               	.L45:
 439 02ba 8B01      		movw r16,r22
 440 02bc 0250      		subi r16,lo8(-(-2))
 441 02be 1040      		sbci r17,hi8(-(-2))
 442 02c0 4E5F      		subi r20,lo8(-(2))
 443 02c2 5F4F      		sbci r21,hi8(-(2))
 444 02c4 4430      		cpi r20,4
 445 02c6 5105      		cpc r21,__zero_reg__
 446 02c8 00F4      		brsh .L46
 447 02ca 44E0      		ldi r20,lo8(4)
 448 02cc 50E0      		ldi r21,hi8(4)
 449               	.L46:
 450 02ce EA01      		movw r28,r20
 451 02d0 2196      		adiw r28,1
 452 02d2 CE7F      		andi r28,lo8(-2)
 453 02d4 F801      		movw r30,r16
 454 02d6 2081      		ld r18,Z
 455 02d8 3181      		ldd r19,Z+1
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc8PViDu.s 			page 9


 456 02da 2C17      		cp r18,r28
 457 02dc 3D07      		cpc r19,r29
 458 02de 00F0      		brlo .+2
 459 02e0 00C0      		rjmp .L47
 460 02e2 F601      		movw r30,r12
 461 02e4 A081      		ld r26,Z
 462 02e6 B181      		ldd r27,Z+1
 463 02e8 5601      		movw r10,r12
 464 02ea 00C0      		rjmp .L48
 465               	.L50:
 466 02ec 92E0      		ldi r25,lo8(2)
 467 02ee A92E      		mov r10,r25
 468 02f0 B12C      		mov r11,__zero_reg__
 469 02f2 AA0E      		add r10,r26
 470 02f4 BB1E      		adc r11,r27
 471 02f6 1296      		adiw r26,2
 472 02f8 0D90      		ld __tmp_reg__,X+
 473 02fa BC91      		ld r27,X
 474 02fc A02D      		mov r26,__tmp_reg__
 475               	.L48:
 476 02fe 1097      		sbiw r26,0
 477 0300 01F0      		breq .L49
 478 0302 A017      		cp r26,r16
 479 0304 B107      		cpc r27,r17
 480 0306 00F0      		brlo .L50
 481 0308 00C0      		rjmp .L59
 482               	.L55:
 483 030a C801      		movw r24,r16
 484 030c 820F      		add r24,r18
 485 030e 931F      		adc r25,r19
 486 0310 8A17      		cp r24,r26
 487 0312 9B07      		cpc r25,r27
 488 0314 01F4      		brne .L49
 489 0316 CA01      		movw r24,r20
 490 0318 861B      		sub r24,r22
 491 031a 970B      		sbc r25,r23
 492 031c 0497      		sbiw r24,4
 493 031e 00F0      		brlo .L52
 494 0320 260F      		add r18,r22
 495 0322 371F      		adc r19,r23
 496 0324 E801      		movw r28,r16
 497 0326 3983      		std Y+1,r19
 498 0328 2883      		st Y,r18
 499 032a FD01      		movw r30,r26
 500 032c E60F      		add r30,r22
 501 032e F71F      		adc r31,r23
 502 0330 E501      		movw r28,r10
 503 0332 F983      		std Y+1,r31
 504 0334 E883      		st Y,r30
 505 0336 1296      		adiw r26,2
 506 0338 8D91      		ld r24,X+
 507 033a 9C91      		ld r25,X
 508 033c 1397      		sbiw r26,2+1
 509 033e 9383      		std Z+3,r25
 510 0340 8283      		std Z+2,r24
 511 0342 E881      		ld r30,Y
 512 0344 F981      		ldd r31,Y+1
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc8PViDu.s 			page 10


 513 0346 8D91      		ld r24,X+
 514 0348 9C91      		ld r25,X
 515 034a 861B      		sub r24,r22
 516 034c 970B      		sbc r25,r23
 517 034e 9183      		std Z+1,r25
 518 0350 8083      		st Z,r24
 519 0352 00C0      		rjmp .L44
 520               	.L52:
 521 0354 420F      		add r20,r18
 522 0356 531F      		adc r21,r19
 523 0358 F801      		movw r30,r16
 524 035a 5183      		std Z+1,r21
 525 035c 4083      		st Z,r20
 526 035e 1296      		adiw r26,2
 527 0360 8D91      		ld r24,X+
 528 0362 9C91      		ld r25,X
 529 0364 1397      		sbiw r26,2+1
 530 0366 E501      		movw r28,r10
 531 0368 9983      		std Y+1,r25
 532 036a 8883      		st Y,r24
 533 036c 00C0      		rjmp .L44
 534               	.L49:
 535 036e C601      		movw r24,r12
 536 0370 BE01      		movw r22,r28
 537 0372 0E94 0000 		call NutHeapRootAlloc
 538 0376 EC01      		movw r28,r24
 539 0378 0097      		sbiw r24,0
 540 037a 01F4      		brne .L53
 541               	.L58:
 542 037c EE24      		clr r14
 543 037e FF24      		clr r15
 544 0380 00C0      		rjmp .L44
 545               	.L53:
 546 0382 F801      		movw r30,r16
 547 0384 2081      		ld r18,Z
 548 0386 3181      		ldd r19,Z+1
 549 0388 2250      		subi r18,lo8(-(-2))
 550 038a 3040      		sbci r19,hi8(-(-2))
 551 038c B701      		movw r22,r14
 552 038e A901      		movw r20,r18
 553 0390 0E94 0000 		call memcpy
 554 0394 C601      		movw r24,r12
 555 0396 B701      		movw r22,r14
 556 0398 0E94 0000 		call NutHeapRootFree
 557 039c 7E01      		movw r14,r28
 558 039e 00C0      		rjmp .L44
 559               	.L47:
 560 03a0 C901      		movw r24,r18
 561 03a2 0497      		sbiw r24,4
 562 03a4 C817      		cp r28,r24
 563 03a6 D907      		cpc r29,r25
 564 03a8 00F4      		brsh .L44
 565 03aa 2C1B      		sub r18,r28
 566 03ac 3D0B      		sbc r19,r29
 567 03ae F801      		movw r30,r16
 568 03b0 EC0F      		add r30,r28
 569 03b2 FD1F      		adc r31,r29
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc8PViDu.s 			page 11


 570 03b4 2193      		st Z+,r18
 571 03b6 3193      		st Z+,r19
 572 03b8 C601      		movw r24,r12
 573 03ba BF01      		movw r22,r30
 574 03bc 0E94 0000 		call NutHeapRootFree
 575 03c0 F801      		movw r30,r16
 576 03c2 D183      		std Z+1,r29
 577 03c4 C083      		st Z,r28
 578               	.L44:
 579 03c6 C701      		movw r24,r14
 580               	/* epilogue start */
 581 03c8 DF91      		pop r29
 582 03ca CF91      		pop r28
 583 03cc 1F91      		pop r17
 584 03ce 0F91      		pop r16
 585 03d0 FF90      		pop r15
 586 03d2 EF90      		pop r14
 587 03d4 DF90      		pop r13
 588 03d6 CF90      		pop r12
 589 03d8 BF90      		pop r11
 590 03da AF90      		pop r10
 591 03dc 0895      		ret
 592               	.L59:
 593 03de BE01      		movw r22,r28
 594 03e0 621B      		sub r22,r18
 595 03e2 730B      		sbc r23,r19
 596 03e4 4D91      		ld r20,X+
 597 03e6 5C91      		ld r21,X
 598 03e8 1197      		sbiw r26,1
 599 03ea 4617      		cp r20,r22
 600 03ec 5707      		cpc r21,r23
 601 03ee 00F0      		brlo .+2
 602 03f0 00C0      		rjmp .L55
 603 03f2 00C0      		rjmp .L49
 604               		.size	NutHeapRootRealloc, .-NutHeapRootRealloc
 605               	.global	NutHeapRootAllocClear
 606               		.type	NutHeapRootAllocClear, @function
 607               	NutHeapRootAllocClear:
 608 03f4 0F93      		push r16
 609 03f6 1F93      		push r17
 610 03f8 CF93      		push r28
 611 03fa DF93      		push r29
 612               	/* prologue: function */
 613               	/* frame size = 0 */
 614 03fc 162F      		mov r17,r22
 615 03fe 072F      		mov r16,r23
 616 0400 0E94 0000 		call NutHeapRootAlloc
 617 0404 EC01      		movw r28,r24
 618 0406 0097      		sbiw r24,0
 619 0408 01F0      		breq .L61
 620 040a 60E0      		ldi r22,lo8(0)
 621 040c 70E0      		ldi r23,hi8(0)
 622 040e 412F      		mov r20,r17
 623 0410 502F      		mov r21,r16
 624 0412 0E94 0000 		call memset
 625               	.L61:
 626 0416 CE01      		movw r24,r28
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc8PViDu.s 			page 12


 627               	/* epilogue start */
 628 0418 DF91      		pop r29
 629 041a CF91      		pop r28
 630 041c 1F91      		pop r17
 631 041e 0F91      		pop r16
 632 0420 0895      		ret
 633               		.size	NutHeapRootAllocClear, .-NutHeapRootAllocClear
 634               		.comm heapFreeList,2,1
 635               	.global __do_copy_data
 636               	.global __do_clear_bss
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc8PViDu.s 			page 13


DEFINED SYMBOLS
                            *ABS*:00000000 heap.c
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc8PViDu.s:2      *ABS*:0000003f __SREG__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc8PViDu.s:3      *ABS*:0000003e __SP_H__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc8PViDu.s:4      *ABS*:0000003d __SP_L__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc8PViDu.s:5      *ABS*:00000034 __CCP__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc8PViDu.s:6      *ABS*:00000000 __tmp_reg__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc8PViDu.s:7      *ABS*:00000001 __zero_reg__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc8PViDu.s:11     .text:00000000 NutHeapRootAlloc
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc8PViDu.s:116    .text:000000b0 NutHeapRootFree
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc8PViDu.s:241    .text:00000188 NutHeapRootAdd
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc8PViDu.s:264    .text:000001aa NutHeapRootAvailable
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc8PViDu.s:292    .text:000001d0 NutHeapRootRegionAvailable
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc8PViDu.s:324    .text:000001fc NutHeapCheck
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc8PViDu.s:338    .text:00000202 NutHeapDump
                            *COM*:00000002 heapFreeList
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc8PViDu.s:407    .text:00000280 NutHeapRootRealloc
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cc8PViDu.s:607    .text:000003f4 NutHeapRootAllocClear

UNDEFINED SYMBOLS
fprintf
memcpy
memset
__do_copy_data
__do_clear_bss
