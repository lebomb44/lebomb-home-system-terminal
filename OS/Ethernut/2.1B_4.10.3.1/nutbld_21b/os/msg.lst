GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cckpWkGl.s 			page 1


   1               		.file	"msg.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__  = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.text
   9               	.global	NutMsgQFull
  10               		.type	NutMsgQFull, @function
  11               	NutMsgQFull:
  12               	/* prologue: function */
  13               	/* frame size = 0 */
  14 0000 FC01      		movw r30,r24
  15 0002 2781      		ldd r18,Z+7
  16 0004 30E0      		ldi r19,lo8(0)
  17 0006 2F5F      		subi r18,lo8(-(1))
  18 0008 3F4F      		sbci r19,hi8(-(1))
  19 000a 8085      		ldd r24,Z+8
  20 000c 90E0      		ldi r25,lo8(0)
  21 000e 2823      		and r18,r24
  22 0010 3923      		and r19,r25
  23 0012 8681      		ldd r24,Z+6
  24 0014 90E0      		ldi r25,lo8(0)
  25 0016 2817      		cp r18,r24
  26 0018 3907      		cpc r19,r25
  27 001a 01F0      		breq .L2
  28 001c 20E0      		ldi r18,lo8(0)
  29 001e 30E0      		ldi r19,hi8(0)
  30 0020 00C0      		rjmp .L3
  31               	.L2:
  32 0022 2FEF      		ldi r18,lo8(-1)
  33 0024 3FEF      		ldi r19,hi8(-1)
  34               	.L3:
  35 0026 C901      		movw r24,r18
  36               	/* epilogue start */
  37 0028 0895      		ret
  38               		.size	NutMsgQFull, .-NutMsgQFull
  39               	.global	NutMsgQFlush
  40               		.type	NutMsgQFlush, @function
  41               	NutMsgQFlush:
  42               	/* prologue: function */
  43               	/* frame size = 0 */
  44 002a FC01      		movw r30,r24
  45               	/* #APP */
  46               	 ;  385 "../../nut/os/msg.c" 1
  47 002c 0FB6      		in  __tmp_reg__, __SREG__
  48 002e F894      		cli
  49 0030 0F92      		push __tmp_reg__
  50               		
  51               	 ;  0 "" 2
  52               	/* #NOAPP */
  53 0032 8781      		ldd r24,Z+7
  54 0034 8683      		std Z+6,r24
  55 0036 1182      		std Z+1,__zero_reg__
  56 0038 1082      		st Z,__zero_reg__
  57               	/* #APP */
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cckpWkGl.s 			page 2


  58               	 ;  395 "../../nut/os/msg.c" 1
  59 003a 0F90      		pop __tmp_reg__
  60 003c 0FBE      		out __SREG__, __tmp_reg__
  61               		
  62               	 ;  0 "" 2
  63               	/* epilogue start */
  64               	/* #NOAPP */
  65 003e 0895      		ret
  66               		.size	NutMsgQFlush, .-NutMsgQFlush
  67               	.global	NutMsgQGetMessage
  68               		.type	NutMsgQGetMessage, @function
  69               	NutMsgQGetMessage:
  70 0040 EF92      		push r14
  71 0042 FF92      		push r15
  72 0044 0F93      		push r16
  73 0046 1F93      		push r17
  74 0048 CF93      		push r28
  75 004a DF93      		push r29
  76               	/* prologue: function */
  77               	/* frame size = 0 */
  78 004c EC01      		movw r28,r24
  79 004e 8B01      		movw r16,r22
  80               	/* #APP */
  81               	 ;  347 "../../nut/os/msg.c" 1
  82 0050 0FB6      		in  __tmp_reg__, __SREG__
  83 0052 F894      		cli
  84 0054 0F92      		push __tmp_reg__
  85               		
  86               	 ;  0 "" 2
  87               	/* #NOAPP */
  88 0056 F82E      		mov r15,r24
  89 0058 ED2E      		mov r14,r29
  90 005a BA01      		movw r22,r20
  91 005c A901      		movw r20,r18
  92 005e 0E94 0000 		call NutEventWait
  93 0062 892B      		or r24,r25
  94 0064 01F0      		breq .L8
  95               	/* #APP */
  96               	 ;  350 "../../nut/os/msg.c" 1
  97 0066 0F90      		pop __tmp_reg__
  98 0068 0FBE      		out __SREG__, __tmp_reg__
  99               		
 100               	 ;  0 "" 2
 101               	/* #NOAPP */
 102 006a 2FEF      		ldi r18,lo8(-1)
 103 006c 3FEF      		ldi r19,hi8(-1)
 104 006e 00C0      		rjmp .L9
 105               	.L8:
 106 0070 8E81      		ldd r24,Y+6
 107 0072 90E0      		ldi r25,lo8(0)
 108 0074 FC01      		movw r30,r24
 109 0076 EE0F      		lsl r30
 110 0078 FF1F      		rol r31
 111 007a EE0F      		lsl r30
 112 007c FF1F      		rol r31
 113 007e E80F      		add r30,r24
 114 0080 F91F      		adc r31,r25
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cckpWkGl.s 			page 3


 115 0082 EC0F      		add r30,r28
 116 0084 FD1F      		adc r31,r29
 117 0086 D801      		movw r26,r16
 118 0088 3996      		adiw r30,9
 119 008a 85E0      		ldi r24,lo8(5)
 120               	.L10:
 121 008c 0190      		ld r0,Z+
 122 008e 0D92      		st X+,r0
 123 0090 8150      		subi r24,lo8(-(-1))
 124 0092 01F4      		brne .L10
 125 0094 8E81      		ldd r24,Y+6
 126 0096 8F5F      		subi r24,lo8(-(1))
 127 0098 9885      		ldd r25,Y+8
 128 009a 8923      		and r24,r25
 129 009c 8E83      		std Y+6,r24
 130 009e 9F81      		ldd r25,Y+7
 131 00a0 8917      		cp r24,r25
 132 00a2 01F0      		breq .L11
 133 00a4 8F2D      		mov r24,r15
 134 00a6 9E2D      		mov r25,r14
 135 00a8 0E94 0000 		call NutEventPostAsync
 136               	.L11:
 137               	/* #APP */
 138               	 ;  365 "../../nut/os/msg.c" 1
 139 00ac 0F90      		pop __tmp_reg__
 140 00ae 0FBE      		out __SREG__, __tmp_reg__
 141               		
 142               	 ;  0 "" 2
 143               	/* #NOAPP */
 144 00b0 F801      		movw r30,r16
 145 00b2 8081      		ld r24,Z
 146 00b4 8E3F      		cpi r24,lo8(-2)
 147 00b6 01F4      		brne .L12
 148 00b8 2381      		ldd r18,Z+3
 149 00ba 3481      		ldd r19,Z+4
 150 00bc F901      		movw r30,r18
 151 00be 8481      		ldd r24,Z+4
 152 00c0 9581      		ldd r25,Z+5
 153 00c2 F801      		movw r30,r16
 154 00c4 9483      		std Z+4,r25
 155 00c6 8383      		std Z+3,r24
 156 00c8 F901      		movw r30,r18
 157 00ca 8281      		ldd r24,Z+2
 158 00cc 9381      		ldd r25,Z+3
 159 00ce F801      		movw r30,r16
 160 00d0 9283      		std Z+2,r25
 161 00d2 8183      		std Z+1,r24
 162 00d4 F901      		movw r30,r18
 163 00d6 8285      		ldd r24,Z+10
 164 00d8 80FF      		sbrs r24,0
 165 00da 00C0      		rjmp .L12
 166 00dc EA81      		ldd r30,Y+2
 167 00de FB81      		ldd r31,Y+3
 168 00e0 DE01      		movw r26,r28
 169 00e2 1296      		adiw r26,2
 170 00e4 00C0      		rjmp .L13
 171               	.L15:
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cckpWkGl.s 			page 4


 172 00e6 4085      		ldd r20,Z+8
 173 00e8 5185      		ldd r21,Z+9
 174 00ea E217      		cp r30,r18
 175 00ec F307      		cpc r31,r19
 176 00ee 01F4      		brne .L14
 177 00f0 4C93      		st X,r20
 178 00f2 1196      		adiw r26,1
 179 00f4 5C93      		st X,r21
 180 00f6 8091 0000 		lds r24,nutMsgFreeTimers
 181 00fa 9091 0000 		lds r25,(nutMsgFreeTimers)+1
 182 00fe 9187      		std Z+9,r25
 183 0100 8087      		std Z+8,r24
 184 0102 F093 0000 		sts (nutMsgFreeTimers)+1,r31
 185 0106 E093 0000 		sts nutMsgFreeTimers,r30
 186 010a 00C0      		rjmp .L12
 187               	.L14:
 188 010c DF01      		movw r26,r30
 189 010e 1896      		adiw r26,8
 190 0110 CA01      		movw r24,r20
 191 0112 FC01      		movw r30,r24
 192               	.L13:
 193 0114 3097      		sbiw r30,0
 194 0116 01F4      		brne .L15
 195               	.L12:
 196 0118 20E0      		ldi r18,lo8(0)
 197 011a 30E0      		ldi r19,hi8(0)
 198               	.L9:
 199 011c C901      		movw r24,r18
 200               	/* epilogue start */
 201 011e DF91      		pop r29
 202 0120 CF91      		pop r28
 203 0122 1F91      		pop r17
 204 0124 0F91      		pop r16
 205 0126 FF90      		pop r15
 206 0128 EF90      		pop r14
 207 012a 0895      		ret
 208               		.size	NutMsgQGetMessage, .-NutMsgQGetMessage
 209               	.global	NutMsgQPost
 210               		.type	NutMsgQPost, @function
 211               	NutMsgQPost:
 212 012c 1F93      		push r17
 213 012e CF93      		push r28
 214 0130 DF93      		push r29
 215               	/* prologue: function */
 216               	/* frame size = 0 */
 217 0132 DC01      		movw r26,r24
 218 0134 162F      		mov r17,r22
 219 0136 BA01      		movw r22,r20
 220 0138 E901      		movw r28,r18
 221               	/* #APP */
 222               	 ;  160 "../../nut/os/msg.c" 1
 223 013a 0FB6      		in  __tmp_reg__, __SREG__
 224 013c F894      		cli
 225 013e 0F92      		push __tmp_reg__
 226               		
 227               	 ;  0 "" 2
 228               	/* #NOAPP */
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cckpWkGl.s 			page 5


 229 0140 1796      		adiw r26,7
 230 0142 8C91      		ld r24,X
 231 0144 1797      		sbiw r26,7
 232 0146 482F      		mov r20,r24
 233 0148 50E0      		ldi r21,lo8(0)
 234 014a 9A01      		movw r18,r20
 235 014c 2F5F      		subi r18,lo8(-(1))
 236 014e 3F4F      		sbci r19,hi8(-(1))
 237 0150 1896      		adiw r26,8
 238 0152 8C91      		ld r24,X
 239 0154 1897      		sbiw r26,8
 240 0156 90E0      		ldi r25,lo8(0)
 241 0158 2823      		and r18,r24
 242 015a 3923      		and r19,r25
 243 015c 1696      		adiw r26,6
 244 015e 8C91      		ld r24,X
 245 0160 1697      		sbiw r26,6
 246 0162 90E0      		ldi r25,lo8(0)
 247 0164 2817      		cp r18,r24
 248 0166 3907      		cpc r19,r25
 249 0168 01F4      		brne .L19
 250               	/* #APP */
 251               	 ;  163 "../../nut/os/msg.c" 1
 252 016a 0F90      		pop __tmp_reg__
 253 016c 0FBE      		out __SREG__, __tmp_reg__
 254               		
 255               	 ;  0 "" 2
 256               	/* #NOAPP */
 257 016e 2FEF      		ldi r18,lo8(-1)
 258 0170 3FEF      		ldi r19,hi8(-1)
 259               	.L20:
 260 0172 C901      		movw r24,r18
 261               	/* epilogue start */
 262 0174 DF91      		pop r29
 263 0176 CF91      		pop r28
 264 0178 1F91      		pop r17
 265 017a 0895      		ret
 266               	.L19:
 267 017c FA01      		movw r30,r20
 268 017e EE0F      		lsl r30
 269 0180 FF1F      		rol r31
 270 0182 EE0F      		lsl r30
 271 0184 FF1F      		rol r31
 272 0186 E40F      		add r30,r20
 273 0188 F51F      		adc r31,r21
 274 018a EA0F      		add r30,r26
 275 018c FB1F      		adc r31,r27
 276 018e 1187      		std Z+9,r17
 277 0190 7387      		std Z+11,r23
 278 0192 6287      		std Z+10,r22
 279 0194 D587      		std Z+13,r29
 280 0196 C487      		std Z+12,r28
 281 0198 1796      		adiw r26,7
 282 019a 8C91      		ld r24,X
 283 019c 1797      		sbiw r26,7
 284 019e 8F5F      		subi r24,lo8(-(1))
 285 01a0 1896      		adiw r26,8
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cckpWkGl.s 			page 6


 286 01a2 9C91      		ld r25,X
 287 01a4 1897      		sbiw r26,8
 288 01a6 8923      		and r24,r25
 289 01a8 1796      		adiw r26,7
 290 01aa 8C93      		st X,r24
 291 01ac 1797      		sbiw r26,7
 292               	/* #APP */
 293               	 ;  176 "../../nut/os/msg.c" 1
 294 01ae 0F90      		pop __tmp_reg__
 295 01b0 0FBE      		out __SREG__, __tmp_reg__
 296               		
 297               	 ;  0 "" 2
 298               	/* #NOAPP */
 299 01b2 CD01      		movw r24,r26
 300 01b4 0E94 0000 		call NutEventPostAsync
 301 01b8 20E0      		ldi r18,lo8(0)
 302 01ba 30E0      		ldi r19,hi8(0)
 303 01bc 00C0      		rjmp .L20
 304               		.size	NutMsgQPost, .-NutMsgQPost
 305               	.global	NutMsgQBroadcast
 306               		.type	NutMsgQBroadcast, @function
 307               	NutMsgQBroadcast:
 308 01be BF92      		push r11
 309 01c0 CF92      		push r12
 310 01c2 DF92      		push r13
 311 01c4 EF92      		push r14
 312 01c6 FF92      		push r15
 313 01c8 0F93      		push r16
 314 01ca 1F93      		push r17
 315 01cc CF93      		push r28
 316 01ce DF93      		push r29
 317               	/* prologue: function */
 318               	/* frame size = 0 */
 319 01d0 B82E      		mov r11,r24
 320 01d2 6B01      		movw r12,r22
 321 01d4 7A01      		movw r14,r20
 322 01d6 C091 0000 		lds r28,nutMsgQue
 323 01da D091 0000 		lds r29,(nutMsgQue)+1
 324 01de 00E0      		ldi r16,lo8(0)
 325 01e0 10E0      		ldi r17,hi8(0)
 326 01e2 00C0      		rjmp .L23
 327               	.L24:
 328 01e4 CE01      		movw r24,r28
 329 01e6 6B2D      		mov r22,r11
 330 01e8 A601      		movw r20,r12
 331 01ea 9701      		movw r18,r14
 332 01ec 0E94 0000 		call NutMsgQPost
 333 01f0 081B      		sub r16,r24
 334 01f2 190B      		sbc r17,r25
 335 01f4 0C80      		ldd __tmp_reg__,Y+4
 336 01f6 DD81      		ldd r29,Y+5
 337 01f8 C02D      		mov r28,__tmp_reg__
 338               	.L23:
 339 01fa 2097      		sbiw r28,0
 340 01fc 01F4      		brne .L24
 341 01fe C801      		movw r24,r16
 342               	/* epilogue start */
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cckpWkGl.s 			page 7


 343 0200 DF91      		pop r29
 344 0202 CF91      		pop r28
 345 0204 1F91      		pop r17
 346 0206 0F91      		pop r16
 347 0208 FF90      		pop r15
 348 020a EF90      		pop r14
 349 020c DF90      		pop r13
 350 020e CF90      		pop r12
 351 0210 BF90      		pop r11
 352 0212 0895      		ret
 353               		.size	NutMsgQBroadcast, .-NutMsgQBroadcast
 354               	.global	NutMsgQStopTimer
 355               		.type	NutMsgQStopTimer, @function
 356               	NutMsgQStopTimer:
 357 0214 0F93      		push r16
 358 0216 1F93      		push r17
 359 0218 CF93      		push r28
 360 021a DF93      		push r29
 361               	/* prologue: function */
 362               	/* frame size = 0 */
 363 021c EC01      		movw r28,r24
 364 021e 0881      		ld r16,Y
 365 0220 1981      		ldd r17,Y+1
 366               	/* #APP */
 367               	 ;  314 "../../nut/os/msg.c" 1
 368 0222 0FB6      		in  __tmp_reg__, __SREG__
 369 0224 F894      		cli
 370 0226 0F92      		push __tmp_reg__
 371               		
 372               	 ;  0 "" 2
 373               	/* #NOAPP */
 374 0228 D801      		movw r26,r16
 375 022a 1696      		adiw r26,6
 376 022c 2C91      		ld r18,X
 377 022e 3FEF      		ldi r19,lo8(-1)
 378 0230 00C0      		rjmp .L27
 379               	.L29:
 380 0232 822F      		mov r24,r18
 381 0234 90E0      		ldi r25,lo8(0)
 382 0236 FC01      		movw r30,r24
 383 0238 EE0F      		lsl r30
 384 023a FF1F      		rol r31
 385 023c EE0F      		lsl r30
 386 023e FF1F      		rol r31
 387 0240 E80F      		add r30,r24
 388 0242 F91F      		adc r31,r25
 389 0244 E00F      		add r30,r16
 390 0246 F11F      		adc r31,r17
 391 0248 8185      		ldd r24,Z+9
 392 024a 8E3F      		cpi r24,lo8(-2)
 393 024c 01F4      		brne .L28
 394 024e 8485      		ldd r24,Z+12
 395 0250 9585      		ldd r25,Z+13
 396 0252 8C17      		cp r24,r28
 397 0254 9D07      		cpc r25,r29
 398 0256 01F4      		brne .L28
 399 0258 3187      		std Z+9,r19
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cckpWkGl.s 			page 8


 400               	.L28:
 401 025a 2F5F      		subi r18,lo8(-(1))
 402 025c F801      		movw r30,r16
 403 025e 8085      		ldd r24,Z+8
 404 0260 2823      		and r18,r24
 405               	.L27:
 406 0262 D801      		movw r26,r16
 407 0264 1796      		adiw r26,7
 408 0266 8C91      		ld r24,X
 409 0268 2817      		cp r18,r24
 410 026a 01F4      		brne .L29
 411 026c 8E81      		ldd r24,Y+6
 412 026e 9F81      		ldd r25,Y+7
 413 0270 0097      		sbiw r24,0
 414 0272 01F0      		breq .L30
 415 0274 0E94 0000 		call NutTimerStop
 416               	.L30:
 417               	/* #APP */
 418               	 ;  330 "../../nut/os/msg.c" 1
 419 0278 0F90      		pop __tmp_reg__
 420 027a 0FBE      		out __SREG__, __tmp_reg__
 421               		
 422               	 ;  0 "" 2
 423               	/* #NOAPP */
 424 027c D801      		movw r26,r16
 425 027e 1296      		adiw r26,2
 426 0280 ED91      		ld r30,X+
 427 0282 FC91      		ld r31,X
 428 0284 1397      		sbiw r26,2+1
 429 0286 1296      		adiw r26,2
 430 0288 00C0      		rjmp .L31
 431               	.L34:
 432 028a 2085      		ldd r18,Z+8
 433 028c 3185      		ldd r19,Z+9
 434 028e EC17      		cp r30,r28
 435 0290 FD07      		cpc r31,r29
 436 0292 01F4      		brne .L32
 437 0294 2C93      		st X,r18
 438 0296 1196      		adiw r26,1
 439 0298 3C93      		st X,r19
 440 029a 8091 0000 		lds r24,nutMsgFreeTimers
 441 029e 9091 0000 		lds r25,(nutMsgFreeTimers)+1
 442 02a2 9187      		std Z+9,r25
 443 02a4 8087      		std Z+8,r24
 444 02a6 F093 0000 		sts (nutMsgFreeTimers)+1,r31
 445 02aa E093 0000 		sts nutMsgFreeTimers,r30
 446 02ae 00C0      		rjmp .L35
 447               	.L32:
 448 02b0 DF01      		movw r26,r30
 449 02b2 1896      		adiw r26,8
 450 02b4 C901      		movw r24,r18
 451 02b6 FC01      		movw r30,r24
 452               	.L31:
 453 02b8 3097      		sbiw r30,0
 454 02ba 01F4      		brne .L34
 455               	.L35:
 456               	/* epilogue start */
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cckpWkGl.s 			page 9


 457 02bc DF91      		pop r29
 458 02be CF91      		pop r28
 459 02c0 1F91      		pop r17
 460 02c2 0F91      		pop r16
 461 02c4 0895      		ret
 462               		.size	NutMsgQStopTimer, .-NutMsgQStopTimer
 463               	.global	NutMsgQStartTimer
 464               		.type	NutMsgQStartTimer, @function
 465               	NutMsgQStartTimer:
 466 02c6 6F92      		push r6
 467 02c8 7F92      		push r7
 468 02ca 8F92      		push r8
 469 02cc 9F92      		push r9
 470 02ce AF92      		push r10
 471 02d0 BF92      		push r11
 472 02d2 CF92      		push r12
 473 02d4 DF92      		push r13
 474 02d6 EF92      		push r14
 475 02d8 0F93      		push r16
 476 02da 1F93      		push r17
 477 02dc CF93      		push r28
 478 02de DF93      		push r29
 479               	/* prologue: function */
 480               	/* frame size = 0 */
 481 02e0 6C01      		movw r12,r24
 482 02e2 4A01      		movw r8,r20
 483 02e4 5B01      		movw r10,r22
 484 02e6 3901      		movw r6,r18
 485 02e8 C091 0000 		lds r28,nutMsgFreeTimers
 486 02ec D091 0000 		lds r29,(nutMsgFreeTimers)+1
 487 02f0 2097      		sbiw r28,0
 488 02f2 01F0      		breq .L37
 489 02f4 8885      		ldd r24,Y+8
 490 02f6 9985      		ldd r25,Y+9
 491 02f8 9093 0000 		sts (nutMsgFreeTimers)+1,r25
 492 02fc 8093 0000 		sts nutMsgFreeTimers,r24
 493 0300 00C0      		rjmp .L38
 494               	.L37:
 495 0302 80E0      		ldi r24,lo8(heapFreeList)
 496 0304 90E0      		ldi r25,hi8(heapFreeList)
 497 0306 6BE0      		ldi r22,lo8(11)
 498 0308 70E0      		ldi r23,hi8(11)
 499 030a 0E94 0000 		call NutHeapRootAlloc
 500 030e EC01      		movw r28,r24
 501               	.L38:
 502 0310 D982      		std Y+1,r13
 503 0312 C882      		st Y,r12
 504 0314 1D83      		std Y+5,r17
 505 0316 0C83      		std Y+4,r16
 506 0318 7B82      		std Y+3,r7
 507 031a 6A82      		std Y+2,r6
 508 031c EA86      		std Y+10,r14
 509 031e C501      		movw r24,r10
 510 0320 B401      		movw r22,r8
 511 0322 40E0      		ldi r20,lo8(gs(NutMsgQTimerCb))
 512 0324 50E0      		ldi r21,hi8(gs(NutMsgQTimerCb))
 513 0326 9E01      		movw r18,r28
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cckpWkGl.s 			page 10


 514 0328 0E2D      		mov r16,r14
 515 032a 0E94 0000 		call NutTimerStart
 516 032e 9F83      		std Y+7,r25
 517 0330 8E83      		std Y+6,r24
 518 0332 F601      		movw r30,r12
 519 0334 8281      		ldd r24,Z+2
 520 0336 9381      		ldd r25,Z+3
 521 0338 9987      		std Y+9,r25
 522 033a 8887      		std Y+8,r24
 523 033c D383      		std Z+3,r29
 524 033e C283      		std Z+2,r28
 525 0340 CE01      		movw r24,r28
 526               	/* epilogue start */
 527 0342 DF91      		pop r29
 528 0344 CF91      		pop r28
 529 0346 1F91      		pop r17
 530 0348 0F91      		pop r16
 531 034a EF90      		pop r14
 532 034c DF90      		pop r13
 533 034e CF90      		pop r12
 534 0350 BF90      		pop r11
 535 0352 AF90      		pop r10
 536 0354 9F90      		pop r9
 537 0356 8F90      		pop r8
 538 0358 7F90      		pop r7
 539 035a 6F90      		pop r6
 540 035c 0895      		ret
 541               		.size	NutMsgQStartTimer, .-NutMsgQStartTimer
 542               		.type	NutMsgQTimerCb, @function
 543               	NutMsgQTimerCb:
 544 035e 0F93      		push r16
 545 0360 CF93      		push r28
 546 0362 DF93      		push r29
 547               	/* prologue: function */
 548               	/* frame size = 0 */
 549 0364 EB01      		movw r28,r22
 550 0366 8881      		ld r24,Y
 551 0368 9981      		ldd r25,Y+1
 552 036a 6EEF      		ldi r22,lo8(-2)
 553 036c 40E0      		ldi r20,lo8(0)
 554 036e 50E0      		ldi r21,hi8(0)
 555 0370 9E01      		movw r18,r28
 556 0372 0E94 0000 		call NutMsgQPost
 557 0376 2A85      		ldd r18,Y+10
 558 0378 892B      		or r24,r25
 559 037a 01F0      		breq .L41
 560 037c 2223      		tst r18
 561 037e 01F0      		breq .L43
 562 0380 61E0      		ldi r22,lo8(1)
 563 0382 70E0      		ldi r23,hi8(1)
 564 0384 80E0      		ldi r24,hlo8(1)
 565 0386 90E0      		ldi r25,hhi8(1)
 566 0388 40E0      		ldi r20,lo8(gs(NutMsgQTimerCb))
 567 038a 50E0      		ldi r21,hi8(gs(NutMsgQTimerCb))
 568 038c 9E01      		movw r18,r28
 569 038e 01E0      		ldi r16,lo8(1)
 570 0390 0E94 0000 		call NutTimerStartTicks
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cckpWkGl.s 			page 11


 571 0394 9F83      		std Y+7,r25
 572 0396 8E83      		std Y+6,r24
 573 0398 00C0      		rjmp .L43
 574               	.L41:
 575 039a 2223      		tst r18
 576 039c 01F0      		breq .L43
 577 039e 1F82      		std Y+7,__zero_reg__
 578 03a0 1E82      		std Y+6,__zero_reg__
 579               	.L43:
 580               	/* epilogue start */
 581 03a2 DF91      		pop r29
 582 03a4 CF91      		pop r28
 583 03a6 0F91      		pop r16
 584 03a8 0895      		ret
 585               		.size	NutMsgQTimerCb, .-NutMsgQTimerCb
 586               	.global	NutMsgQSend
 587               		.type	NutMsgQSend, @function
 588               	NutMsgQSend:
 589               	/* prologue: function */
 590               	/* frame size = 0 */
 591 03aa 0E94 0000 		call NutMsgQPost
 592 03ae 892B      		or r24,r25
 593 03b0 01F0      		breq .L45
 594 03b2 2FEF      		ldi r18,lo8(-1)
 595 03b4 3FEF      		ldi r19,hi8(-1)
 596 03b6 00C0      		rjmp .L46
 597               	.L45:
 598 03b8 0E94 0000 		call NutThreadYield
 599 03bc 20E0      		ldi r18,lo8(0)
 600 03be 30E0      		ldi r19,hi8(0)
 601               	.L46:
 602 03c0 C901      		movw r24,r18
 603               	/* epilogue start */
 604 03c2 0895      		ret
 605               		.size	NutMsgQSend, .-NutMsgQSend
 606               	.global	NutMsgQCreate
 607               		.type	NutMsgQCreate, @function
 608               	NutMsgQCreate:
 609 03c4 1F93      		push r17
 610               	/* prologue: function */
 611               	/* frame size = 0 */
 612 03c6 21E0      		ldi r18,lo8(1)
 613 03c8 30E0      		ldi r19,hi8(1)
 614 03ca 00C0      		rjmp 2f
 615 03cc 220F      	1:	lsl r18
 616 03ce 331F      		rol r19
 617 03d0 8A95      	2:	dec r24
 618 03d2 02F4      		brpl 1b
 619 03d4 122F      		mov r17,r18
 620 03d6 65E0      		ldi r22,lo8(5)
 621 03d8 269F      		mul r18,r22
 622 03da B001      		movw r22,r0
 623 03dc 1124      		clr r1
 624 03de 625F      		subi r22,lo8(-(14))
 625 03e0 7F4F      		sbci r23,hi8(-(14))
 626 03e2 80E0      		ldi r24,lo8(heapFreeList)
 627 03e4 90E0      		ldi r25,hi8(heapFreeList)
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cckpWkGl.s 			page 12


 628 03e6 0E94 0000 		call NutHeapRootAllocClear
 629 03ea FC01      		movw r30,r24
 630 03ec 0097      		sbiw r24,0
 631 03ee 01F0      		breq .L49
 632 03f0 1150      		subi r17,lo8(-(-1))
 633 03f2 1087      		std Z+8,r17
 634 03f4 8091 0000 		lds r24,nutMsgQue
 635 03f8 9091 0000 		lds r25,(nutMsgQue)+1
 636 03fc 9583      		std Z+5,r25
 637 03fe 8483      		std Z+4,r24
 638 0400 F093 0000 		sts (nutMsgQue)+1,r31
 639 0404 E093 0000 		sts nutMsgQue,r30
 640               	.L49:
 641 0408 CF01      		movw r24,r30
 642               	/* epilogue start */
 643 040a 1F91      		pop r17
 644 040c 0895      		ret
 645               		.size	NutMsgQCreate, .-NutMsgQCreate
 646               		.comm nutMsgQue,2,1
 647               		.comm nutMsgFreeTimers,2,1
 648               	.global __do_clear_bss
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cckpWkGl.s 			page 13


DEFINED SYMBOLS
                            *ABS*:00000000 msg.c
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cckpWkGl.s:2      *ABS*:0000003f __SREG__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cckpWkGl.s:3      *ABS*:0000003e __SP_H__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cckpWkGl.s:4      *ABS*:0000003d __SP_L__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cckpWkGl.s:5      *ABS*:00000034 __CCP__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cckpWkGl.s:6      *ABS*:00000000 __tmp_reg__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cckpWkGl.s:7      *ABS*:00000001 __zero_reg__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cckpWkGl.s:11     .text:00000000 NutMsgQFull
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cckpWkGl.s:41     .text:0000002a NutMsgQFlush
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cckpWkGl.s:69     .text:00000040 NutMsgQGetMessage
                            *COM*:00000002 nutMsgFreeTimers
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cckpWkGl.s:211    .text:0000012c NutMsgQPost
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cckpWkGl.s:307    .text:000001be NutMsgQBroadcast
                            *COM*:00000002 nutMsgQue
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cckpWkGl.s:356    .text:00000214 NutMsgQStopTimer
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cckpWkGl.s:465    .text:000002c6 NutMsgQStartTimer
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cckpWkGl.s:543    .text:0000035e NutMsgQTimerCb
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cckpWkGl.s:588    .text:000003aa NutMsgQSend
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cckpWkGl.s:608    .text:000003c4 NutMsgQCreate

UNDEFINED SYMBOLS
NutEventWait
NutEventPostAsync
NutTimerStop
heapFreeList
NutHeapRootAlloc
NutTimerStart
NutTimerStartTicks
NutThreadYield
NutHeapRootAllocClear
__do_clear_bss
