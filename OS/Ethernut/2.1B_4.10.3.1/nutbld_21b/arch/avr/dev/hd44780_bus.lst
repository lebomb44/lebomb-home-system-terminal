GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsy7To4.s 			page 1


   1               		.file	"hd44780_bus.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__  = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.text
   9               		.type	LcdBusyWait, @function
  10               	LcdBusyWait:
  11               	/* prologue: function */
  12               	/* frame size = 0 */
  13 0000 E091 0000 		lds r30,lcd_base
  14 0004 F091 0000 		lds r31,(lcd_base)+1
  15 0008 3296      		adiw r30,2
  16 000a 00C0      		rjmp .L2
  17               	.L3:
  18               	/* #APP */
  19               	 ;  144 "../../nut/arch/avr/dev/hd44780_bus.c" 1
  20 000c 0000      		nop
  21               	 ;  0 "" 2
  22               	/* #NOAPP */
  23               	.L2:
  24 000e 8081      		ld r24,Z
  25 0010 87FD      		sbrc r24,7
  26 0012 00C0      		rjmp .L3
  27               	/* #APP */
  28               	 ;  144 "../../nut/arch/avr/dev/hd44780_bus.c" 1
  29 0014 0000      		nop
  30               	 ;  0 "" 2
  31               	 ;  145 "../../nut/arch/avr/dev/hd44780_bus.c" 1
  32 0016 0000      		nop
  33               	 ;  0 "" 2
  34               	 ;  145 "../../nut/arch/avr/dev/hd44780_bus.c" 1
  35 0018 0000      		nop
  36               	 ;  0 "" 2
  37               	 ;  146 "../../nut/arch/avr/dev/hd44780_bus.c" 1
  38 001a 0000      		nop
  39               	 ;  0 "" 2
  40               	 ;  146 "../../nut/arch/avr/dev/hd44780_bus.c" 1
  41 001c 0000      		nop
  42               	 ;  0 "" 2
  43               	 ;  147 "../../nut/arch/avr/dev/hd44780_bus.c" 1
  44 001e 0000      		nop
  45               	 ;  0 "" 2
  46               	 ;  147 "../../nut/arch/avr/dev/hd44780_bus.c" 1
  47 0020 0000      		nop
  48               	 ;  0 "" 2
  49               	 ;  148 "../../nut/arch/avr/dev/hd44780_bus.c" 1
  50 0022 0000      		nop
  51               	 ;  0 "" 2
  52               	 ;  148 "../../nut/arch/avr/dev/hd44780_bus.c" 1
  53 0024 0000      		nop
  54               	 ;  0 "" 2
  55               	 ;  149 "../../nut/arch/avr/dev/hd44780_bus.c" 1
  56 0026 0000      		nop
  57               	 ;  0 "" 2
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsy7To4.s 			page 2


  58               	 ;  149 "../../nut/arch/avr/dev/hd44780_bus.c" 1
  59 0028 0000      		nop
  60               	 ;  0 "" 2
  61               	 ;  150 "../../nut/arch/avr/dev/hd44780_bus.c" 1
  62 002a 0000      		nop
  63               	 ;  0 "" 2
  64               	 ;  150 "../../nut/arch/avr/dev/hd44780_bus.c" 1
  65 002c 0000      		nop
  66               	 ;  0 "" 2
  67               	 ;  151 "../../nut/arch/avr/dev/hd44780_bus.c" 1
  68 002e 0000      		nop
  69               	 ;  0 "" 2
  70               	 ;  151 "../../nut/arch/avr/dev/hd44780_bus.c" 1
  71 0030 0000      		nop
  72               	 ;  0 "" 2
  73               	 ;  152 "../../nut/arch/avr/dev/hd44780_bus.c" 1
  74 0032 0000      		nop
  75               	 ;  0 "" 2
  76               	 ;  152 "../../nut/arch/avr/dev/hd44780_bus.c" 1
  77 0034 0000      		nop
  78               	 ;  0 "" 2
  79               	 ;  153 "../../nut/arch/avr/dev/hd44780_bus.c" 1
  80 0036 0000      		nop
  81               	 ;  0 "" 2
  82               	 ;  153 "../../nut/arch/avr/dev/hd44780_bus.c" 1
  83 0038 0000      		nop
  84               	 ;  0 "" 2
  85               	 ;  154 "../../nut/arch/avr/dev/hd44780_bus.c" 1
  86 003a 0000      		nop
  87               	 ;  0 "" 2
  88               	 ;  154 "../../nut/arch/avr/dev/hd44780_bus.c" 1
  89 003c 0000      		nop
  90               	 ;  0 "" 2
  91               	 ;  155 "../../nut/arch/avr/dev/hd44780_bus.c" 1
  92 003e 0000      		nop
  93               	 ;  0 "" 2
  94               	 ;  155 "../../nut/arch/avr/dev/hd44780_bus.c" 1
  95 0040 0000      		nop
  96               	 ;  0 "" 2
  97               	 ;  156 "../../nut/arch/avr/dev/hd44780_bus.c" 1
  98 0042 0000      		nop
  99               	 ;  0 "" 2
 100               	 ;  156 "../../nut/arch/avr/dev/hd44780_bus.c" 1
 101 0044 0000      		nop
 102               	 ;  0 "" 2
 103               	/* epilogue start */
 104               	/* #NOAPP */
 105 0046 0895      		ret
 106               		.size	LcdBusyWait, .-LcdBusyWait
 107               		.type	LcdWriteData, @function
 108               	LcdWriteData:
 109 0048 1F93      		push r17
 110               	/* prologue: function */
 111               	/* frame size = 0 */
 112 004a 182F      		mov r17,r24
 113 004c 0E94 0000 		call LcdBusyWait
 114 0050 E091 0000 		lds r30,lcd_base
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsy7To4.s 			page 3


 115 0054 F091 0000 		lds r31,(lcd_base)+1
 116 0058 1183      		std Z+1,r17
 117               	/* epilogue start */
 118 005a 1F91      		pop r17
 119 005c 0895      		ret
 120               		.size	LcdWriteData, .-LcdWriteData
 121               		.type	LcdWriteCmd, @function
 122               	LcdWriteCmd:
 123 005e 1F93      		push r17
 124               	/* prologue: function */
 125               	/* frame size = 0 */
 126 0060 182F      		mov r17,r24
 127 0062 0E94 0000 		call LcdBusyWait
 128 0066 E091 0000 		lds r30,lcd_base
 129 006a F091 0000 		lds r31,(lcd_base)+1
 130 006e 1083      		st Z,r17
 131               	/* epilogue start */
 132 0070 1F91      		pop r17
 133 0072 0895      		ret
 134               		.size	LcdWriteCmd, .-LcdWriteCmd
 135               		.type	LcdSetCursor, @function
 136               	LcdSetCursor:
 137 0074 1F93      		push r17
 138 0076 DF93      		push r29
 139 0078 CF93      		push r28
 140 007a 00D0      		rcall .
 141 007c 00D0      		rcall .
 142 007e CDB7      		in r28,__SP_L__
 143 0080 DEB7      		in r29,__SP_H__
 144               	/* prologue: function */
 145               	/* frame size = 4 */
 146 0082 1982      		std Y+1,__zero_reg__
 147 0084 90E4      		ldi r25,lo8(64)
 148 0086 9A83      		std Y+2,r25
 149 0088 90E1      		ldi r25,lo8(16)
 150 008a 9B83      		std Y+3,r25
 151 008c 90E5      		ldi r25,lo8(80)
 152 008e 9C83      		std Y+4,r25
 153 0090 982F      		mov r25,r24
 154 0092 9F70      		andi r25,lo8(15)
 155 0094 8295      		swap r24
 156 0096 8F70      		andi r24,lo8(15)
 157 0098 8430      		cpi r24,lo8(4)
 158 009a 00F0      		brlo .L10
 159 009c 83E0      		ldi r24,lo8(3)
 160               	.L10:
 161 009e FE01      		movw r30,r28
 162 00a0 E80F      		add r30,r24
 163 00a2 F11D      		adc r31,__zero_reg__
 164 00a4 1181      		ldd r17,Z+1
 165 00a6 190F      		add r17,r25
 166 00a8 1068      		ori r17,lo8(-128)
 167 00aa 0E94 0000 		call LcdBusyWait
 168 00ae E091 0000 		lds r30,lcd_base
 169 00b2 F091 0000 		lds r31,(lcd_base)+1
 170 00b6 1083      		st Z,r17
 171               	/* epilogue start */
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsy7To4.s 			page 4


 172 00b8 0F90      		pop __tmp_reg__
 173 00ba 0F90      		pop __tmp_reg__
 174 00bc 0F90      		pop __tmp_reg__
 175 00be 0F90      		pop __tmp_reg__
 176 00c0 CF91      		pop r28
 177 00c2 DF91      		pop r29
 178 00c4 1F91      		pop r17
 179 00c6 0895      		ret
 180               		.size	LcdSetCursor, .-LcdSetCursor
 181               		.type	LcdCursorHome, @function
 182               	LcdCursorHome:
 183               	/* prologue: function */
 184               	/* frame size = 0 */
 185 00c8 0E94 0000 		call LcdBusyWait
 186 00cc E091 0000 		lds r30,lcd_base
 187 00d0 F091 0000 		lds r31,(lcd_base)+1
 188 00d4 82E0      		ldi r24,lo8(2)
 189 00d6 8083      		st Z,r24
 190               	/* epilogue start */
 191 00d8 0895      		ret
 192               		.size	LcdCursorHome, .-LcdCursorHome
 193               		.type	LcdCursorLeft, @function
 194               	LcdCursorLeft:
 195               	/* prologue: function */
 196               	/* frame size = 0 */
 197 00da 0E94 0000 		call LcdBusyWait
 198 00de E091 0000 		lds r30,lcd_base
 199 00e2 F091 0000 		lds r31,(lcd_base)+1
 200 00e6 80E1      		ldi r24,lo8(16)
 201 00e8 8083      		st Z,r24
 202               	/* epilogue start */
 203 00ea 0895      		ret
 204               		.size	LcdCursorLeft, .-LcdCursorLeft
 205               		.type	LcdCursorRight, @function
 206               	LcdCursorRight:
 207               	/* prologue: function */
 208               	/* frame size = 0 */
 209 00ec 0E94 0000 		call LcdBusyWait
 210 00f0 E091 0000 		lds r30,lcd_base
 211 00f4 F091 0000 		lds r31,(lcd_base)+1
 212 00f8 84E1      		ldi r24,lo8(20)
 213 00fa 8083      		st Z,r24
 214               	/* epilogue start */
 215 00fc 0895      		ret
 216               		.size	LcdCursorRight, .-LcdCursorRight
 217               		.type	LcdClear, @function
 218               	LcdClear:
 219               	/* prologue: function */
 220               	/* frame size = 0 */
 221 00fe 0E94 0000 		call LcdBusyWait
 222 0102 E091 0000 		lds r30,lcd_base
 223 0106 F091 0000 		lds r31,(lcd_base)+1
 224 010a 81E0      		ldi r24,lo8(1)
 225 010c 8083      		st Z,r24
 226               	/* epilogue start */
 227 010e 0895      		ret
 228               		.size	LcdClear, .-LcdClear
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsy7To4.s 			page 5


 229               		.type	LcdCursorMode, @function
 230               	LcdCursorMode:
 231               	/* prologue: function */
 232               	/* frame size = 0 */
 233 0110 0E94 0000 		call LcdBusyWait
 234 0114 E091 0000 		lds r30,lcd_base
 235 0118 F091 0000 		lds r31,(lcd_base)+1
 236 011c 82E0      		ldi r24,lo8(2)
 237 011e 8083      		st Z,r24
 238               	/* epilogue start */
 239 0120 0895      		ret
 240               		.size	LcdCursorMode, .-LcdCursorMode
 241               		.type	LcdInit, @function
 242               	LcdInit:
 243 0122 0F93      		push r16
 244 0124 1F93      		push r17
 245               	/* prologue: function */
 246               	/* frame size = 0 */
 247 0126 FC01      		movw r30,r24
 248 0128 1485      		ldd r17,Z+12
 249 012a 0585      		ldd r16,Z+13
 250 012c 1093 0000 		sts lcd_base,r17
 251 0130 0093 0000 		sts lcd_base+1,r16
 252 0134 0E94 0000 		call LcdBusyWait
 253 0138 E12F      		mov r30,r17
 254 013a F02F      		mov r31,r16
 255 013c 18E3      		ldi r17,lo8(56)
 256 013e 1083      		st Z,r17
 257 0140 82E3      		ldi r24,lo8(50)
 258 0142 0E94 0000 		call NutDelay
 259 0146 0E94 0000 		call LcdBusyWait
 260 014a E091 0000 		lds r30,lcd_base
 261 014e F091 0000 		lds r31,(lcd_base)+1
 262 0152 1083      		st Z,r17
 263 0154 82E3      		ldi r24,lo8(50)
 264 0156 0E94 0000 		call NutDelay
 265 015a 0E94 0000 		call LcdBusyWait
 266 015e E091 0000 		lds r30,lcd_base
 267 0162 F091 0000 		lds r31,(lcd_base)+1
 268 0166 1083      		st Z,r17
 269 0168 82E3      		ldi r24,lo8(50)
 270 016a 0E94 0000 		call NutDelay
 271 016e 0E94 0000 		call LcdBusyWait
 272 0172 0091 0000 		lds r16,lcd_base
 273 0176 1091 0000 		lds r17,(lcd_base)+1
 274 017a 81E0      		ldi r24,lo8(1)
 275 017c F801      		movw r30,r16
 276 017e 8083      		st Z,r24
 277 0180 0E94 0000 		call LcdBusyWait
 278 0184 86E0      		ldi r24,lo8(6)
 279 0186 F801      		movw r30,r16
 280 0188 8083      		st Z,r24
 281 018a 0E94 0000 		call LcdBusyWait
 282 018e 8CE0      		ldi r24,lo8(12)
 283 0190 F801      		movw r30,r16
 284 0192 8083      		st Z,r24
 285 0194 0E94 0000 		call LcdBusyWait
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsy7To4.s 			page 6


 286 0198 82E0      		ldi r24,lo8(2)
 287 019a F801      		movw r30,r16
 288 019c 8083      		st Z,r24
 289 019e 0E94 0000 		call LcdBusyWait
 290 01a2 80E8      		ldi r24,lo8(-128)
 291 01a4 F801      		movw r30,r16
 292 01a6 8083      		st Z,r24
 293 01a8 80E0      		ldi r24,lo8(0)
 294 01aa 90E0      		ldi r25,hi8(0)
 295               	/* epilogue start */
 296 01ac 1F91      		pop r17
 297 01ae 0F91      		pop r16
 298 01b0 0895      		ret
 299               		.size	LcdInit, .-LcdInit
 300               	.global	dcb_term
 301               		.data
 302               		.type	dcb_term, @object
 303               		.size	dcb_term, 32
 304               	dcb_term:
 305 0000 0000      		.word	gs(LcdInit)
 306 0002 0000      		.word	gs(LcdWriteData)
 307 0004 0000      		.word	gs(LcdWriteCmd)
 308 0006 0000      		.word	gs(LcdClear)
 309 0008 0000      		.word	gs(LcdSetCursor)
 310 000a 0000      		.word	gs(LcdCursorHome)
 311 000c 0000      		.word	gs(LcdCursorLeft)
 312 000e 0000      		.word	gs(LcdCursorRight)
 313 0010 0000      		.word	gs(LcdCursorMode)
 314 0012 00        		.byte	0
 315 0013 00        		.byte	0
 316 0014 00        		.byte	0
 317 0015 00        		.byte	0
 318 0016 00        		.byte	0
 319 0017 02        		.byte	2
 320 0018 10        		.byte	16
 321 0019 10        		.byte	16
 322 001a 00        		.byte	0
 323 001b 00        		.byte	0
 324 001c 0000      		.word	0
 325 001e 0000      		.skip 2,0
 326               	.global	devLcdBus
 327               		.type	devLcdBus, @object
 328               		.size	devLcdBus, 35
 329               	devLcdBus:
 330 0020 0000      		.word	0
 331 0022 6C        		.byte	108
 332 0023 63        		.byte	99
 333 0024 64        		.byte	100
 334 0025 62        		.byte	98
 335 0026 75        		.byte	117
 336 0027 73        		.byte	115
 337 0028 00        		.byte	0
 338 0029 00        		.byte	0
 339 002a 00        		.byte	0
 340 002b 02        		.byte	2
 341 002c 0000      		.word	0
 342 002e 00        		.byte	0
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsy7To4.s 			page 7


 343 002f 0000      		.word	0
 344 0031 0000      		.word	dcb_term
 345 0033 0000      		.word	gs(TermInit)
 346 0035 0000      		.word	gs(TermIOCtl)
 347 0037 0000      		.word	0
 348 0039 0000      		.word	gs(TermWrite)
 349 003b 0000      		.word	gs(TermWrite_P)
 350 003d 0000      		.word	gs(TermOpen)
 351 003f 0000      		.word	gs(TermClose)
 352 0041 0000      		.word	0
 353               		.lcomm lcd_base,2
 354               	.global __do_copy_data
 355               	.global __do_clear_bss
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsy7To4.s 			page 8


DEFINED SYMBOLS
                            *ABS*:00000000 hd44780_bus.c
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsy7To4.s:2      *ABS*:0000003f __SREG__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsy7To4.s:3      *ABS*:0000003e __SP_H__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsy7To4.s:4      *ABS*:0000003d __SP_L__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsy7To4.s:5      *ABS*:00000034 __CCP__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsy7To4.s:6      *ABS*:00000000 __tmp_reg__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsy7To4.s:7      *ABS*:00000001 __zero_reg__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsy7To4.s:10     .text:00000000 LcdBusyWait
                             .bss:00000000 lcd_base
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsy7To4.s:108    .text:00000048 LcdWriteData
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsy7To4.s:122    .text:0000005e LcdWriteCmd
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsy7To4.s:136    .text:00000074 LcdSetCursor
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsy7To4.s:182    .text:000000c8 LcdCursorHome
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsy7To4.s:194    .text:000000da LcdCursorLeft
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsy7To4.s:206    .text:000000ec LcdCursorRight
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsy7To4.s:218    .text:000000fe LcdClear
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsy7To4.s:230    .text:00000110 LcdCursorMode
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsy7To4.s:242    .text:00000122 LcdInit
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsy7To4.s:304    .data:00000000 dcb_term
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccsy7To4.s:329    .data:00000020 devLcdBus

UNDEFINED SYMBOLS
NutDelay
TermInit
TermIOCtl
TermWrite
TermWrite_P
TermOpen
TermClose
__do_copy_data
__do_clear_bss
