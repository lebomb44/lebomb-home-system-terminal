GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccxTAlAq.s 			page 1


   1               		.file	"usart1avr.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__  = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.text
   9               		.type	AvrUsartTxEmpty, @function
  10               	AvrUsartTxEmpty:
  11               	/* prologue: function */
  12               	/* frame size = 0 */
  13 0000 FC01      		movw r30,r24
  14 0002 6281      		ldd r22,Z+2
  15 0004 7381      		ldd r23,Z+3
  16 0006 2091 0000 		lds r18,flow_control
  17 000a 422F      		mov r20,r18
  18 000c 50E0      		ldi r21,lo8(0)
  19 000e CA01      		movw r24,r20
  20 0010 8073      		andi r24,lo8(48)
  21 0012 9070      		andi r25,hi8(48)
  22 0014 892B      		or r24,r25
  23 0016 01F0      		breq .L2
  24 0018 24FF      		sbrs r18,4
  25 001a 00C0      		rjmp .L3
  26 001c 83E1      		ldi r24,lo8(19)
  27 001e 8093 9C00 		sts 156,r24
  28 0022 2064      		ori r18,lo8(64)
  29 0024 00C0      		rjmp .L14
  30               	.L3:
  31 0026 81E1      		ldi r24,lo8(17)
  32 0028 8093 9C00 		sts 156,r24
  33 002c 2F7B      		andi r18,lo8(-65)
  34               	.L14:
  35 002e 2093 0000 		sts flow_control,r18
  36 0032 8091 0000 		lds r24,flow_control
  37 0036 8F7C      		andi r24,lo8(-49)
  38 0038 8093 0000 		sts flow_control,r24
  39 003c 0895      		ret
  40               	.L2:
  41 003e 27FF      		sbrs r18,7
  42 0040 00C0      		rjmp .L6
  43 0042 8091 9A00 		lds r24,154
  44 0046 8F7D      		andi r24,lo8(-33)
  45 0048 8093 9A00 		sts 154,r24
  46 004c 0895      		ret
  47               	.L6:
  48 004e 8285      		ldd r24,Z+10
  49 0050 9385      		ldd r25,Z+11
  50 0052 892B      		or r24,r25
  51 0054 01F0      		breq .L7
  52 0056 8285      		ldd r24,Z+10
  53 0058 9385      		ldd r25,Z+11
  54 005a 0197      		sbiw r24,1
  55 005c 9387      		std Z+11,r25
  56 005e 8287      		std Z+10,r24
  57 0060 8091 0000 		lds r24,tx_aframe
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccxTAlAq.s 			page 2


  58 0064 8823      		tst r24
  59 0066 01F0      		breq .L8
  60 0068 8091 9A00 		lds r24,154
  61 006c 8160      		ori r24,lo8(1)
  62 006e 00C0      		rjmp .L15
  63               	.L8:
  64 0070 8091 9A00 		lds r24,154
  65 0074 8E7F      		andi r24,lo8(-2)
  66               	.L15:
  67 0076 8093 9A00 		sts 154,r24
  68 007a DB01      		movw r26,r22
  69 007c 8D91      		ld r24,X+
  70 007e 8093 9C00 		sts 156,r24
  71 0082 8681      		ldd r24,Z+6
  72 0084 9781      		ldd r25,Z+7
  73 0086 A817      		cp r26,r24
  74 0088 B907      		cpc r27,r25
  75 008a 01F4      		brne .L10
  76 008c A481      		ldd r26,Z+4
  77 008e B581      		ldd r27,Z+5
  78               	.L10:
  79 0090 B383      		std Z+3,r27
  80 0092 A283      		std Z+2,r26
  81 0094 2285      		ldd r18,Z+10
  82 0096 3385      		ldd r19,Z+11
  83 0098 8485      		ldd r24,Z+12
  84 009a 9585      		ldd r25,Z+13
  85 009c 2817      		cp r18,r24
  86 009e 3907      		cpc r19,r25
  87 00a0 01F4      		brne .L13
  88 00a2 A089      		ldd r26,Z+16
  89 00a4 B189      		ldd r27,Z+17
  90 00a6 1097      		sbiw r26,0
  91 00a8 01F0      		breq .L16
  92               	.L11:
  93 00aa 8FEF      		ldi r24,hi8(-1)
  94 00ac AF3F      		cpi r26,lo8(-1)
  95 00ae B807      		cpc r27,r24
  96 00b0 01F0      		breq .L13
  97 00b2 1496      		adiw r26,4
  98 00b4 8D91      		ld r24,X+
  99 00b6 9C91      		ld r25,X
 100 00b8 1597      		sbiw r26,4+1
 101 00ba 0196      		adiw r24,1
 102 00bc 1596      		adiw r26,4+1
 103 00be 9C93      		st X,r25
 104 00c0 8E93      		st -X,r24
 105 00c2 1497      		sbiw r26,4
 106 00c4 0895      		ret
 107               	.L7:
 108 00c6 8091 9A00 		lds r24,154
 109 00ca 8F7D      		andi r24,lo8(-33)
 110 00cc 8093 9A00 		sts 154,r24
 111 00d0 1386      		std Z+11,__zero_reg__
 112 00d2 1286      		std Z+10,__zero_reg__
 113 00d4 A089      		ldd r26,Z+16
 114 00d6 B189      		ldd r27,Z+17
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccxTAlAq.s 			page 3


 115 00d8 1097      		sbiw r26,0
 116 00da 01F4      		brne .L12
 117               	.L16:
 118 00dc 8FEF      		ldi r24,lo8(-1)
 119 00de 9FEF      		ldi r25,hi8(-1)
 120 00e0 918B      		std Z+17,r25
 121 00e2 808B      		std Z+16,r24
 122 00e4 0895      		ret
 123               	.L12:
 124 00e6 8FEF      		ldi r24,hi8(-1)
 125 00e8 AF3F      		cpi r26,lo8(-1)
 126 00ea B807      		cpc r27,r24
 127 00ec 01F0      		breq .L13
 128 00ee 1496      		adiw r26,4
 129 00f0 8D91      		ld r24,X+
 130 00f2 9C91      		ld r25,X
 131 00f4 1597      		sbiw r26,4+1
 132 00f6 0196      		adiw r24,1
 133 00f8 1596      		adiw r26,4+1
 134 00fa 9C93      		st X,r25
 135 00fc 8E93      		st -X,r24
 136 00fe 1497      		sbiw r26,4
 137               	.L13:
 138 0100 0895      		ret
 139               		.size	AvrUsartTxEmpty, .-AvrUsartTxEmpty
 140               		.type	AvrUsartRxComplete, @function
 141               	AvrUsartRxComplete:
 142 0102 CF93      		push r28
 143 0104 DF93      		push r29
 144               	/* prologue: function */
 145               	/* frame size = 0 */
 146 0106 282F      		mov r18,r24
 147 0108 5091 9B00 		lds r21,155
 148 010c 8091 0000 		lds r24,rx_errors
 149 0110 582B      		or r21,r24
 150 0112 5093 0000 		sts rx_errors,r21
 151 0116 6091 9C00 		lds r22,156
 152 011a 4091 0000 		lds r20,flow_control
 153 011e 4423      		tst r20
 154 0120 01F0      		breq .L18
 155 0122 6331      		cpi r22,lo8(19)
 156 0124 01F4      		brne .L19
 157 0126 8091 9A00 		lds r24,154
 158 012a 8F7D      		andi r24,lo8(-33)
 159 012c 8093 9A00 		sts 154,r24
 160 0130 4068      		ori r20,lo8(-128)
 161 0132 00C0      		rjmp .L29
 162               	.L19:
 163 0134 6131      		cpi r22,lo8(17)
 164 0136 01F4      		brne .L18
 165 0138 8091 9A00 		lds r24,154
 166 013c 8062      		ori r24,lo8(32)
 167 013e 8093 9A00 		sts 154,r24
 168 0142 4F77      		andi r20,lo8(127)
 169               	.L29:
 170 0144 4093 0000 		sts flow_control,r20
 171 0148 00C0      		rjmp .L27
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccxTAlAq.s 			page 4


 172               	.L18:
 173 014a A22F      		mov r26,r18
 174 014c B92F      		mov r27,r25
 175 014e 1A96      		adiw r26,10
 176 0150 2D91      		ld r18,X+
 177 0152 3C91      		ld r19,X
 178 0154 1B97      		sbiw r26,10+1
 179 0156 1896      		adiw r26,8
 180 0158 8D91      		ld r24,X+
 181 015a 9C91      		ld r25,X
 182 015c 1997      		sbiw r26,8+1
 183 015e 2817      		cp r18,r24
 184 0160 3907      		cpc r19,r25
 185 0162 00F0      		brlo .L21
 186 0164 5860      		ori r21,lo8(8)
 187 0166 5093 0000 		sts rx_errors,r21
 188 016a 00C0      		rjmp .L27
 189               	.L21:
 190 016c E901      		movw r28,r18
 191 016e 2196      		adiw r28,1
 192 0170 232B      		or r18,r19
 193 0172 01F4      		brne .L22
 194 0174 5096      		adiw r26,16
 195 0176 ED91      		ld r30,X+
 196 0178 FC91      		ld r31,X
 197 017a 5197      		sbiw r26,16+1
 198 017c 3097      		sbiw r30,0
 199 017e 01F4      		brne .L23
 200 0180 8FEF      		ldi r24,lo8(-1)
 201 0182 9FEF      		ldi r25,hi8(-1)
 202 0184 5196      		adiw r26,16+1
 203 0186 9C93      		st X,r25
 204 0188 8E93      		st -X,r24
 205 018a 5097      		sbiw r26,16
 206 018c 00C0      		rjmp .L24
 207               	.L23:
 208 018e 8FEF      		ldi r24,hi8(-1)
 209 0190 EF3F      		cpi r30,lo8(-1)
 210 0192 F807      		cpc r31,r24
 211 0194 01F0      		breq .L24
 212 0196 8481      		ldd r24,Z+4
 213 0198 9581      		ldd r25,Z+5
 214 019a 0196      		adiw r24,1
 215 019c 9583      		std Z+5,r25
 216 019e 8483      		std Z+4,r24
 217 01a0 00C0      		rjmp .L24
 218               	.L22:
 219 01a2 4423      		tst r20
 220 01a4 01F0      		breq .L24
 221 01a6 1E96      		adiw r26,14
 222 01a8 8D91      		ld r24,X+
 223 01aa 9C91      		ld r25,X
 224 01ac 1F97      		sbiw r26,14+1
 225 01ae C817      		cp r28,r24
 226 01b0 D907      		cpc r29,r25
 227 01b2 00F0      		brlo .L24
 228 01b4 46FD      		sbrc r20,6
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccxTAlAq.s 			page 5


 229 01b6 00C0      		rjmp .L24
 230 01b8 8091 9B00 		lds r24,155
 231 01bc 85FF      		sbrs r24,5
 232 01be 00C0      		rjmp .L25
 233 01c0 83E1      		ldi r24,lo8(19)
 234 01c2 8093 9C00 		sts 156,r24
 235 01c6 4064      		ori r20,lo8(64)
 236 01c8 4F7D      		andi r20,lo8(-33)
 237 01ca 00C0      		rjmp .L28
 238               	.L25:
 239 01cc 4062      		ori r20,lo8(32)
 240               	.L28:
 241 01ce 4093 0000 		sts flow_control,r20
 242               	.L24:
 243 01d2 ED91      		ld r30,X+
 244 01d4 FC91      		ld r31,X
 245 01d6 1197      		sbiw r26,1
 246 01d8 6193      		st Z+,r22
 247 01da 1196      		adiw r26,1
 248 01dc FC93      		st X,r31
 249 01de EE93      		st -X,r30
 250 01e0 2D91      		ld r18,X+
 251 01e2 3C91      		ld r19,X
 252 01e4 1197      		sbiw r26,1
 253 01e6 1696      		adiw r26,6
 254 01e8 8D91      		ld r24,X+
 255 01ea 9C91      		ld r25,X
 256 01ec 1797      		sbiw r26,6+1
 257 01ee 2817      		cp r18,r24
 258 01f0 3907      		cpc r19,r25
 259 01f2 01F4      		brne .L26
 260 01f4 1496      		adiw r26,4
 261 01f6 8D91      		ld r24,X+
 262 01f8 9C91      		ld r25,X
 263 01fa 1597      		sbiw r26,4+1
 264 01fc 1196      		adiw r26,1
 265 01fe 9C93      		st X,r25
 266 0200 8E93      		st -X,r24
 267               	.L26:
 268 0202 1B96      		adiw r26,10+1
 269 0204 DC93      		st X,r29
 270 0206 CE93      		st -X,r28
 271 0208 1A97      		sbiw r26,10
 272               	.L27:
 273               	/* epilogue start */
 274 020a DF91      		pop r29
 275 020c CF91      		pop r28
 276 020e 0895      		ret
 277               		.size	AvrUsartRxComplete, .-AvrUsartRxComplete
 278               		.type	AvrUsartGetDataBits, @function
 279               	AvrUsartGetDataBits:
 280               	/* prologue: function */
 281               	/* frame size = 0 */
 282 0210 8091 9A00 		lds r24,154
 283 0214 82FF      		sbrs r24,2
 284 0216 00C0      		rjmp .L31
 285 0218 89E0      		ldi r24,lo8(9)
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccxTAlAq.s 			page 6


 286 021a 0895      		ret
 287               	.L31:
 288 021c 8091 9D00 		lds r24,157
 289 0220 82FF      		sbrs r24,2
 290 0222 00C0      		rjmp .L33
 291 0224 8091 9D00 		lds r24,157
 292 0228 81FD      		sbrc r24,1
 293 022a 00C0      		rjmp .L34
 294 022c 87E0      		ldi r24,lo8(7)
 295 022e 0895      		ret
 296               	.L34:
 297 0230 88E0      		ldi r24,lo8(8)
 298 0232 0895      		ret
 299               	.L33:
 300 0234 8091 9D00 		lds r24,157
 301 0238 81FD      		sbrc r24,1
 302 023a 00C0      		rjmp .L35
 303 023c 85E0      		ldi r24,lo8(5)
 304 023e 0895      		ret
 305               	.L35:
 306 0240 86E0      		ldi r24,lo8(6)
 307 0242 0895      		ret
 308               		.size	AvrUsartGetDataBits, .-AvrUsartGetDataBits
 309               		.type	AvrUsartGetParity, @function
 310               	AvrUsartGetParity:
 311               	/* prologue: function */
 312               	/* frame size = 0 */
 313 0244 8091 9D00 		lds r24,157
 314 0248 85FD      		sbrc r24,5
 315 024a 00C0      		rjmp .L38
 316 024c 80E0      		ldi r24,lo8(0)
 317 024e 0895      		ret
 318               	.L38:
 319 0250 8091 9D00 		lds r24,157
 320 0254 84FD      		sbrc r24,4
 321 0256 00C0      		rjmp .L40
 322 0258 82E0      		ldi r24,lo8(2)
 323 025a 0895      		ret
 324               	.L40:
 325 025c 81E0      		ldi r24,lo8(1)
 326 025e 0895      		ret
 327               		.size	AvrUsartGetParity, .-AvrUsartGetParity
 328               		.type	AvrUsartGetStopBits, @function
 329               	AvrUsartGetStopBits:
 330               	/* prologue: function */
 331               	/* frame size = 0 */
 332 0260 8091 9D00 		lds r24,157
 333 0264 83FD      		sbrc r24,3
 334 0266 00C0      		rjmp .L43
 335 0268 81E0      		ldi r24,lo8(1)
 336 026a 0895      		ret
 337               	.L43:
 338 026c 82E0      		ldi r24,lo8(2)
 339 026e 0895      		ret
 340               		.size	AvrUsartGetStopBits, .-AvrUsartGetStopBits
 341               		.type	AvrUsartGetStatus, @function
 342               	AvrUsartGetStatus:
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccxTAlAq.s 			page 7


 343               	/* prologue: function */
 344               	/* frame size = 0 */
 345 0270 8091 0000 		lds r24,rx_errors
 346 0274 682F      		mov r22,r24
 347 0276 70E0      		ldi r23,lo8(0)
 348 0278 CB01      		movw r24,r22
 349 027a 24E0      		ldi r18,4
 350 027c 9695      	1:	lsr r25
 351 027e 8795      		ror r24
 352 0280 2A95      		dec r18
 353 0282 01F4      		brne 1b
 354 0284 9C01      		movw r18,r24
 355 0286 40E0      		ldi r20,lo8(0)
 356 0288 50E0      		ldi r21,hi8(0)
 357 028a 2170      		andi r18,lo8(1)
 358 028c 3070      		andi r19,hi8(1)
 359 028e 4070      		andi r20,hlo8(1)
 360 0290 5070      		andi r21,hhi8(1)
 361 0292 63FD      		sbrc r22,3
 362 0294 2260      		ori r18,lo8(2)
 363               	.L47:
 364 0296 62FD      		sbrc r22,2
 365 0298 2460      		ori r18,lo8(4)
 366               	.L48:
 367 029a 8091 0000 		lds r24,flow_control
 368 029e 8823      		tst r24
 369 02a0 01F0      		breq .L49
 370 02a2 86FD      		sbrc r24,6
 371 02a4 4260      		ori r20,hlo8(131072)
 372               	.L50:
 373 02a6 87FD      		sbrc r24,7
 374 02a8 4860      		ori r20,hlo8(524288)
 375               	.L49:
 376 02aa 41FF      		sbrs r20,1
 377 02ac 4160      		ori r20,hlo8(65536)
 378               	.L51:
 379 02ae 43FF      		sbrs r20,3
 380 02b0 4460      		ori r20,hlo8(262144)
 381               	.L52:
 382 02b2 8091 0000 		lds r24,tx_aframe
 383 02b6 8823      		tst r24
 384 02b8 01F0      		breq .L53
 385 02ba 4064      		ori r20,hlo8(4194304)
 386 02bc 00C0      		rjmp .L54
 387               	.L53:
 388 02be 4068      		ori r20,hlo8(8388608)
 389               	.L54:
 390 02c0 8091 9B00 		lds r24,155
 391 02c4 80FF      		sbrs r24,0
 392 02c6 00C0      		rjmp .L55
 393 02c8 4061      		ori r20,hlo8(1048576)
 394 02ca 00C0      		rjmp .L56
 395               	.L55:
 396 02cc 4062      		ori r20,hlo8(2097152)
 397               	.L56:
 398 02ce B901      		movw r22,r18
 399 02d0 CA01      		movw r24,r20
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccxTAlAq.s 			page 8


 400               	/* epilogue start */
 401 02d2 0895      		ret
 402               		.size	AvrUsartGetStatus, .-AvrUsartGetStatus
 403               		.type	AvrUsartSetStatus, @function
 404               	AvrUsartSetStatus:
 405 02d4 EF92      		push r14
 406 02d6 FF92      		push r15
 407 02d8 0F93      		push r16
 408 02da 1F93      		push r17
 409               	/* prologue: function */
 410               	/* frame size = 0 */
 411 02dc 7B01      		movw r14,r22
 412 02de 8C01      		movw r16,r24
 413 02e0 8091 0000 		lds r24,flow_control
 414 02e4 8823      		tst r24
 415 02e6 01F0      		breq .L59
 416               	/* #APP */
 417               	 ;  922 "../../nut/arch/avr/dev/usartavr.c" 1
 418 02e8 0FB6      		in  __tmp_reg__, __SREG__
 419 02ea F894      		cli
 420 02ec 0F92      		push __tmp_reg__
 421               		
 422               	 ;  0 "" 2
 423               	/* #NOAPP */
 424 02ee 00FF      		sbrs r16,0
 425 02f0 00C0      		rjmp .L60
 426 02f2 8F7B      		andi r24,lo8(-65)
 427 02f4 00C0      		rjmp .L74
 428               	.L60:
 429 02f6 01FF      		sbrs r16,1
 430 02f8 00C0      		rjmp .L61
 431 02fa 8064      		ori r24,lo8(64)
 432               	.L74:
 433 02fc 8093 0000 		sts flow_control,r24
 434               	.L61:
 435 0300 02FF      		sbrs r16,2
 436 0302 00C0      		rjmp .L62
 437 0304 8091 0000 		lds r24,flow_control
 438 0308 8F77      		andi r24,lo8(127)
 439 030a 00C0      		rjmp .L75
 440               	.L62:
 441 030c 03FF      		sbrs r16,3
 442 030e 00C0      		rjmp .L63
 443 0310 8091 0000 		lds r24,flow_control
 444 0314 8068      		ori r24,lo8(-128)
 445               	.L75:
 446 0316 8093 0000 		sts flow_control,r24
 447               	.L63:
 448               	/* #APP */
 449               	 ;  943 "../../nut/arch/avr/dev/usartavr.c" 1
 450 031a 0F90      		pop __tmp_reg__
 451 031c 0FBE      		out __SREG__, __tmp_reg__
 452               		
 453               	 ;  0 "" 2
 454               	/* #NOAPP */
 455               	.L59:
 456 031e 06FF      		sbrs r16,6
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccxTAlAq.s 			page 9


 457 0320 00C0      		rjmp .L64
 458 0322 81E0      		ldi r24,lo8(1)
 459 0324 8093 0000 		sts tx_aframe,r24
 460               	.L64:
 461 0328 07FF      		sbrs r16,7
 462 032a 00C0      		rjmp .L65
 463 032c 1092 0000 		sts tx_aframe,__zero_reg__
 464               	.L65:
 465 0330 04FF      		sbrs r16,4
 466 0332 00C0      		rjmp .L66
 467 0334 8091 9B00 		lds r24,155
 468 0338 8160      		ori r24,lo8(1)
 469 033a 8093 9B00 		sts 155,r24
 470               	.L66:
 471 033e 05FF      		sbrs r16,5
 472 0340 00C0      		rjmp .L67
 473 0342 8091 9B00 		lds r24,155
 474 0346 8E7F      		andi r24,lo8(-2)
 475 0348 8093 9B00 		sts 155,r24
 476               	.L67:
 477 034c C701      		movw r24,r14
 478 034e 8170      		andi r24,lo8(1)
 479 0350 9070      		andi r25,hi8(1)
 480 0352 892B      		or r24,r25
 481 0354 01F0      		breq .L68
 482 0356 8091 0000 		lds r24,rx_errors
 483 035a 8F7E      		andi r24,lo8(-17)
 484 035c 8093 0000 		sts rx_errors,r24
 485               	.L68:
 486 0360 E1FE      		sbrs r14,1
 487 0362 00C0      		rjmp .L69
 488 0364 8091 0000 		lds r24,rx_errors
 489 0368 877F      		andi r24,lo8(-9)
 490 036a 8093 0000 		sts rx_errors,r24
 491               	.L69:
 492 036e E2FE      		sbrs r14,2
 493 0370 00C0      		rjmp .L70
 494 0372 8091 0000 		lds r24,rx_errors
 495 0376 8B7F      		andi r24,lo8(-5)
 496 0378 8093 0000 		sts rx_errors,r24
 497               	.L70:
 498 037c 0E94 0000 		call AvrUsartGetStatus
 499 0380 687F      		andi r22,lo8(-8)
 500 0382 6E15      		cp r22,r14
 501 0384 7F05      		cpc r23,r15
 502 0386 8007      		cpc r24,r16
 503 0388 9107      		cpc r25,r17
 504 038a 01F4      		brne .L71
 505 038c 20E0      		ldi r18,lo8(0)
 506 038e 30E0      		ldi r19,hi8(0)
 507 0390 00C0      		rjmp .L72
 508               	.L71:
 509 0392 2FEF      		ldi r18,lo8(-1)
 510 0394 3FEF      		ldi r19,hi8(-1)
 511               	.L72:
 512 0396 C901      		movw r24,r18
 513               	/* epilogue start */
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccxTAlAq.s 			page 10


 514 0398 1F91      		pop r17
 515 039a 0F91      		pop r16
 516 039c FF90      		pop r15
 517 039e EF90      		pop r14
 518 03a0 0895      		ret
 519               		.size	AvrUsartSetStatus, .-AvrUsartSetStatus
 520               		.type	AvrUsartGetClockMode, @function
 521               	AvrUsartGetClockMode:
 522               	/* prologue: function */
 523               	/* frame size = 0 */
 524 03a2 8091 9D00 		lds r24,157
 525 03a6 86FF      		sbrs r24,6
 526 03a8 00C0      		rjmp .L77
 527 03aa 129B      		sbis 34-32,2
 528 03ac 00C0      		rjmp .L78
 529 03ae 93E0      		ldi r25,lo8(3)
 530 03b0 00C0      		rjmp .L79
 531               	.L78:
 532 03b2 91E0      		ldi r25,lo8(1)
 533               	.L79:
 534 03b4 8091 9D00 		lds r24,157
 535 03b8 80FF      		sbrs r24,0
 536 03ba 00C0      		rjmp .L80
 537 03bc 9460      		ori r25,lo8(4)
 538 03be 00C0      		rjmp .L80
 539               	.L77:
 540 03c0 8091 9B00 		lds r24,155
 541 03c4 81FF      		sbrs r24,1
 542 03c6 00C0      		rjmp .L81
 543 03c8 90E2      		ldi r25,lo8(32)
 544 03ca 00C0      		rjmp .L80
 545               	.L81:
 546 03cc 90E0      		ldi r25,lo8(0)
 547               	.L80:
 548 03ce 892F      		mov r24,r25
 549               	/* epilogue start */
 550 03d0 0895      		ret
 551               		.size	AvrUsartGetClockMode, .-AvrUsartGetClockMode
 552               		.type	AvrUsartGetFlowControl, @function
 553               	AvrUsartGetFlowControl:
 554               	/* prologue: function */
 555               	/* frame size = 0 */
 556 03d2 8091 0000 		lds r24,flow_control
 557 03d6 8823      		tst r24
 558 03d8 01F4      		brne .L84
 559 03da 20E0      		ldi r18,lo8(0)
 560 03dc 30E0      		ldi r19,hi8(0)
 561 03de 40E0      		ldi r20,hlo8(0)
 562 03e0 50E0      		ldi r21,hhi8(0)
 563 03e2 00C0      		rjmp .L85
 564               	.L84:
 565 03e4 20E2      		ldi r18,lo8(32)
 566 03e6 30E0      		ldi r19,hi8(32)
 567 03e8 40E0      		ldi r20,hlo8(32)
 568 03ea 50E0      		ldi r21,hhi8(32)
 569               	.L85:
 570 03ec B901      		movw r22,r18
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccxTAlAq.s 			page 11


 571 03ee CA01      		movw r24,r20
 572               	/* epilogue start */
 573 03f0 0895      		ret
 574               		.size	AvrUsartGetFlowControl, .-AvrUsartGetFlowControl
 575               		.type	AvrUsartSetFlowControl, @function
 576               	AvrUsartSetFlowControl:
 577 03f2 EF92      		push r14
 578 03f4 FF92      		push r15
 579 03f6 0F93      		push r16
 580 03f8 1F93      		push r17
 581               	/* prologue: function */
 582               	/* frame size = 0 */
 583 03fa 7B01      		movw r14,r22
 584 03fc 8C01      		movw r16,r24
 585 03fe 65FF      		sbrs r22,5
 586 0400 00C0      		rjmp .L88
 587 0402 8091 0000 		lds r24,flow_control
 588 0406 8823      		tst r24
 589 0408 01F4      		brne .L89
 590               	/* #APP */
 591               	 ;  1178 "../../nut/arch/avr/dev/usartavr.c" 1
 592 040a 0FB6      		in  __tmp_reg__, __SREG__
 593 040c F894      		cli
 594 040e 0F92      		push __tmp_reg__
 595               		
 596               	 ;  0 "" 2
 597               	/* #NOAPP */
 598 0410 81E4      		ldi r24,lo8(65)
 599 0412 8093 0000 		sts flow_control,r24
 600               	/* #APP */
 601               	 ;  1180 "../../nut/arch/avr/dev/usartavr.c" 1
 602 0416 0F90      		pop __tmp_reg__
 603 0418 0FBE      		out __SREG__, __tmp_reg__
 604               		
 605               	 ;  0 "" 2
 606               	/* #NOAPP */
 607 041a 00C0      		rjmp .L89
 608               	.L88:
 609               	/* #APP */
 610               	 ;  1183 "../../nut/arch/avr/dev/usartavr.c" 1
 611 041c 0FB6      		in  __tmp_reg__, __SREG__
 612 041e F894      		cli
 613 0420 0F92      		push __tmp_reg__
 614               		
 615               	 ;  0 "" 2
 616               	/* #NOAPP */
 617 0422 1092 0000 		sts flow_control,__zero_reg__
 618               	/* #APP */
 619               	 ;  1185 "../../nut/arch/avr/dev/usartavr.c" 1
 620 0426 0F90      		pop __tmp_reg__
 621 0428 0FBE      		out __SREG__, __tmp_reg__
 622               		
 623               	 ;  0 "" 2
 624               	/* #NOAPP */
 625               	.L89:
 626 042a 8091 0000 		lds r24,flow_control
 627 042e 8823      		tst r24
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccxTAlAq.s 			page 12


 628 0430 01F4      		brne .L90
 629 0432 20E0      		ldi r18,lo8(0)
 630 0434 30E0      		ldi r19,hi8(0)
 631 0436 40E0      		ldi r20,hlo8(0)
 632 0438 50E0      		ldi r21,hhi8(0)
 633 043a 00C0      		rjmp .L91
 634               	.L90:
 635 043c 20E2      		ldi r18,lo8(32)
 636 043e 30E0      		ldi r19,hi8(32)
 637 0440 40E0      		ldi r20,hlo8(32)
 638 0442 50E0      		ldi r21,hhi8(32)
 639               	.L91:
 640 0444 2E15      		cp r18,r14
 641 0446 3F05      		cpc r19,r15
 642 0448 4007      		cpc r20,r16
 643 044a 5107      		cpc r21,r17
 644 044c 01F4      		brne .L92
 645 044e 20E0      		ldi r18,lo8(0)
 646 0450 30E0      		ldi r19,hi8(0)
 647 0452 00C0      		rjmp .L93
 648               	.L92:
 649 0454 2FEF      		ldi r18,lo8(-1)
 650 0456 3FEF      		ldi r19,hi8(-1)
 651               	.L93:
 652 0458 C901      		movw r24,r18
 653               	/* epilogue start */
 654 045a 1F91      		pop r17
 655 045c 0F91      		pop r16
 656 045e FF90      		pop r15
 657 0460 EF90      		pop r14
 658 0462 0895      		ret
 659               		.size	AvrUsartSetFlowControl, .-AvrUsartSetFlowControl
 660               		.type	AvrUsartTxStart, @function
 661               	AvrUsartTxStart:
 662               	/* prologue: function */
 663               	/* frame size = 0 */
 664 0464 EAE9      		ldi r30,lo8(154)
 665 0466 F0E0      		ldi r31,hi8(154)
 666 0468 8081      		ld r24,Z
 667 046a 8062      		ori r24,lo8(32)
 668 046c 8083      		st Z,r24
 669               	/* epilogue start */
 670 046e 0895      		ret
 671               		.size	AvrUsartTxStart, .-AvrUsartTxStart
 672               		.type	AvrUsartRxStart, @function
 673               	AvrUsartRxStart:
 674               	/* prologue: function */
 675               	/* frame size = 0 */
 676 0470 9091 0000 		lds r25,flow_control
 677 0474 9923      		tst r25
 678 0476 01F0      		breq .L101
 679 0478 96FF      		sbrs r25,6
 680 047a 00C0      		rjmp .L101
 681               	/* #APP */
 682               	 ;  1289 "../../nut/arch/avr/dev/usartavr.c" 1
 683 047c 0FB6      		in  __tmp_reg__, __SREG__
 684 047e F894      		cli
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccxTAlAq.s 			page 13


 685 0480 0F92      		push __tmp_reg__
 686               		
 687               	 ;  0 "" 2
 688               	/* #NOAPP */
 689 0482 8091 9B00 		lds r24,155
 690 0486 85FF      		sbrs r24,5
 691 0488 00C0      		rjmp .L99
 692 048a 81E1      		ldi r24,lo8(17)
 693 048c 8093 9C00 		sts 156,r24
 694 0490 9F7E      		andi r25,lo8(-17)
 695 0492 00C0      		rjmp .L102
 696               	.L99:
 697 0494 9061      		ori r25,lo8(16)
 698               	.L102:
 699 0496 9093 0000 		sts flow_control,r25
 700 049a 8091 0000 		lds r24,flow_control
 701 049e 8F79      		andi r24,lo8(-97)
 702 04a0 8093 0000 		sts flow_control,r24
 703               	/* #APP */
 704               	 ;  1297 "../../nut/arch/avr/dev/usartavr.c" 1
 705 04a4 0F90      		pop __tmp_reg__
 706 04a6 0FBE      		out __SREG__, __tmp_reg__
 707               		
 708               	 ;  0 "" 2
 709               	/* #NOAPP */
 710               	.L101:
 711 04a8 0895      		ret
 712               		.size	AvrUsartRxStart, .-AvrUsartRxStart
 713               		.type	AvrUsartDisable, @function
 714               	AvrUsartDisable:
 715 04aa 0F93      		push r16
 716 04ac 1F93      		push r17
 717               	/* prologue: function */
 718               	/* frame size = 0 */
 719               	/* #APP */
 720               	 ;  522 "../../nut/arch/avr/dev/usartavr.c" 1
 721 04ae 0FB6      		in  __tmp_reg__, __SREG__
 722 04b0 F894      		cli
 723 04b2 0F92      		push __tmp_reg__
 724               		
 725               	 ;  0 "" 2
 726               	/* #NOAPP */
 727 04b4 0AE9      		ldi r16,lo8(154)
 728 04b6 10E0      		ldi r17,hi8(154)
 729 04b8 F801      		movw r30,r16
 730 04ba 8081      		ld r24,Z
 731 04bc 8F77      		andi r24,lo8(127)
 732 04be 8083      		st Z,r24
 733 04c0 8081      		ld r24,Z
 734 04c2 8F7B      		andi r24,lo8(-65)
 735 04c4 8083      		st Z,r24
 736 04c6 8081      		ld r24,Z
 737 04c8 8F7D      		andi r24,lo8(-33)
 738 04ca 8083      		st Z,r24
 739               	/* #APP */
 740               	 ;  526 "../../nut/arch/avr/dev/usartavr.c" 1
 741 04cc 0F90      		pop __tmp_reg__
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccxTAlAq.s 			page 14


 742 04ce 0FBE      		out __SREG__, __tmp_reg__
 743               		
 744               	 ;  0 "" 2
 745               	/* #NOAPP */
 746 04d0 8AE0      		ldi r24,lo8(10)
 747 04d2 0E94 0000 		call NutDelay
 748 04d6 F801      		movw r30,r16
 749 04d8 8081      		ld r24,Z
 750 04da 8F7E      		andi r24,lo8(-17)
 751 04dc 8083      		st Z,r24
 752 04de 8081      		ld r24,Z
 753 04e0 877F      		andi r24,lo8(-9)
 754 04e2 8083      		st Z,r24
 755               	/* epilogue start */
 756 04e4 1F91      		pop r17
 757 04e6 0F91      		pop r16
 758 04e8 0895      		ret
 759               		.size	AvrUsartDisable, .-AvrUsartDisable
 760               		.type	AvrUsartSetClockMode, @function
 761               	AvrUsartSetClockMode:
 762 04ea 1F93      		push r17
 763               	/* prologue: function */
 764               	/* frame size = 0 */
 765 04ec 182F      		mov r17,r24
 766 04ee 0E94 0000 		call AvrUsartDisable
 767 04f2 812F      		mov r24,r17
 768 04f4 10FF      		sbrs r17,0
 769 04f6 00C0      		rjmp .L106
 770 04f8 11FF      		sbrs r17,1
 771 04fa 00C0      		rjmp .L107
 772 04fc 129A      		sbi 34-32,2
 773 04fe 00C0      		rjmp .L108
 774               	.L107:
 775 0500 1298      		cbi 34-32,2
 776               	.L108:
 777 0502 82FF      		sbrs r24,2
 778 0504 00C0      		rjmp .L109
 779 0506 8091 9D00 		lds r24,157
 780 050a 8160      		ori r24,lo8(1)
 781 050c 00C0      		rjmp .L117
 782               	.L109:
 783 050e 8091 9D00 		lds r24,157
 784 0512 8E7F      		andi r24,lo8(-2)
 785               	.L117:
 786 0514 8093 9D00 		sts 157,r24
 787 0518 8091 9B00 		lds r24,155
 788 051c 8D7F      		andi r24,lo8(-3)
 789 051e 8093 9B00 		sts 155,r24
 790 0522 8091 9D00 		lds r24,157
 791 0526 8064      		ori r24,lo8(64)
 792 0528 00C0      		rjmp .L119
 793               	.L106:
 794 052a 15FF      		sbrs r17,5
 795 052c 00C0      		rjmp .L112
 796 052e 8091 9B00 		lds r24,155
 797 0532 8260      		ori r24,lo8(2)
 798 0534 00C0      		rjmp .L118
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccxTAlAq.s 			page 15


 799               	.L112:
 800 0536 8091 9B00 		lds r24,155
 801 053a 8D7F      		andi r24,lo8(-3)
 802               	.L118:
 803 053c 8093 9B00 		sts 155,r24
 804 0540 8091 9D00 		lds r24,157
 805 0544 8E7F      		andi r24,lo8(-2)
 806 0546 8093 9D00 		sts 157,r24
 807 054a 8091 9D00 		lds r24,157
 808 054e 8F7B      		andi r24,lo8(-65)
 809               	.L119:
 810 0550 8093 9D00 		sts 157,r24
 811               	/* #APP */
 812               	 ;  500 "../../nut/arch/avr/dev/usartavr.c" 1
 813 0554 0FB6      		in  __tmp_reg__, __SREG__
 814 0556 F894      		cli
 815 0558 0F92      		push __tmp_reg__
 816               		
 817               	 ;  0 "" 2
 818               	/* #NOAPP */
 819 055a 88EB      		ldi r24,lo8(-72)
 820 055c 8093 9A00 		sts 154,r24
 821               	/* #APP */
 822               	 ;  511 "../../nut/arch/avr/dev/usartavr.c" 1
 823 0560 0F90      		pop __tmp_reg__
 824 0562 0FBE      		out __SREG__, __tmp_reg__
 825               		
 826               	 ;  0 "" 2
 827               	/* #NOAPP */
 828 0564 0E94 0000 		call AvrUsartGetClockMode
 829 0568 8117      		cp r24,r17
 830 056a 01F4      		brne .L114
 831 056c 20E0      		ldi r18,lo8(0)
 832 056e 30E0      		ldi r19,hi8(0)
 833 0570 00C0      		rjmp .L115
 834               	.L114:
 835 0572 2FEF      		ldi r18,lo8(-1)
 836 0574 3FEF      		ldi r19,hi8(-1)
 837               	.L115:
 838 0576 C901      		movw r24,r18
 839               	/* epilogue start */
 840 0578 1F91      		pop r17
 841 057a 0895      		ret
 842               		.size	AvrUsartSetClockMode, .-AvrUsartSetClockMode
 843               		.type	AvrUsartSetStopBits, @function
 844               	AvrUsartSetStopBits:
 845 057c 1F93      		push r17
 846               	/* prologue: function */
 847               	/* frame size = 0 */
 848 057e 182F      		mov r17,r24
 849 0580 0E94 0000 		call AvrUsartDisable
 850 0584 1130      		cpi r17,lo8(1)
 851 0586 01F4      		brne .L121
 852 0588 8091 9D00 		lds r24,157
 853 058c 877F      		andi r24,lo8(-9)
 854 058e 00C0      		rjmp .L128
 855               	.L121:
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccxTAlAq.s 			page 16


 856 0590 1230      		cpi r17,lo8(2)
 857 0592 01F4      		brne .L122
 858 0594 8091 9D00 		lds r24,157
 859 0598 8860      		ori r24,lo8(8)
 860               	.L128:
 861 059a 8093 9D00 		sts 157,r24
 862               	.L122:
 863               	/* #APP */
 864               	 ;  500 "../../nut/arch/avr/dev/usartavr.c" 1
 865 059e 0FB6      		in  __tmp_reg__, __SREG__
 866 05a0 F894      		cli
 867 05a2 0F92      		push __tmp_reg__
 868               		
 869               	 ;  0 "" 2
 870               	/* #NOAPP */
 871 05a4 88EB      		ldi r24,lo8(-72)
 872 05a6 8093 9A00 		sts 154,r24
 873               	/* #APP */
 874               	 ;  511 "../../nut/arch/avr/dev/usartavr.c" 1
 875 05aa 0F90      		pop __tmp_reg__
 876 05ac 0FBE      		out __SREG__, __tmp_reg__
 877               		
 878               	 ;  0 "" 2
 879               	/* #NOAPP */
 880 05ae 8091 9D00 		lds r24,157
 881 05b2 83FD      		sbrc r24,3
 882 05b4 00C0      		rjmp .L123
 883 05b6 81E0      		ldi r24,lo8(1)
 884 05b8 00C0      		rjmp .L124
 885               	.L123:
 886 05ba 82E0      		ldi r24,lo8(2)
 887               	.L124:
 888 05bc 8117      		cp r24,r17
 889 05be 01F4      		brne .L125
 890 05c0 20E0      		ldi r18,lo8(0)
 891 05c2 30E0      		ldi r19,hi8(0)
 892 05c4 00C0      		rjmp .L126
 893               	.L125:
 894 05c6 2FEF      		ldi r18,lo8(-1)
 895 05c8 3FEF      		ldi r19,hi8(-1)
 896               	.L126:
 897 05ca C901      		movw r24,r18
 898               	/* epilogue start */
 899 05cc 1F91      		pop r17
 900 05ce 0895      		ret
 901               		.size	AvrUsartSetStopBits, .-AvrUsartSetStopBits
 902               		.type	AvrUsartSetParity, @function
 903               	AvrUsartSetParity:
 904 05d0 1F93      		push r17
 905               	/* prologue: function */
 906               	/* frame size = 0 */
 907 05d2 182F      		mov r17,r24
 908 05d4 0E94 0000 		call AvrUsartDisable
 909 05d8 1130      		cpi r17,lo8(1)
 910 05da 01F0      		breq .L132
 911 05dc 1130      		cpi r17,lo8(1)
 912 05de 00F0      		brlo .L131
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccxTAlAq.s 			page 17


 913 05e0 1230      		cpi r17,lo8(2)
 914 05e2 01F4      		brne .L130
 915 05e4 00C0      		rjmp .L139
 916               	.L131:
 917 05e6 8091 9D00 		lds r24,157
 918 05ea 8F7E      		andi r24,lo8(-17)
 919 05ec 8093 9D00 		sts 157,r24
 920 05f0 8091 9D00 		lds r24,157
 921 05f4 8F7D      		andi r24,lo8(-33)
 922 05f6 00C0      		rjmp .L137
 923               	.L132:
 924 05f8 8091 9D00 		lds r24,157
 925 05fc 8061      		ori r24,lo8(16)
 926 05fe 00C0      		rjmp .L138
 927               	.L139:
 928 0600 8091 9D00 		lds r24,157
 929 0604 8F7E      		andi r24,lo8(-17)
 930               	.L138:
 931 0606 8093 9D00 		sts 157,r24
 932 060a 8091 9D00 		lds r24,157
 933 060e 8062      		ori r24,lo8(32)
 934               	.L137:
 935 0610 8093 9D00 		sts 157,r24
 936               	.L130:
 937               	/* #APP */
 938               	 ;  500 "../../nut/arch/avr/dev/usartavr.c" 1
 939 0614 0FB6      		in  __tmp_reg__, __SREG__
 940 0616 F894      		cli
 941 0618 0F92      		push __tmp_reg__
 942               		
 943               	 ;  0 "" 2
 944               	/* #NOAPP */
 945 061a 88EB      		ldi r24,lo8(-72)
 946 061c 8093 9A00 		sts 154,r24
 947               	/* #APP */
 948               	 ;  511 "../../nut/arch/avr/dev/usartavr.c" 1
 949 0620 0F90      		pop __tmp_reg__
 950 0622 0FBE      		out __SREG__, __tmp_reg__
 951               		
 952               	 ;  0 "" 2
 953               	/* #NOAPP */
 954 0624 0E94 0000 		call AvrUsartGetParity
 955 0628 8117      		cp r24,r17
 956 062a 01F4      		brne .L134
 957 062c 20E0      		ldi r18,lo8(0)
 958 062e 30E0      		ldi r19,hi8(0)
 959 0630 00C0      		rjmp .L135
 960               	.L134:
 961 0632 2FEF      		ldi r18,lo8(-1)
 962 0634 3FEF      		ldi r19,hi8(-1)
 963               	.L135:
 964 0636 C901      		movw r24,r18
 965               	/* epilogue start */
 966 0638 1F91      		pop r17
 967 063a 0895      		ret
 968               		.size	AvrUsartSetParity, .-AvrUsartSetParity
 969               		.type	AvrUsartSetDataBits, @function
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccxTAlAq.s 			page 18


 970               	AvrUsartSetDataBits:
 971 063c 1F93      		push r17
 972               	/* prologue: function */
 973               	/* frame size = 0 */
 974 063e 182F      		mov r17,r24
 975 0640 0E94 0000 		call AvrUsartDisable
 976 0644 8091 9A00 		lds r24,154
 977 0648 8B7F      		andi r24,lo8(-5)
 978 064a 8093 9A00 		sts 154,r24
 979 064e 8091 9D00 		lds r24,157
 980 0652 8D7F      		andi r24,lo8(-3)
 981 0654 8093 9D00 		sts 157,r24
 982 0658 8091 9D00 		lds r24,157
 983 065c 8B7F      		andi r24,lo8(-5)
 984 065e 8093 9D00 		sts 157,r24
 985 0662 1730      		cpi r17,lo8(7)
 986 0664 01F0      		breq .L143
 987 0666 1830      		cpi r17,lo8(8)
 988 0668 00F4      		brsh .L146
 989 066a 1630      		cpi r17,lo8(6)
 990 066c 01F4      		brne .L141
 991 066e 00C0      		rjmp .L151
 992               	.L146:
 993 0670 1830      		cpi r17,lo8(8)
 994 0672 01F0      		breq .L144
 995 0674 1930      		cpi r17,lo8(9)
 996 0676 01F4      		brne .L141
 997 0678 00C0      		rjmp .L152
 998               	.L151:
 999 067a 8091 9D00 		lds r24,157
 1000 067e 8260      		ori r24,lo8(2)
 1001 0680 00C0      		rjmp .L150
 1002               	.L152:
 1003 0682 8091 9A00 		lds r24,154
 1004 0686 8460      		ori r24,lo8(4)
 1005 0688 8093 9A00 		sts 154,r24
 1006               	.L144:
 1007 068c 8091 9D00 		lds r24,157
 1008 0690 8260      		ori r24,lo8(2)
 1009 0692 8093 9D00 		sts 157,r24
 1010               	.L143:
 1011 0696 8091 9D00 		lds r24,157
 1012 069a 8460      		ori r24,lo8(4)
 1013               	.L150:
 1014 069c 8093 9D00 		sts 157,r24
 1015               	.L141:
 1016               	/* #APP */
 1017               	 ;  500 "../../nut/arch/avr/dev/usartavr.c" 1
 1018 06a0 0FB6      		in  __tmp_reg__, __SREG__
 1019 06a2 F894      		cli
 1020 06a4 0F92      		push __tmp_reg__
 1021               		
 1022               	 ;  0 "" 2
 1023               	/* #NOAPP */
 1024 06a6 88EB      		ldi r24,lo8(-72)
 1025 06a8 8093 9A00 		sts 154,r24
 1026               	/* #APP */
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccxTAlAq.s 			page 19


 1027               	 ;  511 "../../nut/arch/avr/dev/usartavr.c" 1
 1028 06ac 0F90      		pop __tmp_reg__
 1029 06ae 0FBE      		out __SREG__, __tmp_reg__
 1030               		
 1031               	 ;  0 "" 2
 1032               	/* #NOAPP */
 1033 06b0 0E94 0000 		call AvrUsartGetDataBits
 1034 06b4 8117      		cp r24,r17
 1035 06b6 01F4      		brne .L147
 1036 06b8 20E0      		ldi r18,lo8(0)
 1037 06ba 30E0      		ldi r19,hi8(0)
 1038 06bc 00C0      		rjmp .L148
 1039               	.L147:
 1040 06be 2FEF      		ldi r18,lo8(-1)
 1041 06c0 3FEF      		ldi r19,hi8(-1)
 1042               	.L148:
 1043 06c2 C901      		movw r24,r18
 1044               	/* epilogue start */
 1045 06c4 1F91      		pop r17
 1046 06c6 0895      		ret
 1047               		.size	AvrUsartSetDataBits, .-AvrUsartSetDataBits
 1048               		.type	AvrUsartGetSpeed, @function
 1049               	AvrUsartGetSpeed:
 1050 06c8 8F92      		push r8
 1051 06ca 9F92      		push r9
 1052 06cc AF92      		push r10
 1053 06ce BF92      		push r11
 1054 06d0 CF92      		push r12
 1055 06d2 DF92      		push r13
 1056 06d4 EF92      		push r14
 1057 06d6 FF92      		push r15
 1058 06d8 0F93      		push r16
 1059 06da 1F93      		push r17
 1060               	/* prologue: function */
 1061               	/* frame size = 0 */
 1062 06dc 9090 9900 		lds r9,153
 1063 06e0 8090 9800 		lds r8,152
 1064 06e4 8091 9D00 		lds r24,157
 1065 06e8 86FF      		sbrs r24,6
 1066 06ea 00C0      		rjmp .L154
 1067 06ec 52E0      		ldi r21,lo8(2)
 1068 06ee A52E      		mov r10,r21
 1069 06f0 B12C      		mov r11,__zero_reg__
 1070 06f2 C12C      		mov r12,__zero_reg__
 1071 06f4 D12C      		mov r13,__zero_reg__
 1072 06f6 00C0      		rjmp .L155
 1073               	.L154:
 1074 06f8 8091 9B00 		lds r24,155
 1075 06fc 81FD      		sbrc r24,1
 1076 06fe 00C0      		rjmp .L156
 1077 0700 40E1      		ldi r20,lo8(16)
 1078 0702 A42E      		mov r10,r20
 1079 0704 B12C      		mov r11,__zero_reg__
 1080 0706 C12C      		mov r12,__zero_reg__
 1081 0708 D12C      		mov r13,__zero_reg__
 1082 070a 00C0      		rjmp .L155
 1083               	.L156:
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccxTAlAq.s 			page 20


 1084 070c 38E0      		ldi r19,lo8(8)
 1085 070e A32E      		mov r10,r19
 1086 0710 B12C      		mov r11,__zero_reg__
 1087 0712 C12C      		mov r12,__zero_reg__
 1088 0714 D12C      		mov r13,__zero_reg__
 1089               	.L155:
 1090 0716 0E94 0000 		call NutGetCpuClock
 1091 071a 7B01      		movw r14,r22
 1092 071c 8C01      		movw r16,r24
 1093 071e 892D      		mov r24,r9
 1094 0720 90E0      		ldi r25,lo8(0)
 1095 0722 382D      		mov r19,r8
 1096 0724 20E0      		ldi r18,lo8(0)
 1097 0726 282B      		or r18,r24
 1098 0728 392B      		or r19,r25
 1099 072a 40E0      		ldi r20,lo8(0)
 1100 072c 50E0      		ldi r21,hi8(0)
 1101 072e 2F5F      		subi r18,lo8(-(1))
 1102 0730 3F4F      		sbci r19,hi8(-(1))
 1103 0732 4F4F      		sbci r20,hlo8(-(1))
 1104 0734 5F4F      		sbci r21,hhi8(-(1))
 1105 0736 C601      		movw r24,r12
 1106 0738 B501      		movw r22,r10
 1107 073a 0E94 0000 		call __mulsi3
 1108 073e 9B01      		movw r18,r22
 1109 0740 AC01      		movw r20,r24
 1110 0742 C801      		movw r24,r16
 1111 0744 B701      		movw r22,r14
 1112 0746 0E94 0000 		call __udivmodsi4
 1113 074a CA01      		movw r24,r20
 1114 074c B901      		movw r22,r18
 1115               	/* epilogue start */
 1116 074e 1F91      		pop r17
 1117 0750 0F91      		pop r16
 1118 0752 FF90      		pop r15
 1119 0754 EF90      		pop r14
 1120 0756 DF90      		pop r13
 1121 0758 CF90      		pop r12
 1122 075a BF90      		pop r11
 1123 075c AF90      		pop r10
 1124 075e 9F90      		pop r9
 1125 0760 8F90      		pop r8
 1126 0762 0895      		ret
 1127               		.size	AvrUsartGetSpeed, .-AvrUsartGetSpeed
 1128               		.type	AvrUsartSetSpeed, @function
 1129               	AvrUsartSetSpeed:
 1130 0764 EF92      		push r14
 1131 0766 FF92      		push r15
 1132 0768 0F93      		push r16
 1133 076a 1F93      		push r17
 1134               	/* prologue: function */
 1135               	/* frame size = 0 */
 1136 076c 7B01      		movw r14,r22
 1137 076e 8C01      		movw r16,r24
 1138 0770 0E94 0000 		call AvrUsartDisable
 1139 0774 8091 9D00 		lds r24,157
 1140 0778 86FD      		sbrc r24,6
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccxTAlAq.s 			page 21


 1141 077a 00C0      		rjmp .L159
 1142 077c 8091 9B00 		lds r24,155
 1143 0780 81FF      		sbrs r24,1
 1144 0782 00C0      		rjmp .L160
 1145 0784 E2E0      		ldi r30,2
 1146 0786 EE0C      	1:	lsl r14
 1147 0788 FF1C      		rol r15
 1148 078a 001F      		rol r16
 1149 078c 111F      		rol r17
 1150 078e EA95      		dec r30
 1151 0790 01F4      		brne 1b
 1152 0792 00C0      		rjmp .L159
 1153               	.L160:
 1154 0794 73E0      		ldi r23,3
 1155 0796 EE0C      	1:	lsl r14
 1156 0798 FF1C      		rol r15
 1157 079a 001F      		rol r16
 1158 079c 111F      		rol r17
 1159 079e 7A95      		dec r23
 1160 07a0 01F4      		brne 1b
 1161               	.L159:
 1162 07a2 0E94 0000 		call NutGetCpuClock
 1163 07a6 A801      		movw r20,r16
 1164 07a8 9701      		movw r18,r14
 1165 07aa 0E94 0000 		call __udivmodsi4
 1166 07ae 2F5F      		subi r18,lo8(-(1))
 1167 07b0 3F4F      		sbci r19,hi8(-(1))
 1168 07b2 4F4F      		sbci r20,hlo8(-(1))
 1169 07b4 5F4F      		sbci r21,hhi8(-(1))
 1170 07b6 5695      		lsr r21
 1171 07b8 4795      		ror r20
 1172 07ba 3795      		ror r19
 1173 07bc 2795      		ror r18
 1174 07be 2150      		subi r18,lo8(-(-1))
 1175 07c0 3040      		sbci r19,hi8(-(-1))
 1176 07c2 2093 9900 		sts 153,r18
 1177 07c6 3093 9800 		sts 152,r19
 1178               	/* #APP */
 1179               	 ;  500 "../../nut/arch/avr/dev/usartavr.c" 1
 1180 07ca 0FB6      		in  __tmp_reg__, __SREG__
 1181 07cc F894      		cli
 1182 07ce 0F92      		push __tmp_reg__
 1183               		
 1184               	 ;  0 "" 2
 1185               	/* #NOAPP */
 1186 07d0 88EB      		ldi r24,lo8(-72)
 1187 07d2 8093 9A00 		sts 154,r24
 1188               	/* #APP */
 1189               	 ;  511 "../../nut/arch/avr/dev/usartavr.c" 1
 1190 07d6 0F90      		pop __tmp_reg__
 1191 07d8 0FBE      		out __SREG__, __tmp_reg__
 1192               		
 1193               	 ;  0 "" 2
 1194               	/* #NOAPP */
 1195 07da 80E0      		ldi r24,lo8(0)
 1196 07dc 90E0      		ldi r25,hi8(0)
 1197               	/* epilogue start */
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccxTAlAq.s 			page 22


 1198 07de 1F91      		pop r17
 1199 07e0 0F91      		pop r16
 1200 07e2 FF90      		pop r15
 1201 07e4 EF90      		pop r14
 1202 07e6 0895      		ret
 1203               		.size	AvrUsartSetSpeed, .-AvrUsartSetSpeed
 1204               		.type	AvrUsartDeinit, @function
 1205               	AvrUsartDeinit:
 1206               	/* prologue: function */
 1207               	/* frame size = 0 */
 1208 07e8 80E0      		ldi r24,lo8(sig_UART1_RECV)
 1209 07ea 90E0      		ldi r25,hi8(sig_UART1_RECV)
 1210 07ec 60E0      		ldi r22,lo8(0)
 1211 07ee 70E0      		ldi r23,hi8(0)
 1212 07f0 40E0      		ldi r20,lo8(0)
 1213 07f2 50E0      		ldi r21,hi8(0)
 1214 07f4 0E94 0000 		call NutRegisterIrqHandler
 1215 07f8 80E0      		ldi r24,lo8(sig_UART1_DATA)
 1216 07fa 90E0      		ldi r25,hi8(sig_UART1_DATA)
 1217 07fc 60E0      		ldi r22,lo8(0)
 1218 07fe 70E0      		ldi r23,hi8(0)
 1219 0800 40E0      		ldi r20,lo8(0)
 1220 0802 50E0      		ldi r21,hi8(0)
 1221 0804 0E94 0000 		call NutRegisterIrqHandler
 1222 0808 80E0      		ldi r24,lo8(0)
 1223 080a 90E0      		ldi r25,hi8(0)
 1224               	/* epilogue start */
 1225 080c 0895      		ret
 1226               		.size	AvrUsartDeinit, .-AvrUsartDeinit
 1227               		.type	AvrUsartInit, @function
 1228               	AvrUsartInit:
 1229               	/* prologue: function */
 1230               	/* frame size = 0 */
 1231 080e 80E0      		ldi r24,lo8(sig_UART1_RECV)
 1232 0810 90E0      		ldi r25,hi8(sig_UART1_RECV)
 1233 0812 60E0      		ldi r22,lo8(gs(AvrUsartRxComplete))
 1234 0814 70E0      		ldi r23,hi8(gs(AvrUsartRxComplete))
 1235 0816 40E0      		ldi r20,lo8(dcb_usart1+34)
 1236 0818 50E0      		ldi r21,hi8(dcb_usart1+34)
 1237 081a 0E94 0000 		call NutRegisterIrqHandler
 1238 081e 892B      		or r24,r25
 1239 0820 01F4      		brne .L169
 1240               	.L165:
 1241 0822 80E0      		ldi r24,lo8(sig_UART1_DATA)
 1242 0824 90E0      		ldi r25,hi8(sig_UART1_DATA)
 1243 0826 60E0      		ldi r22,lo8(gs(AvrUsartTxEmpty))
 1244 0828 70E0      		ldi r23,hi8(gs(AvrUsartTxEmpty))
 1245 082a 40E0      		ldi r20,lo8(dcb_usart1+16)
 1246 082c 50E0      		ldi r21,hi8(dcb_usart1+16)
 1247 082e 0E94 0000 		call NutRegisterIrqHandler
 1248 0832 892B      		or r24,r25
 1249 0834 01F4      		brne .L167
 1250 0836 20E0      		ldi r18,lo8(0)
 1251 0838 30E0      		ldi r19,hi8(0)
 1252 083a 00C0      		rjmp .L166
 1253               	.L167:
 1254 083c 80E0      		ldi r24,lo8(sig_UART1_RECV)
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccxTAlAq.s 			page 23


 1255 083e 90E0      		ldi r25,hi8(sig_UART1_RECV)
 1256 0840 60E0      		ldi r22,lo8(0)
 1257 0842 70E0      		ldi r23,hi8(0)
 1258 0844 40E0      		ldi r20,lo8(0)
 1259 0846 50E0      		ldi r21,hi8(0)
 1260 0848 0E94 0000 		call NutRegisterIrqHandler
 1261               	.L169:
 1262 084c 2FEF      		ldi r18,lo8(-1)
 1263 084e 3FEF      		ldi r19,hi8(-1)
 1264               	.L166:
 1265 0850 C901      		movw r24,r18
 1266               	/* epilogue start */
 1267 0852 0895      		ret
 1268               		.size	AvrUsartInit, .-AvrUsartInit
 1269               	.global	devUsartAvr1
 1270               		.data
 1271               		.type	devUsartAvr1, @object
 1272               		.size	devUsartAvr1, 35
 1273               	devUsartAvr1:
 1274 0000 0000      		.word	0
 1275 0002 75        		.byte	117
 1276 0003 61        		.byte	97
 1277 0004 72        		.byte	114
 1278 0005 74        		.byte	116
 1279 0006 31        		.byte	49
 1280 0007 00        		.byte	0
 1281 0008 00        		.byte	0
 1282 0009 00        		.byte	0
 1283 000a 00        		.byte	0
 1284 000b 05        		.byte	5
 1285 000c 0100      		.word	1
 1286 000e 00        		.byte	0
 1287 000f 0000      		.word	0
 1288 0011 0000      		.word	dcb_usart1
 1289 0013 0000      		.word	gs(UsartInit)
 1290 0015 0000      		.word	gs(UsartIOCtl)
 1291 0017 0000      		.word	gs(UsartRead)
 1292 0019 0000      		.word	gs(UsartWrite)
 1293 001b 0000      		.word	gs(UsartWrite_P)
 1294 001d 0000      		.word	gs(UsartOpen)
 1295 001f 0000      		.word	gs(UsartClose)
 1296 0021 0000      		.word	gs(UsartSize)
 1297               		.type	dcb_usart1, @object
 1298               		.size	dcb_usart1, 89
 1299               	dcb_usart1:
 1300 0023 00        		.byte	0
 1301 0024 00        		.byte	0
 1302 0025 00        		.byte	0
 1303 0026 00        		.byte	0
 1304 0027 00        		.byte	0
 1305 0028 00        		.byte	0
 1306 0029 00        		.byte	0
 1307 002a 00        		.byte	0
 1308 002b 00        		.byte	0
 1309 002c 00        		.byte	0
 1310 002d 00        		.byte	0
 1311 002e 00        		.byte	0
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccxTAlAq.s 			page 24


 1312 002f 00        		.byte	0
 1313 0030 00        		.byte	0
 1314 0031 00        		.byte	0
 1315 0032 00        		.byte	0
 1316 0033 0000      		.word	0
 1317 0035 0000      		.word	0
 1318 0037 0000      		.word	0
 1319 0039 0000      		.word	0
 1320 003b 0000      		.word	0
 1321 003d 0000      		.word	0
 1322 003f 0000      		.word	0
 1323 0041 0000      		.word	0
 1324 0043 0000      		.skip 2,0
 1325 0045 0000      		.word	0
 1326 0047 0000      		.word	0
 1327 0049 0000      		.word	0
 1328 004b 0000      		.word	0
 1329 004d 0000      		.word	0
 1330 004f 0000      		.word	0
 1331 0051 0000      		.word	0
 1332 0053 0000      		.word	0
 1333 0055 0000      		.skip 2,0
 1334 0057 00        		.byte	0
 1335 0058 0000      		.word	gs(AvrUsartInit)
 1336 005a 0000      		.word	gs(AvrUsartDeinit)
 1337 005c 0000      		.word	gs(AvrUsartTxStart)
 1338 005e 0000      		.word	gs(AvrUsartRxStart)
 1339 0060 0000      		.word	gs(AvrUsartSetFlowControl)
 1340 0062 0000      		.word	gs(AvrUsartGetFlowControl)
 1341 0064 0000      		.word	gs(AvrUsartSetSpeed)
 1342 0066 0000      		.word	gs(AvrUsartGetSpeed)
 1343 0068 0000      		.word	gs(AvrUsartSetDataBits)
 1344 006a 0000      		.word	gs(AvrUsartGetDataBits)
 1345 006c 0000      		.word	gs(AvrUsartSetParity)
 1346 006e 0000      		.word	gs(AvrUsartGetParity)
 1347 0070 0000      		.word	gs(AvrUsartSetStopBits)
 1348 0072 0000      		.word	gs(AvrUsartGetStopBits)
 1349 0074 0000      		.word	gs(AvrUsartSetStatus)
 1350 0076 0000      		.word	gs(AvrUsartGetStatus)
 1351 0078 0000      		.word	gs(AvrUsartSetClockMode)
 1352 007a 0000      		.word	gs(AvrUsartGetClockMode)
 1353               		.lcomm rx_errors,1
 1354               		.lcomm flow_control,1
 1355               		.lcomm tx_aframe,1
 1356               	.global __do_copy_data
 1357               	.global __do_clear_bss
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccxTAlAq.s 			page 25


DEFINED SYMBOLS
                            *ABS*:00000000 usart1avr.c
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccxTAlAq.s:2      *ABS*:0000003f __SREG__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccxTAlAq.s:3      *ABS*:0000003e __SP_H__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccxTAlAq.s:4      *ABS*:0000003d __SP_L__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccxTAlAq.s:5      *ABS*:00000034 __CCP__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccxTAlAq.s:6      *ABS*:00000000 __tmp_reg__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccxTAlAq.s:7      *ABS*:00000001 __zero_reg__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccxTAlAq.s:10     .text:00000000 AvrUsartTxEmpty
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccxTAlAq.s:1353   .bss:00000001 flow_control
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccxTAlAq.s:1354   .bss:00000002 tx_aframe
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccxTAlAq.s:141    .text:00000102 AvrUsartRxComplete
                             .bss:00000000 rx_errors
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccxTAlAq.s:279    .text:00000210 AvrUsartGetDataBits
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccxTAlAq.s:310    .text:00000244 AvrUsartGetParity
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccxTAlAq.s:329    .text:00000260 AvrUsartGetStopBits
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccxTAlAq.s:342    .text:00000270 AvrUsartGetStatus
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccxTAlAq.s:404    .text:000002d4 AvrUsartSetStatus
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccxTAlAq.s:521    .text:000003a2 AvrUsartGetClockMode
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccxTAlAq.s:553    .text:000003d2 AvrUsartGetFlowControl
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccxTAlAq.s:576    .text:000003f2 AvrUsartSetFlowControl
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccxTAlAq.s:661    .text:00000464 AvrUsartTxStart
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccxTAlAq.s:673    .text:00000470 AvrUsartRxStart
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccxTAlAq.s:714    .text:000004aa AvrUsartDisable
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccxTAlAq.s:761    .text:000004ea AvrUsartSetClockMode
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccxTAlAq.s:844    .text:0000057c AvrUsartSetStopBits
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccxTAlAq.s:903    .text:000005d0 AvrUsartSetParity
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccxTAlAq.s:970    .text:0000063c AvrUsartSetDataBits
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccxTAlAq.s:1049   .text:000006c8 AvrUsartGetSpeed
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccxTAlAq.s:1129   .text:00000764 AvrUsartSetSpeed
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccxTAlAq.s:1205   .text:000007e8 AvrUsartDeinit
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccxTAlAq.s:1228   .text:0000080e AvrUsartInit
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccxTAlAq.s:1299   .data:00000023 dcb_usart1
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/ccxTAlAq.s:1273   .data:00000000 devUsartAvr1

UNDEFINED SYMBOLS
NutDelay
NutGetCpuClock
__mulsi3
__udivmodsi4
sig_UART1_RECV
NutRegisterIrqHandler
sig_UART1_DATA
UsartInit
UsartIOCtl
UsartRead
UsartWrite
UsartWrite_P
UsartOpen
UsartClose
UsartSize
__do_copy_data
__do_clear_bss
