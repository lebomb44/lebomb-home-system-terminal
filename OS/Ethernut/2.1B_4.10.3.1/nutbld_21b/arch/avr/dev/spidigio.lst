GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cci8sjsk.s 			page 1


   1               		.file	"spidigio.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__  = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.text
   9               		.type	ShiftDigital, @function
  10               	ShiftDigital:
  11               	/* prologue: function */
  12               	/* frame size = 0 */
  13 0000 9798      		cbi 50-32,7
  14 0002 9091 0000 		lds r25,us_loops
  15 0006 990F      		lsl r25
  16 0008 990F      		lsl r25
  17 000a 892F      		mov r24,r25
  18 000c 00C0      		rjmp .L2
  19               	.L3:
  20               	/* #APP */
  21               	 ;  226 "../../nut/arch/avr/dev/spidigio.c" 1
  22 000e 0000      		nop
  23               	 ;  0 "" 2
  24               	/* #NOAPP */
  25 0010 8150      		subi r24,lo8(-(-1))
  26               	.L2:
  27 0012 8823      		tst r24
  28 0014 01F4      		brne .L3
  29 0016 979A      		sbi 50-32,7
  30 0018 00C0      		rjmp .L4
  31               	.L5:
  32               	/* #APP */
  33               	 ;  226 "../../nut/arch/avr/dev/spidigio.c" 1
  34 001a 0000      		nop
  35               	 ;  0 "" 2
  36               	/* #NOAPP */
  37 001c 9150      		subi r25,lo8(-(-1))
  38               	.L4:
  39 001e 9923      		tst r25
  40 0020 01F4      		brne .L5
  41               	/* epilogue start */
  42 0022 0895      		ret
  43               		.size	ShiftDigital, .-ShiftDigital
  44               	.global	SpiDigitalGet
  45               		.type	SpiDigitalGet, @function
  46               	SpiDigitalGet:
  47 0024 DF92      		push r13
  48 0026 EF92      		push r14
  49 0028 FF92      		push r15
  50 002a 0F93      		push r16
  51 002c 1F93      		push r17
  52               	/* prologue: function */
  53               	/* frame size = 0 */
  54 002e D82E      		mov r13,r24
  55 0030 9598      		cbi 50-32,5
  56 0032 C79A      		sbi 56-32,7
  57 0034 9091 0000 		lds r25,us_loops
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cci8sjsk.s 			page 2


  58 0038 990F      		lsl r25
  59 003a 990F      		lsl r25
  60 003c 892F      		mov r24,r25
  61 003e 00C0      		rjmp .L8
  62               	.L9:
  63               	/* #APP */
  64               	 ;  226 "../../nut/arch/avr/dev/spidigio.c" 1
  65 0040 0000      		nop
  66               	 ;  0 "" 2
  67               	/* #NOAPP */
  68 0042 8150      		subi r24,lo8(-(-1))
  69               	.L8:
  70 0044 8823      		tst r24
  71 0046 01F4      		brne .L9
  72 0048 C798      		cbi 56-32,7
  73 004a 00C0      		rjmp .L10
  74               	.L11:
  75               	/* #APP */
  76               	 ;  226 "../../nut/arch/avr/dev/spidigio.c" 1
  77 004c 0000      		nop
  78               	 ;  0 "" 2
  79               	/* #NOAPP */
  80 004e 9150      		subi r25,lo8(-(-1))
  81               	.L10:
  82 0050 9923      		tst r25
  83 0052 01F4      		brne .L11
  84 0054 EE24      		clr r14
  85 0056 FF24      		clr r15
  86 0058 8701      		movw r16,r14
  87 005a 00C0      		rjmp .L12
  88               	.L14:
  89 005c EE0C      		lsl r14
  90 005e FF1C      		rol r15
  91 0060 001F      		rol r16
  92 0062 111F      		rol r17
  93 0064 869B      		sbis 48-32,6
  94 0066 00C0      		rjmp .L13
  95 0068 81E0      		ldi r24,lo8(1)
  96 006a 90E0      		ldi r25,hi8(1)
  97 006c A0E0      		ldi r26,hlo8(1)
  98 006e B0E0      		ldi r27,hhi8(1)
  99 0070 E82A      		or r14,r24
 100 0072 F92A      		or r15,r25
 101 0074 0A2B      		or r16,r26
 102 0076 1B2B      		or r17,r27
 103               	.L13:
 104 0078 0E94 0000 		call ShiftDigital
 105 007c DA94      		dec r13
 106               	.L12:
 107 007e DD20      		tst r13
 108 0080 01F4      		brne .L14
 109 0082 B701      		movw r22,r14
 110 0084 C801      		movw r24,r16
 111               	/* epilogue start */
 112 0086 1F91      		pop r17
 113 0088 0F91      		pop r16
 114 008a FF90      		pop r15
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cci8sjsk.s 			page 3


 115 008c EF90      		pop r14
 116 008e DF90      		pop r13
 117 0090 0895      		ret
 118               		.size	SpiDigitalGet, .-SpiDigitalGet
 119               	.global	SpiDigitalSet
 120               		.type	SpiDigitalSet, @function
 121               	SpiDigitalSet:
 122 0092 8F92      		push r8
 123 0094 9F92      		push r9
 124 0096 AF92      		push r10
 125 0098 BF92      		push r11
 126 009a CF92      		push r12
 127 009c DF92      		push r13
 128 009e EF92      		push r14
 129 00a0 FF92      		push r15
 130 00a2 0F93      		push r16
 131 00a4 1F93      		push r17
 132               	/* prologue: function */
 133               	/* frame size = 0 */
 134 00a6 C82E      		mov r12,r24
 135 00a8 4A01      		movw r8,r20
 136 00aa 5B01      		movw r10,r22
 137 00ac 8823      		tst r24
 138 00ae 01F0      		breq .L24
 139 00b0 90E0      		ldi r25,lo8(0)
 140 00b2 0197      		sbiw r24,1
 141 00b4 21E0      		ldi r18,lo8(1)
 142 00b6 E22E      		mov r14,r18
 143 00b8 F12C      		mov r15,__zero_reg__
 144 00ba 012D      		mov r16,__zero_reg__
 145 00bc 112D      		mov r17,__zero_reg__
 146 00be 00C0      		rjmp 2f
 147 00c0 EE0C      	1:	lsl r14
 148 00c2 FF1C      		rol r15
 149 00c4 001F      		rol r16
 150 00c6 111F      		rol r17
 151 00c8 8A95      	2:	dec r24
 152 00ca 02F4      		brpl 1b
 153 00cc D090 0000 		lds r13,us_loops
 154 00d0 DD0C      		lsl r13
 155 00d2 DD0C      		lsl r13
 156               	.L21:
 157 00d4 D801      		movw r26,r16
 158 00d6 C701      		movw r24,r14
 159 00d8 8821      		and r24,r8
 160 00da 9921      		and r25,r9
 161 00dc AA21      		and r26,r10
 162 00de BB21      		and r27,r11
 163 00e0 0097      		sbiw r24,0
 164 00e2 A105      		cpc r26,__zero_reg__
 165 00e4 B105      		cpc r27,__zero_reg__
 166 00e6 01F0      		breq .L18
 167 00e8 959A      		sbi 50-32,5
 168 00ea 00C0      		rjmp .L27
 169               	.L18:
 170 00ec 9598      		cbi 50-32,5
 171               	.L27:
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cci8sjsk.s 			page 4


 172 00ee 8D2D      		mov r24,r13
 173 00f0 00C0      		rjmp .L26
 174               	.L20:
 175               	/* #APP */
 176               	 ;  226 "../../nut/arch/avr/dev/spidigio.c" 1
 177 00f2 0000      		nop
 178               	 ;  0 "" 2
 179               	/* #NOAPP */
 180 00f4 8150      		subi r24,lo8(-(-1))
 181               	.L26:
 182 00f6 8823      		tst r24
 183 00f8 01F4      		brne .L20
 184 00fa 0E94 0000 		call ShiftDigital
 185 00fe 1695      		lsr r17
 186 0100 0795      		ror r16
 187 0102 F794      		ror r15
 188 0104 E794      		ror r14
 189 0106 CA94      		dec r12
 190 0108 01F4      		brne .L21
 191 010a C598      		cbi 56-32,5
 192 010c 00C0      		rjmp .L22
 193               	.L23:
 194               	/* #APP */
 195               	 ;  226 "../../nut/arch/avr/dev/spidigio.c" 1
 196 010e 0000      		nop
 197               	 ;  0 "" 2
 198               	/* #NOAPP */
 199 0110 DA94      		dec r13
 200               	.L22:
 201 0112 DD20      		tst r13
 202 0114 01F4      		brne .L23
 203 0116 C59A      		sbi 56-32,5
 204               	.L24:
 205               	/* epilogue start */
 206 0118 1F91      		pop r17
 207 011a 0F91      		pop r16
 208 011c FF90      		pop r15
 209 011e EF90      		pop r14
 210 0120 DF90      		pop r13
 211 0122 CF90      		pop r12
 212 0124 BF90      		pop r11
 213 0126 AF90      		pop r10
 214 0128 9F90      		pop r9
 215 012a 8F90      		pop r8
 216 012c 0895      		ret
 217               		.size	SpiDigitalSet, .-SpiDigitalSet
 218               		.type	CountDigitalShifts, @function
 219               	CountDigitalShifts:
 220 012e DF92      		push r13
 221 0130 EF92      		push r14
 222 0132 FF92      		push r15
 223 0134 0F93      		push r16
 224 0136 1F93      		push r17
 225               	/* prologue: function */
 226               	/* frame size = 0 */
 227 0138 D82E      		mov r13,r24
 228 013a E62E      		mov r14,r22
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cci8sjsk.s 			page 5


 229 013c F42E      		mov r15,r20
 230 013e 4423      		tst r20
 231 0140 01F0      		breq .L29
 232 0142 C79A      		sbi 56-32,7
 233 0144 8091 0000 		lds r24,us_loops
 234 0148 880F      		lsl r24
 235 014a 880F      		lsl r24
 236 014c 00C0      		rjmp .L30
 237               	.L31:
 238               	/* #APP */
 239               	 ;  226 "../../nut/arch/avr/dev/spidigio.c" 1
 240 014e 0000      		nop
 241               	 ;  0 "" 2
 242               	/* #NOAPP */
 243 0150 8150      		subi r24,lo8(-(-1))
 244               	.L30:
 245 0152 8823      		tst r24
 246 0154 01F4      		brne .L31
 247 0156 C798      		cbi 56-32,7
 248               	.L29:
 249 0158 EE20      		tst r14
 250 015a 01F0      		breq .L32
 251 015c 959A      		sbi 50-32,5
 252 015e 00C0      		rjmp .L33
 253               	.L32:
 254 0160 9598      		cbi 50-32,5
 255               	.L33:
 256 0162 8091 0000 		lds r24,us_loops
 257 0166 880F      		lsl r24
 258 0168 880F      		lsl r24
 259 016a 00C0      		rjmp .L34
 260               	.L35:
 261               	/* #APP */
 262               	 ;  226 "../../nut/arch/avr/dev/spidigio.c" 1
 263 016c 0000      		nop
 264               	 ;  0 "" 2
 265               	/* #NOAPP */
 266 016e 8150      		subi r24,lo8(-(-1))
 267               	.L34:
 268 0170 8823      		tst r24
 269 0172 01F4      		brne .L35
 270 0174 00E0      		ldi r16,lo8(0)
 271 0176 11E0      		ldi r17,lo8(1)
 272 0178 00C0      		rjmp .L36
 273               	.L40:
 274 017a 869B      		sbis 48-32,6
 275 017c 00C0      		rjmp .L37
 276 017e EE20      		tst r14
 277 0180 01F0      		breq .L38
 278 0182 00C0      		rjmp .L43
 279               	.L37:
 280 0184 EE20      		tst r14
 281 0186 01F4      		brne .L38
 282               	.L43:
 283 0188 FF20      		tst r15
 284 018a 01F4      		brne .L39
 285 018c 0023      		tst r16
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cci8sjsk.s 			page 6


 286 018e 01F4      		brne .L38
 287               	.L39:
 288 0190 012F      		mov r16,r17
 289               	.L38:
 290 0192 0E94 0000 		call ShiftDigital
 291 0196 1F5F      		subi r17,lo8(-(1))
 292               	.L36:
 293 0198 812F      		mov r24,r17
 294 019a 8150      		subi r24,lo8(-(-1))
 295 019c 8D15      		cp r24,r13
 296 019e 00F0      		brlo .L40
 297 01a0 802F      		mov r24,r16
 298               	/* epilogue start */
 299 01a2 1F91      		pop r17
 300 01a4 0F91      		pop r16
 301 01a6 FF90      		pop r15
 302 01a8 EF90      		pop r14
 303 01aa DF90      		pop r13
 304 01ac 0895      		ret
 305               		.size	CountDigitalShifts, .-CountDigitalShifts
 306               	.global	SpiDigitalInit
 307               		.type	SpiDigitalInit, @function
 308               	SpiDigitalInit:
 309 01ae EF92      		push r14
 310 01b0 FF92      		push r15
 311 01b2 0F93      		push r16
 312 01b4 1F93      		push r17
 313 01b6 CF93      		push r28
 314 01b8 DF93      		push r29
 315               	/* prologue: function */
 316               	/* frame size = 0 */
 317 01ba EC01      		movw r28,r24
 318 01bc 7B01      		movw r14,r22
 319 01be 0E94 0000 		call NutGetCpuClock
 320 01c2 605E      		subi r22,lo8(-(500000))
 321 01c4 7E45      		sbci r23,hi8(-(500000))
 322 01c6 884F      		sbci r24,hlo8(-(500000))
 323 01c8 9F4F      		sbci r25,hhi8(-(500000))
 324 01ca 20E0      		ldi r18,lo8(4000000)
 325 01cc 39E0      		ldi r19,hi8(4000000)
 326 01ce 4DE3      		ldi r20,hlo8(4000000)
 327 01d0 50E0      		ldi r21,hhi8(4000000)
 328 01d2 0E94 0000 		call __udivmodsi4
 329 01d6 2093 0000 		sts us_loops,r18
 330 01da 2223      		tst r18
 331 01dc 01F4      		brne .L45
 332 01de 81E0      		ldi r24,lo8(1)
 333 01e0 8093 0000 		sts us_loops,r24
 334               	.L45:
 335 01e4 8D9A      		sbi 49-32,5
 336 01e6 969A      		sbi 50-32,6
 337 01e8 8E98      		cbi 49-32,6
 338 01ea 979A      		sbi 50-32,7
 339 01ec 8F9A      		sbi 49-32,7
 340 01ee C59A      		sbi 56-32,5
 341 01f0 BD9A      		sbi 55-32,5
 342 01f2 C798      		cbi 56-32,7
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cci8sjsk.s 			page 7


 343 01f4 BF9A      		sbi 55-32,7
 344 01f6 80E2      		ldi r24,lo8(32)
 345 01f8 60E0      		ldi r22,lo8(0)
 346 01fa 40E0      		ldi r20,lo8(0)
 347 01fc 0E94 0000 		call CountDigitalShifts
 348 0200 80E2      		ldi r24,lo8(32)
 349 0202 61E0      		ldi r22,lo8(1)
 350 0204 40E0      		ldi r20,lo8(0)
 351 0206 0E94 0000 		call CountDigitalShifts
 352 020a 182F      		mov r17,r24
 353 020c 1150      		subi r17,lo8(-(-1))
 354 020e 1882      		st Y,__zero_reg__
 355 0210 00E0      		ldi r16,lo8(0)
 356               	.L48:
 357 0212 812F      		mov r24,r17
 358 0214 60E0      		ldi r22,lo8(0)
 359 0216 41E0      		ldi r20,lo8(1)
 360 0218 0E94 0000 		call CountDigitalShifts
 361 021c 982F      		mov r25,r24
 362 021e 8881      		ld r24,Y
 363 0220 8917      		cp r24,r25
 364 0222 00F4      		brsh .L46
 365 0224 9883      		st Y,r25
 366               	.L46:
 367 0226 812F      		mov r24,r17
 368 0228 61E0      		ldi r22,lo8(1)
 369 022a 41E0      		ldi r20,lo8(1)
 370 022c 0E94 0000 		call CountDigitalShifts
 371 0230 982F      		mov r25,r24
 372 0232 8881      		ld r24,Y
 373 0234 8917      		cp r24,r25
 374 0236 00F4      		brsh .L47
 375 0238 9883      		st Y,r25
 376               	.L47:
 377 023a 0F5F      		subi r16,lo8(-(1))
 378 023c 0530      		cpi r16,lo8(5)
 379 023e 01F4      		brne .L48
 380 0240 8881      		ld r24,Y
 381 0242 181B      		sub r17,r24
 382 0244 F701      		movw r30,r14
 383 0246 1083      		st Z,r17
 384               	/* epilogue start */
 385 0248 DF91      		pop r29
 386 024a CF91      		pop r28
 387 024c 1F91      		pop r17
 388 024e 0F91      		pop r16
 389 0250 FF90      		pop r15
 390 0252 EF90      		pop r14
 391 0254 0895      		ret
 392               		.size	SpiDigitalInit, .-SpiDigitalInit
 393               		.data
 394               		.type	us_loops, @object
 395               		.size	us_loops, 1
 396               	us_loops:
 397 0000 01        		.byte	1
 398               	.global __do_copy_data
GAS LISTING C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cci8sjsk.s 			page 8


DEFINED SYMBOLS
                            *ABS*:00000000 spidigio.c
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cci8sjsk.s:2      *ABS*:0000003f __SREG__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cci8sjsk.s:3      *ABS*:0000003e __SP_H__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cci8sjsk.s:4      *ABS*:0000003d __SP_L__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cci8sjsk.s:5      *ABS*:00000034 __CCP__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cci8sjsk.s:6      *ABS*:00000000 __tmp_reg__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cci8sjsk.s:7      *ABS*:00000001 __zero_reg__
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cci8sjsk.s:10     .text:00000000 ShiftDigital
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cci8sjsk.s:396    .data:00000000 us_loops
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cci8sjsk.s:46     .text:00000024 SpiDigitalGet
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cci8sjsk.s:121    .text:00000092 SpiDigitalSet
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cci8sjsk.s:219    .text:0000012e CountDigitalShifts
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp/cci8sjsk.s:308    .text:000001ae SpiDigitalInit

UNDEFINED SYMBOLS
NutGetCpuClock
__udivmodsi4
__do_copy_data
